/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/adapters/indexedDBAdapter.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@finsemble/finsemble-core/dist/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@finsemble/finsemble-core/dist/index.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(e,t){ true?module.exports=t():undefined}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=47)}([function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */Object.defineProperty(t,\"__esModule\",{value:!0}),t.Logger=t.LoggerConstructor=void 0;const i=n(2),r=n(35),o={Error:!0,Warn:!0,Info:!0,Log:!0,Debug:!0,Verbose:!0,LocalOnly:!1},s={Error:!0,Warn:!0,Info:!0,Log:!0,Debug:!0},a=n(53);t.LoggerConstructor=function(e){const r=this;let u;r.RouterClient=e&&e.RouterClient;let c=!1,l=!1;const d=r;let f,h,p=0,g=0;this.startupTime=0;let m=[];if(\"undefined\"==typeof window)return;let y=i.System.Window.getCurrent().name;window.top!==window&&(y+=\".Frame\"),this.onLogStateChangeCallback=[];const w=\"finsemble.logger.client.\"+y;let b={console:s,dev:o,system:o,perf:o};function v(e,t,n){this.category=e,!u&&i.System.isBrowserView()&&(u=i.System.getViewId()),this.logClientName=u?`${y}: view-${u}`:y,this.logType=t,this.logData=n,this.logTimestamp=window.performance.timing.navigationStart+window.performance.now()+p}function S(e,t){e&&e.dev&&(b=e,r.onLogStateChangeCallback.forEach(t=>{t(e)})),function(e){d.system.debug(\"Logger updateQueueBasedOnState\",e,p,\"QUEUE LENGTH\",m.length,b);const t=[];for(let n=0,{length:i}=m;n<i;n++)if(b[m[n].category][m[n].logType]&&!b[m[n].category].LocalOnly)e&&(m[n].logTimestamp=m[n].logTimestamp+p),t.push(m[n]);else if(b[m[n].category][m[n].logType]&&b[m[n].category].LocalOnly){const e=m[n];console.log(e.category,e.logType,e.logTimestamp-window.performance.timing.navigationStart,e.logData,\"(Previously queued!)\")}m=t}(t)}function C(){const{stack:e}=function(){try{throw Error(\"\")}catch(e){return e}}(),t=(n=\"\\n\",i=4,e.split(n,i).join(n).length);var n,i;return\"Log Stack: \\n\"+e.substring(t).substr(1)}this.onStateChanged=e=>{-1===this.onLogStateChangeCallback.indexOf(e)&&this.onLogStateChangeCallback.push(e)},this.setClientName=function(e){y=e},this.getClientName=function(){return y},this.clearMessageList=function(){m=[]},this.callStack=function(){return C()},this.setting=function(){return b};const _=console.error,T=console.warn,E=console.info,A=console.log,I=console.debug;function O(e,t){try{e.apply(console,function e(t){return t.reduce((t,n)=>t.concat(Array.isArray(n)?e(n):n),[])}(t))}catch(e){(t=[]).push(C())}}let L=()=>{m.length>0&&(r.RouterClient.transmit(\"logger.service.logMessages\",m),d.clearMessageList())};function M(e,n,i){let r,o=!1,s=!0;\"forceObjectsToLogger\"===i[0]&&(o=!0,s=!1,i.splice(0,1)),i=i.map(e=>{if(s){if(function(e){const t=[],n=[e];let i=0,r=0;for(;n.length&&r<1e3;){r++;const e=n.pop();if(\"boolean\"==typeof e)i+=4;else if(\"string\"==typeof e)i+=2*e.length;else if(\"number\"==typeof e)i+=8;else if(\"object\"==typeof e&&-1===t.indexOf(e)){t.push(e);for(const t in e)n.push(e[t])}}return i}(e)>5e4)return O(E,[\"Message too large to send to the logger.\",i]),\"Log argument greater than 50KB. Check local Console to see output of the object.\"}return e});try{for(let e=0;e<i.length;e++)i[e]instanceof Error&&(i[e]=i[e].toString());r=new v(e,n,JSON.stringify(i))}catch(t){i.splice(0,i.length),i.push(C()),r=new v(e,n,\"*** Logging Error: \"+JSON.stringify(i))}if(o||!function(e){return!0===e.logData.includes(\"Finsemble.heartbeat\")}(r))!function(e){if(m.length<2e4)m.push(e);else{console.error(\"Logging Queue Overflowed! Dumping queue here then continuing.\",m.length);let e,n=0;for(;e=m.shift();)console.log(\"Message \"+n++,e);t.Logger.system.error(\"Logging Queue Overflowed! Dumping queue in client then continuing.\")}}(r);else if(++g<=5){O(E,[`\"Filtered Logger Message (${g} of first 5 shown)`,r])}l&&L()}function D(){!u&&i.System.isBrowserView()&&(u=i.System.getViewId()),d.system.debug(\"logger.service.registering\",y),r.RouterClient.query(\"logger.service.register\",{clientName:y,clientChannel:w,uuid:i.System.Window.getCurrent().uuid,windowName:i.System.Window.getCurrent().name,viewId:u},(e,t)=>{if(e)setTimeout(D,750);else{for(const e of m)e.viewId=u;l=!0,d.system.debug(\"logger.service.registered\"),f=t.data,\"routerService\"!==y?(p=h,S(f,!0)):S(f,!1),M(\"system\",\"Debug\",[\"Logger Registered\"]),L()}}),r.RouterClient.addListener(w,(e,t)=>{d.system.debug(\"logger.client.setLogState\",t.data),f=t.data,S(f,!1)})}L=a(L,\"routerService\"===y?100:250,{leading:!1}),this.error=function(){const e=Array.prototype.slice.call(arguments);e.push(C()),b.dev.Error&&!b.dev.LocalOnly&&M(\"dev\",\"Error\",e),e.unshift(`dev error (${window.performance.now()}):`),O(_,e)},this.warn=function(){if(b.dev.Warn){const e=Array.prototype.slice.call(arguments);e.push(C()),b.dev.Warn&&!b.dev.LocalOnly&&M(\"dev\",\"Warn\",e),b.dev.Warn&&b.dev.LocalOnly&&(e.unshift(`dev warn (${window.performance.now()}):`),O(T,e))}},this.info=function(){if(b.dev.Info){const e=Array.prototype.slice.call(arguments);0,b.dev.Info&&!b.dev.LocalOnly&&M(\"dev\",\"Info\",e),b.dev.Info&&b.dev.LocalOnly&&(e.unshift(`dev info (${window.performance.now()}):`),O(E,e))}},this.log=function(){if(b.dev.Log){const e=Array.prototype.slice.call(arguments);0,b.dev.Log&&!b.dev.LocalOnly&&M(\"dev\",\"Log\",e),b.dev.Log&&b.dev.LocalOnly&&(e.unshift(`dev log (${window.performance.now()}):`),O(A,e))}},this.debug=function(){if(b.dev.Debug){const e=Array.prototype.slice.call(arguments);0,b.dev.Debug&&!b.dev.LocalOnly&&M(\"dev\",\"Debug\",e),b.dev.Debug&&b.dev.LocalOnly&&(e.unshift(`dev debug (${window.performance.now()}):`),O(I,e))}},this.verbose=function(){if(b.dev.Verbose){const e=Array.prototype.slice.call(arguments);0,b.dev.Verbose&&!b.dev.LocalOnly&&M(\"dev\",\"Verbose\",e),b.dev.Verbose&&b.dev.LocalOnly&&(e.unshift(`dev verbose (${window.performance.now()}):`),O(I,e))}},this.system={},this.system.error=function(){const e=Array.prototype.slice.call(arguments);e.push(C()),b.system.Error&&!b.system.LocalOnly&&M(\"system\",\"Error\",e),e.unshift(`system error (${window.performance.now()}):`),O(_,e)},this.system.warn=function(){if(b.system.Warn){const e=Array.prototype.slice.call(arguments);e.push(C()),b.system.Warn&&!b.system.LocalOnly&&M(\"system\",\"Warn\",e),b.system.Warn&&b.system.LocalOnly&&(e.unshift(`system warn (${window.performance.now()}):`),O(T,e))}},this.system.info=function(){if(b.system.Info){const e=Array.prototype.slice.call(arguments);0,b.system.Info&&!b.system.LocalOnly&&M(\"system\",\"Info\",e),b.system.Info&&b.system.LocalOnly&&(e.unshift(`system info (${window.performance.now()}):`),O(E,e))}},this.system.log=function(){if(b.system.Log){const e=Array.prototype.slice.call(arguments);0,b.system.Log&&!b.system.LocalOnly&&M(\"system\",\"Log\",e),b.system.Log&&b.system.LocalOnly&&(e.unshift(`system log (${window.performance.now()}):`),O(A,e))}},this.system.debug=function(){if(b.system.Debug){const e=Array.prototype.slice.call(arguments);0,b.system.Debug&&!b.system.LocalOnly&&M(\"system\",\"Debug\",e),b.system.Debug&&b.system.LocalOnly&&(e.unshift(`system debug (${window.performance.now()}):`),O(I,e))}},this.system.verbose=function(){if(b.system.Verbose){var e=Array.prototype.slice.call(arguments);0,b.system.Verbose&&!b.system.LocalOnly&&M(\"system\",\"Verbose\",e),b.system.Verbose&&b.system.LocalOnly&&((e=Array.prototype.slice.call(arguments)).unshift(`system log (${window.performance.now()}):`),O(I,e))}},this.perf={},this.perf.error=function(){const e=Array.prototype.slice.call(arguments);e.push(C()),b.perf.Error&&!b.perf.LocalOnly&&M(\"perf\",\"Error\",e),e.unshift(`perf error (${window.performance.now()}):`),O(_,e)},this.perf.warn=function(){if(b.perf.Warn){const e=Array.prototype.slice.call(arguments);e.push(C()),b.perf.Warn&&!b.perf.LocalOnly&&M(\"perf\",\"Warn\",e),b.perf.Warn&&b.perf.LocalOnly&&(e.unshift(`perf warn (${window.performance.now()}):`),O(T,e))}},this.perf.info=function(){if(b.perf.Info){const e=Array.prototype.slice.call(arguments);0,b.perf.Info&&!b.perf.LocalOnly&&M(\"perf\",\"Info\",e),b.perf.Info&&b.perf.LocalOnly&&(e.unshift(`perf info (${window.performance.now()}):`),O(E,e))}},this.perf.log=function(){if(b.perf.Log){const e=Array.prototype.slice.call(arguments);0,b.perf.Log&&!b.perf.LocalOnly&&M(\"perf\",\"Log\",e),b.perf.Log&&b.perf.LocalOnly&&(e.unshift(`perf log (${window.performance.now()}):`),O(A,e))}},this.perf.debug=function(){if(b.perf.Debug){const e=Array.prototype.slice.call(arguments);0,b.perf.Debug&&!b.perf.LocalOnly&&M(\"perf\",\"Debug\",e),b.perf.Debug&&b.perf.LocalOnly&&(e.unshift(`perf debug (${window.performance.now()}):`),O(I,e))}},this.perf.verbose=function(){if(b.perf.Verbose){const e=Array.prototype.slice.call(arguments);0,b.perf.Verbose&&!b.perf.LocalOnly&&M(\"perf\",\"Verbose\",e),b.perf.Verbose&&b.perf.LocalOnly&&(e.unshift(`perf verbose (${window.performance.now()}):`),O(I,e))}},this.unregisterClient=function(e=null,t=Function.prototype){d.system.debug(\"logger.service.unregister\",y,e,u),L();const n=e||{clientName:y,viewId:u};r.RouterClient.query(\"logger.service.unregister\",n,t)},this.isLogMessage=function(e){return\"logger.service.logMessages\"===e},this.status=\"offline\",this.setRouterClient=e=>{this.RouterClient=e},this.start=function(){let e;function t(){r.status=\"online\",d.system.debug(\"Logger onReady\",y),r.RouterClient.calibrateTimeWithRouterService(e=>{h=e,c||(r.startupTime=performance.now()-r.startupTime,D(),c=!0)})}this.startupTime=performance.now(),r.RouterClient||(console.log(\"No instance of the RouterClient found for this instance of the Logger. Dynamically requiring it.\"),r.RouterClient=n(7).default);const o=()=>{e=r.RouterClient.subscribe(\"Finsemble.Service.State.loggerService\",(n,i)=>{\"ready\"===i.data.state&&(t(),r.RouterClient.unsubscribe(e))})};\"routerService\"===window.name?r.RouterClient.query(\"logger.service.register\",{},e=>{e?setTimeout(o,750):o()}):r.RouterClient.onReady(o),i.System.isBrowserView()&&window.addEventListener(\"beforeunload\",()=>{r.unregisterClient()})}},t.Logger=\"undefined\"!=typeof window?new t.LoggerConstructor:new r.LocalLogger,t.default=t.Logger},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},r=Math.max;var o=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=r(o.length-t,0),u=Array(a);++s<a;)u[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(u),i(e,this,c)}},s=n(6);function a(e,t){return o(e,t,s.a)}},function(e,t,n){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.System=void 0;const n=\"undefined\"!=typeof window?window:e;class i{constructor(e,t,n){return new fin.desktop.Window(e,t)}static get getCurrent(){return fin.desktop.Window.getCurrent}static get wrap(){return fin.desktop.Window.wrap}}class r{constructor(e,t,n){return new fin.desktop.Application(e,t)}static get getCurrent(){return fin.desktop.Application.getCurrent}static get wrap(){return fin.desktop.Application.wrap}}class o{constructor(e){new fin.desktop.Notification(e)}}class s{constructor(){return new fin.desktop.System.Clipboard}static get writeText(){return fin.desktop.System.Clipboard.writeText}static get writeHTML(){return fin.desktop.System.Clipboard.writeHTML}static get writeRTF(){return fin.desktop.System.Clipboard.writeRTF}static get readText(){return fin.desktop.System.Clipboard.readText}static get readHTML(){return fin.desktop.System.Clipboard.readHTML}static get readRTF(){return fin.desktop.System.Clipboard.readRTF}}t.System=class{static get Application(){return r}static get Window(){return i}static get Notification(){return o}static get Clipboard(){return s}static async getMousePosition(e=Function.prototype){return new Promise((t,n)=>{fin.desktop.System.getMousePosition(n=>{(n.left||0===n.left)&&(n.x=n.left),(n.top||0===n.top)&&(n.y=n.top),e(null,n),t(n)},t=>{e(t,null),n(t)})})}static getMonitorInfo(e=Function.prototype){return new Promise(t=>{fin.desktop.System.getMonitorInfo(n=>{t(n),e(n)})})}static get container(){return fin.container?fin.container:\"Electron\"}static get isBrowserView(){return e2o.isBrowserView}static get getViewId(){return e2o.getViewId}static get hasBrowserView(){return e2o.hasBrowserView}static get fin(){return e2o||fin||{}}static get ready(){return fin.desktop.main}static getHostSpecs(e=Function.prototype){return new Promise(t=>{fin.desktop.System.getHostSpecs(n=>{t(n),e(n)})})}static get InterApplicationBus(){return fin.desktop.InterApplicationBus}static get launchExternalProcess(){return fin.desktop.System.launchExternalProcess}static get terminateExternalProcess(){return fin.desktop.System.terminateExternalProcess}static get getAllApplications(){return fin.desktop.System.getAllApplications}static get exit(){return fin.desktop.System.exit}static get clearCache(){return fin.desktop.System.clearCache}static get showDeveloperTools(){return fin.desktop.System.showDeveloperTools}static get getRuntimeInfo(){return fin.desktop.System.getRuntimeInfo||chrome.desktop.getDetails}static get addEventListener(){return fin.desktop.System.addEventListener}static get addSelectClientCertificateListener(){return fin.desktop.System.addSelectClientCertificateListener}static get addCertificateErrorListener(){return fin.desktop.System.addCertificateErrorListener}static get getVersion(){return fin.desktop.System.getVersion}static get getUpdateAvailable(){return fin.desktop.System.getUpdateAvailable}static get openUrlWithBrowser(){return fin.desktop.System.openUrlWithBrowser}static get getAllWindows(){return fin.desktop.System.getAllWindows}static get getProcessList(){return fin.desktop.System.getProcessList}static get getProtocolString(){return fin.desktop.System.getProtocolString}static get hideSplashScreen(){return fin.desktop.System.hideSplashScreen}static FinsembleReady(e){return n.FSBL&&n.FSBL.addEventListener?n.FSBL.addEventListener(\"onready\",e):window.addEventListener(\"FSBLready\",e)}static startupApplicationHandshake(){fin.desktop.System.startupApplicationHandshake&&fin.desktop.System.startupApplicationHandshake()}static closeApplication(e,t=Function.prototype){return new Promise(n=>{let i,r=!1;const o=()=>{r||(console.log(\"Attempting to terminate\",e.uuid),e.terminate(()=>{t(),n()},()=>{r||(r=!0,clearInterval(i),console.log(\"force closing \",e.uuid),e.terminate())}))};i=setInterval(o,2e3),console.log(\"closing \",e.uuid),e.close(!1,()=>{console.log(\"app.close: successfully closed\",e.uuid),r=!0,clearInterval(i),t(),n()},o)})}static isElectron(){return\"Electron\"===fin.container}}}).call(this,n(19))},function(e,t,n){\"use strict\";(function(e,i){n.d(t,\"d\",(function(){return s})),n.d(t,\"c\",(function(){return a})),n.d(t,\"b\",(function(){return u})),n.d(t,\"e\",(function(){return c}));var r,o=n(1),s=\"function\"==typeof e&&e,a=\"object\"==typeof i&&\"function\"==typeof i.nextTick;function u(e){setTimeout(e,0)}function c(e){return Object(o.a)((function(t,n){e((function(){t.apply(null,n)}))}))}r=s?e:a?i.nextTick:u,t.a=c(r)}).call(this,n(32).setImmediate,n(19))},function(e,t,n){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t._BaseClient=void 0;\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nconst r=i(n(7)),o=i(n(8)),s=i(n(0)),a=n(2),u=i(n(40)),c=n(25);class l extends u.default{constructor(e){super({name:e.name,sourceType:e.name.replace(\"Client\",\"\")}),this.status=\"offline\",this.startupTime=0,this.initialized=!1,this.startupDependencies={services:[],clients:[]},this.finsembleWindow=null,this.windowName=\"\",this.clientReadyQueue=[],this.processClientReadyQueue=()=>{for(const e of this.clientReadyQueue)e();this.clientReadyQueue=[]},this.onReady=e=>{this.clientReadyQueue.push(e),\"online\"===this.status&&this.processClientReadyQueue()},this.setClientOnline=()=>{this.status=\"online\";const e=`STARTUP:CLIENT ONLINE:${this.finWindow.name}:${this.name}`;this.startupTime=window.performance.now()-this.startupTime;const t=()=>{this.logger.system.debug(e),this.processClientReadyQueue(),c.FSBLDependencyManagerSingleton.setClientOnline(this.name)};this._onReady?this._onReady(t):t()},this.initialize=(e=Function.prototype)=>{this.initialized||(this.initialized=!0,this.startupTime=performance.now(),this.routerClient.onReady(()=>{this.finWindow=a.System.Window.getCurrent(),this.windowName=this.finWindow.name,this.logger.system.debug(\"Baseclient Init Router Ready\",this.name),c.FSBLDependencyManagerSingleton.startup.waitFor(this.startupDependencies,()=>{e(),this.setClientOnline()})}))},this.onClose=e=>{this.cleanup(),e&&e()},this.name=e.name,this._onReady=e.onReady,this.startupDependencies=e.startupDependencies||{services:[],clients:[]},this.logger=s.default,this.routerClient=r.default}addEventListener(e,t){super.addEventListener(e,t)}}t._BaseClient=l;t.default=function(e){o.default.args(e,\"object=\");const t=this;let n,i=\"offline\";this.startupTime=0,e&&(e.onReady&&({onReady:n}=e),this.name=e.name),this.initialized=!1,this.startupDependencies=e.startupDependencies||{services:[],clients:[]},this.routerClient=r.default,this.finWindow=null,this.finsembleWindow=null,this.windowName=\"\",this.requiredServices=[],this.requiredClients=[],this.clientReadyQueue=[],this.processClientReadyQueue=function(){for(let e=0;e<this.clientReadyQueue.length;e++){const t=this.clientReadyQueue[e];\"function\"==typeof t&&t()}this.clientReadyQueue=[]},this.onReady=function(e){this.clientReadyQueue.push(e),\"online\"===i&&this.processClientReadyQueue()},this.setClientOnline=function(){i=\"online\";const e=`STARTUP:CLIENT ONLINE:${t.finWindow.name}:${t.name}`;t.startupTime=performance.now()-t.startupTime,n?n(()=>{s.default.system.debug(e),t.processClientReadyQueue(),c.FSBLDependencyManagerSingleton.setClientOnline(t.name)}):(s.default.system.debug(e),t.processClientReadyQueue(),c.FSBLDependencyManagerSingleton.setClientOnline(t.name))},this.initialize=function(e=Function.prototype){t.initialized||(t.initialized=!0,t.setClientOnline=t.setClientOnline.bind(t),t.startupTime=performance.now(),t.routerClient.onReady(()=>{t.finWindow=a.System.Window.getCurrent(),t.windowName=t.finWindow.name,s.default.system.debug(\"Baseclient Init Router Ready\",t.name),c.FSBLDependencyManagerSingleton.startup.waitFor({clients:t.startupDependencies.clients||[]},()=>{e(),t.setClientOnline()})}))},this.onClose=function(){}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";t.a=function(e){return e}},function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */Object.defineProperty(t,\"__esModule\",{value:!0});const i=n(51),r=n(0),o=new(0,i.RouterClientConstructor)({clientName:\"RouterClient\"});r.Logger.setRouterClient(o),t.default=o},function(e,t,n){\"use strict\";n.r(t);var i=new function(){let e=3;this.diagLevel=function(){return e},this.setDiagLevel=function(t){e=t},this.validationEnabled=function(){return e>=4}};\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */t.default=new function(){function e(e,t,n){const i=function(){try{throw Error(\"\")}catch(e){return e}}(),r=i.stack.split(\"\\n\")[5],o=r.indexOf(\"at \"),s=r.slice(o+2,r.length),a=i.stack.split(\"\\n\")[6],u=a.indexOf(\"at \"),c=a.slice(u+2,a.length);console.warn(`parameter validation failed: parameter ${e} is of type '${typeof t}' but should be of type '${n}' in${s} called by${c}`)}this.args=function(){let t=!0;if(i.validationEnabled()){const n=arguments.length;if((n+1)%2!=0)for(let i=0;i<n;i+=2){let n=!1;const r=arguments[i];let o=arguments[i+1];if(\"=\"===o.slice(-1)&&(o=o.slice(0,-1),n=!0),typeof r!==o&&!(n&&void 0===r||void 0!==r&&\"any\"===o)){e(i/2+1,r,o),t=!1;break}}else console.warn(\"validate.args requires even number of parameters: \"+JSON.stringify(arguments))}return t},this.args2=function(){let t=!0;if(i.validationEnabled()){const n=arguments.length;if((n+1)%3!=0)for(let i=0;i<n;i+=3){let n=!1;const r=arguments[i],o=arguments[i+1];let s=arguments[i+2];if(\"=\"===s.slice(-1)&&(s=s.slice(0,-1),n=!0),typeof o!==s&&!(n&&void 0===o||void 0!==o&&\"any\"===s)){e(r,o,s),t=!1;break}}else console.warn(\"validate.args requires even number of parameters: \"+JSON.stringify(arguments))}return t}}},function(e,t,n){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.checkDeprecatedConfigs=t.isEqualIgnoringArrayOrder=t.sleep=t.checkIfBoundsAreEqual=t.removeKeys=t.toRecord=t.isStackedWindow=t.wrapWithTimeout=t.timeoutPromise=t.getRandomWindowName=t.getUniqueName=t.getProp=t.composeRL=t.instrumentPromise=t.promisify=t.identity=t.isNumber=t.chunkArray=t.Timeout=t.mockLogger=t.capitalizeFirst=t.clone=t.isServiceInWindow=t.iAmAServiceWindow=t.guuid=void 0;const r=n(36),o=i(n(37)),s=i(n(60)),a=i(n(26)),u=i(n(61)),c=n(10),l=i(n(0)),d=window;function f(e,t){if(Array.isArray(e))return e.slice();try{return JSON.parse(JSON.stringify(e))}catch(e){return t(\"clone error\",e),e}}t.guuid=function(){return r.v1()},t.iAmAServiceWindow=function(){return!(!d.finsembleServices||!d.finsembleServices.length)},t.isServiceInWindow=function(e){return d.finsembleServices&&d.finsembleServices.find(t=>t.name===e)},t.clone=f,t.capitalizeFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};t.mockLogger=new class{constructor({debug:e}={debug:!0}){e?(this.system=console,this.system.debug=console.log):this.system={warn:Function.prototype,debug:Function.prototype,log:Function.prototype,info:Function.prototype,error:console.error}}isLogMessage(){return!0}start(){}};function h(e=\"RouterClient\"){return`${e}-${Math.floor(100*Math.random())}-${Math.floor(1e4*Math.random())}`}function p(e,t){return new Promise((n,i)=>{const r=setTimeout(()=>{clearTimeout(r),i(t)},e)})}function g(e,t,n){return`${e}.${t}.${n}`}function m(e,t,n){const i=\"\"+g(e.baseString,e.newPath,e.newValue);l.default.system.warn(`${g(e.baseString,t,n)} has been deprecated in favor of ${i}`)}t.Timeout=class{constructor(e,t){this.fired=!1,this.id=setTimeout(()=>{e(),this.fired=!0},t),this.clear=this.clear.bind(this),this.didFire=this.didFire.bind(this)}clear(){this.fired||clearTimeout(this.id)}didFire(){return this.fired}},t.chunkArray=function(e,t){if(e<=0)throw new Error(\"Can't chunk array by number less than 0\");return t.reduce((n,i,r)=>{if(r%e==0){const i=[];for(let n=r;n<r+e;n++)n<t.length&&i.push(t[n]);n.push(i)}return n},[])},t.isNumber=function(e){return!(!e||Number.isNaN(Number(e)))&&Number(e)},t.identity=function(e){return e},t.promisify=function(e,t){return function(){const n=Array.prototype.slice.call(arguments);return new Promise((i,r)=>{n.push((e,t)=>e?r(e):i(t)),e.apply(t,n)})}},t.instrumentPromise=async(e,t,n)=>{const i=t+\" end\";return e(t+\" start\"),n.then(()=>e(i))},t.composeRL=(...e)=>e.reduce((e,t)=>(...n)=>e(t(...n))),t.getProp=function e(t,n,i){const r=Array.isArray(n)?n:n.split(\".\").filter(e=>e.length);return r.length?e(t[r.shift()],r,i):void 0===t?i:t},t.getUniqueName=h,t.getRandomWindowName=function(e,t){return`${h(e)}-${t}`},t.timeoutPromise=p,t.wrapWithTimeout=function(e,t,n){return Promise.race([e,p(t,n)])},t.isStackedWindow=function(e){return e&&\"StackedWindow\"===(o.default(e,\"windowIdentifier.windowType\")||e.windowType)},t.toRecord=function(e,t){const n=\"string\"==typeof e?t=>t[e]:e;return t.reduce((e,t)=>(e[n(t)]=t,e),{})},t.removeKeys=function(e,t){if(!e)return e;const n=Object.keys(e).filter(e=>!t.includes(e));return s.default(e,n)},t.checkIfBoundsAreEqual=function(e,t){if(!e||!t)return!1;const n=[\"left\",\"right\",\"top\",\"bottom\",\"width\",\"height\"],i=s.default(e,n),r=s.default(t,n);return!!a.default(i,r)},t.sleep=function(e,t=!1){return new Promise((n,i)=>{t?setTimeout(()=>{try{i(\"timeout expired\")}catch(e){}},e):setTimeout(n,e)})},t.isEqualIgnoringArrayOrder=function(e,t){const n=f(e,Function.prototype),i=f(t,Function.prototype);return u.default(n,i,(e,t)=>{if(Array.isArray(e)&&Array.isArray(t))return u.default(e.sort(),t.sort())})},t.checkDeprecatedConfigs=function(e,t,n){const{baseString:i,oldPath:r,newPath:o,oldValue:s,newValue:a}=t;let u=c.ConfigUtilInstance.getDefault(e,g(i,o,a),null);return null===u&&(u=c.ConfigUtilInstance.getDefault(e,g(i,o,s),null),u?m(t,o,s):(u=c.ConfigUtilInstance.getDefault(e,g(i,r,a),null),u?m(t,r,a):(u=c.ConfigUtilInstance.getDefault(e,g(i,r,s),null),u?m(t,r,s):u=n))),u}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ConfigUtilInstance\",(function(){return a}));var i=n(11),r=n(0),o=n.n(r),s=n(2);\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nconst a=new function(){const e=this;this.resolveConfigVariables=function(e,t){let n=0,i=0,r=!0;function s(e){const t=e.split(/[/\\\\:?=&\\s]/);for(let n=0;n<t.length;n++)if(\"$\"===t[n][0]){const i=t[n].substring(1);let s=a(i);if(void 0!==s){const a=e.replace(t[n],s);o.a.system.verbose(\"forceObjectsToLogger\",\"ConfigUtil.resolveConfigVariables:resolveString configString\",t[n],i,s,\"old value=\",e,\"value=\",a),r=!0,e=a}}return e}function a(t){let n=e[t];return void 0===n&&(e.custom?(n=e.custom[t],void 0===n&&o.a.system.warn(\"ConfigUtil.resolveString\",`Missing [${t}] variable from finsemble.custom configuration object`)):o.a.system.error(\"ConfigUtil.resolveString\",'Missing \"custom\" node from finsemble configuration - unable to get variable resoution for variable: '+t)),n}function u(e,t,n){e=e||{},o.a.system.verbose(\"forceObjectsToLogger\",\"ConfigUtil.resolveConfigVariables:resolveObject\",\"pass\",t,\"recursionLevel\",n,\"configObject:\",e),Object.keys(e).forEach(i=>{const r=e[i];\"string\"==typeof r&&r.indexOf(\"$\")>-1?e[i]=s(r):r instanceof Array?function e(t,n,i){o.a.system.verbose(\"forceObjectsToLogger\",\"resolveArray\",\"pass\",n,\"recursionLevel\",i,\"configArray:\",t);for(let r=0;r<t.length;r++){const o=t[r];\"string\"==typeof o&&o.indexOf(\"$\")>-1?t[r]=s(o):o instanceof Array?e(o,n,i+1):\"object\"==typeof o&&u(o,n,i+1)}}(r,t,n+1):\"object\"==typeof r&&u(r,t,n+1)})}for(;r&&i++<100;)r=!1,u(t,++n,1);i>=100&&o.a.system.error(\"forceObjectsToLogger\",\"resolveConfigVariables exceeded maximum passes so continuing -- probably a recursive macro definitions.  Look in this config for unresolved macro variables\",e)},this.getExpandedRawManifest=function(t,n){o.a.system.debug(\"ConfigUtil.getExpandedRawManifest starting\"),s.System.ready(()=>{const i=s.System.Application.getCurrent();!function t(i,r,a){o.a.system.debug(\"forceObjectsToLogger\",\"ConfigUtil.getExpandedRawManifest:getRawManifest\",r,a),r.getManifest(t=>{o.a.system.debug(\"forceObjectsToLogger\",\"ConfigUtil.getExpandedRawManifest:getExpandedRawManifest: manifest retrieved. Pre-variable resolution\",t),e.resolveConfigVariables(t.finsemble,t.finsemble),o.a.system.debug(\"forceObjectsToLogger\",\"ConfigUtil.getExpandedRawManifest:getExpandedRawManifest:Complete. post-variable resolution\",t),i(t)},e=>{e&&(o.a.system.error(\"ConfigUtil.getExpandedRawManifest:application.getManifest:err\",e),n&&n()),r.getParentUuid(e=>{const n=s.System.Application.wrap(e);o.a.system.debug(\"forceObjectsToLogger\",\"uuid\",e,\"parentApplication\",n),a<10?t(i,n,++a):i(\"could not find manifest in parent applications\")})})}(t,i,1)})},this.readConfigFile=function(e,t){o.a.system.debug(\"fetching \"+e),fetch(e,{credentials:\"include\",cache:\"no-cache\"}).then(e=>e.json()).catch(n=>{t(`Failure importing ${e}: ${n}`,null)}).then(e=>{t(null,e)})},this.getInitialManifest=function(t){s.System.ready(()=>{s.System.Application.getCurrent().getManifest(n=>{n.finsemble=n.finsemble||{},e.resolveConfigVariables(n.finsemble,n.finsemble),n.finsemble.applicationRoot||o.a.system.error(\"FATAL ERROR: applicationRoot was not defined in manifest file.\");const i=n.finsemble.moduleRoot+\"/configs/core/config.json\";e.readConfigFile(i,(r,s)=>{r?o.a.system.error(`ConfigUtil.getInitialManifest:getCoreConfig:failed importing into finsemble config. $moduleRoot=${n.finsemble.moduleRoot}; Full Path=${i}`,r):(Object.keys(s).forEach(e=>{if(\"importConfig\"===e){n.finsemble.importConfig=n.finsemble.importConfig||[];for(let e=0;e<s.importConfig.length;e++)n.finsemble.importConfig.unshift(s.importConfig[e])}else if(\"importThirdPartyConfig\"===e){n.finsemble.importThirdPartyConfig=n.finsemble.importThirdPartyConfig||[];for(let e=0;e<s.importThirdPartyConfig.length;e++)n.finsemble.importThirdPartyConfig.unshift(s.importThirdPartyConfig[e])}else n.finsemble[e]=s[e]}),e.resolveConfigVariables(n.finsemble,n.finsemble),o.a.system.debug(\"forceObjectsToLogger\",\"ConfigUtil.getInitialManifest:getCoreConfig:Initial Manifest after variables Resolved\",n)),t(n)})})})},this.promptAndSaveJSONToLocalFile=function(e,t){o.a.system.debug(\"saveJSONToLocalFile\",e,t);const n=JSON.stringify(t,null,\"\\t\"),i=\"data:application/json;charset=utf-8,\"+encodeURIComponent(n),r=e+\".json\",s=document.createElement(\"a\");s.setAttribute(\"href\",i),s.setAttribute(\"download\",r),s.click()},this.configFormatForExport=function(e,t){o.a.system.debug(\"configFormatForExport starting\",e,t);let n=i.default.clone(t);if(\"raw\"===e);else if(\"all\"===e)delete n.importConfig,delete n.comment;else if(\"application\"===e)delete n.importConfig,delete n.comment,delete n.system,delete n.services;else if(\"workspace\"===e)n={workspace:n};else if(\"workspaceTemplate\"===e){const e={};e[n.name]=n,n={workspaceTemplates:e}}else\"services\"===e?n=n.services:\"components\"===e&&(n=n.components);return n},this.getDefault=function(e,t,n){let i=n;if(e){try{const n=t.split(\".\");let r=e;for(let e=1;e<n.length;e++)r=r[n[e]];i=r}catch(e){i=n}void 0===i&&(i=n)}return i},this.getFile=async function(e,t=Function.prototype){o.a.system.debug(\"fetching import \"+e);let n=null;return await fetch(e,{credentials:\"include\",cache:\"no-cache\"}).then(e=>e.json()).catch(n=>{t(`failure importing ${e}: ${n}`,null)}).then(e=>{t(null,e),n=e}),n}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"Monitors\",(function(){return m})),n.d(t,\"clone\",(function(){return y})),n.d(t,\"getContainerVersion\",(function(){return w})),n.d(t,\"castToPromise\",(function(){return b})),n.d(t,\"isPercentage\",(function(){return v})),n.d(t,\"crossDomain\",(function(){return S})),n.d(t,\"getAllMonitors\",(function(){return C})),n.d(t,\"getMonitorFromXY\",(function(){return _})),n.d(t,\"getMonitorFromWindow\",(function(){return T})),n.d(t,\"getFinWindow\",(function(){return E})),n.d(t,\"getWindowDescriptor\",(function(){return A})),n.d(t,\"findMonitor\",(function(){return I})),n.d(t,\"getWhichMonitor\",(function(){return O})),n.d(t,\"getMonitor\",(function(){return L})),n.d(t,\"getMonitorFromCommand\",(function(){return M})),n.d(t,\"windowOnMonitor\",(function(){return D})),n.d(t,\"getMonitorByDescriptor\",(function(){return k})),n.d(t,\"getMyWindowIdentifier\",(function(){return N})),n.d(t,\"camelCase\",(function(){return j})),n.d(t,\"guuid\",(function(){return W})),n.d(t,\"injectJS\",(function(){return R})),n.d(t,\"openSharedData\",(function(){return P})),n.d(t,\"getNewBoundsWhenMovedToMonitor\",(function(){return F})),n.d(t,\"isOnAMonitor\",(function(){return x})),n.d(t,\"adjustBoundsToBeOnMonitor\",(function(){return B})),n.d(t,\"isWindows\",(function(){return U})),n.d(t,\"getWindowType\",(function(){return z}));var i=n(29),r=n.n(i),o=n(2),s=n(22),a=n(0),u=n.n(a),c=(n(26),n(45)),l=n.n(c),d=n(46),f=n.n(d),h=n(9);let p;class g extends s.EventEmitter{constructor(e,t,n){if(super(),!n||!n.System)throw new Error(\"Monitors class requires dependency injection. Ensure that System is being passed in.\");({System:p}=n),this.cachedMonitorInfo=null,this.limitedMonitorRefreshQueue=new l.a({concurrency:1}),this.bindAllFunctions(),this.limitedMonitorRefreshQueue.add(()=>this.refreshMonitors(e)),p.addEventListener(\"monitor-info-changed\",()=>{this.limitedMonitorRefreshQueue.add(()=>this.refreshMonitors(t))}),p.addEventListener(\"session-changed\",e=>{e&&(\"object\"!=typeof e||!e.hasOwnProperty(\"reason\")||\"unlock\"!==e.reason&&\"remote-connect\"!==e.reason&&\"unknown\"!==e.reason)||this.limitedMonitorRefreshQueue.add(()=>this.refreshMonitors(t))})}bindAllFunctions(){let e=this;for(let t of Object.getOwnPropertyNames(Object.getPrototypeOf(e))){let n=e[t];n instanceof Function&&n!==g&&(e[t]=e[t].bind(e))}}asyncIt(e,t){return t(e),e}rationalizeMonitor(e){e.monitorRect.width=e.monitorRect.right-e.monitorRect.left,e.monitorRect.height=e.monitorRect.bottom-e.monitorRect.top,e.availableRect.width=e.availableRect.right-e.availableRect.left,e.availableRect.height=e.availableRect.bottom-e.availableRect.top}calculateMonitorScale(e,t){return(t.right-t.left)/(e.right-e.left)}monitorInfoIsChanged(e,t){if(!e||!t)return!0;if(e.nonPrimaryMonitors.length!==t.nonPrimaryMonitors.length)return!0;if(!Object(h.checkIfBoundsAreEqual)(e.primaryMonitor.availableRect,t.primaryMonitor.availableRect))return!0;if(!Object(h.checkIfBoundsAreEqual)(e.primaryMonitor.monitorRect,t.primaryMonitor.monitorRect))return!0;e.nonPrimaryMonitors.sort((e,t)=>e.deviceName>t.deviceName?1:e.deviceName<t.deviceName?-1:0),t.nonPrimaryMonitors.sort((e,t)=>e.deviceName>t.deviceName?1:e.deviceName<t.deviceName?-1:0);let n=!1;return e.nonPrimaryMonitors.forEach((e,i)=>{const r=t.nonPrimaryMonitors[i];Object(h.checkIfBoundsAreEqual)(e.availableRect,r.availableRect)&&Object(h.checkIfBoundsAreEqual)(e.monitorRect,r.monitorRect)||(n=!0)}),n}async refreshMonitors(e=Function.prototype){this.limitedMonitorRefreshQueue.clear();const t=await p.getMonitorInfo();if(!this.monitorInfoIsChanged(this.cachedMonitorInfo,t))return u.a.system.info(\"Skipped refreshMonitors because monitors do not change.\"),e(this.allMonitors);this.allMonitors=[];let{primaryMonitor:n}=t;if(Object.entries(n).length){n.whichMonitor=\"primary\",n.position=0,this.allMonitors.push(Object.assign({},n));for(let e=0;e<t.nonPrimaryMonitors.length;e++){let n=t.nonPrimaryMonitors[e];n.whichMonitor=e,n.position=e+1,this.allMonitors.push(n)}for(let e=0;e<this.allMonitors.length;e++){let t=this.allMonitors[e];this.rationalizeMonitor(t)}this.cachedMonitorInfo=f()(t),e(this.allMonitors),this.ready=!0,1===this.limitedMonitorRefreshQueue.pending&&this.emit(\"monitors-changed\",{monitors:this.allMonitors})}else u.a.system.info(\"There is no primary monitor in 'monitorInfo' - the system is still in the process of updating the monitor information. Returning from monitorsAndScaling -> refreshMonitors\")}getAllMonitors(e=Function.prototype){return this.ready?this.asyncIt(JSON.parse(JSON.stringify(this.allMonitors)),e):e?void this.refreshMonitors(e):\"not ready\"}getMonitorFromScaledXY(e,t,n=Function.prototype){return new Promise(i=>{if(!this.ready)return this.refreshMonitors(()=>{this.getMonitorFromScaledXY(e,t,n)}),\"not ready\";let r=null;for(var o=this.allMonitors,s=0;s<o.length;s++){var a=o[s],{monitorRect:u}=a;if(e>=u.left&&e<u.right&&t>=u.top&&t<u.bottom){r=a;break}}i(r),n(r)})}getMonitorFromUnscaledXY(e,t,n=Function.prototype){if(!this.ready)return this.refreshMonitors(()=>{this.getMonitorFromUnscaledXY(e,t,n)}),\"not ready\";for(var i=this.allMonitors,r=0;r<i.length;r++){var o=i[r],s=o.monitor.scaledRect;if(e>=s.left&&e<s.right&&t>=s.top&&t<s.bottom)return this.asyncIt(o,n)}return this.asyncIt(null,n)}async translatePointFromScaled(e,t=Function.prototype){if(!this.ready)return this.refreshMonitors(()=>{this.translatePointFromScaled(e,t)}),\"not ready\";var n;e.point?({point:n}=e):n=e;var{monitor:i}=e;if(!i){i=(await this.getMonitorFromScaledXY(n.x,n.y)).data}let r=null;if(i){var o=n.x-i.monitorRect.left,s=n.y-i.monitorRect.top,a=o*i.deviceScaleFactor,u=s*i.deviceScaleFactor;r={x:a+i.monitor.scaledRect.left,y:u+i.monitor.scaledRect.top}}return t(r),Promise.resolve(r)}translatePointToScaled(e,t=Function.prototype){if(!this.ready)return this.refreshMonitors(()=>{this.translatePointToScaled(e,t)}),\"not ready\";var n;e.point?({point:n}=e):n=e;var i=e.monitor||this.getMonitorFromUnscaledXY(n.x,n.y);if(!i)return this.asyncIt(null,t);var r=n.x-i.monitor.scaledRect.left,o=n.y-i.monitor.scaledRect.top,s=r/i.deviceScaleFactor,a=o/i.deviceScaleFactor,u={x:s+i.monitorRect.left,y:a+i.monitorRect.top};return this.asyncIt(u,t)}async translateRectToScaled(e,t=Function.prototype){let n;if(!this.ready)return this.refreshMonitors(()=>{this.translateRectToScaled(e,t)}),\"not ready\";var i=this.translatePointToScaled({x:e.left,y:e.top}),r=this.translatePointToScaled({x:e.right,y:e.bottom});return!i&&r&&(n=await this.getMonitorFromScaledXY(r),i=this.translatePointToScaled({monitor:n,point:{x:e.left,y:e.top}})),!r&&i&&(n=await this.getMonitorFromScaledXY(r),r=this.translatePointToScaled({monitor:n,point:{x:e.right,y:e.bottom}})),this.asyncIt({top:i?i.y:null,left:i?i.x:null,bottom:r?r.y:null,right:r?r.x:null,height:i&&r?r.y-i.y:null,width:i&&r?r.x-i.x:null},t)}translateRectFromScaled(e,t=Function.prototype){if(!this.ready)return this.refreshMonitors(()=>{this.translateRectFromScaled(e,t)}),\"not ready\";var n=this.translatePointFromScaled({x:e.left,y:e.top}),i=this.translatePointFromScaled({x:e.right,y:e.bottom});return!n&&i&&(n=this.translatePointFromScaled({monitor:this.getMonitorFromUnscaledXY(i),point:{x:e.left,y:e.top}})),!i&&n&&(i=this.translatePointFromScaled({monitor:this.getMonitorFromUnscaledXY(n),point:{x:e.right,y:e.bottom}})),this.asyncIt({top:n?n.y:null,left:n?n.x:null,bottom:i?i.y:null,right:i?i.x:null,height:n&&i?i.y-n.y:null,width:n&&i?i.x-n.x:null},t)}}\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nconst m=new g(Function.prototype,Function.prototype,{System:o.System});function y(e,t){if(null===e||\"object\"!=typeof e)return e;if(e.constructor==Date||e.constructor==RegExp||e.constructor==Function||e.constructor==String||e.constructor==Number||e.constructor==Boolean)return new e.constructor(e);t=t||new e.constructor;for(const n in e)t[n]=void 0===t[n]?y(e[n],null):t[n];return t}function w(e=Function.prototype){return new Promise(t=>{o.System.getVersion(n=>{const i=n.split(\".\").map(Number),r={major:i[0],chromium:i[1],minor:i[2],patch:i[3]};e(r),t({versionObject:r})})})}function b(e){return function(){return new Promise((t,n)=>{const i=e.apply(null,Array.from(arguments));try{return i.then(t,n)}catch(e){e instanceof TypeError?t(i):n(e)}})}}function v(e){return\"string\"==typeof e&&-1!==e.indexOf(\"%\")}function S(e){const t=document.createElement(\"a\");t.href=e;const n=window.location.hostname===t.hostname,i=window.location.protocol===t.protocol,r=(void 0!==window.location.port?window.location.port:80)===(void 0!==t.port?t.port:80),o=!(n&&r&&i);return u.a.system.debug(`Launcher crossDomain=${o} (${n}:${i}:${r})`),o}var{getAllMonitors:C}=m,_=m.getMonitorFromScaledXY;function T(e,t){const n=Number.isFinite(e.x)?e.x:e.defaultLeft,i=Number.isFinite(e.y)?e.y:e.defaultTop,r=n+e.defaultWidth,o=i+e.defaultHeight;return new Promise((e,s)=>{m.getMonitorFromScaledXY(n,i,a=>{if(!a)return u.a.system.debug(\"getMonitorFromWindow - top-left is off screen, trying bottom right\"),void m.getMonitorFromScaledXY(r,o,r=>{if(!r)return u.a.system.debug(\"getMonitorFromWindow - bottom-right is off screen, getting primary\"),void m.getAllMonitors(n=>{n[0]?(t&&t(n[0]),e(n[0])):(s(new Error(\"Cannot find monitor for window.\")),t&&t(null))});r=y(r);const{monitorRect:o}=r;(o.left<n||o.right<i)&&(r.straddling=!0),t&&t(r),e(r)});a=y(a);const{monitorRect:c}=a;(c.right>r||c.bottom>o)&&(a.straddling=!0),t&&t(a),e(a)})})}function E(e,t){return new Promise((n,i)=>{const r=o.System.Window.getCurrent();r.getOptions(s=>{if(e&&e.windowName){e.uuid||(e.uuid=s.uuid);const r=o.System.Window.wrap(e.uuid,e.windowName);r.getInfo(()=>{t&&t(r),n(r)},()=>{t&&t(null),i(`Window ${e.windowName} not found. UUID: ${e.uuid}`),console.debug(`util.getFinWindow: Window ${e.windowName} not found`)})}else if(e&&e.componentType)if(void 0!==window.LauncherService){const r=window.LauncherService.componentFinder(e);r?(n(r),t&&t(r)):(i(`util.getFinWindow: Component ${e.componentType} not found.`),t&&t(null))}else i(\"getFinWindow by componentType is currently only operable within LaunchService\"),t&&t(null);else t&&t(r),n(r)})})}function A(e,t){return new Promise((n,i)=>{E(e).then(e=>{e.getOptions(e=>{t&&t(e),n(e)})}).catch(e=>{console.warn(e),t&&t(null),i(e)})})}function I(e,t,n){for(let i=0;i<e.length;i++){const r=e[i];if(r[t]===n)return r}return null}function O(e,t){let n;arguments.length>2&&(e={commandMonitor:arguments[0],monitors:arguments[1],launchingMonitorPosition:arguments[2]},t=null);let{commandMonitor:i,monitors:r,launchingMonitorPosition:o}=e;const s=i&&\"\"!==i||0===i;if(\"primary\"===i)n=I(r,\"whichMonitor\",\"primary\");else if(\"next\"===i){let e=o+1;e>=r.length&&(e=0),n=r[e]}else if(\"previous\"===i){let e=o-1;e<0&&(e=r.length-1),n=r[e]}else if(\"mine\"===i){var a=!0;activeWindows.getWindow(e.windowIdentifier.windowName)._getBounds((e,i)=>{e?(n=r[0],t(n)):m.getMonitorFromScaledXY(i.left,i.top,e=>{t(e)})})}else s?(i>=r.length&&(i=r.length-1),n=r.filter(e=>e.position===i)[0]):o&&(n=r[o]);if(n||(n=r[0]),!a){if(!t)return n;t(n)}}function L(e,t){return new Promise((n,i)=>{A(e,e=>{e?T(e,e=>{t&&t(e),n(e)}):i(\"util.getMonitor: Can't locate windowDescriptor.\")})})}function M(e,t,n){return new Promise(i=>{L(t,t=>{m.getAllMonitors(r=>{O({commandMonitor:e,monitors:r,launchingMonitorPosition:t.position},e=>{n&&n(e),i(e)})})})})}function D(e,t){return e.left>=t.left&&e.left<t.right||e.right<=t.right&&e.right>t.left}function k(e,t){return new Promise(n=>{T(e,e=>{t&&t(e),n(e)})})}function N(e){const t=o.System.Window.getCurrent();return new Promise(n=>{t.getOptions(i=>{let r=null;const{customData:o}=i;o&&o.component&&(r=o.component.type);const s={windowName:t.name,uuid:t.uuid,componentType:r};e&&e(s),n(s)})})}function j(){let e=\"\";for(let t=0;t<arguments.length;t++)e=`${e} ${arguments[t]}`;return e.replace(/\\s(.)/g,e=>e.toUpperCase()).replace(/\\s/g,\"\").replace(/^(.)/,e=>e.toLowerCase())}function W(){return r()()}function R(e,t){const n=document.createElement(\"script\");n.onload=t,n.type=\"text/javascript\",n.async=!0,n.src=e;const i=document.getElementsByTagName(\"head\")[0],r=i.getElementsByTagName(\"script\")[0];i.insertBefore(n,r)}function P(e,t){const n=FSBL.Clients.LauncherClient,i=FSBL.Clients.LinkerClient;e.multipleOpenerHandler||(e.multipleOpenerHandler=function(e){let t,n=0;for(const i of Object.keys(e))e[i].length>n&&(t=i,n=e[i].length);return[t]});const r=[],o={};n.getComponentsThatCanReceiveDataTypes({dataTypes:Object.keys(e.data)},(s,a)=>{for(const e of Object.keys(a))if(a[e].componentTypes.length)for(const t of a[e].componentTypes)o[t]?o[t].push(e):o[t]=[e];else{const t=\"No Components Available to Handle the type: \"+e;r.push(t),u.a.system.error(t)}let c=Object.keys(o);if(c.length){c.length>1&&(c=e.multipleOpenerHandler(o));const s=Object.keys(i.channels);if(s.length){if(i.getLinkedComponents({componentTypes:c,windowIdentifier:i.windowIdentifier()}).length||e.publishOnly)i.publish({dataType:\"Finsemble.DragAndDropClient\",data:e.data}),t&&t(r.length?r:null,\"Data published\");else{for(const t of c)n.spawn(t,{data:{sharedData:e.data,linker:{channels:s}},addToWorkspace:!0});t&&t(r.length?r:null,\"Linked Window(s) spawned with data\")}}else if(!e.publishOnly){for(const t of c)n.spawn(t,{data:{sharedData:e.data},addToWorkspace:!0});t&&t(r.length?r:null,\"New Window(s) spawned with data\")}}else t&&t(r.length?r:null,null)})}function F(e,t,n=\"availableRect\"){const i=e[n]||e.availableRect||e.monitorRect,r=y(t);t.top<i.top?r.top=i.top:t.top>i.bottom-t.height&&(r.top=i.bottom-t.height),t.left<i.left?r.left=i.left:t.left>i.right-t.width&&(r.left=i.right-t.width),r.bottom=r.top+r.height,r.right=r.left+r.width,r.right>i.right&&(r.right=i.right),r.top<i.top&&(r.top=i.top),r.left<i.left&&(r.left=i.left),r.bottom>i.bottom&&(r.bottom=i.bottom),r.height=r.bottom-r.top,r.width=r.right-r.left;return{newBounds:r,distanceMoved:Math.sqrt((t.left-r.left)**2+(t.top-r.top)**2),monitor:e}}function x(e){return this.Monitors.allMonitors.some(t=>{const{monitorRect:n}=t;return e.left>=n.left&&e.left<=n.right&&e.right>=n.left&&e.right<=n.right&&e.top>=n.top&&e.top<=n.bottom&&e.bottom>=n.top&&e.bottom<=n.bottom})}function B(e,t=\"availableRect\"){if(this.isOnAMonitor(e))return u.a.system.info(\"Launcher.adjustWindowDescriptorBoundsToBeOnMonitor: on monitor.\"),e;const n=this.Monitors.allMonitors.map(n=>{let i=n.rawMonitor?n.rawMonitor:n;return this.getNewBoundsWhenMovedToMonitor(i,e,t)}).sort((e,t)=>e.distanceMoved-t.distanceMoved)[0];return u.a.system.info(\"Launcher.adjustWindowDescriptorBoundsToBeOnMonitor: not on monitor.  bounds\",e,\"monitor name\",n.monitor.name,\"newBounds\",n.newBounds),n.newBounds}async function U(e=Function.prototype){const t=(await o.System.getHostSpecs()).name.toUpperCase().includes(\"WINDOWS\");return e(t),t}function z(e){if(e.windowType&&![\"assimilation\",\"assimilated\",\"native\",\"application\",\"NativeWindow\",\"FinsembleNativeWindow\",\"CompoundWindow\",\"WebWindow\",\"WebApplication\",\"StackedWindow\"].includes(e.windowType))return u.a.system.error(`Invalid windowType: ${e.windowType}, defaulting to windowType: WebWindow`),\"WebWindow\";let t=e.windowType||\"WebWindow\";switch(e.windowType){case\"assimilation\":case\"assimilated\":t=\"NativeWindow\";break;case\"native\":t=\"FinsembleNativeWindow\";break;case\"application\":t=\"WebApplication\";break;case\"Web\":t=\"WebWindow\";break;case\"StackedWindow\":t=\"StackedWindow\"}return e.native&&(t=\"NativeWindow\"),e.compound&&(t=\"CompoundWindow\"),t}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"applyEach\",(function(){return se})),n.d(t,\"applyEachSeries\",(function(){return le})),n.d(t,\"apply\",(function(){return de})),n.d(t,\"asyncify\",(function(){return fe})),n.d(t,\"auto\",(function(){return ve})),n.d(t,\"autoInject\",(function(){return Je})),n.d(t,\"cargo\",(function(){return it})),n.d(t,\"compose\",(function(){return at})),n.d(t,\"concat\",(function(){return ct})),n.d(t,\"concatSeries\",(function(){return dt})),n.d(t,\"constant\",(function(){return ft})),n.d(t,\"detect\",(function(){return mt})),n.d(t,\"detectLimit\",(function(){return yt})),n.d(t,\"detectSeries\",(function(){return wt})),n.d(t,\"dir\",(function(){return vt})),n.d(t,\"doDuring\",(function(){return St})),n.d(t,\"doUntil\",(function(){return _t})),n.d(t,\"doWhilst\",(function(){return Ct})),n.d(t,\"during\",(function(){return Tt})),n.d(t,\"each\",(function(){return At})),n.d(t,\"eachLimit\",(function(){return It})),n.d(t,\"eachOf\",(function(){return ne})),n.d(t,\"eachOfLimit\",(function(){return J})),n.d(t,\"eachOfSeries\",(function(){return rt})),n.d(t,\"eachSeries\",(function(){return Ot})),n.d(t,\"ensureAsync\",(function(){return Lt})),n.d(t,\"every\",(function(){return Dt})),n.d(t,\"everyLimit\",(function(){return kt})),n.d(t,\"everySeries\",(function(){return Nt})),n.d(t,\"filter\",(function(){return Ft})),n.d(t,\"filterLimit\",(function(){return xt})),n.d(t,\"filterSeries\",(function(){return Bt})),n.d(t,\"forever\",(function(){return Ut})),n.d(t,\"log\",(function(){return zt})),n.d(t,\"map\",(function(){return oe})),n.d(t,\"mapLimit\",(function(){return ue})),n.d(t,\"mapSeries\",(function(){return ce})),n.d(t,\"mapValues\",(function(){return Vt})),n.d(t,\"mapValuesLimit\",(function(){return Ht})),n.d(t,\"mapValuesSeries\",(function(){return qt})),n.d(t,\"memoize\",(function(){return Gt})),n.d(t,\"nextTick\",(function(){return Yt.a})),n.d(t,\"parallel\",(function(){return Kt})),n.d(t,\"parallelLimit\",(function(){return Zt})),n.d(t,\"priorityQueue\",(function(){return en})),n.d(t,\"queue\",(function(){return Xt})),n.d(t,\"race\",(function(){return tn})),n.d(t,\"reduce\",(function(){return ot})),n.d(t,\"reduceRight\",(function(){return rn})),n.d(t,\"reflect\",(function(){return on})),n.d(t,\"reflectAll\",(function(){return un})),n.d(t,\"reject\",(function(){return an})),n.d(t,\"rejectLimit\",(function(){return cn})),n.d(t,\"rejectSeries\",(function(){return ln})),n.d(t,\"retry\",(function(){return fn})),n.d(t,\"retryable\",(function(){return hn})),n.d(t,\"seq\",(function(){return st})),n.d(t,\"series\",(function(){return pn})),n.d(t,\"setImmediate\",(function(){return Jt})),n.d(t,\"some\",(function(){return gn})),n.d(t,\"someLimit\",(function(){return mn})),n.d(t,\"someSeries\",(function(){return yn})),n.d(t,\"sortBy\",(function(){return wn})),n.d(t,\"timeout\",(function(){return bn})),n.d(t,\"times\",(function(){return Tn})),n.d(t,\"timesLimit\",(function(){return _n})),n.d(t,\"timesSeries\",(function(){return En})),n.d(t,\"transform\",(function(){return An})),n.d(t,\"unmemoize\",(function(){return In})),n.d(t,\"until\",(function(){return Ln})),n.d(t,\"waterfall\",(function(){return Mn})),n.d(t,\"whilst\",(function(){return On})),n.d(t,\"all\",(function(){return Dt})),n.d(t,\"allLimit\",(function(){return kt})),n.d(t,\"allSeries\",(function(){return Nt})),n.d(t,\"any\",(function(){return gn})),n.d(t,\"anyLimit\",(function(){return mn})),n.d(t,\"anySeries\",(function(){return yn})),n.d(t,\"find\",(function(){return mt})),n.d(t,\"findLimit\",(function(){return yt})),n.d(t,\"findSeries\",(function(){return wt})),n.d(t,\"forEach\",(function(){return At})),n.d(t,\"forEachSeries\",(function(){return Ot})),n.d(t,\"forEachLimit\",(function(){return It})),n.d(t,\"forEachOf\",(function(){return ne})),n.d(t,\"forEachOfSeries\",(function(){return rt})),n.d(t,\"forEachOfLimit\",(function(){return J})),n.d(t,\"inject\",(function(){return ot})),n.d(t,\"foldl\",(function(){return ot})),n.d(t,\"foldr\",(function(){return rn})),n.d(t,\"select\",(function(){return Ft})),n.d(t,\"selectLimit\",(function(){return xt})),n.d(t,\"selectSeries\",(function(){return Bt})),n.d(t,\"wrapSync\",(function(){return fe}));var i=n(1),r=function(e){return Object(i.a)((function(t){var n=t.pop();e.call(this,t,n)}))};function o(e){return Object(i.a)((function(t,n){var i=r((function(n,i){var r=this;return e(t,(function(e,t){e.apply(r,n.concat(t))}),i)}));return n.length?i.apply(this,n):i}))}var s=n(23).a.Symbol,a=Object.prototype,u=a.hasOwnProperty,c=a.toString,l=s?s.toStringTag:void 0;var d=function(e){var t=u.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(e){}var r=c.call(e);return i&&(t?e[l]=n:delete e[l]),r},f=Object.prototype.toString;var h=function(e){return f.call(e)},p=s?s.toStringTag:void 0;var g=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":p&&p in Object(e)?d(e):h(e)};var m=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)};var y=function(e){if(!m(e))return!1;var t=g(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t};var w=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var b=function(e){return null!=e&&w(e.length)&&!y(e)},v={};var S=function(){};function C(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var _=\"function\"==typeof Symbol&&Symbol.iterator;var T=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i};var E=function(e){return null!=e&&\"object\"==typeof e};var A=function(e){return E(e)&&\"[object Arguments]\"==g(e)},I=Object.prototype,O=I.hasOwnProperty,L=I.propertyIsEnumerable,M=A(function(){return arguments}())?A:function(e){return E(e)&&O.call(e,\"callee\")&&!L.call(e,\"callee\")},D=Array.isArray,k=n(43),N=/^(?:0|[1-9]\\d*)$/;var j=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&(\"number\"==n||\"symbol\"!=n&&N.test(e))&&e>-1&&e%1==0&&e<t},W={};W[\"[object Float32Array]\"]=W[\"[object Float64Array]\"]=W[\"[object Int8Array]\"]=W[\"[object Int16Array]\"]=W[\"[object Int32Array]\"]=W[\"[object Uint8Array]\"]=W[\"[object Uint8ClampedArray]\"]=W[\"[object Uint16Array]\"]=W[\"[object Uint32Array]\"]=!0,W[\"[object Arguments]\"]=W[\"[object Array]\"]=W[\"[object ArrayBuffer]\"]=W[\"[object Boolean]\"]=W[\"[object DataView]\"]=W[\"[object Date]\"]=W[\"[object Error]\"]=W[\"[object Function]\"]=W[\"[object Map]\"]=W[\"[object Number]\"]=W[\"[object Object]\"]=W[\"[object RegExp]\"]=W[\"[object Set]\"]=W[\"[object String]\"]=W[\"[object WeakMap]\"]=!1;var R=function(e){return E(e)&&w(e.length)&&!!W[g(e)]};var P=function(e){return function(t){return e(t)}},F=n(30),x=F.a&&F.a.isTypedArray,B=x?P(x):R,U=Object.prototype.hasOwnProperty;var z=function(e,t){var n=D(e),i=!n&&M(e),r=!n&&!i&&Object(k.a)(e),o=!n&&!i&&!r&&B(e),s=n||i||r||o,a=s?T(e.length,String):[],u=a.length;for(var c in e)!t&&!U.call(e,c)||s&&(\"length\"==c||r&&(\"offset\"==c||\"parent\"==c)||o&&(\"buffer\"==c||\"byteLength\"==c||\"byteOffset\"==c)||j(c,u))||a.push(c);return a},H=Object.prototype;var V=function(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||H)};var q=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),$=Object.prototype.hasOwnProperty;var G=function(e){if(!V(e))return q(e);var t=[];for(var n in Object(e))$.call(e,n)&&\"constructor\"!=n&&t.push(n);return t};var Y=function(e){return b(e)?z(e):G(e)};function Q(e){if(b(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,i,r,o=function(e){return _&&e[_]&&e[_]()}(e);return o?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(o):(n=Y(t=e),i=-1,r=n.length,function(){var e=n[++i];return i<r?{value:t[e],key:e}:null})}function K(e){return function(){if(null===e)throw new Error(\"Callback was already called.\");var t=e;e=null,t.apply(this,arguments)}}function Z(e){return function(t,n,i){if(i=C(i||S),e<=0||!t)return i(null);var r=Q(t),o=!1,s=0;function a(e,t){if(s-=1,e)o=!0,i(e);else{if(t===v||o&&s<=0)return o=!0,i(null);u()}}function u(){for(;s<e&&!o;){var t=r();if(null===t)return o=!0,void(s<=0&&i(null));s+=1,n(t.value,t.key,K(a))}}u()}}function J(e,t,n,i){Z(t)(e,n,i)}function X(e,t){return function(n,i,r){return e(n,t,i,r)}}function ee(e,t,n){n=C(n||S);var i=0,r=0,o=e.length;function s(e,t){e?n(e):++r!==o&&t!==v||n(null)}for(0===o&&n(null);i<o;i++)t(e[i],i,K(s))}var te=X(J,1/0),ne=function(e,t,n){(b(e)?ee:te)(e,t,n)};function ie(e){return function(t,n,i){return e(ne,t,n,i)}}function re(e,t,n,i){i=i||S;var r=[],o=0;e(t=t||[],(function(e,t,i){var s=o++;n(e,(function(e,t){r[s]=t,i(e)}))}),(function(e){i(e,r)}))}var oe=ie(re),se=o(oe);function ae(e){return function(t,n,i,r){return e(Z(n),t,i,r)}}var ue=ae(re),ce=X(ue,1),le=o(ce),de=Object(i.a)((function(e,t){return Object(i.a)((function(n){return e.apply(null,t.concat(n))}))}));function fe(e){return r((function(t,n){var i;try{i=e.apply(this,t)}catch(e){return n(e)}m(i)&&\"function\"==typeof i.then?i.then((function(e){n(null,e)}),(function(e){n(e.message?e:new Error(e))})):n(null,i)}))}var he=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e};var pe=function(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var u=s[e?a:++r];if(!1===n(o[u],u,o))break}return t}}();var ge=function(e,t){return e&&pe(e,t,Y)};var me=function(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1};var ye=function(e){return e!=e};var we=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1};var be=function(e,t,n){return t==t?we(e,t,n):me(e,ye,n)},ve=function(e,t,n){\"function\"==typeof t&&(n=t,t=null),n=C(n||S);var r=Y(e).length;if(!r)return n(null);t||(t=r);var o={},s=0,a=!1,u=Object.create(null),c=[],l=[],d={};function f(e,t){c.push((function(){!function(e,t){if(a)return;var r=K(Object(i.a)((function(t,i){if(s--,i.length<=1&&(i=i[0]),t){var r={};ge(o,(function(e,t){r[t]=e})),r[e]=i,a=!0,u=Object.create(null),n(t,r)}else o[e]=i,c=u[e]||[],he(c,(function(e){e()})),h();var c})));s++;var c=t[t.length-1];t.length>1?c(o,r):c(r)}(e,t)}))}function h(){if(0===c.length&&0===s)return n(null,o);for(;c.length&&s<t;){c.shift()()}}function p(t){var n=[];return ge(e,(function(e,i){D(e)&&be(e,t,0)>=0&&n.push(i)})),n}ge(e,(function(t,n){if(!D(t))return f(n,[t]),void l.push(n);var i=t.slice(0,t.length-1),r=i.length;if(0===r)return f(n,t),void l.push(n);d[n]=r,he(i,(function(o){if(!e[o])throw new Error(\"async.auto task `\"+n+\"` has a non-existent dependency `\"+o+\"` in \"+i.join(\", \"));!function(e,t){var n=u[e];n||(n=u[e]=[]);n.push(t)}(o,(function(){0===--r&&f(n,t)}))}))})),function(){var e,t=0;for(;l.length;)e=l.pop(),t++,he(p(e),(function(e){0==--d[e]&&l.push(e)}));if(t!==r)throw new Error(\"async.auto cannot execute tasks due to a recursive dependency\")}(),h()};var Se=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r};var Ce=function(e){return\"symbol\"==typeof e||E(e)&&\"[object Symbol]\"==g(e)},_e=s?s.prototype:void 0,Te=_e?_e.toString:void 0;var Ee=function e(t){if(\"string\"==typeof t)return t;if(D(t))return Se(t,e)+\"\";if(Ce(t))return Te?Te.call(t):\"\";var n=t+\"\";return\"0\"==n&&1/t==-1/0?\"-0\":n};var Ae=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o};var Ie=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Ae(e,t,n)};var Oe=function(e,t){for(var n=e.length;n--&&be(t,e[n],0)>-1;);return n};var Le=function(e,t){for(var n=-1,i=e.length;++n<i&&be(t,e[n],0)>-1;);return n};var Me=function(e){return e.split(\"\")},De=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]\");var ke=function(e){return De.test(e)},Ne=\"[\\\\ud800-\\\\udfff]\",je=\"[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]\",We=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",Re=\"[^\\\\ud800-\\\\udfff]\",Pe=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",Fe=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",xe=\"(?:\"+je+\"|\"+We+\")\"+\"?\",Be=\"[\\\\ufe0e\\\\ufe0f]?\"+xe+(\"(?:\\\\u200d(?:\"+[Re,Pe,Fe].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+xe+\")*\"),Ue=\"(?:\"+[Re+je+\"?\",je,Pe,Fe,Ne].join(\"|\")+\")\",ze=RegExp(We+\"(?=\"+We+\")|\"+Ue+Be,\"g\");var He=function(e){return e.match(ze)||[]};var Ve=function(e){return ke(e)?He(e):Me(e)};var qe=function(e){return null==e?\"\":Ee(e)},$e=/^\\s+|\\s+$/g;var Ge=function(e,t,n){if((e=qe(e))&&(n||void 0===t))return e.replace($e,\"\");if(!e||!(t=Ee(t)))return e;var i=Ve(e),r=Ve(t),o=Le(i,r),s=Oe(i,r)+1;return Ie(i,o,s).join(\"\")},Ye=/^(function)?\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m,Qe=/,/,Ke=/(=.+)?(\\s*)$/,Ze=/((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/gm;function Je(e,t){var n={};ge(e,(function(e,t){var i,r;if(D(e))i=e.slice(0,-1),e=e[e.length-1],n[t]=i.concat(i.length>0?o:e);else if(1===e.length)n[t]=e;else{if(i=r=(r=(r=(r=(r=e).toString().replace(Ze,\"\")).match(Ye)[2].replace(\" \",\"\"))?r.split(Qe):[]).map((function(e){return Ge(e.replace(Ke,\"\"))})),0===e.length&&0===i.length)throw new Error(\"autoInject task functions require explicit parameters.\");i.pop(),n[t]=i.concat(o)}function o(t,n){var r=Se(i,(function(e){return t[e]}));r.push(n),e.apply(null,r)}})),ve(n,t)}var Xe=n(3);function et(){this.head=this.tail=null,this.length=0}function tt(e,t){e.length=1,e.head=e.tail=t}function nt(e,t,n){if(null==t)t=1;else if(0===t)throw new Error(\"Concurrency must not be zero\");function r(e,t,n){if(null!=n&&\"function\"!=typeof n)throw new Error(\"task callback must be a function\");if(c.started=!0,D(e)||(e=[e]),0===e.length&&c.idle())return Object(Xe.a)((function(){c.drain()}));for(var i=0,r=e.length;i<r;i++){var o={data:e[i],callback:n||S};t?c._tasks.unshift(o):c._tasks.push(o)}Object(Xe.a)(c.process)}function o(e){return Object(i.a)((function(t){s-=1;for(var n=0,i=e.length;n<i;n++){var r=e[n],o=be(a,r,0);o>=0&&a.splice(o),r.callback.apply(r,t),null!=t[0]&&c.error(t[0],r.data)}s<=c.concurrency-c.buffer&&c.unsaturated(),c.idle()&&c.drain(),c.process()}))}var s=0,a=[],u=!1,c={_tasks:new et,concurrency:t,payload:n,saturated:S,unsaturated:S,buffer:t/4,empty:S,drain:S,error:S,started:!1,paused:!1,push:function(e,t){r(e,!1,t)},kill:function(){c.drain=S,c._tasks.empty()},unshift:function(e,t){r(e,!0,t)},process:function(){if(!u){for(u=!0;!c.paused&&s<c.concurrency&&c._tasks.length;){var t=[],n=[],i=c._tasks.length;c.payload&&(i=Math.min(i,c.payload));for(var r=0;r<i;r++){var l=c._tasks.shift();t.push(l),n.push(l.data)}0===c._tasks.length&&c.empty(),s+=1,a.push(t[0]),s===c.concurrency&&c.saturated();var d=K(o(t));e(n,d)}u=!1}},length:function(){return c._tasks.length},running:function(){return s},workersList:function(){return a},idle:function(){return c._tasks.length+s===0},pause:function(){c.paused=!0},resume:function(){!1!==c.paused&&(c.paused=!1,Object(Xe.a)(c.process))}};return c}function it(e,t){return nt(e,1,t)}et.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},et.prototype.empty=et,et.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},et.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},et.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):tt(this,e)},et.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):tt(this,e)},et.prototype.shift=function(){return this.head&&this.removeLink(this.head)},et.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};var rt=X(J,1);function ot(e,t,n,i){i=C(i||S),rt(e,(function(e,i,r){n(t,e,(function(e,n){t=n,r(e)}))}),(function(e){i(e,t)}))}var st=Object(i.a)((function(e){return Object(i.a)((function(t){var n=this,r=t[t.length-1];\"function\"==typeof r?t.pop():r=S,ot(e,t,(function(e,t,r){t.apply(n,e.concat(Object(i.a)((function(e,t){r(e,t)}))))}),(function(e,t){r.apply(n,[e].concat(t))}))}))})),at=Object(i.a)((function(e){return st.apply(null,e.reverse())}));function ut(e,t,n,i){var r=[];e(t,(function(e,t,i){n(e,(function(e,t){r=r.concat(t||[]),i(e)}))}),(function(e){i(e,r)}))}var ct=ie(ut);var lt,dt=(lt=ut,function(e,t,n){return lt(rt,e,t,n)}),ft=Object(i.a)((function(e){var t=[null].concat(e);return r((function(e,n){return n.apply(this,t)}))})),ht=n(6);function pt(e,t){return function(n,i,r,o){o=o||S;var s,a=!1;n(i,(function(n,i,o){r(n,(function(i,r){i?o(i):e(r)&&!s?(a=!0,s=t(!0,n),o(null,v)):o()}))}),(function(e){e?o(e):o(null,a?s:t(!1))}))}}function gt(e,t){return t}var mt=ie(pt(ht.a,gt)),yt=ae(pt(ht.a,gt)),wt=X(yt,1);function bt(e){return Object(i.a)((function(t,n){t.apply(null,n.concat(Object(i.a)((function(t,n){\"object\"==typeof console&&(t?console.error&&console.error(t):console[e]&&he(n,(function(t){console[e](t)})))}))))}))}var vt=bt(\"dir\");function St(e,t,n){n=K(n||S);var r=Object(i.a)((function(e,i){if(e)return n(e);i.push(o),t.apply(this,i)}));function o(t,i){return t?n(t):i?void e(r):n(null)}o(null,!0)}function Ct(e,t,n){n=K(n||S);var r=Object(i.a)((function(i,o){return i?n(i):t.apply(this,o)?e(r):void n.apply(null,[null].concat(o))}));e(r)}function _t(e,t,n){Ct(e,(function(){return!t.apply(this,arguments)}),n)}function Tt(e,t,n){function i(t){if(t)return n(t);e(r)}function r(e,r){return e?n(e):r?void t(i):n(null)}n=K(n||S),e(r)}function Et(e){return function(t,n,i){return e(t,i)}}function At(e,t,n){ne(e,Et(t),n)}function It(e,t,n,i){Z(t)(e,Et(n),i)}var Ot=X(It,1);function Lt(e){return r((function(t,n){var i=!0;t.push((function(){var e=arguments;i?Object(Xe.a)((function(){n.apply(null,e)})):n.apply(null,e)})),e.apply(this,t),i=!1}))}function Mt(e){return!e}var Dt=ie(pt(Mt,Mt)),kt=ae(pt(Mt,Mt)),Nt=X(kt,1);var jt=function(e){return function(t){return null==t?void 0:t[e]}};function Wt(e,t,n,i){var r=new Array(t.length);e(t,(function(e,t,i){n(e,(function(e,n){r[t]=!!n,i(e)}))}),(function(e){if(e)return i(e);for(var n=[],o=0;o<t.length;o++)r[o]&&n.push(t[o]);i(null,n)}))}function Rt(e,t,n,i){var r=[];e(t,(function(e,t,i){n(e,(function(n,o){n?i(n):(o&&r.push({index:t,value:e}),i())}))}),(function(e){e?i(e):i(null,Se(r.sort((function(e,t){return e.index-t.index})),jt(\"value\")))}))}function Pt(e,t,n,i){(b(t)?Wt:Rt)(e,t,n,i||S)}var Ft=ie(Pt),xt=ae(Pt),Bt=X(xt,1);function Ut(e,t){var n=K(t||S),i=Lt(e);!function e(t){if(t)return n(t);i(e)}()}var zt=bt(\"log\");function Ht(e,t,n,i){i=C(i||S);var r={};J(e,t,(function(e,t,i){n(e,t,(function(e,n){if(e)return i(e);r[t]=n,i()}))}),(function(e){i(e,r)}))}var Vt=X(Ht,1/0),qt=X(Ht,1);function $t(e,t){return t in e}function Gt(e,t){var n=Object.create(null),o=Object.create(null);t=t||ht.a;var s=r((function(r,s){var a=t.apply(null,r);$t(n,a)?Object(Xe.a)((function(){s.apply(null,n[a])})):$t(o,a)?o[a].push(s):(o[a]=[s],e.apply(null,r.concat(Object(i.a)((function(e){n[a]=e;var t=o[a];delete o[a];for(var i=0,r=t.length;i<r;i++)t[i].apply(null,e)})))))}));return s.memo=n,s.unmemoized=e,s}var Yt=n(28);function Qt(e,t,n){n=n||S;var r=b(t)?[]:{};e(t,(function(e,t,n){e(Object(i.a)((function(e,i){i.length<=1&&(i=i[0]),r[t]=i,n(e)})))}),(function(e){n(e,r)}))}function Kt(e,t){Qt(ne,e,t)}function Zt(e,t,n){Qt(Z(t),e,n)}var Jt=Xe.a,Xt=function(e,t){return nt((function(t,n){e(t[0],n)}),t,1)},en=function(e,t){var n=Xt(e,t);return n.push=function(e,t,i){if(null==i&&(i=S),\"function\"!=typeof i)throw new Error(\"task callback must be a function\");if(n.started=!0,D(e)||(e=[e]),0===e.length)return Jt((function(){n.drain()}));t=t||0;for(var r=n._tasks.head;r&&t>=r.priority;)r=r.next;for(var o=0,s=e.length;o<s;o++){var a={data:e[o],priority:t,callback:i};r?n._tasks.insertBefore(r,a):n._tasks.push(a)}Jt(n.process)},delete n.unshift,n};function tn(e,t){if(t=C(t||S),!D(e))return t(new TypeError(\"First argument to race must be an array of functions\"));if(!e.length)return t();for(var n=0,i=e.length;n<i;n++)e[n](t)}var nn=Array.prototype.slice;function rn(e,t,n,i){ot(nn.call(e).reverse(),t,n,i)}function on(e){return r((function(t,n){return t.push(Object(i.a)((function(e,t){if(e)n(null,{error:e});else{var i=null;1===t.length?i=t[0]:t.length>1&&(i=t),n(null,{value:i})}}))),e.apply(this,t)}))}function sn(e,t,n,i){Pt(e,t,(function(e,t){n(e,(function(e,n){t(e,!n)}))}),i)}var an=ie(sn);function un(e){var t;return D(e)?t=Se(e,on):(t={},ge(e,(function(e,n){t[n]=on.call(this,e)}))),t}var cn=ae(sn),ln=X(cn,1);var dn=function(e){return function(){return e}};function fn(e,t,n){var i=5,r=0,o={times:i,intervalFunc:dn(r)};function s(e,t){if(\"object\"==typeof t)e.times=+t.times||i,e.intervalFunc=\"function\"==typeof t.interval?t.interval:dn(+t.interval||r),e.errorFilter=t.errorFilter;else{if(\"number\"!=typeof t&&\"string\"!=typeof t)throw new Error(\"Invalid arguments for async.retry\");e.times=+t||i}}if(arguments.length<3&&\"function\"==typeof e?(n=t||S,t=e):(s(o,e),n=n||S),\"function\"!=typeof t)throw new Error(\"Invalid arguments for async.retry\");var a=1;function u(){t((function(e){e&&a++<o.times&&(\"function\"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(u,o.intervalFunc(a)):n.apply(null,arguments)}))}u()}var hn=function(e,t){return t||(t=e,e=null),r((function(n,i){function r(e){t.apply(null,n.concat(e))}e?fn(e,r,i):fn(r,i)}))};function pn(e,t){Qt(rt,e,t)}var gn=ie(pt(Boolean,ht.a)),mn=ae(pt(Boolean,ht.a)),yn=X(mn,1);function wn(e,t,n){function i(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0}oe(e,(function(e,n){t(e,(function(t,i){if(t)return n(t);n(null,{value:e,criteria:i})}))}),(function(e,t){if(e)return n(e);n(null,Se(t.sort(i),jt(\"value\")))}))}function bn(e,t,n){var i,o,s=!1;function a(){s||(i.apply(null,arguments),clearTimeout(o))}function u(){var t=e.name||\"anonymous\",r=new Error('Callback function \"'+t+'\" timed out.');r.code=\"ETIMEDOUT\",n&&(r.info=n),s=!0,i(r)}return r((function(n,r){i=r,o=setTimeout(u,t),e.apply(null,n.concat(a))}))}var vn=Math.ceil,Sn=Math.max;var Cn=function(e,t,n,i){for(var r=-1,o=Sn(vn((t-e)/(n||1)),0),s=Array(o);o--;)s[i?o:++r]=e,e+=n;return s};function _n(e,t,n,i){ue(Cn(0,e,1),t,n,i)}var Tn=X(_n,1/0),En=X(_n,1);function An(e,t,n,i){3===arguments.length&&(i=n,n=t,t=D(e)?[]:{}),i=C(i||S),ne(e,(function(e,i,r){n(t,e,i,r)}),(function(e){i(e,t)}))}function In(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function On(e,t,n){if(n=K(n||S),!e())return n(null);var r=Object(i.a)((function(i,o){return i?n(i):e()?t(r):void n.apply(null,[null].concat(o))}));t(r)}function Ln(e,t,n){On((function(){return!e.apply(this,arguments)}),t,n)}var Mn=function(e,t){if(t=C(t||S),!D(e))return t(new Error(\"First argument to waterfall must be an array of functions\"));if(!e.length)return t();var n=0;!function r(o){if(n===e.length)return t.apply(null,[null].concat(o));var s=K(Object(i.a)((function(e,n){if(e)return t.apply(null,[e].concat(n));r(n)})));o.push(s),e[n++].apply(null,o)}([])};t.default={applyEach:se,applyEachSeries:le,apply:de,asyncify:fe,auto:ve,autoInject:Je,cargo:it,compose:at,concat:ct,concatSeries:dt,constant:ft,detect:mt,detectLimit:yt,detectSeries:wt,dir:vt,doDuring:St,doUntil:_t,doWhilst:Ct,during:Tt,each:At,eachLimit:It,eachOf:ne,eachOfLimit:J,eachOfSeries:rt,eachSeries:Ot,ensureAsync:Lt,every:Dt,everyLimit:kt,everySeries:Nt,filter:Ft,filterLimit:xt,filterSeries:Bt,forever:Ut,log:zt,map:oe,mapLimit:ue,mapSeries:ce,mapValues:Vt,mapValuesLimit:Ht,mapValuesSeries:qt,memoize:Gt,nextTick:Yt.a,parallel:Kt,parallelLimit:Zt,priorityQueue:en,queue:Xt,race:tn,reduce:ot,reduceRight:rn,reflect:on,reflectAll:un,reject:an,rejectLimit:cn,rejectSeries:ln,retry:fn,retryable:hn,seq:st,series:pn,setImmediate:Jt,some:gn,someLimit:mn,someSeries:yn,sortBy:wn,timeout:bn,times:Tn,timesLimit:_n,timesSeries:En,transform:An,unmemoize:In,until:Ln,waterfall:Mn,whilst:On,all:Dt,any:gn,forEach:At,forEachSeries:Ot,forEachLimit:It,forEachOf:ne,forEachOfSeries:rt,forEachOfLimit:J,inject:ot,foldl:ot,foldr:rn,select:Ft,selectLimit:xt,selectSeries:Bt,wrapSync:fe}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.MOVE_REASON=t.LAUNCHER_SERVICE=t.HEARTBEAT_TIMEOUT_CHANNEL=t.COMPONENT_STATE_STORAGE_TOPIC=t.WINDOW_SERVICE_REQUESTS=t.WORKSPACE=t.WINDOW=t.INTERRUPTIBLE_EVENTS=t.EVENT_INTERRUPT_CHANNEL=t.DOCKING=t.SERVICE_STOP_CHANNEL=t.SERVICE_START_CHANNEL=t.WINDOWSTATE=t.SERVICES_STATE_CHANNEL=t.CLIENT_SERVER_MAPPING=t.SERVICE_QUERY_READY_CHANNEL=t.SERVICE_CLOSED_CHANNEL=t.SERVICE_CLOSING_CHANNEL=t.SERVICE_READY_CHANNEL=t.SERVICE_INITIALIZING_CHANNEL=t.APPLICATION_STATE_CHANNEL=t.WRAPPERS=void 0,t.WRAPPERS={EVENTS:[\"title-changed\",\"bringToFront\",\"setBounds\",\"alwaysOnTop\",\"setOpacity\"]},t.APPLICATION_STATE_CHANNEL=\"Finsemble.Application.State\",t.SERVICE_INITIALIZING_CHANNEL=\"Finsemble.ServiceManager.serviceInitializing\",t.SERVICE_READY_CHANNEL=\"Finsemble.ServiceManager.serviceReady\",t.SERVICE_CLOSING_CHANNEL=\"Finsemble.ServiceManager.serviceClosing\",t.SERVICE_CLOSED_CHANNEL=\"Finsemble.ServiceManager.serviceClosed\",t.SERVICE_QUERY_READY_CHANNEL=e=>\"Finsemble.ServiceManager.queryReady.\"+e,t.CLIENT_SERVER_MAPPING=e=>({authenticationClient:\"authenticationService\",configClient:\"configService\",distributedStoreClient:\"dataStoreService\",hotkeysClient:\"hotkeysService\",linkerClient:\"linkerService\",logger:\"loggerService\",searchClient:\"searchService\",storageClient:\"storageService\",windowClient:\"windowService\",workspaceClient:\"workspaceService\"}[e]),t.SERVICES_STATE_CHANNEL=\"Finsemble.State.Services\",function(e){e[e.NORMAL=0]=\"NORMAL\",e[e.MINIMIZED_WAS_NORMAL=1]=\"MINIMIZED_WAS_NORMAL\",e[e.MAXIMIZED=2]=\"MAXIMIZED\",e[e.MINIMIZED_WAS_MAXIMIZED=3]=\"MINIMIZED_WAS_MAXIMIZED\",e[e.TRANSITIONING=4]=\"TRANSITIONING\"}(t.WINDOWSTATE||(t.WINDOWSTATE={})),t.SERVICE_START_CHANNEL=\"Finsemble.Service.Start\",t.SERVICE_STOP_CHANNEL=\"Finsemble.Service.Stop\",t.DOCKING={GROUP_UPDATE:\"DockingService.groupUpdate\",WORKSPACE_GROUP_UPDATE:\"Finsemble.WorkspaceService.groupUpdate\",REQUEST_PUBLISH:\"DockingService.requestGroupDataPublish\"},t.EVENT_INTERRUPT_CHANNEL=\"Finsemble.Event.Interrupt\",t.INTERRUPTIBLE_EVENTS=[\"close-requested\",\"closed\",\"close-complete\",\"_container-close-handlers\"],t.WINDOW={DELAYABLE_EVENTS:[\"close-requested\",\"closed\",\"close-complete\",\"_container-close-handlers\"],CANCELABLE_EVENTS:[\"close-requested\"]},t.WORKSPACE={DELAYABLE_EVENTS:[\"load-requested\",\"close-requested\",\"save-requested\"],CANCELABLE_EVENTS:[\"close-requested\"],CLEAN_SHUTDOWN:\"Finsemble.Workspace.cleanShutdown\",UPDATE_PUBSUB:\"Finsemble.WorkspaceService.update\",STORAGE_TOPIC:\"finsemble.workspace\",CACHE_STORAGE_TOPIC:\"finsemble.workspace.cache\",ALL_WORKSPACES:\"finsemble.allWorkspaces\",ACTIVE_WORKSPACE:\"activeWorkspace\",LAST_USED_WORKSPACE_TOPIC:\"finsemble\",LAST_USED_WORKSPACE_NAME:\"finsemble.lastUsedWorkspace.name\",LAST_USED_WORKSPACE:\"finsemble.lastUsedWorkspace\",INITIAL_WORKSPACE_PREFERENCE:\"finsemble.initialWorkspace\",PUBLISH_REASONS:{INIT:\"workspace:initialization\",LOAD_DATA_RETRIEVED:\"workspace:load:dataRetrieved\",LOAD_FINISHED:\"workspace:load:finished\",WINDOW_REMOVED:\"window:remove\",WINDOW_ADDED:\"window:add\",LOAD_STARTED:\"workspace:load:start\",WORKSPACE_REMOVED:\"Workspace:remove\",WORKSPACE_RENAMED:\"rename\",SWITCHTO_TERMINATED:\"workspace:switchTo:terminated\",NEW_WORKSPACE:\"new workspace\",SAVE_AS:\"APPLICATION LIFECYCLE:WORKSPACE LIFECYCLE:SaveAs:Workspace:Save As\"},API_CHANNELS:{NEW_WORKSPACE:\"Finsemble.Workspace.NewWorkspace\",SAVE:\"Finsemble.Workspace.Save\",RENAME:\"Finsemble.Workspace.Rename\",SAVE_AS:\"Finsemble.Workspace.SaveAs\",SWITCH_TO:\"Finsemble.Workspace.SwitchTo\",IMPORT:\"Finsemble.Workspace.Import\",EXPORT:\"Finsemble.Workspace.Export\",REMOVE:\"Finsemble.Workspace.Remove\",SAVE_GLOBAL_DATA:\"Finsemble.Workspace.SaveGlobalData\",SAVE_VIEW_DATA:\"Finsemble.Workspace.SaveViewData\",GET_GLOBAL_DATA:\"Finsemble.Workspace.GetGlobalData\",GET_VIEW_DATA:\"Finsemble.Workspace.GetViewData\",GET_WORKSPACES:\"Finsemble.Workspace.GetWorkspaces\",GET_WORKSPACE_NAMES:\"Finsemble.Workspace.GetWorkspaceNames\",SET_WORKSPACE_ORDER:\"Finsemble.Workspace.SetWorkspaceOrder\",GET_ACTIVE_WORKSPACE:\"Finsemble.Workspace.GetActiveWorkspace\",GET_ACTIVE_WORKSPACE_DIRTY:\"Finsemble.Workspace.GetActiveWorkspaceDirty\",GET_TEMPLATES:\"Finsemble.Workspace.GetTemplates\",IMPORT_TEMPLATE:\"Finsemble.Workspace.ImportTemplate\",EXPORT_TEMPLATE:\"Finsemble.Workspace.ExportTemplate\",REMOVE_TEMPLATE:\"Finsemble.Workspace.RemoveTemplate\",SET_WINDOW_STATE:\"Finsemble.Workspace.SetWindowData\",GET_WINDOW_STATE:\"Finsemble.Workspace.GetWindowData\",ADD_WINDOW:\"WorkspaceService.addWindow\",REMOVE_WINDOW:\"WorkspaceService.removeWindow\"},DEFAULT_WINDOW_PROPS:[\"name\",\"componentType\",\"windowType\",\"alwaysOnTop\",\"autoShow\",\"minWidth\",\"minHeight\",\"maxWidth\",\"maxHeight\",\"resizable\",\"maximizable\",\"minimizable\",\"opacity\",\"windowState\",\"left\",\"top\",\"width\",\"height\",\"right\",\"bottom\",\"defaultLeft\",\"defaultTop\",\"defaultWidth\",\"defaultHeight\",\"defaultRight\",\"defaultBottom\",\"monitorInfo\",\"icon\",\"cachedBounds\",\"showTaskbarIcon\",\"isEvergreen\",\"compositeComponentData\"],ADDITIONAL_WINDOW_PROPS:{WebWindow:[\"url\",\"fullscreen\",\"frame\",\"backgroundColor\",\"transparent\",\"waitForPageLoad\",\"affinity\",\"appUUID\"],NativeWindow:[\"path\",\"alias\",\"arguments\",\"argumentsAsQueryString\",\"isWPF\"],StackedWindow:[\"childWindowIdentifiers\",\"visibleWindowIdentifier\",\"bounds\"]}},t.WINDOW_SERVICE_REQUESTS={REMOTE_FOCUS:\"WindowService.remoteFocus\",SET_ALWAYS_ON_TOP:\"WindowService-Request-setAlwaysOnTop\",IS_ALWAYS_ON_TOP:\"WindowService-Request-isAlwaysOnTop\"},t.COMPONENT_STATE_STORAGE_TOPIC=\"finsemble.componentStateStorage\",t.HEARTBEAT_TIMEOUT_CHANNEL=\"Finsemble.WindowService.HeartbeatTimeout\",t.LAUNCHER_SERVICE={WINDOW_CLOSED:\"LauncherService.WindowClosed\"},t.MOVE_REASON={AERO_KEY:\"aero_key\",SYSTEM_RESTORED:\"system_restored\"}},function(e,t,n){\"use strict\";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nconst a=n(12),u=s(n(27)),c=s(n(41)),l=o(n(11)),d=n(2),f=n(4),h=s(n(0)),p=s(n(8)),g=n(15),m=n(10),y=s(n(7)),w=n(13),b=s(n(21)),v=n(9),S=n(37);let C;function _(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp(`(\\\\s|^)${t}(\\\\s|$)`))}class T extends f._BaseClient{constructor(e){super(e),this.showAtMousePosition=function(){this.routerClient.transmit(\"DockingService.showAtMousePosition\",this.getWindowIdentifier())},p.default.args(e,\"object=\")&&e&&p.default.args2(\"params.onReady\",e.onReady,\"function=\"),this.options={},this.windowHash=\"\",this.title=null,this.toolbarBottom=40,this.containers=[],this.componentState={},this.windowState=\"normal\",this.hasHeader=!1,this.enableWindowsAeroSnap=!1,this.bindFunctions(),this.minimizeWithDockedWindows=this.minimize}bindFunctions(){this.onWindowRestored=this.onWindowRestored.bind(this),this.onWindowMaximized=this.onWindowMaximized.bind(this),this.onWindowBlurred=this.onWindowBlurred.bind(this),this.onWindowFocused=this.onWindowFocused.bind(this),this.onMinimizedRestored=this.onMinimizedRestored.bind(this),this.onWindowMinimized=this.onWindowMinimized.bind(this),this.close=this.close.bind(this),this.getInitialOptions=this.getInitialOptions.bind(this),this.cacheInitialBounds=this.cacheInitialBounds.bind(this),this._setHeaderHeight=this._setHeaderHeight.bind(this)}onWindowRestored(){this.updateHeaderState(\"Maximize\",{hide:!1})}onWindowMaximized(){this.updateHeaderState(\"Maximize\",{hide:!0})}onWindowBlurred(){this.setActive(!1)}onWindowFocused(){this.setActive(!0)}onMinimizedRestored(){this.routerClient.transmit(\"DockingService.windowRestored\",C.name),C.removeEventListener(\"restored\",this.onMinimizedRestored)}onWindowMinimized(){this.routerClient.query(\"DockingService.windowMinimized\",{windowName:C.name}),C.addEventListener(\"restored\",this.onMinimizedRestored)}getWindowGroups(){return this.windowGroups}groupUpdateHandler(e,t){e?FSBL.Clients.Logger.error(e):t.data&&t.data.groupData&&(this.windowGroups=Object.values(t.data.groupData).filter(e=>e.windowNames.includes(this.getWindowNameForDocking())))}close(e,t=(()=>{})){e||(e={removeFromWorkspace:!0,closeWindow:!0});const{parentWindow:n}=C;if(e.userInitiated&&n)return n.close(e,t);C.close(e,t)}getWindowHash(){return this.windowHash}getWindowTitle(){return this.title}retrieveMonitorDimensions(e=Function.prototype){l.getMonitor(null,t=>{C.updateOptions({options:{monitorDimensions:t.monitorRect}}),e&&e(t.monitorRect)})}listenForHashChanges(){d.System.hasBrowserView()||(C.updateOptions({url:window.top.location.href},()=>{}),function(e){const{pushState:t}=e;e.pushState=function(n){\"function\"==typeof e.onpushstate&&e.onpushstate({state:n}),t.apply(e,arguments),C.updateOptions({url:window.top.location.href},()=>{})};const{replaceState:n}=e;e.replaceState=function(t){\"function\"==typeof e.onreplacestate&&e.onreplacestate({state:t}),n.apply(e,arguments),C.updateOptions({url:window.top.location.toString()})}}(window.history),window.addEventListener(\"hashchange\",()=>{C.updateOptions({url:window.top.location.toString()},()=>{})}))}getInitialOptions(e){this.isInAService?(this.options={},h.default.system.debug(\"WindowClient:getting options empty\",this.options),e()):C.getOptions((t,n)=>{t&&(n={}),C.windowOptions=n,this.options=n,h.default.system.debug(\"WindowClient:getting options\",this.options),e()})}cacheInitialBounds(e){if(d.System.hasBrowserView())return e();this.cacheBounds(()=>{try{if(!C.windowOptions.customData.foreign.components[\"Window Manager\"].persistWindowState)return e();C.updateOptions({options:{url:window.top.location.toString()}})}catch(e){h.default.system.warn('customData.foreign.components[\"Window Manager\" is undefined')}e()})}setInitialWindowBounds(e){h.default.system.warn(\"`FSBL.Clients.WindowClient.setInitialWindowBounds is deprecated and will be removed in a future version of finsemble. Use 'getInitialOptions' and 'cacheInitialBounds' instead.\"),a.parallel([this.getInitialOptions,this.cacheInitialBounds],e)}getWindowBounds(){return{top:C.windowOptions.defaultTop,left:C.windowOptions.defaultLeft,width:C.windowOptions.defaultWidth,height:C.windowOptions.defaultHeight}}saveWindowBounds(e,t){if(h.default.system.debug(\"WINDOW LIFECYCLE:SavingBounds:\",e,\"setActiveWorkspaceDirty\",t),void 0===t&&(t=!1),p.default.args(e,\"object\")&&p.default.args2(\"bounds.top\",e.top,\"number\"),e){C.updateOptions({options:{top:Math.round(e.top),defaultTop:Math.round(e.top),left:Math.round(e.left),defaultLeft:Math.round(e.left),width:Math.round(e.width),defaultWidth:Math.round(e.width),height:Math.round(e.height),defaultHeight:Math.round(e.height)}});try{C.windowOptions.customData.foreign.components[\"Window Manager\"].persistWindowState}catch(e){}}}minimize(e){this.cacheBounds(()=>{C.minimize(null,t=>{t&&h.default.system.error(\"WindowClient:minimize\",t),e&&e(t)})})}setAlwaysOnTop(e,t){C.setAlwaysOnTop({alwaysOnTop:e},t)}restore(e=(()=>{})){C.restore(null,t=>{t&&h.default.system.error(\"WindowClient:restore\",t),e(t)})}cacheBounds(e){this.getBounds((t,n)=>{if(t)return e(),console.warn(\"Get bounds error.\",t,\"Window may not be registered with the window service\");C.updateOptions({options:{cachedLeft:n.left,defaultLeft:n.left,cachedTop:n.top,defaultTop:n.top,cachedWidth:n.width,defaultWidth:n.width,cachedHeight:n.height,defaultHeight:n.height}}),e&&e(n)})}maximize(e){this.cacheBounds(()=>(C.maximize(),e()))}removeFinWindowEventListeners(){C.removeEventListener(\"maximized\",this.onWindowMaximized),C.removeEventListener(\"restored\",this.onWindowRestored),C.removeEventListener(\"blurred\",this.onWindowBlurred),C.removeEventListener(\"focused\",this.onWindowFocused),C.removeEventListener(\"close-requested\",this.close),C.removeEventListener(\"minimized\",this.onWindowMinimized)}injectDOM(e){if(h.default.system.debug(\"injectDOM\",e),document.getElementById(\"FSBLHeader\"))return;window.scrollTo(0,0);const t=document.createElement(\"div\");t.innerHTML=`<div id=\"FSBLHeader\"${e?\" style=height:\"+e:\"\"}></div>`,document.body.insertBefore(t.firstChild,document.body.firstChild)}getComponentState(e,t){if(e||(e={}),e.fields&&!Array.isArray(e.fields)&&(e.fields=[e.fields]),p.default.args(e,\"object\",t,\"function\"),C)return C.getComponentState(e,t);h.default.system.warn(\"Attempt to use getComponentState before component is ready or in a service\"),e.windowName||(e.windowName=window.name);const n=this.getContainerHash(e.windowName);u.default.get({topic:w.WORKSPACE.CACHE_STORAGE_TOPIC,key:n},(n,i)=>{if(n)return h.default.system.error(\"Error retrieving window client's component state.\"),void t(n);const r=i;if(i&&e.field)this.componentState=r||{},t(n,r[e.field]);else{if(e.fields){const n={};for(let t=0;t<e.fields.length;t++)r[e.fields[t]]&&(n[e.fields[t]]=r[e.fields[t]]);return t(null,n)}if(i)return t(null,r);h.default.system.info(\"WindowClient:getComponentState:error, response, params\",n,i,e),t(\"Not found\",i)}})}async setComponentState(e,t=(()=>{})){return p.default.args(e,\"object\",t,\"function=\")&&p.default.args2(\"params.field\",e.field,\"string\"),C?C.setComponentState(e,t):this.isInAService?(t(\"Cannot call setComponentState in a service.\"),Promise.resolve()):(t(\"Cannot call setComponentState. The window may not be ready\"),Promise.reject(\"The window is not yet ready to save state.\"))}async removeComponentState(e,t=(()=>{})){p.default.args(e,\"object\",t,\"function=\")&&p.default.args2(\"params.field\",e.field,\"string\");return(C||await g.FinsembleWindow.getInstance({name:e.windowName||window.name})).removeComponentState(e,t)}getWindowNameForDocking(){const e=C.parentWindow;return e?e.name:C.name}getContainerHash(e){return l.camelCase(this.windowHash,e)}formGroup(){C.formGroup()}registerWithDockingManager(e,t){C.parentWindow&&(h.default.system.debug(\"registerWithDockingManager ignore registration request if has a parent\"),t&&t());const n=C.name,{uuid:i}=C;this.startedRegistrationWithDocking=!0,this.routerClient.query(\"DockingService.registerWindow\",{name:n,uuid:i,options:e||{},windowType:\"WebWindow\"},()=>{this.startedRegistrationWithDocking=!1,this.deregisterPlease&&(this.deregisterWithDockingManager(),this.deregisterPlease=!1),h.default.system.debug(\"WINDOW LIFECYCLE: Docking Registration complete.\"),t&&t()})}deregisterWithDockingManager(e){this.startedRegistrationWithDocking&&(this.deregisterPlease=!0);const t=C.name;this.routerClient.transmit(\"DockingService.deregisterWindow\",{name:t,userInitiated:e})}bumpFixedElements(e){if(\"complete\"!==document.readyState)return setTimeout(()=>{this.bumpFixedElements(e)},100);if(!e)return;let{absolute:t,fixed:n,bumpBy:i}=e;if(!t&&!n)return;const r=document.getElementById(\"FSBLHeader\");if(!r||0===r.children.length||!r.children[0].clientHeight)return setTimeout(()=>{this.bumpFixedElements(e)},100);\"auto\"===i?i=\"0px\":-1===new String(i).indexOf(\"px\")&&(i+=\"px\");const o=document.body.getElementsByTagName(\"*\"),s=o.length;for(let e=0;e<s;e++){if(\"FSBLHeader\"===o[e].id||o[e].classList.contains(\"fsbl-header\"))continue;const r=window.getComputedStyle(o[e],null),s=[\"0\",\"0px\",0],a=r.getPropertyValue(\"top\");t&&o[e].parentNode===document.body&&\"absolute\"==r.getPropertyValue(\"position\")&&(\"all\"==t?o[e].style.top=`calc(${a} + ${i})`:\"0Positioned\"==t&&s.includes(a)&&(o[e].style.top=i)),n&&\"fixed\"==r.getPropertyValue(\"position\")&&(\"all\"==n?o[e].style.top=`calc(${a} + ${i})`:\"0Positioned\"==n&&s.includes(a)&&(o[e].style.top=i))}}bringWindowToFront(){C.bringToFront({forceFocus:!0},e=>{e?h.default.system.error(\"WindowClient.bringWindowToFront: failure:\"+e):h.default.system.info(\"WindowClient.bringWindowToFront: success\")})}injectStylesheetOverride(){const e=document.createElement(\"style\");e.type=\"text/css\",e.appendChild(document.createTextNode(C.windowOptions.customData.cssOverride)),document.body.appendChild(e)}checkIfChildApp(){if(C.windowOptions&&C.windowOptions.customData&&C.windowOptions.customData.parentUUID&&C.windowOptions.customData.parentUUID!==d.System.Application.getCurrent().uuid){const e=d.System.Application.wrap(C.windowOptions.customData.parentUUID);e.addEventListener(\"crashed\",this.close.bind(null,!1)),e.addEventListener(\"initialized\",this.close.bind(null,!1)),e.addEventListener(\"out-of-memory\",this.close.bind(null,!1))}}preventUnintendedDropEvents(){function e(e){e.preventDefault()}window.addEventListener(\"dragover\",e,!1),window.addEventListener(\"drop\",e,!1)}rejectWindowsKeyResizes(){let e=!1;const t=async t=>{this.enableWindowsAeroSnap?\"Meta\"===t.key&&y.default.transmit(\"Finsemble.WindowService.WindowsKey\",\"up\"):\"Meta\"===t.key&&e&&(e=!1,d.System.Window.getCurrent().updateOptions({resizable:!0}))},n=t=>{this.enableWindowsAeroSnap?\"Meta\"===t.key&&y.default.transmit(\"Finsemble.WindowService.WindowsKey\",\"down\"):\"Meta\"===t.key&&(e=!0,d.System.Window.getCurrent().updateOptions({resizable:!1}))};FSBL&&c.default.onReady(()=>{window.addEventListener(\"keyup\",t),window.addEventListener(\"keydown\",n)})}addListeners(e=Function.prototype){this.listenForHashChanges(),this.preventUnintendedDropEvents(),this.rejectWindowsKeyResizes(),C.addListener(\"setParent\",()=>{h.default.system.info(\"WindowClient.setParent deregisterWithDockingManager\"),this.deregisterWithDockingManager()}),C.addEventListener(\"maximized\",this.onWindowMaximized),C.addEventListener(\"minimized\",this.onWindowMinimized),C.addEventListener(\"restored\",this.onWindowRestored),C.addEventListener(\"blurred\",this.onWindowBlurred),C.addEventListener(\"focused\",this.onWindowFocused),\"undefined\"!=typeof FSBL&&FSBL.onShutdown(()=>(h.default.system.info(\"WINDOW LIFECYCLE:SHUTDOWN: FSBL.onShutdown start\"),new Promise(e=>{h.default.system.debug(\"FSBL.onShutdown\"),FSBL.shutdownComplete(),this.close({removeFromWorkspace:!1,ignoreParent:!0,closeWindow:!1},e)}))),e()}updateHeaderState(e,t){this.commandChannel&&this.commandChannel(e,t)}headerCommandChannel(e){this.commandChannel=e}ejectFromGroup(){C.ejectFromGroup()}setWindowTitle(e){p.default.args(e,\"string\"),this.title=e,this.updateHeaderState(\"Main\",{windowTitle:e}),C.setTitle(e)}getSpawnData(){if(!this.options.customData)return{};const{spawnData:e}=this.options.customData;return void 0===e?{}:e}getCurrentWindow(){return d.System.Window.getCurrent()}async getDesktopBoundingBox(e){let t=e;\"string\"==typeof e&&(t=document.querySelector(e));const n=t.getBoundingClientRect(),i=await C.getBounds(),r=i.data;let o,s;i.err?(o=this.options.defaultTop,s=this.options.defaultLeft):(o=r.top,s=r.left);const a={top:o+n.top,left:s+n.left,width:n.width,height:n.height,right:0,bottom:0};return a.right=a.left+a.width,a.bottom=a.top+a.height,a}isPointInBox(e,t){return t.bottom||(t.bottom=t.top+t.height),t.right||(t.right=t.left+t.width),e.x>t.left&&e.x<t.right&&e.y<t.bottom&&e.y>t.top}isMouseOverDOMElement(e,t){this.getDesktopBoundingBox(e).then(e=>{d.System.getMousePosition((n,i)=>{t(this.isPointInBox(i,e))})})}getWindowIdentifier(){var e=null;return this.options&&this.options.customData&&this.options.customData.component&&(e=this.options.customData.component.type),{windowName:C?C.name:window.name,uuid:C?C.uuid:null,componentType:e}}setActive(e){var t,n;e?(t=document.documentElement,n=\"desktop-active\",t.classList?t.classList.add(n):_(t,n)||(t.className=`${t.className} ${n}`)):function(e,t){if(e.classList)e.classList.remove(t);else if(_(e,t)){const n=new RegExp(`(\\\\s|^)${t}(\\\\s|$)`);e.className=e.className.replace(n,\" \")}}(document.documentElement,\"desktop-active\")}getBounds(e){C.getBounds((t,n)=>{e(t,n)})}setShape(e,t=Function.prototype){C.setShape(e,t)}startTilingOrTabbing(e,t=Function.prototype){FSBL.Clients.RouterClient.transmit(\"DockingService.startTilingOrTabbing\",e),t()}startMovingWindow(e){d.System.Window.getCurrent().startMovingWindow(e)}stopMovingWindow(){d.System.Window.getCurrent().stopMovingWindow()}cancelTilingOrTabbing(e,t=Function.prototype){console.debug(\"CancelTilingOrTabbing\"),y.default.transmit(\"DockingService.cancelTilingOrTabbing\",e),t()}sendIdentifierForTilingOrTabbing(e,t=Function.prototype){FSBL.Clients.RouterClient.transmit(\"DockingService.identifierForTilingOrTabbing\",e),t()}stopTilingOrTabbing(e,t=Function.prototype){const n=()=>{y.default.query(\"DockingService.stopTilingOrTabbing\",e,()=>{t()}),y.default.transmit(\"DockingService.stopTilingOrTabbing\",e)};return e.mousePosition?(n(),e.allowDropOnSelf?void 0:t()):d.System.getMousePosition((i,r)=>{if(e.mousePosition=r,n(),!e.allowDropOnSelf)return t()})}getStackedWindow(e,t){if(h.default.system.debug(\"WindowClient.getStackedWindow\",e),t=t||e,(e=e||{}).windowIdentifiers=e.windowIdentifiers||[],!C.parentWindow&&e.create){const n=e=>{const{parentName:i}=e.data;C.setParent({windowName:i},(e,n)=>{t(e,n)}),C.removeListener(\"parent-set\",n)};C.addListener(\"parent-set\",n),FSBL.Clients.LauncherClient.spawn(\"StackedWindow\",{windowType:\"StackedWindow\",data:{windowIdentifiers:e.windowIdentifiers},options:{newStack:!0}},(e,n)=>{h.default.system.debug(\"WindowClient.getStackedWindow-success\",e,n),e&&t(e,null)})}else C.getParent(t)}getMonitorInfo(e,t){l.getMyWindowIdentifier(n=>{e.windowIdentifier||(e.windowIdentifier=n),this.routerClient.query(\"Launcher.getMonitorInfo\",e,(e,n)=>{t&&t(e,n.data)})})}fitToDOM(e,t){let n=document.documentElement.offsetHeight,i=this.options.width;\"function\"==typeof e&&(t=e,e=null),e&&e.padding&&(e.padding.height&&(n+=e.padding.height),e.padding.width&&(i+=e.padding.width)),e&&e.maxHeight&&n>e.maxHeight&&(n=e.maxHeight),h.default.system.debug(\"WindowClient.FitToDOM:newHeight\",n,e),this.getMonitorInfo({},(e,r)=>{r&&(n>=r.availableRect.height&&(n=r.availableRect.height),i>=r.availableRect.width&&(i=r.availableRect.width)),h.default.system.debug(\"WindowClient.FitToDOM:fixBounds\",n,i),C.getBounds((e,r)=>{r.width!=i||r.height!=n?(r.width=i,r.height=n,C.setBounds({bounds:r},t)):\"function\"==typeof t&&t()})})}_setHeaderHeight(e){let t=document.getElementsByClassName(\"fsbl-header\")[0];if(!t)return setTimeout(()=>{this._setHeaderHeight(e)},100);let n=window.getComputedStyle(t,null).getPropertyValue(\"height\");document.body.style.marginTop=n,e.bumpElements&&\"auto\"===e.bumpElements.bumpBy&&(e.bumpElements.bumpBy=n),this.bumpFixedElements(e.bumpElements)}async start(e=Function.prototype){if(p.default.args(e,\"function\"),v.iAmAServiceWindow())return this.isInAService=!0,e();const t=this;await b.default.getValue(\"finsemble\");let n=null,i=!1,r=!1,o=!1;this.componentState={};(e=>{g.FinsembleWindow.getInstance({name:this.finWindow.name,uuid:this.finWindow.uuid},(t,n)=>{if(h.default.system.debug(\"FinsembleWindow.getInstance \"+this.finWindow.name),\"Cannot Wrap Service Manager or Services\"==t)return this.isInAService=!0,this.windowHash=l.camelCase(\"activeWorkspace\",window.name),e();!t&&n||h.default.system.error(\"wrap failure\",t),this.finsembleWindow=n,({finsembleWindow:C}=this),this.windowHash=l.camelCase(\"activeWorkspace\",C.name),this.addListeners(),this.routerClient.subscribe(\"Finsemble.WorkspaceService.groupUpdate\",(e,t)=>this.groupUpdateHandler(e,t)),e()})})(()=>{this.retrieveMonitorDimensions(),this.getInitialOptions(()=>{if(!C||!C.windowOptions)return this.isInAService||h.default.system.error(\"Something went wrong attempting to get the current window.\"),e();({customData:n}=C.windowOptions),h.default.system.debug(\"getInitialOptions\",n),n&&(i=S(n,\"window.compound\",!1),n.cssOverride&&(h.default.system.debug(\"Window has cssOverride. See local window to inspect object\"),r=!0),o=!i&&S(n,[\"foreign\",\"components\",\"Window Manager\",\"FSBLHeader\"],!1)),a.parallel([function(e){r&&t.injectStylesheetOverride(),e()},function(e){b.default.getValue(\"finsemble\",(n,i)=>{n&&h.default.system.error(\"Error reading windowService config from finsemble\");const r=i.services.windowService.config.enableWindowsAeroSnap;t.enableWindowsAeroSnap=m.ConfigUtilInstance.getDefault(i,\"config.servicesConfig.docking.enableWindowsAeroSnap\",r),e()})},function(e){if(d.System.isBrowserView())e();else{if(!n||!n.component||v.iAmAServiceWindow())return e();{let i=m.ConfigUtilInstance.getDefault(n,\"customData.foreign.services.windowService.manageWindowMovement\",!1);i||(i=m.ConfigUtilInstance.getDefault(n,\"customData.foreign.services.dockingService.manageWindowMovement\",!1));const r=m.ConfigUtilInstance.getDefault(n,\"customData.foreign.components.Window Manager.FSBLHeader\",!1),o=m.ConfigUtilInstance.getDefault(n,\"customData.window.dockable\",!1);i=i||r||o;let s=v.checkDeprecatedConfigs(n,{baseString:\"customData.foreign.services\",newPath:\"windowService\",oldPath:\"dockingService\",newValue:\"allowAutoArrange\",oldValue:\"isArrangable\"},null);null===s&&(s=v.checkDeprecatedConfigs(n,{baseString:\"customData.foreign.services\",newPath:\"windowService\",oldPath:\"dockingService\",newValue:\"allowAutoArrange\",oldValue:\"isArrangeable\"},i));if(!(i||s))return e();if(n.window.allowAutoArrange=s,n.window.snapping=v.checkDeprecatedConfigs(n,{baseString:\"customData.foreign.services\",newPath:\"windowService\",oldPath:\"dockingService\",newValue:\"allowSnapping\",oldValue:\"ignoreSnappingRequests\"},i),n&&n.foreign&&n.foreign.services){const e=void 0!==n.foreign.services.windowService?\"windowService\":\"dockingService\";void 0!==n.foreign.services[e].ignoreSnappingRequests&&(n.window.snapping=!n.foreign.services[e].ignoreSnappingRequests)}if(m.ConfigUtilInstance.getDefault(n,\"customData.window.ephemeral\",!1)&&!n.window.snapping&&(n.window.snapping=!1),n.window.tiling=v.checkDeprecatedConfigs(n,{baseString:\"customData.foreign.services\",newPath:\"windowService\",oldPath:\"dockingService\",newValue:\"allowTiling\",oldValue:\"ignoreTilingAndTabbingRequests\"},i),n.window.tabbing=v.checkDeprecatedConfigs(n,{baseString:\"customData.foreign.services\",newPath:\"windowService\",oldPath:\"dockingService\",newValue:\"allowTabbing\",oldValue:\"ignoreTilingAndTabbingRequests\"},i),n&&n.foreign&&n.foreign.services){const e=void 0!==n.foreign.services.windowService?\"windowService\":\"dockingService\";void 0!==n.foreign.services[e].ignoreTilingAndTabbingRequests&&(n.window.tiling=!n.window.tiling,n.window.tabbing=!n.window.tabbing)}n.window.canGroup=v.checkDeprecatedConfigs(n,{baseString:\"customData.foreign.services\",newPath:\"windowService\",oldPath:\"dockingService\",newValue:\"allowGrouping\",oldValue:\"canGroup\"},i),n.window.canMinimize=v.checkDeprecatedConfigs(n,{baseString:\"customData.foreign.services\",newPath:\"windowService\",oldPath:\"dockingService\",newValue:\"allowMinimize\",oldValue:\"canMinimize\"},void 0),void 0===n.window.canMinimize&&(n.window.canMinimize=n.component.canMinimize,void 0===n.window.canMinimize&&(n.window.canMinimize=i)),void 0===n.window.canMaximize&&(n.window.canMaximize=n.component.canMaximize,void 0===n.window.canMaximize&&(n.window.canMaximize=i)),n.window.overwriteStartDocked=m.ConfigUtilInstance.getDefault(n,\"customData.foreign.services.workspaceService.global\",!1),t.registerWithDockingManager(n.window,()=>{t.cacheInitialBounds(e)})}}}],(t,n)=>e(t,n))})})}}var E=new T({startupDependencies:{clients:[\"storageClient\"]},onReady(e){E.start(e)},name:\"windowClient\"});t.default=E},function(e,t,n){\"use strict\";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.FinsembleWindow=void 0;const a=s(n(7)),u=s(n(0)),c=s(n(17)),l=s(n(27)),d=o(n(11)),f=s(n(40)),h=o(n(13)),p=n(9),g=n(2),m=n(70),y=n(71);c.default.initialize(),l.default.initialize(),window._FSBLCache||(window._FSBLCache={storeClientReady:!1,windows:{},gettingWindow:[],windowAttempts:{}});let w=(()=>{class e extends f.default{constructor(t){super({name:t.name,sourceType:\"Window\"}),this.types={},this.wrapState=t.wrapState||\"initializing\",this.componentState={},this.windowState=e.WINDOWSTATE.NORMAL,this.type=null,this.windowType=null,this.bounds={},this.guid=`${Date.now()}_${Math.random()}`,this.WINDOWSTATE=h.WINDOWSTATE,this.windowOptions={},this.doConstruction(t),this.TITLE_CHANGED_CHANNEL=`Finsemble.${this.name}.titleChanged`,this.componentKey=d.camelCase(\"activeWorkspace\",this.name,this.name),this.windowKey=d.camelCase(\"activeWorkspace\",this.name),e.bindFunctions(this)}standardizeEventName(e){switch(e){case\"bounds-set\":case\"stoppedMoving\":return\"bounds-change-end\";case\"startedMoving\":return\"bounds-change-start\";case\"bringToFront\":return\"broughtToFront\";case\"setParent\":return\"parent-set\";case\"clearParent\":return\"parent-unset\";default:return e}}addEventListener(e,t){return e=this.standardizeEventName(e),super.addEventListener(e,t)}removeEventListener(e,t){if(\"closed\"!==e||!window.finsembleWindow||this.name!==finsembleWindow.name)return e=this.standardizeEventName(e),super.removeEventListener(e,t)}windowServiceChannelName(e){return\"WindowService-Request-\"+e}eventChannelName(e){return`WindowService-Event-${this.name||this.windowName}-${e}`}doConstruction(t){if(t.setWindowType||t.windowType||(t.windowType=\"WebWindow\"),t.windowType){t.setWindowType=t.windowType,delete t.windowType;return new e(t)}if(t)for(const e in t)this[e]=t[e];this.name||(this.name=t.windowName),this.windowType=this.setWindowType}static registerType(t,n){const i=e;i.types||(i.types={}),i.types[t]=n}static bindFunctions(e){e.setParent=e.setParent.bind(e),e.getParent=e.getParent.bind(e),e.eventChannelName=e.eventChannelName.bind(e),e.windowServiceChannelName=e.windowServiceChannelName.bind(e),e.handleWrapRemoveRequest=e.handleWrapRemoveRequest.bind(e)}static getInstance(t,n=Function.prototype){const i=g.System.Window.getCurrent().name;if(t&&t.windowName&&(t.name=t.windowName),!(t=m(t))||!t.name)return n(\"name is required\");return t.windowName=t.name,new Promise((async function(r,o){if(window._FSBLCache.windows[t.name]){u.default.system.debug(\"WRAP LIFECYCLE:\",t.name,\"Window found in the cache, returning without going to the Launcher\");const e=window._FSBLCache.windows[t.name];return r({wrap:e}),n(null,e)}if(t.uuid&&t.name){if(t.windowIdentifier||(t.windowIdentifier={uuid:t.uuid,name:t.name,windowName:t.name,windowType:t.windowType}),!1!==t.waitForReady)try{await e._windowReady(t.windowName),t.wrapState=\"ready\"}catch(e){return o(e),n(e,null)}if(u.default.system.debug(\"WRAP LIFECYCLE:\",t.name,\"All information for wrap passed in, creating wrap locally\"),window._FSBLCache.windows[t.name]){u.default.system.debug(\"WRAP LIFECYCLE:\",t.name,\"Window found in the cache, returning without going to the Launcher\");const e=window._FSBLCache.windows[t.name];return r({wrap:e}),n(null,e)}const{wrap:i}=await e._createWrap(t);return r({wrap:i}),n(null,i)}if(!1!==t.waitForReady)try{await e._windowReady(t.windowName),t.wrapState=\"ready\"}catch(e){return o(e),n(e,null)}a.default.query(\"WindowService-Request-getWindowIdentifier\",{windowName:t.name,requester:i},async(i,s)=>{if(i)return u.default.system.error(i),o(i),n(i,null);if(window._FSBLCache.windows[t.name]){const e=window._FSBLCache.windows[t.name];return u.default.system.debug(\"WRAP LIFECYCLE:\",t.name,\"Information received from launcher, but wrap exists in cache. Returning cached wrap.\"),r({wrap:e}),n(null,e)}const{identifier:a}=s.data;a.windowName&&(a.name=a.windowName),u.default.system.debug(\"WRAP LIFECYCLE:\",t.name,\"Information received from launcher. Creating wrap.\"),t.retrievedIdentifier=a;const{wrap:c}=await e._createWrap(t);s.data.descriptor&&(c.descriptor=s.data.descriptor),r({wrap:c}),n(null,c)})}))}static _createWrap(t){return new Promise((function(n){const i=t.retrievedIdentifier||t.windowIdentifier;let r=null;void 0===window._FSBLCache.windowAttempts[t.name]&&(window._FSBLCache.windowAttempts[t.name]=0),(t.setWindowType||i.windowType)&&\"WebApplication\"!==i.windowType||(i.windowType=\"WebWindow\");let o=Object.assign({},i);o=Object.assign(o,t),o.setWindowType=o.windowType,delete o.windowType,u.default.system.debug(\"WRAP LIFECYCLE: Placing wrap into the local cache.\",i.windowName);const s=e;window._FSBLCache.windows[i.windowName]=new s(o),r=window._FSBLCache.windows[i.windowName],r.windowType=i.windowType,r.identifier=i,r.addEventListener(\"closed\",r.handleWrapRemoveRequest),r.addEventListener(\"maximized\",()=>{r.windowState=e.WINDOWSTATE.MAXIMIZED}),r.addEventListener(\"minimized\",()=>{r.windowState=e.WINDOWSTATE.MINIMIZED}),r.addEventListener(\"restored\",()=>{r.windowState=e.WINDOWSTATE.NORMAL});const c=a.default.subscribe(\"Finsemble.Component.State.\"+i.windowName,(e,t)=>{if(e)u.default.system.error(\"Finsemble component state change error\",e);else{const{state:e}=t.data;r.wrapState=e,a.default.unsubscribe(c)}});r.parentSubscribeID=a.default.subscribe(\"Finsemble.parentChange.\"+i.windowName,(e,t)=>{if(e)u.default.system.error(\"FinsembleWindow parent change notification error\",e),n({wrap:r});else{const e=t.data||{};\"Added\"===e.type?(u.default.system.debug(\"FinsembleWindow Parent Notification: window.addedToStack listener\",e),r.setParent(e.stackedWindowIdentifier,()=>{n({wrap:r})})):\"Exists\"===e.type?(u.default.system.debug(\"FinsembleWindow Parent Notification: Parent already exists, checking if added to wrap\",e),r.setParentOnWrap(e.stackedWindowIdentifier,()=>{n({wrap:r})})):\"Removed\"===e.type?(u.default.system.debug(\"FinsembleWindow Parent Notification: window.removedFromStack listener\",e),r.clearParent(),n({wrap:r})):e.type?(u.default.system.error(\"FinsembleWindow Parent Notification: unknown type\",e),n({wrap:r})):n({wrap:r})}})}))}static _getRemoveWrapChannel(e){return`${g.System.Window.getCurrent().name}.removeWrap.${e}`}async handleWrapRemoveRequest(e){e&&e.wait(),u.default.system.debug(\"WRAP Destructor. Removing cached window\",this.name,\"in \",window.name),this.removeListeners&&this.removeListeners(),this.cleanupRouter(),this.cleanup(),this.name!==window.name&&(delete window._FSBLCache.windows[this.name],delete window._FSBLCache.windowAttempts[this.name]),e&&e.done()}cleanupRouter(){const t=e._getRemoveWrapChannel(this.name);a.default.removeResponder(t),this.TITLE_CHANGED_SUBSCRIPTION&&a.default.unsubscribe(this.TITLE_CHANGED_SUBSCRIPTION),a.default.unsubscribe(this.parentSubscribeID)}onReady(e){if(\"ready\"===this.wrapState)return e();this.addEventListener(\"ready\",e)}queryWindowService(e,t,n=Function.prototype){if(\"close\"!==e&&\"setParent\"!==e&&\"ready\"!==this.wrapState)return void this.onReady(()=>{this.wrapState=\"ready\",this.queryWindowService(e,t,n)});return new Promise(async(i,r)=>{\"function\"==typeof t&&(n=t,t={}),(t=t||{}).windowIdentifier=this.identifier,u.default.setting().system.Debug&&(t.callstack=u.default.callStack()),u.default.system.debug(\"FinsembleWindow.queryWindowService\",this.windowServiceChannelName(e),t);let o=null;a.default.query(this.windowServiceChannelName(e),t,(t,s)=>{t?(u.default.system.debug(`WindowService.${e}: failed`,t),console.debug(`WindowService.${e}: failed`,t),\"getComponentState\"!==e&&\"Not found\"!==t&&r(t)):(o=s.data,u.default.system.debug(this.windowServiceChannelName(e)+\" successful\",o),console.debug(this.windowServiceChannelName(e)+\" successful\",o)),i(o),n(t,o)})})}minimize(e=null,t=Function.prototype){this.queryWindowService(\"minimize\",e,t)}maximize(e=null,t=Function.prototype){this.queryWindowService(\"maximize\",e,t)}restore(e=null,t=Function.prototype){this.queryWindowService(\"restore\",e,t)}blur(e=null,t=Function.prototype){this.queryWindowService(\"blur\",e,t)}focus(e=null,t=Function.prototype){this.queryWindowService(\"focus\",e,t)}bringToFront(e=null,t=Function.prototype){this.queryWindowService(\"bringToFront\",e,t)}setAlwaysOnTop(e={alwaysOnTop:!0},t=Function.prototype){this.queryWindowService(\"setAlwaysOnTop\",e,t)}isAlwaysOnTop(e={},t){this.queryWindowService(\"isAlwaysOnTop\",{},t)}isShowing(e={},t){this.queryWindowService(\"isShowing\",e,t)}setIgnoreMouseEvents(e,t,n=Function.prototype){const i={ignore:new Boolean(e).valueOf(),options:new Boolean(t).valueOf()?t:{forward:!1}};this.queryWindowService(\"setIgnoreMouseEvents\",i,n)}setShape(e,t=Function.prototype){this.queryWindowService(\"setShape\",e,t)}async addBrowserView(e,t=Function.prototype){const n=await this.queryWindowService(\"addBrowserView\",e,t);return new y.FinsembleView({id:n,win:this})}async removeBrowserView(e,t=Function.prototype){await this.queryWindowService(\"removeBrowserView\",{viewId:e.id},t)}async bringViewToFront(e,t=Function.prototype){await this.queryWindowService(\"bringViewToFront\",{viewId:e.id},t)}async setViewBounds(e,t=Function.prototype){await this.queryWindowService(\"setViewBounds\",{viewId:e.view.id,bounds:e.bounds},t)}setBounds(e={bounds:{}},t=Function.prototype){if(\"function\"!=typeof e&&!e.bounds){e={bounds:e}}this.queryWindowService(\"setBounds\",e,t)}getBounds(e={},t=Function.prototype){return new Promise(n=>{this.queryWindowService(\"getBounds\",e,(e,i)=>{n({err:e,data:i}),t(e,i)})})}updateOptions(e,t=Function.prototype){this.queryWindowService(\"updateOptions\",e,t)}hide(e={},t=Function.prototype){this.queryWindowService(\"hide\",e,t)}show(e={},t=Function.prototype){this.queryWindowService(\"show\",e,t)}showAt(e={},t=Function.prototype){this.queryWindowService(\"showAt\",e,t)}close(e={},t=Function.prototype){u.default.system.debug(\"WRAP CLOSE. Public close initiated for\",this.name,e),this.queryWindowService(\"close\",e,()=>{u.default.system.debug(\"WRAP CLOSE. Public close initiated for\",this.name),t()})}animate(e={},t=Function.prototype){this.queryWindowService(\"animate\",e,t)}registerWithDocking(e={},t){this.onReady(()=>{a.default.query(\"DockingService.registerWindow\",{type:this.type,windowType:this.windowType,windowMsg:e,name:this.windowName},t)})}unRegisterWithDocking(){a.default.transmit(\"DockingService.deregisterWindow\",{name:this.windowName})}initializeWindow({manageWindowMovement:e,identifier:t},n=Function.prototype){const i=()=>{a.default.publish(`Finsemble.${this.windowName}.componentReady`,{name:this.windowName}),n()};e?this.registerWithDocking(t,i):i()}wrapReady(){a.default.publish(`Finsemble.${this.windowName}.wrapReady`,{name:this.windowName,state:\"open\"})}setOpacity(e,t=Function.prototype){this.queryWindowService(\"setOpacity\",e,t)}startTabTileMonitoring(e={}){u.default.system.debug(\"FinsembleWindow.startTabTileMonitoring\",e),a.default.transmit(\"TabTile.startTabTile\",{params:e})}stopTabTileMonitoring(e={},t=Function.prototype){u.default.system.debug(\"FinsembleWindow.stopTabTileMonitoring\",e),a.default.query(\"TabTile.stopTabTile\",{params:e},(function(e,n){e?u.default.system.warn(\"TabTile.stopTabTile: query failed\",e):u.default.system.debug(\"TabTile.stopTabTile results\",n.data);const i=n.data;t?t(e,i,this.defaultStopTrackingAction):this.defaultTabTileAction(i)}))}defaultTabTileAction(e){const t=this;switch(u.default.system.debug(\"FinsembleWindow.defaultTabTileAction\",e),e.stoppedLocation){case\"OutsideWindow\":case\"TabSection\":break;case\"InsideWindow\":e.tileGroupId?t.Group.addWindow(this.identifier,e.tileGroupId,e.dropCoordinates):t.Group.createGroup((function(n){t.Group.addWindow(this.identifier,n,e.dropCoordinates,{startingWindowIdentifier:e.droppedOnWindowIdentifier})}));break;default:u.default.system.error(\"stopTracking returned an unknown stoppedLocation result\",e)}}mergeBounds(e){e.right=e.left+e.width;const t={left:e.left,right:e.right,width:e.width,top:e.top,bottom:e.top+e.height,height:e.height},n={defaultLeft:e.left,defaultWidth:e.width,defaultTop:e.top,defaultHeight:e.height};Object.assign(this.windowOptions,t),Object.assign(this.windowOptions,n),this.windowOptions.bounds=t}startMove(e={}){u.default.system.debug(\"FinsembleWindow.startMove\",e),e.windowIdentifier=this.identifier,a.default.transmit(this.eventChannelName(\"startedMoving\"),{})}stopMove(e={}){u.default.system.debug(\"FinsembleWindow.stopMove\",e),e.windowIdentifier=this.identifier,a.default.transmit(this.eventChannelName(\"stoppedMoving\"),{})}getMonitor(e){a.default.query(\"DockingService.getMonitorForWindow\",{windowIdentifier:this.identifier},(t,n)=>n?e(n.data):e())}getComponentState(e,t){this.queryWindowService(\"getComponentState\",e,t)}getWindowState(e,t){this.queryWindowService(\"getWindowState\",e,t)}setComponentState(e,t=(()=>{})){this.queryWindowService(\"setComponentState\",e,t)}removeComponentState(e,t=(()=>{})){this.queryWindowService(\"removeComponentState\",e,t)}setWindowState(e,t=(()=>{})){this.queryWindowService(\"setWindowState\",e,t)}saveCompleteWindowState(e={},t=Function.prototype){this.queryWindowService(\"saveCompleteWindowState\",e,t)}cancelTabTileMonitoring(e={}){u.default.system.debug(\"FinsembleWindow.cancelTabTileMonitoring\",e),a.default.transmit(\"TabTile.cancelTabTile\",{params:e})}getParent(t){this.settingParent?e.getInstance(this.settingParent,(e,n)=>{t(null,n)}):this.parentWindow?t(null,this.parentWindow):t(null,null)}setParent(t,n){if(this.settingParent)return this.getParent(n);this.settingParent=t,this.parentWindow&&this.parentWindow.name===t.windowName?(u.default.system.debug(\"FinsembleWindow.setParent already set\",t),this.settingParent=!1,n(null,this.parentWindow)):this.queryWindowService(\"setParent\",t,()=>{u.default.system.debug(\"FinsembleWindow.setParent\",t),e.getInstance(t,(e,i)=>{e?u.default.system.error(\"FinsembleWindow.setParent error\",e):(u.default.system.debug(\"FinsembleWindow.setParent wrap success\",t),this.parentWindow=i,this.parentWindow.windowType.includes(\"StackedWindow\")||u.default.system.error(\"FinsembleWindow.setParent error\",this.parentWindow.name,t.windowName)),a.default.transmit(h.DOCKING.REQUEST_PUBLISH,null),this.settingParent=!1;const r=()=>{this.removeEventListener(\"parent-set\",r),n(e,i)};this.addEventListener(\"parent-set\",r)})})}setParentOnWrap(t,n=Function.prototype){this.parentWindow&&this.parentWindow.name===t.windowName?(u.default.system.debug(\"FinsembleWindow.setParentOnWrap already set\",t),n(null,this.parentWindow)):this.queryWindowService(\"setParent\",t,()=>{u.default.system.debug(\"FinsembleWindow.setParentOnWrap\",t),e.getInstance(t,(e,i)=>{e?u.default.system.error(\"FinsembleWindow.setParentOnWrap error\",e):(u.default.system.debug(\"FinsembleWindow.setParentOnWrap success getting wrap\",t),console.debug(\"FinsembleWindow.setParentOnWrap success getting wrap\",this,i),this.parentWindow=i,!1===this.parentWindow.windowType.includes(\"StackedWindow\")&&u.default.system.error(\"FinsembleWindow.setParentOnWrap error\",this.parentWindow.name,t.windowName)),n(e,i)})})}clearParent(){u.default.system.debug(\"FinsembleWindow.clearParent\",this.parentWindow),this.parentWindow=null}setTitle(e){u.default.system.debug(\"Title change\",e),a.default.publish(this.TITLE_CHANGED_CHANNEL,e)}getOptions(e=Function.prototype){this.queryWindowService(\"getOptions\",{},e)}_privateManagementPreface(e,t){return\"function\"==typeof t&&u.default.system.error(\"StackedWindowWrapper.wrapPreface bad params\",t),(t=t||{}).stackedWindowIdentifier={windowName:this.identifier.windowName,windowType:this.identifier.windowType},u.default.system.debug(`StackedWindow.${e}  _privateManagementPreface`,t),t}addWindow(e,t=Function.prototype){e=this._privateManagementPreface(\"addWindow\",e);return new Promise(n=>{a.default.query(\"StackedWindow.addWindow\",e,(e,i)=>{u.default.system.debug(\"StackedWindow.addWindow callback\",e,i),t(e,i.data),n({err:e,data:i.data})})})}removeWindow(e,t=Function.prototype){e=this._privateManagementPreface(\"removeWindow\",e);return new Promise(n=>{a.default.query(\"StackedWindow.removeWindow\",e,(e,i)=>{u.default.system.debug(\"StackedWindow.removeWindow callback\",e,i),t(e,i.data),n({err:e,data:i.data})})})}deleteWindow(e,t=Function.prototype){e=this._privateManagementPreface(\"deleteWindow\",e);return new Promise(n=>{a.default.query(\"StackedWindow.deleteWindow\",e,(e,i)=>{u.default.system.debug(\"StackedWindow.deleteWindow callback\",e,i),t(e,i.data),n({err:e,data:i.data})})})}setVisibleWindow(e,t=Function.prototype){e=this._privateManagementPreface(\"setVisibleWindow\",e);return new Promise(n=>{a.default.query(\"StackedWindow.setVisibleWindow\",e,(e,i)=>{u.default.system.debug(\"StackedWindow.setVisibleWindow callback\",e,i),t(e,i.data),n({err:e,data:i.data})})})}reorder(e,t=Function.prototype){e=this._privateManagementPreface(\"reorder\",e);return new Promise(n=>{a.default.query(\"StackedWindow.reorder\",e,(e,i)=>{u.default.system.debug(\"StackedWindow.reorder callback\",e,i),t(e,i.data),n({err:e,data:i.data})})})}formGroup(){const e=this.parentWindow?this.parentWindow.name:this.name;a.default.transmit(\"DockingService.formGroup\",{windowName:e})}ejectFromGroup(){const e=this.parentWindow?this.parentWindow.name:this.name;a.default.query(\"DockingService.leaveGroup\",{name:e},()=>{})}}return e.WINDOWSTATE={NORMAL:0,MINIMIZED:1,MAXIMIZED:2,HIDDEN:3},e.wrap=e.getInstance,e.isStartupApplication=async function(e){let t;const n=await new Promise((e,t)=>{g.System.Application.getCurrent().getManifest(e,t)}).catch(()=>{t=!1});return n&&(t=n&&n.startup_app&&n.startup_app.name===e),t},e._windowReady=function(t){let n;u.default.system.debug(`windowServiceReady: ${t} starting`);const i=\"Finsemble.Component.State.\"+t;return new Promise(async(r,o)=>{const s=(e,i)=>{const{state:o}=i.data;switch(u.default.system.debug(`windowServiceReady: ${t} state change: ${o}`),console.log(`windowServiceReady: ${t} state change: ${o}`),o){case\"ready\":case\"reloading\":case\"closing\":u.default.system.debug(`windowServiceReady: ${t} ${o}`),a.default.unsubscribe(n),r()}};await e.isStartupApplication(t)||p.isServiceInWindow(t)?o(\"Cannot Wrap Service Manager or Services\"):(u.default.system.debug(`windowServiceReady: ${t} waiting`),n=a.default.subscribe(i,s))})},e})();t.FinsembleWindow=w},function(e,t,n){\"use strict\";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nconst a=n(4),u=s(n(14)),c=o(n(11)),l=s(n(8)),d=n(2),f=s(n(0)),h=n(15),p=window,g={};class m extends a._BaseClient{constructor(e){super(e),l.default.args(e,\"object=\")&&e&&l.default.args2(\"params.onReady\",e.onReady,\"function=\"),this.windowClient=e.clients.windowClient}getComponentList(e=Function.prototype){l.default.args(e,\"function=\");return new Promise(t=>{this.routerClient.query(\"Launcher.componentList\",{},(n,i)=>{e(n,i.data),t({err:n,data:i.data})})})}getComponentDefaultConfig(e,t=Function.prototype){l.default.args(t,\"function=\");return new Promise(n=>{this.routerClient.query(\"Launcher.componentList\",{},(i,r)=>{const o=r.data[e];t(i,o),n({err:i,data:o})})})}getMonitorInfo(e={},t=Function.prototype){const n=this;if(l.default.args(t,\"function=\"),f.default.system.debug(\"MONITOR: launcherClient.getMonitorInfo\"),\"all\"===e.monitor)return n.getMonitorInfoAll(t);return new Promise(i=>{c.getMyWindowIdentifier(r=>{e.windowIdentifier||(e.windowIdentifier=r),n.routerClient.query(\"Launcher.getMonitorInfo\",e,(e,n)=>{t&&t(e,n.data),f.default.system.log(\"MONITOR: launcherClient.getMonitorInfo query response data\",n.data),i({err:e,data:n.data})})})})}getMonitorInfoAll(e=Function.prototype){l.default.args(e,\"function=\"),f.default.system.debug(\"MONITOR: launcherClient.getMonitorInfoAll\");return new Promise((t,n)=>{this.routerClient.query(\"Launcher.getMonitorInfoAll\",{},(i,r)=>{i&&(n({err:i}),e(i)),t({err:i,data:r.data}),e(i,r.data)})})}registerComponent(e,t=Function.prototype){return new Promise(n=>{this.routerClient.query(\"LauncherService.registerComponent\",e,(e,i)=>{t&&t(e,i.data),n({err:e,data:i.data})})})}unRegisterComponent(e,t=Function.prototype){if(!e.componentType)return t(\"No componentType provided\");return new Promise(n=>{this.routerClient.query(\"LauncherService.unRegisterComponent\",e,(e,i)=>{t&&t(e,i.data),n({err:e,data:i.data})})})}locatorToIdentifier(e){let t={};return t.windowName=\"windowName\"in e?e.windowName:\"\",\"componentType\"in e&&(t.componentType=e.componentType),\"uuid\"in e&&(t.uuid=e.uuid),t}toggleWindowOnClick(e,t,n){const i=this;let r=this.locatorToIdentifier(t),o=`${r.windowName}:${r.uuid}`;if(r.windowName||(o=r.componentType),!1===g[o])return void(g[o]=!0);n.position||(n.position=\"absolute\"),this.showWindow(t,n,(function(t,n){if(!n)return;const{finWindow:r}=n;var s=function(){g[o]=!0,i.windowClient.isMouseOverDOMElement(e,e=>{g[o]=!e}),r.removeEventListener(\"blurred\",s)};r.addEventListener(\"blurred\",s)}))}showWindow(e,t,n=Function.prototype){l.default.args(e,\"object\",t,\"object=\",n,\"function=\");const i=this;t||(t={}),(t=c.clone(t)).staggerPixels||0===t.staggerPixels||(t.staggerPixels=100),t.windowIdentifier=this.locatorToIdentifier(e);return new Promise(e=>{c.getMyWindowIdentifier(r=>{t.relativeWindow||(t.relativeWindow=r),i.routerClient.query(\"Launcher.showWindow\",t,async(t,i)=>{if(t)return e({err:t}),n(t);const r=i.data.windowIdentifier;i.data.windowIdentifier.name=i.data.windowIdentifier.windowName;const{wrap:o}=await h.FinsembleWindow.getInstance({name:r.windowName});i.data.finWindow=o,e({err:t,data:i.data}),n(t,i.data)})})})}spawn(e,t,n=Function.prototype){const i=this;l.default.args(e,\"string\",t,\"object=\",n,\"function=\"),t||(t={}),(t=c.clone(t)).component=e,t.options||(t.options={}),t.options.customData||(t.options.customData={}),t.staggerPixels||0===t.staggerPixels||(t.staggerPixels=50),f.default.system.debug(\"LauncherClient.spawn starting for componentType:\"+e);return new Promise(r=>{c.getMyWindowIdentifier(o=>{t.launchingWindow=o,i.callSpawn(t,(t,i)=>{f.default.system.debug(\"LauncherClient.spawn completing for componentType:\"+e,t),r({err:t,response:i}),n(t,i)})})})}callSpawn(e,t=Function.prototype){const n=this;l.default.args(t,\"function=\"),f.default.perf.debug(\"CallSpawn\",\"start\",\"from spawn to callback\",e);return new Promise(i=>{function r(e,n){t(e,n),i({err:e,data:n})}n.routerClient.query(\"Launcher.spawn\",e,async(e,t)=>{if(f.default.system.debug(\"CallSpawn\",\"Initial launcher callback params\",e,t),f.default.perf.debug(\"CallSpawn\",\"Initial launcher callback\",t),e)return r(e,t.data),f.default.system.error(\"LauncherClient.callSpawn\",e);t.data.windowIdentifier.name=t.data.windowIdentifier.windowName;var i=t.data;if(i.windowDescriptor.native)return r(e,i);const o=i.windowIdentifier,{wrap:s}=await h.FinsembleWindow.getInstance({name:o.windowName});i.finWindow=s;const a=`Finsemble.${i.windowIdentifier.windowName}.componentReady`,u=n.routerClient.subscribe(a,(t,o)=>{if(t)return f.default.system.error(t);o&&0===Object.keys(o.data).length||(f.default.perf.debug(\"CallSpawn\",\"stop\"),r(e,i),n.routerClient.unsubscribe(u))})})})}getMonitor(e,t=Function.prototype){f.default.system.warn(\"This method is deprecated and will be removed in a future release. Method getMonitorInfo should be used instead.\");return l.default.args(t,\"function=\"),this.getMonitorInfo({windowIdentifier:e},t)}getMyWindowIdentifier(e=Function.prototype){l.default.args(e,\"function=\");return new Promise(t=>{c.getMyWindowIdentifier(n=>{e(n),t(n)})})}getActiveDescriptors(e=Function.prototype){l.default.args(e,\"function=\");return new Promise(t=>{this.routerClient.query(\"Launcher.getActiveDescriptors\",{},(n,i)=>{n&&f.default.system.error(n),e(n,i.data),t({err:n,data:i.data})})})}getActiveAndPendingWindowNames(e=Function.prototype){return new Promise(t=>{this.routerClient.query(\"Launcher.getActiveAndPendingWindowNames\",{},(n,i)=>{n&&f.default.system.error(n),e(n,i.data),t({err:n,data:i.data})})})}async getPendingWindows(){const{err:e,response:t}=await this.routerClient.query(\"Launcher.getPendingWindows\",{});return e&&f.default.system.error(\"Error retrieving pending windows:\",e),{err:e,data:t.data}}addUserDefinedComponent(e,t=Function.prototype){l.default.args(t,\"function=\");return new Promise(n=>{this.routerClient.query(\"Launcher.userDefinedComponentUpdate\",{type:\"add\",name:e.name,url:e.url},(e,i)=>{t(e,i.data),n({err:e,data:i.data})})})}removeUserDefinedComponent(e,t=Function.prototype){l.default.args(t,\"function=\");return new Promise(n=>{this.routerClient.query(\"Launcher.userDefinedComponentUpdate\",{type:\"remove\",name:e.name,url:e.url},(e,i)=>{t(e,i.data),n({err:e,data:i.data})})})}getComponentsThatCanReceiveDataTypes(e,t=Function.prototype){l.default.args(t,\"function=\");return new Promise(n=>{if(!e||!e.dataTypes){const e=\"Invalid params. Expected: {dataTypes: string[]}\";return t(e),n({err:e})}Array.isArray(e.dataTypes)||(e.dataTypes=[e.dataTypes]),this.routerClient.query(\"LauncherService.getComponentsThatCanReceiveDataTypes\",e,(e,i)=>{t(e,i.data),n({err:e,data:i.data})})})}bringWindowsToFront(e={},t=Function.prototype){return l.default.args(t,\"function=\"),e.windowList&&!Array.isArray(e.windowList)&&(e.windowList=[e.windowList]),e.groupName&&l.default.args(e.groupName,\"string\"),e.componentType&&l.default.args(e.componentType,\"string\"),this.routerClient.query(\"LauncherService.bringWindowsToFront\",e,(e,n)=>{t(e,n)}),Promise.resolve()}hyperFocus(e,t=Function.prototype){return f.default.system.warn(\"hyperFocus is deprecated as of version 4.0.0. This functionality may be removed in a future release\"),console.warn(\"hyperFocus is deprecated as of version 4.0.0. This functionality may be removed in a future release\"),l.default.args(t,\"function=\"),e.windowList&&!Array.isArray(e.windowList)&&(e.windowList=[e.windowList]),e.windowList||e.groupName||e.componentType||(e.windowList=[this.myWindowIdentifier]),e.groupName&&l.default.args(e.groupName,\"string\"),e.componentType&&l.default.args(e.componentType,\"string\"),this.routerClient.transmit(\"LauncherService.hyperFocus\",e),t(),Promise.resolve()}minimizeWindows(e,t=Function.prototype){return l.default.args(t,\"function=\"),e.windowList&&!Array.isArray(e.windowList)&&(e.windowList=[e.windowList]),e.groupName&&l.default.args(e.groupName,\"string\"),e.componentType&&l.default.args(e.componentType,\"string\"),this.routerClient.transmit(\"LauncherService.minimizeWindows\",e),t(),Promise.resolve()}createWindowGroup(e,t=Function.prototype){l.default.args(t,\"function=\"),e.windowList&&!Array.isArray(e.windowList)&&(e.windowList=[e.windowList],delete e.groupName),l.default.args(e.groupName,\"string\");return new Promise(n=>{if(!e.groupName){const e=\"Invalid Parameters\";return n({err:e}),void t(e)}this.routerClient.query(\"LauncherService.createWindowGroup\",e,(e,i)=>{t(e,i),n({err:e,data:i})})})}addWindowsToGroup(e,t=Function.prototype){l.default.args(t,\"function=\");return new Promise(n=>{if(!e.groupName||!e.windowList){const e=\"Invalid Parameters\";return n({err:e}),void t(e)}e.windowList&&!Array.isArray(e.windowList)&&(e.windowList=[e.windowList]),l.default.args(e.groupName,\"string\"),this.routerClient.query(\"LauncherService.addWindowsToGroup\",e,(e,i)=>{t(e,i),n({err:e,data:i})})})}removeWindowsFromGroup(e,t=Function.prototype){l.default.args(t,\"function=\");return new Promise(n=>{if(!e.groupName||!e.windowList){const e=\"Invalid Parameters\";return n({err:e}),void t(e)}e.windowList&&!Array.isArray(e.windowList)&&(e.windowList=[e.windowList]),this.routerClient.query(\"LauncherService.removeWindowsFromGroup\",e,(e,i)=>{t(e,i),n({err:e,data:i})})})}getGroupsForWindow(e,t=Function.prototype){l.default.args(t,\"function=\"),\"function\"==typeof e&&(t=e,e=null);return new Promise(n=>{e&&e.windowIdentifier?this.routerClient.query(\"LauncherService.getGroupsForWindow\",e,(e,i)=>{n({err:e,data:i.data}),t(e,i.data)}):this.windowClient.getComponentState({field:\"finsemble:windowGroups\"},(e,i)=>{n({err:e,data:i}),t(e,i)})})}addToGroups(e,t=Function.prototype){l.default.args(t,\"function=\"),l.default.args(e.groupNames,\"array\"),e.windowIdentifier||(e.windowIdentifier=this.myWindowIdentifier);return new Promise(n=>{this.routerClient.query(\"LauncherService.addWindowToGroups\",e,(e,i)=>{t(e,i),n({err:e,data:i})})})}_createWrap(e,t){this.routerClient.query(\"LauncherService.createWrap\",e,t)}start(e){const t=this;if(void 0!==p.FSBL){function n(){t.routerClient.subscribe(\"Finsemble.LauncherService.updateGroups.\"+t.windowName,(e,n)=>{Array.isArray(n.data)&&t.windowClient.setComponentState({field:\"finsemble:windowGroups\",value:n.data})})}p.FSBL.addEventListener(\"onReady\",()=>{t.windowClient.onReady(()=>{t.windowClient.getComponentState({field:\"finsemble:windowGroups\"},(e,i)=>{if(!e&&i)return t.addToGroups({groupNames:i},n);n()})})})}setInterval(()=>{t.routerClient.transmit(\"Finsemble.heartbeat\",{type:\"component\",windowName:t.windowName,componentType:\"finsemble\",isBrowserView:d.System.isBrowserView()})},1e3),this.getMyWindowIdentifier(n=>{t.myWindowIdentifier=n,e&&e()})}}let y;function w(e){return(e=e||{}).windowClient||(e.windowClient=u.default),new m({clients:e,onReady(e){f.default.system.debug(\"launcherClient ready\",window.name),f.default.perf.debug(\"LauncherClientReadyTime\",\"stop\"),y.start(e)},name:\"launcherClient\"})}y=w(),y.constructInstance=w,t.default=y},function(e,t,n){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nconst r=n(4),o=i(n(68));let s;const a=window;let u;const c={};function l(e,t){return u.routerClient.query(\"storeService.getStore\",e,(function(e,n){return e?t(e):t(e,new s(n.data,u.routerClient))}))}function d(e,t){u.routerClient.query(\"storeService.removeStore\",e,(e,n)=>t(e,!e&&n.data))}class f extends r._BaseClient{constructor(e){super(e),this.load=function(e){e()},u=this,this.ls=c}getStore(e,t){return e.global?l(e,t):c[e.store]?t(null,c[e.store]):l(e,t)}createStore(e,t=Function.prototype){return new Promise((n,i)=>{if(e.global)return this.routerClient.query(\"storeService.createStore\",e,(e,r)=>{if(e)return i(e),t(e);const o=new s(r.data,u.routerClient);return n({err:e,data:o}),t(e,o)});if(c[e.store])return n({err:null,data:c[e.store]}),t(null,c[e.store]);const r=new s(e,u.routerClient);return c[r.name]=r,n({err:null,data:r}),t(null,r)})}removeStore(e,t){return e.global?d(e,t):c[e.store]?(delete c[e.store],t(null,!0)):void d(e,t)}}var h=new f({startupDependencies:{},onReady(e){s=o.default,h.load(e)},name:\"distributedStoreClient\"});a.distributedStoreClient=h,t.default=h},function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const r=i(n(7)),o=i(n(0)),s=n(62),a=n(39),u=n(63);const c=new class{publishBootStatus(e,t,n){console.log(\"publishStartingStatus\",e,n),o.default.system.debug(\"publishBootStatus\",e,t,n),r.default.publish(u.statusChannel(e),{name:e,type:t,state:n})}waitForBootStage(e,t,n=Function.prototype){return new Promise((i,u)=>{o.default.system.debug(\"SystemManagerClient.waitForBootStage entry\",e,t);const c=s.ALL_BOOT_STAGES.indexOf(e);\"microkernel\"===e&&\"stageEntered\"===t&&o.default.system.error(\"Cannot wait on `stageEntered` for microkernel because router isn't up yet. So will instead wait for microkernal stage complete.\");const l=r.default.subscribe(a.STAGE_CHANNEL,(a,d)=>{if(o.default.system.debug(\"SystemManagerClient.waitForBootStage new stage\",d.data.stage,l),a)o.default.system.error(\"SystemManagerClient.waitForBootStage subscribe error\",a),n(a),u(a);else if(-1===c)a=\"illegal stage argument\",o.default.system.debug(\"SystemManagerClient.waitForBootStage subscribe error\",a,e),n(a),u(a);else{const a=s.ALL_BOOT_STAGES.indexOf(d.data.stage);o.default.system.debug(\"SystemManagerClient.waitForBootStage new stage\",d.data,l),\"stageEntered\"===t&&a+1>=c?(o.default.system.debug(\"SystemManagerClient.waitForBootStage stageEntered\",e,l,n.name),n(),i(),r.default.unsubscribe(l)):\"stageCompleted\"===t&&a>=c?(o.default.system.debug(\"SystemManagerClient.waitForBootStage completed\",e,l),n(),i(),r.default.unsubscribe(l)):o.default.system.debug(`SystemManagerClient.waitForBootStage else currentStageIndex=${a} stageIndex=${c} `,a,c,e,l)}})})}waitForStartup(e,t=Function.prototype){return new Promise((n,i)=>{o.default.system.debug(\"SystemManagerClient.waitForStartup.\"+e,e);const s=r.default.subscribe(u.statusChannel(e),(a,u)=>{o.default.system.debug(\"SystemManagerClient.waitForStartup subscribe\",e,a,u),a?(o.default.system.error(\"SystemManagerClient.waitForStartup subscribe error\",a),t(a),i()):u.data.name===e&&\"completed\"===u.data.state&&(o.default.system.debug(\"SystemManagerClient.waitForStartup completed\",e),t(),n(),r.default.unsubscribe(s))})})}publishCheckpointState(e,t,n){console.log(\"publishCheckpoint\",e,t,n,u.checkpointChannel(e,t)),o.default.system.debug(\"publishCheckpoint\",e,t,n,u.checkpointChannel(e,t)),r.default.publish(u.checkpointChannel(e,t),{windowName:e,checkpointName:t,state:n})}showSystemLog(){o.default.system.debug(\"SystemManagerClient.showSystemLog\"),r.default.transmit(a.SHOW_SYSLOG_CHANNEL,!0)}systemLog(e,t){o.default.system.debug(\"SystemManagerClient.systemLog\",e,t),r.default.transmit(a.SYSLOG_CHANNEL,{params:e,logMessage:t})}};t.default=c},function(e,t){var n,i,r=e.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function s(){throw new Error(\"clearTimeout has not been defined\")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i=\"function\"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title=\"browser\",r.browser=!0,r.env={},r.argv=[],r.version=\"\",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error(\"process.binding is not supported\")},r.cwd=function(){return\"/\"},r.chdir=function(e){throw new Error(\"process.chdir is not supported\")},r.umask=function(){return 0}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(12),o=i(n(8)),s=n(4),a=i(n(18)),u=i(n(0));class c extends s._BaseClient{constructor(e){super(e),this.listeners=[],this.changeSub=e=>{this.subs||(this.subs={}),this.subs[e]||(this.routerClient.query(\"configService.addListener\",e,t=>{t&&u.default.system.error(\"Error adding listener to config service\",t),this.routerClient.subscribe(e,this.handleChanges)}),this.subs[e]=!0)},this.handleChanges=(e,t)=>{e&&u.default.system.error(e),t.data.field||(t.data.field=null);const n=t.data.storeData?t.data.storeData:t.data.value;this.triggerListeners(t.data.field?t.data.field:\"configService\",n)},this.triggerListeners=(e,t)=>{if(this.listeners[e])for(let n=0;n<this.listeners[e].length;n++)\"function\"==typeof this.listeners[e][n]?this.listeners[e][n](null,{field:e,value:t}):u.default.system.warn(\"ConfigClient:triggerListeners: listener is not a function\",e)},this.set=(e,t)=>{u.default.system.debug(\"ConfigClient.Set\",e),\"function\"==typeof e?(t=e,o.default.args(t,\"function\"),e={}):o.default.args(e,\"object\",t,\"function\"),this.routerClient.query(\"config.set\",e,(e,n)=>{t(e,n?n.data:null)})},this.processAndSet=this.processAndSet.bind(this),this.getValue=this.getValue.bind(this),this.getValues=this.getValues.bind(this),this.setValue=this.setValue.bind(this),this.setValues=this.setValues.bind(this),this.removeValue=this.removeValue.bind(this),this.removeValues=this.removeValues.bind(this),this.addListener=this.addListener.bind(this),this.addListeners=this.addListeners.bind(this),this.removeListener=this.removeListener.bind(this),this.removeListeners=this.removeListeners.bind(this),this.setPreference=this.setPreference.bind(this),this.getPreferences=this.getPreferences.bind(this)}getValue(e,t=Function.prototype){\"string\"==typeof e&&(e={field:e});return new Promise((n,i)=>{if(!e.field){const e=\"no field provided\";return i(e),t(e)}this.routerClient.query(\"configService.getValue\",{field:e.field},(e,r)=>e?(i(e),t(e)):(n({err:e,data:r.data}),t(e,r.data)))})}getValues(e,t=Function.prototype){if(\"function\"==typeof e&&(t=e,e=null),e&&!Array.isArray(e))return this.getValue(e,t);return new Promise(n=>{this.routerClient.query(\"configService.getValues\",{fields:e},(e,i)=>e?t(e):(n({err:e,data:i.data}),t(e,i.data)))})}setValue(e,t){const n={field:e.field,value:e.value};return this.routerClient.query(\"configService.setValue\",n,e=>t?t(e):null)}setValues(e,t){return e?Array.isArray(e)?this.routerClient.query(\"configService.setValues\",e,e=>t?t(e):null):u.default.system.error(\"ConfigClient.SetValues. Params must be an array\"):u.default.system.error(\"ConfigClient.SetValues. No params given\")}removeValue(e,t=Function.prototype){if(void 0!==e){if(e.field||\"string\"!=typeof e)return t(\"no field provided\");e={field:e}}return e.value=null,this.setValue(e,t)}removeValues(e,t=Function.prototype){if(!Array.isArray(e))return t(\"The passed in parameter needs to be an array\");r.map(e,this.removeValue,(e,n)=>t(e,n))}addListener(e,t,n){let i=null;\"function\"==typeof e&&(t=e,e={field:i}),({field:i}=e);const r=\"configService\"+(i?\".\"+i:\"\");return this.listeners[r]?this.listeners[r].push(t):this.listeners[r]=[t],this.changeSub(r),n?n():null}addListeners(e,t,n){if(!Array.isArray(e))return this.addListener({field:e.field},t,n);for(let n=0;n<e.length;n++){let r=null;const o=e[n];var i;\"string\"==typeof o?r=o:o.field&&(({field:r}=o),i=o.listener);const s=\"configService\"+(r?\".\"+r:\"\");i||t&&\"function\"==typeof t&&(i=t),this.listeners[s]?this.listeners[s].push(i):this.listeners[s]=[i],this.changeSub(s)}return n?n():null}removeListener(e,t,n){let i=null;\"function\"==typeof e&&(n=t,t=e,e={field:i}),({field:i}=e);const r=this.name+(i?\".\"+i:\"\");if(this.listeners[r])for(let e=0;e<this.listeners[r].length;e++)if(this.listeners[r][e]===t)return this.listeners[r].pop(e),n?n(null,!0):null;return n?n(null,!1):null}removeListeners(e,t,n){if(!Array.isArray(e))return\"function\"==typeof e?this.removeListener({},e,n):e.field&&this.removeListener(e,t,n),n(\"missing fields\");let i=0;for(let n=0;n<e.length;n++){let o=null;const s=e[n];var r;\"string\"==typeof s?o=s:s.field&&(({field:o}=s),r=e[n].listener);const a=\"configService\"+(o?\".\"+o:\"\");if(!r){if(!t||\"function\"!=typeof t)continue;r=t}for(let e=0;e<this.listeners[a].length;e++)this.listeners[a][e]===r&&(this.listeners[a].pop(n),i++)}return i<e.length?n(\"All listeners could not be found\",!1):n?n(null,!0):null}get(e,t){u.default.system.debug(\"ConfigClient.Get\",e),u.default.system.warn(\"This functionality has been deprecated. It will be removed in Finsemble version 3.0. Use getValue instead.\",e),1===arguments.length?(t=e,o.default.args(t,\"function\"),e={}):o.default.args(e,\"object\",t,\"function\"),this.routerClient.query(\"config.get\",e,(e,n)=>{t(e,n?n.data:null)})}processAndSet(e,t){if(u.default.system.debug(\"ConfigClient.processAndSet\",e),o.default.args(e,\"object\",t,\"function=\")&&o.default.args2(\"params.newConfig\",e.newConfig,\"object\",\"params.overwrite\",e.overwrite,\"boolean=\",\"params.replace\",e.replace,\"boolean=\"),!e.overwrite&&e.replace){const e=\"cannot use replace option unless overwrite is also true\";u.default.system.warn(\"ConfigClient.processAndSet:\",e),t&&t(e,null)}else this.routerClient.query(\"config.processAndSet\",e,(e,n)=>{t&&t(e,n?n.data:null)})}setPreference(e,t){this.routerClient.query(\"PreferencesService.setPreference\",e,(e,n)=>{t&&t(e,n?n.data:null)})}async getPreferences(e,t){u.default.system.debug(\"ConfigClient.getPreferences\",e),\"function\"==typeof e&&(t=e,e=null),await a.default.waitForStartup(\"preferencesService\"),this.routerClient.query(\"PreferencesService.getPreferences\",e,(e,n)=>{u.default.system.debug(\"ConfigClient.getPreferences response\",n),t&&t(e,n?n.data:null)})}}const l=new c({startupDependencies:{services:[\"configService\"]},onReady(e){e&&e()},name:\"configClient\"});t.default=l},function(e,t,n){\"use strict\";var i,r=\"object\"==typeof Reflect?Reflect:null,o=r&&\"function\"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&\"function\"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(){void 0!==o&&e.removeListener(\"error\",o),n([].slice.call(arguments))}var o;\"error\"!==t&&(o=function(n){e.removeListener(t,r),i(n)},e.once(\"error\",o)),e.once(t,r)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if(\"function\"!=typeof e)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,s,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit(\"newListener\",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if(\"function\"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=l(e))>0&&s.length>r&&!s.warned){s.warned=!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+s.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExceededWarning\",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:\"function\"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):m(r,r.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(a,\"defaultMaxListeners\",{enumerable:!0,get:function(){return u},set:function(e){if(\"number\"!=typeof e||e<0||s(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||s(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=\"error\"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error(\"Unhandled error.\"+(s?\" (\"+s.message+\")\":\"\"));throw a.context=s,a}var u=r[e];if(void 0===u)return!1;if(\"function\"==typeof u)o(u,this,t);else{var c=u.length,l=m(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit(\"removeListener\",e,n.listener||t));else if(\"function\"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit(\"removeListener\",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)\"removeListener\"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){\"use strict\";var i=n(24),r=\"object\"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function(\"return this\")();t.a=o},function(e,t,n){\"use strict\";(function(e){var n=\"object\"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(5))},function(e,t,n){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.FSBLDependencyManagerSingleton=t.FSBLDependencyManager=void 0;const r=n(22),o=i(n(7)),s=n(13),a=i(n(18)),u=i(n(0));class c extends r.EventEmitter{constructor(e){super(),this.callback=e.callback,this.dependencies=e.dependencies,this.startupTimer=null,this.setStartupTimer=this.setStartupTimer.bind(this),this.clearStartupTimer=this.clearStartupTimer.bind(this),this.setStartupTimer()}clearStartupTimer(){clearTimeout(this.startupTimer),delete this.startupTimer}setStartupTimer(){const e=this;this.startupTimer=+setTimeout(()=>{e.emit(\"timeout\")},1e4)}}function l(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return(\"x\"===e?t:3&t|8).toString(16)})}class d{constructor(){this.servicesAreAllOnline={},this.clientsAreAllOnline={},this.onlineClients=[],this.dependencies={},this.startupTimers={},this.startupTimerFired=!1,this.bindCorrectContext()}waitFor(e,t){const n=l();e.clients||(e.clients=[]),e.clients.length&&(e.clients=e.clients.map(e=>e.charAt(0).toLowerCase()+e.slice(1)));const i=new c({dependencies:e,callback:t});return i.on(\"timeout\",()=>{this.onDependencyTimeout(i)}),this.dependencies[n]=i,this.checkDependencies(),i}onDependencyTimeout(e){const t=this.getOfflineClients();let n=\"APPLICATION LIFECYCLE:STARTUP:Dependency not online after 10 seconds.\";t.length&&(n=`${n} Waiting for these clients: ${t.join(\", \")}.`),e.emit(\"err\",n)}checkDependencies(){for(const e in this.dependencies){const t=this.dependencies[e],{dependencies:n,callback:i}=t;(!n.clients.length||this.clientsAreAllOnline[e]||(this.clientsAreAllOnline[e]=this.checkClients(n.clients),this.clientsAreAllOnline[e]))&&(delete this.dependencies[e],t.clearStartupTimer(),i&&i())}}getOfflineClients(){let e=[];for(const t in this.dependencies){const{dependencies:n}=this.dependencies[t];e=e.concat(n.clients.filter(e=>!this.onlineClients.includes(e)))}return e.filter((t,n)=>e.indexOf(t)===n)}checkClients(e){return e.every(e=>this.onlineClients.includes(e))}setClientOnline(e){this.onlineClients.includes(e)||(this.onlineClients.push(e),this.checkDependencies())}getOnlineClients(){return this.onlineClients}bindCorrectContext(){this.checkDependencies=this.checkDependencies.bind(this),this.checkClients=this.checkClients.bind(this),this.getOfflineClients=this.getOfflineClients.bind(this),this.onDependencyTimeout=this.onDependencyTimeout.bind(this),this.waitFor=this.waitFor.bind(this)}}class f{constructor(){this.offlineServices=[],this.dependencies={},this.checkDependencies=this.checkDependencies.bind(this)}waitFor(e,t){u.default.system.debug(\"DependencyManager:waitFor\",e),e.services||(e.services=[]);const n=l();this.dependencies[n]={dependencies:e,callback:t}}checkDependencies(){if(console.debug(\"checkDependencies\",this.dependencies),Object.keys(this.dependencies))for(const e in this.dependencies){const{dependencies:t,callback:n}=this.dependencies[e];if(u.default.system.debug(\"DependencyManager:checkDependency\",t.services,this.offlineServices),t.services.length){if(!this.checkServices(t.services))continue}console.debug(\"checkDependencies callback\"),delete this.dependencies[e],n&&n()}}checkServices(e){return e.every(e=>this.offlineServices.includes(e))}setServiceOffline(e){u.default.system.debug(\"setServiceOffline\",e),console.debug(\"setServiceOffline\",e),this.offlineServices.push(e),this.checkDependencies()}}class h extends r.EventEmitter{constructor(){super(),this.startup=new d,this.shutdown=new f,this.RouterClient=o.default,this.AuthorizationCompleted=!1,this.bindCorrectContext(),this.onAuthorizationCompleted(this.startup.checkDependencies),o.default.onReady(this.listenForServices)}bindCorrectContext(){this.listenForServices=this.listenForServices.bind(this),this.onAuthorizationCompleted=this.onAuthorizationCompleted.bind(this)}setClientOnline(e){this.startup.setClientOnline(e)}onServiceStateChange(e){Object.keys(e).forEach(t=>{const{state:n}=e[t];\"closed\"===n&&this.shutdown.setServiceOffline(t)})}listenForServices(){u.default.system.debug(\"DependencyManager:listenForServices before wait\"),a.default.waitForBootStage(\"kernel\",\"stageEntered\",()=>{u.default.system.debug(\"DependencyManager:listenForServices after wait\"),this.RouterClient.subscribe(s.SERVICES_STATE_CHANNEL,(e,t)=>{u.default.system.debug(\"DependencyManager:listenForServices SERVICES_STATE_CHANNEL\",t.data),this.onServiceStateChange(t.data)}),this.RouterClient.addListener(s.SERVICE_CLOSED_CHANNEL,(e,t)=>{u.default.system.debug(\"DependencyManager:listenForServices SERVICE_CLOSED_CHANNEL\",t.data);const n={};n[t.data.name]={state:\"closed\"},this.onServiceStateChange(n)}),this.RouterClient.subscribe(s.APPLICATION_STATE_CHANNEL,(e,t)=>{switch(t.data.state){case\"authenticated\":case\"ready\":break;case\"closing\":this.shutdown.checkDependencies()}})})}onAuthorizationCompleted(e){this.AuthorizationCompleted?e():this.addListener(\"AuthorizationCompleted\",e)}}t.FSBLDependencyManager=h,t.FSBLDependencyManagerSingleton=new h,t.default=t.FSBLDependencyManagerSingleton},function(e,t,n){(function(e,n){var i=\"[object Arguments]\",r=\"[object Map]\",o=\"[object Object]\",s=\"[object Set]\",a=/^\\[object .+?Constructor\\]$/,u=/^(?:0|[1-9]\\d*)$/,c={};c[\"[object Float32Array]\"]=c[\"[object Float64Array]\"]=c[\"[object Int8Array]\"]=c[\"[object Int16Array]\"]=c[\"[object Int32Array]\"]=c[\"[object Uint8Array]\"]=c[\"[object Uint8ClampedArray]\"]=c[\"[object Uint16Array]\"]=c[\"[object Uint32Array]\"]=!0,c[i]=c[\"[object Array]\"]=c[\"[object ArrayBuffer]\"]=c[\"[object Boolean]\"]=c[\"[object DataView]\"]=c[\"[object Date]\"]=c[\"[object Error]\"]=c[\"[object Function]\"]=c[r]=c[\"[object Number]\"]=c[o]=c[\"[object RegExp]\"]=c[s]=c[\"[object String]\"]=c[\"[object WeakMap]\"]=!1;var l=\"object\"==typeof e&&e&&e.Object===Object&&e,d=\"object\"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function(\"return this\")(),h=t&&!t.nodeType&&t,p=h&&\"object\"==typeof n&&n&&!n.nodeType&&n,g=p&&p.exports===h,m=g&&l.process,y=function(){try{return m&&m.binding&&m.binding(\"util\")}catch(e){}}(),w=y&&y.isTypedArray;function b(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function v(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function S(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var C,_,T,E=Array.prototype,A=Function.prototype,I=Object.prototype,O=f[\"__core-js_shared__\"],L=A.toString,M=I.hasOwnProperty,D=(C=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+C:\"\",k=I.toString,N=RegExp(\"^\"+L.call(M).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),j=g?f.Buffer:void 0,W=f.Symbol,R=f.Uint8Array,P=I.propertyIsEnumerable,F=E.splice,x=W?W.toStringTag:void 0,B=Object.getOwnPropertySymbols,U=j?j.isBuffer:void 0,z=(_=Object.keys,T=Object,function(e){return _(T(e))}),H=ye(f,\"DataView\"),V=ye(f,\"Map\"),q=ye(f,\"Promise\"),$=ye(f,\"Set\"),G=ye(f,\"WeakMap\"),Y=ye(Object,\"create\"),Q=Se(H),K=Se(V),Z=Se(q),J=Se($),X=Se(G),ee=W?W.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new re;++t<n;)this.add(e[t])}function se(e){var t=this.__data__=new ie(e);this.size=t.size}function ae(e,t){var n=Te(e),i=!n&&_e(e),r=!n&&!i&&Ee(e),o=!n&&!i&&!r&&Me(e),s=n||i||r||o,a=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],u=a.length;for(var c in e)!t&&!M.call(e,c)||s&&(\"length\"==c||r&&(\"offset\"==c||\"parent\"==c)||o&&(\"buffer\"==c||\"byteLength\"==c||\"byteOffset\"==c)||ve(c,u))||a.push(c);return a}function ue(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1}function ce(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":x&&x in Object(e)?function(e){var t=M.call(e,x),n=e[x];try{e[x]=void 0;var i=!0}catch(e){}var r=k.call(e);i&&(t?e[x]=n:delete e[x]);return r}(e):function(e){return k.call(e)}(e)}function le(e){return Le(e)&&ce(e)==i}function de(e,t,n,a,u){return e===t||(null==e||null==t||!Le(e)&&!Le(t)?e!=e&&t!=t:function(e,t,n,a,u,c){var l=Te(e),d=Te(t),f=l?\"[object Array]\":be(e),h=d?\"[object Array]\":be(t),p=(f=f==i?o:f)==o,g=(h=h==i?o:h)==o,m=f==h;if(m&&Ee(e)){if(!Ee(t))return!1;l=!0,p=!1}if(m&&!p)return c||(c=new se),l||Me(e)?pe(e,t,n,a,u,c):function(e,t,n,i,o,a,u){switch(n){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!a(new R(e),new R(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return Ce(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case r:var c=v;case s:var l=1&i;if(c||(c=S),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;i|=2,u.set(e,t);var f=pe(c(e),c(t),i,o,a,u);return u.delete(e),f;case\"[object Symbol]\":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,n,a,u,c);if(!(1&n)){var y=p&&M.call(e,\"__wrapped__\"),w=g&&M.call(t,\"__wrapped__\");if(y||w){var b=y?e.value():e,C=w?t.value():t;return c||(c=new se),u(b,C,n,a,c)}}if(!m)return!1;return c||(c=new se),function(e,t,n,i,r,o){var s=1&n,a=ge(e),u=a.length,c=ge(t).length;if(u!=c&&!s)return!1;var l=u;for(;l--;){var d=a[l];if(!(s?d in t:M.call(t,d)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);var p=s;for(;++l<u;){d=a[l];var g=e[d],m=t[d];if(i)var y=s?i(m,g,d,t,e,o):i(g,m,d,e,t,o);if(!(void 0===y?g===m||r(g,m,n,i,o):y)){h=!1;break}p||(p=\"constructor\"==d)}if(h&&!p){var w=e.constructor,b=t.constructor;w==b||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof w&&w instanceof w&&\"function\"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,a,u,c)}(e,t,n,a,de,u))}function fe(e){return!(!Oe(e)||function(e){return!!D&&D in e}(e))&&(Ae(e)?N:a).test(Se(e))}function he(e){if(n=(t=e)&&t.constructor,i=\"function\"==typeof n&&n.prototype||I,t!==i)return z(e);var t,n,i,r=[];for(var o in Object(e))M.call(e,o)&&\"constructor\"!=o&&r.push(o);return r}function pe(e,t,n,i,r,o){var s=1&n,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,d=!0,f=2&n?new oe:void 0;for(o.set(e,t),o.set(t,e);++l<a;){var h=e[l],p=t[l];if(i)var g=s?i(p,h,l,t,e,o):i(h,p,l,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!b(t,(function(e,t){if(s=t,!f.has(s)&&(h===e||r(h,e,n,i,o)))return f.push(t);var s}))){d=!1;break}}else if(h!==p&&!r(h,p,n,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ge(e){return function(e,t,n){var i=t(e);return Te(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,De,we)}function me(e,t){var n,i,r=e.__data__;return(\"string\"==(i=typeof(n=t))||\"number\"==i||\"symbol\"==i||\"boolean\"==i?\"__proto__\"!==n:null===n)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}function ye(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return M.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:M.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?\"__lodash_hash_undefined__\":t,this},ie.prototype.clear=function(){this.__data__=[],this.size=0},ie.prototype.delete=function(e){var t=this.__data__,n=ue(t,e);return!(n<0)&&(n==t.length-1?t.pop():F.call(t,n,1),--this.size,!0)},ie.prototype.get=function(e){var t=this.__data__,n=ue(t,e);return n<0?void 0:t[n][1]},ie.prototype.has=function(e){return ue(this.__data__,e)>-1},ie.prototype.set=function(e,t){var n=this.__data__,i=ue(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},re.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(V||ie),string:new ne}},re.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},re.prototype.get=function(e){return me(this,e).get(e)},re.prototype.has=function(e){return me(this,e).has(e)},re.prototype.set=function(e,t){var n=me(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},oe.prototype.add=oe.prototype.push=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this},oe.prototype.has=function(e){return this.__data__.has(e)},se.prototype.clear=function(){this.__data__=new ie,this.size=0},se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ie){var i=n.__data__;if(!V||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new re(i)}return n.set(e,t),this.size=n.size,this};var we=B?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}(B(e),(function(t){return P.call(e,t)})))}:function(){return[]},be=ce;function ve(e,t){return!!(t=null==t?9007199254740991:t)&&(\"number\"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function Se(e){if(null!=e){try{return L.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function Ce(e,t){return e===t||e!=e&&t!=t}(H&&\"[object DataView]\"!=be(new H(new ArrayBuffer(1)))||V&&be(new V)!=r||q&&\"[object Promise]\"!=be(q.resolve())||$&&be(new $)!=s||G&&\"[object WeakMap]\"!=be(new G))&&(be=function(e){var t=ce(e),n=t==o?e.constructor:void 0,i=n?Se(n):\"\";if(i)switch(i){case Q:return\"[object DataView]\";case K:return r;case Z:return\"[object Promise]\";case J:return s;case X:return\"[object WeakMap]\"}return t});var _e=le(function(){return arguments}())?le:function(e){return Le(e)&&M.call(e,\"callee\")&&!P.call(e,\"callee\")},Te=Array.isArray;var Ee=U||function(){return!1};function Ae(e){if(!Oe(e))return!1;var t=ce(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}function Ie(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Oe(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}function Le(e){return null!=e&&\"object\"==typeof e}var Me=w?function(e){return function(t){return e(t)}}(w):function(e){return Le(e)&&Ie(e.length)&&!!c[ce(e)]};function De(e){return null!=(t=e)&&Ie(t.length)&&!Ae(t)?ae(e):he(e);var t}n.exports=function(e,t){return de(e,t)}}).call(this,n(5),n(20)(e))},function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.StorageClient=void 0;const r=i(n(65)),o=i(n(8)),s=i(n(0)),a=n(4),u=n(9),c=r.default(1);class l extends a._BaseClient{constructor(){super(...arguments),this.clientReady=!1,this.delete=this.remove}setUser(e,t){this.clientReady||s.default.system.error(\"storageClient invoked before ready\"),o.default.args(e.user,\"string\",t,\"function=\"),this.routerClient.query(\"Storage.setUser\",{user:e.user},(n,i)=>{(n?s.default.system.error:s.default.system.info)(\"APPLICATION LIFECYCLE:StorageClient.setUser\",e,n,i),t&&t(n,i.data)})}setStore(e,t){this.clientReady||s.default.system.error(\"storageClient invoked before ready\"),o.default.args(e.topic,\"string\",e.dataStore,\"string=\",t,\"function=\"),s.default.system.log(\"APPLICATION LIFECYCLE:StorageClient.setStore\",e,t),this.routerClient.query(\"Storage.setStore\",e,(e,n)=>{(e?s.default.system.error:s.default.system.info)(\"Storage.setStore\",e,n),t&&t(e,n.data)})}save(e,t){if(this.clientReady||s.default.system.error(\"storageClient invoked before ready\"),\"string\"!=typeof e.key||\"string\"!=typeof e.topic)throw new Error(\"Values for key and topic must be strings.\");return new Promise((n,i)=>{o.default.args(e.topic,\"string\",e.key,\"string\",e.value,\"any\",t,\"function=\"),this.routerClient.query(\"Storage.save\",e,(e,r)=>{(e?s.default.system.error:s.default.system.info)(\"Storage.save\",e,r),t&&t(e,r.data),e?i({err:e,data:null}):n({err:e,data:r.data})})})}save1(e){return c(()=>this.save(e))}get(e,t){if(this.clientReady||s.default.system.error(\"storageClient invoked before ready\"),\"string\"!=typeof e.key||\"string\"!=typeof e.topic)throw new Error(\"Values for key and topic must be strings.\");return new Promise((n,i)=>{o.default.args(e.topic,\"string\",e.key,\"string\",t,\"function=\"),this.routerClient.query(\"Storage.get\",e,(e,r)=>{if(e)return s.default.system.error(\"Storage.get\",e,r),t&&t(e,r?r.data:null),i(e,r?r.data:null);s.default.system.info(\"Storage.get\",e,r),t&&t(e,r.data),n(r.data)})})}get1(e,t){return c(()=>this.get(e,t))}async updateStorage(e){const{topic:t,key:n,updateFn:i}=e,r=await this.get({topic:t,key:n});return await this.save({topic:t,key:n,value:i(r)})}updateStorage1(e){return c(()=>this.updateStorage(e))}keys(e,t){this.clientReady||s.default.system.error(\"storageClient invoked before ready\"),o.default.args(e.topic,\"string\",t,\"function=\"),s.default.system.debug(\"StorageClient.keys\",e,t),this.routerClient.query(\"Storage.keys\",e,(e,n)=>{(e?s.default.system.error:s.default.system.info)(\"Storage.keys\",e,n),t&&t(e,n.data)})}keys1(e){return c(()=>u.promisify(this.keys.bind(this))(e))}getMultiple(e,t){this.clientReady||s.default.system.error(\"storageClient invoked before ready\"),s.default.system.info(\"StorageClient.getMultiple\",e,t),this.routerClient.query(\"Storage.getMultiple\",e,(n,i)=>{(n?s.default.system.error:s.default.system.info)(\"StorageClient.getMultiple:\",e,i),t&&t(n,i)})}remove(e,t){this.clientReady||s.default.system.error(\"storageClient invoked before ready\");return new Promise((n,i)=>{o.default.args(e.topic,\"string\",e.key,\"string\",t,\"function=\"),this.routerClient.query(\"Storage.delete\",e,(e,r)=>{(e?s.default.system.error:s.default.system.info)(\"StorageClient.delete\",e,r),t&&t(e,r.data),e?i({err:e,data:null}):n({err:e,data:r.data})})})}remove1(e){return c(()=>this.remove(e))}clearCache(e){s.default.system.log(\"StorageClient.clearCache\",e),this.routerClient.query(\"Storage.clearCache\",null,(t,n)=>{(t?s.default.system.error:s.default.system.info)(\"StorageClient.clearCache\",t,n),e&&e(t,n.data)})}}t.StorageClient=l;var d=new l({onReady(e){e&&e(),d.clientReady=!0},name:\"storageClient\"});t.default=d},function(e,t,n){\"use strict\";(function(e,i){var r,o=n(3);r=o.c?e.nextTick:o.d?i:o.b,t.a=Object(o.e)(r)}).call(this,n(19),n(32).setImmediate)},function(e,t,n){var i=n(33),r=n(34),o=i(),s=[1|o[0],o[1],o[2],o[3],o[4],o[5]],a=16383&(o[6]<<8|o[7]),u=0,c=0;e.exports=function(e,t,n){var i=t&&n||0,o=t||[],l=void 0!==(e=e||{}).clockseq?e.clockseq:a,d=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:c+1,h=d-u+(f-c)/1e4;if(h<0&&void 0===e.clockseq&&(l=l+1&16383),(h<0||d>u)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");u=d,c=f,a=l;var p=(1e4*(268435455&(d+=122192928e5))+f)%4294967296;o[i++]=p>>>24&255,o[i++]=p>>>16&255,o[i++]=p>>>8&255,o[i++]=255&p;var g=d/4294967296*1e4&268435455;o[i++]=g>>>8&255,o[i++]=255&g,o[i++]=g>>>24&15|16,o[i++]=g>>>16&255,o[i++]=l>>>8|128,o[i++]=255&l;for(var m=e.node||s,y=0;y<6;++y)o[i+y]=m[y];return t||r(o)}},function(e,t,n){\"use strict\";(function(e){var i=n(24),r= true&&exports&&!exports.nodeType&&exports,o=r&&\"object\"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r&&i.a.process,a=function(){try{var e=o&&o.require&&o.require(\"util\").types;return e||s&&s.binding&&s.binding(\"util\")}catch(e){}}();t.a=a}).call(this,n(31)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,\"exports\",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){(function(e){var i=void 0!==e&&e||\"undefined\"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(50),t.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(e,t,n){(function(t){var n,i=t.crypto||t.msCrypto;if(i&&i.getRandomValues){var r=new Uint8Array(16);n=function(){return i.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(5))},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+\"-\"+r[e[i++]]+r[e[i++]]+\"-\"+r[e[i++]]+r[e[i++]]+\"-\"+r[e[i++]]+r[e[i++]]+\"-\"+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]}},function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */Object.defineProperty(t,\"__esModule\",{value:!0}),t.LocalLogger=void 0;const{debug:i,warn:r,log:o,error:s}=console,a=()=>{},u=a,c={warn:r,info:a,log:o,debug:i,error:s,verbose:u},l={Error:!0,Warn:!0,Info:!0,Log:!0,Debug:!0,Verbose:!0,LocalOnly:!1},d={console:{Error:!0,Warn:!0,Info:!0,Log:!0,Debug:!0},dev:l,system:l,perf:l};function f(e){return\"logger.service.logMessages\"===e}t.LocalLogger=class{constructor(){this.start=()=>{},this.isLogMessage=f,this.setting=()=>d,this.callStack=()=>function(){const{stack:e}=function(){try{throw Error(\"\")}catch(e){return e}}(),t=(n=\"\\n\",i=4,e.split(n,i).join(n).length);var n,i;return\"Log Stack: \\n\"+e.substring(t).substr(1)}(),this.unregisterClient=()=>{},this.setRouterClient=()=>{},this.warn=r,this.info=a,this.log=o,this.debug=i,this.error=s,this.verbose=u,this.system=c,this.perf=c}}},function(e,t,n){var i=n(29),r=n(59),o=r;o.v1=i,o.v4=r,e.exports=o},function(e,t,n){(function(t){var n=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,i=/^\\w*$/,r=/^\\./,o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,s=/\\\\(\\\\)?/g,a=/^\\[object .+?Constructor\\]$/,u=\"object\"==typeof t&&t&&t.Object===Object&&t,c=\"object\"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function(\"return this\")();var d,f=Array.prototype,h=Function.prototype,p=Object.prototype,g=l[\"__core-js_shared__\"],m=(d=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+d:\"\",y=h.toString,w=p.hasOwnProperty,b=p.toString,v=RegExp(\"^\"+y.call(w).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),S=l.Symbol,C=f.splice,_=j(l,\"Map\"),T=j(Object,\"create\"),E=S?S.prototype:void 0,A=E?E.toString:void 0;function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function L(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function M(e,t){for(var n,i,r=e.length;r--;)if((n=e[r][0])===(i=t)||n!=n&&i!=i)return r;return-1}function D(e,t){for(var r,o=0,s=(t=function(e,t){if(F(e))return!1;var r=typeof e;if(\"number\"==r||\"symbol\"==r||\"boolean\"==r||null==e||B(e))return!0;return i.test(e)||!n.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:F(r=t)?r:W(r)).length;null!=e&&o<s;)e=e[R(t[o++])];return o&&o==s?e:void 0}function k(e){return!(!x(e)||(t=e,m&&m in t))&&(function(e){var t=x(e)?b.call(e):\"\";return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t}(e)||function(e){var t=!1;if(null!=e&&\"function\"!=typeof e.toString)try{t=!!(e+\"\")}catch(e){}return t}(e)?v:a).test(function(e){if(null!=e){try{return y.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}(e));var t}function N(e,t){var n,i,r=e.__data__;return(\"string\"==(i=typeof(n=t))||\"number\"==i||\"symbol\"==i||\"boolean\"==i?\"__proto__\"!==n:null===n)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}function j(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return k(n)?n:void 0}I.prototype.clear=function(){this.__data__=T?T(null):{}},I.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},I.prototype.get=function(e){var t=this.__data__;if(T){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return w.call(t,e)?t[e]:void 0},I.prototype.has=function(e){var t=this.__data__;return T?void 0!==t[e]:w.call(t,e)},I.prototype.set=function(e,t){return this.__data__[e]=T&&void 0===t?\"__lodash_hash_undefined__\":t,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function(e){var t=this.__data__,n=M(t,e);return!(n<0)&&(n==t.length-1?t.pop():C.call(t,n,1),!0)},O.prototype.get=function(e){var t=this.__data__,n=M(t,e);return n<0?void 0:t[n][1]},O.prototype.has=function(e){return M(this.__data__,e)>-1},O.prototype.set=function(e,t){var n=this.__data__,i=M(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},L.prototype.clear=function(){this.__data__={hash:new I,map:new(_||O),string:new I}},L.prototype.delete=function(e){return N(this,e).delete(e)},L.prototype.get=function(e){return N(this,e).get(e)},L.prototype.has=function(e){return N(this,e).has(e)},L.prototype.set=function(e,t){return N(this,e).set(e,t),this};var W=P((function(e){var t;e=null==(t=e)?\"\":function(e){if(\"string\"==typeof e)return e;if(B(e))return A?A.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}(t);var n=[];return r.test(e)&&n.push(\"\"),e.replace(o,(function(e,t,i,r){n.push(i?r.replace(s,\"$1\"):t||e)})),n}));function R(e){if(\"string\"==typeof e||B(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function P(e,t){if(\"function\"!=typeof e||t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(P.Cache||L),n}P.Cache=L;var F=Array.isArray;function x(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function B(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&\"[object Symbol]\"==b.call(e)}e.exports=function(e,t,n){var i=null==e?void 0:D(e,t);return void 0===i?n:i}}).call(this,n(5))},function(e,t,n){\"use strict\";n.r(t);var i=n(0),r=n.n(i),o=n(10),s=n(2),a=n(18),u=n.n(a);\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nlet c=null;t.default=new function(){const e={},t={};let i=null;this.getDefaultTemplateURL=function(e){i?setTimeout(()=>{e(i)},0):(c||(c=n(21).default),c.get({field:\"finsemble\"},(t,n)=>{i=o.ConfigUtilInstance.getDefault(n,\"finsemble.notificationURL\",n.moduleRoot+\"/components/system/notification/notification.html\"),e(i)}))},this.alert=function(e,t,n,i,r){const o=this;r&&r.url?this.alertInternal(e,t,n,i,r,r.url):this.getDefaultTemplateURL(s=>{o.alertInternal(e,t,n,i,r,s)})},this.alertInternal=function(n,i,o,a,c,l){let d=!1;const f=\"UserNotification.alert.\"+o,h=(c=c||{}).duration||864e5;switch(i){case\"ONCE-SINCE-STARTUP\":f in e?d=!1:(d=!0,e[f]=!0);break;case\"MAX-COUNT\":{let e=0;const n=c.maxCount||1;f in t&&(e=t[f]),t[f]=++e,e<=n&&(d=!0);break}default:d=!0}if(r.a.log(\"UserNotification.alert\",n,d,i,o,a,c),d){const e={url:l,message:a,timeout:h};u.a.systemLog({notification:!0},\"Notification: \"+a),new s.System.Notification(e)}}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CHECKPOINT_CHANNEL_BASE=t.STAGE_CHANNEL=t.STATUS_CHANNEL_BASE=t.SHOW_SYSLOG_CHANNEL=t.SYSLOG_CHANNEL=t.CRITICAL_BOOT_STAGES=t.ALL_BOOT_STAGES=void 0,t.ALL_BOOT_STAGES=[\"microkernel\",\"kernel\",\"authentication\",\"preuser\",\"earlyuser\",\"user\"],t.CRITICAL_BOOT_STAGES=[\"microkernel\",\"kernel\",\"authentication\"],t.SYSLOG_CHANNEL=\"systemManager.systemlog\",t.SHOW_SYSLOG_CHANNEL=\"systemManager.showSystemlog\",t.STATUS_CHANNEL_BASE=\"systemManager.boot.status\",t.STAGE_CHANNEL=\"systemManager.boot.stage\",t.CHECKPOINT_CHANNEL_BASE=\"systemManager.checkpoint\"},function(e,t,n){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const r=i(n(7)),o=i(n(0)),s=i(n(64));t.default=class{constructor(e){this.eventList=[],this.eventHandlerMap={},this.eventGuidMap={},this.name=e.name,this.sourceType=e.sourceType,window.addEventListener(\"beforeunload\",()=>{this.cleanup()})}addListener(e,t){return this.addEventListener(e,t)}removeListener(e,t){return this.removeEventListener(e,t)}addEventListener(e,t){if(!t)return console.error(\"no handler\",e);if(o.default.system.debug(\"addEventListener:\",e),this.eventHandlerMap[e]||(this.eventHandlerMap[e]=[],this.eventGuidMap[e]=[]),!this.eventHandlerMap[e].includes(t)){const n=`${window.name}_public_${Date.now()}_${Math.random()}`;this.eventHandlerMap[e].push(t),this.eventGuidMap[e].push(n),r.default.transmit(\"Finsemble.RegisterInterruptibleEvent.\"+this.name,{event:e,listenerGuid:n}),r.default.addResponder(\"Finsemble.Interrupt.\"+n,(i,r)=>{new s.default({source:this.name,sourceType:this.sourceType,listenerGuid:n,handler:t,event:e},r)})}}removeEventListener(e,t){if(o.default.system.debug(\"removeEventListener:\",e),!this.eventHandlerMap[e])return o.default.system.warn(\"not found\");let n=this.eventHandlerMap[e].indexOf(t);if(-1!==n){const t=this.eventGuidMap[e][n];this.eventHandlerMap[e].splice(n,1),this.eventGuidMap[e].splice(n,1),r.default.transmit(\"Finsemble.UnregisterInterruptibleEvent.\"+window.name,{event:e,guid:t}),r.default.removeResponder(\"Finsemble.Interrupt.\"+t)}}cleanup(){for(var e of Object.keys(this.eventHandlerMap))for(var t of this.eventHandlerMap[e])this.removeEventListener(e,t)}}},function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(22),o=n(4),s=i(n(7)),a=i(n(0)),u=n(67).dictionary,c=window,l=new r.EventEmitter;function d(e,t=u){const n=[];return e.keys.forEach(e=>{if(\"string\"!=typeof e)return a.default.system.error(\"FSBL.Clients.HotkeyClient - one of the keys passed into a function was not a string: \",e);e=e.toLowerCase();const i=t[e];if(!i)return a.default.system.error(\"FSBL.Clients.HotkeyClient - At least one of the key codes does not map to a supported key - registering hotkey unsuccessful. Unsupported keys: \"+e);n.push(i)}),n}const f=function(e){this.cb=e,this.shift=!1,this.ctrl=!1,this.cmd=!1,this.capsLock=!1,this.initialize()};f.prototype.keyup=function(e){switch(e.key){case\"Shift\":return this.shift=!1,void this.cb({key:e.key,e:e,keystroke:this});case\"Control\":case\"Alt\":return this.ctrl=!1,void this.cb({key:e.key,e:e,keystroke:this});case\"Meta\":case\"Win\":return this.cmd=!1,void this.cb({key:e.key,e:e,keystroke:this})}this.key&&this.cb({key:this.key,e:e,keystroke:this})},f.prototype.keydown=function(e){if(!this.noKeyCapture)switch(this.key=e.key,e.key){case\"Meta\":case\"Win\":this.cmd=!0;break;case\"Shift\":this.shift=!0;break;case\"Control\":case\"Alt\":this.ctrl=!0;break;case\"CapsLock\":this.capsLock=!this.capsLock;break;case\"ArrowUp\":case\"ArrowDown\":case\"ArrowLeft\":case\"ArrowRight\":case\"Up\":case\"Down\":case\"Left\":case\"Right\":this.key=null,this.cb({key:e.key,e:e,keystroke:this})}},f.prototype.keypress=function(e){if(this.noKeyCapture)return;const t=e.which;t<32||t>222||(this.key=e.key)},f.prototype.initialize=function(){const e=this;document.addEventListener(\"keyup\",t=>{e.keyup(t)}),document.addEventListener(\"keydown\",t=>{e.downValue=t.key,e.keydown(t)}),document.addEventListener(\"keypress\",t=>{e.keypress(t)}),window.addEventListener(\"blur\",t=>{e.ctrl=!1,e.cb({key:\"Control\",e:t,keystroke:e})})};const h=[];class p extends o._BaseClient{constructor(e){super(e),this.onClose=e=>{this.removeAllHotkeys(e)},this.keyMap=u,this.listenForHotkeys=this.listenForHotkeys.bind(this),this.routerClient=s.default,this.routerClient.onReady(this.listenForHotkeys),this.localListeners={}}addLocalHotkey(e,t,n=(()=>{})){a.default.system.info(\"HotkeyClient.addLocalHotkey\"),a.default.system.debug(\"HotkeyClient.addLocalHotkey, keyArr: \",e);const i=d({keys:e}).sort().toString(),r=()=>{document.hasFocus()&&t()};this.localListeners[i]||(this.localListeners[i]={}),this.localListeners[i][t]=r,l.addListener(i,r),this.routerClient.query(\"hotkeysService.registerGlobalHotkey\",{keys:i,windowName:this.windowName},n)}addBrowserHotkey(e,t){this.KeyStroke||(this.KeyStroke=new f(e=>{const{key:t,keystroke:n}=e,i=[t];n.ctrl&&i.push(\"control\"),n.shift&&i.push(\"shift\"),n.alt&&i.push(\"alt\");const r=i.sort().toString();h.forEach(e=>{e.keyString.toUpperCase()===r.toUpperCase()&&e.handler()})}));const n=d({keys:e}).sort().toString();h.push({keyString:n,handler:t})}removeLocalHotkey(e,t,n=(()=>{})){a.default.system.info(\"HotkeyClient.removeLocalHotkey\"),a.default.system.debug(\"HotkeyClient.removeLocalHotkey, keyArr: \",e);const i=d({keys:e}).sort().toString(),r=this.localListeners[i][t];l.removeListener(i,r),this.routerClient.query(\"hotkeysService.unregisterGlobalHotkey\",{keys:i,windowName:this.windowName},n)}addGlobalHotkey(e,t,n=(()=>{})){a.default.system.info(\"HotkeyClient.addGlobalHotkey\"),a.default.system.debug(\"HotkeyClient.addGlobalHotkey, keyArr: \",e);const i=d({keys:e}).sort().join(\"+\");l.addListener(i,t),this.routerClient.query(\"hotkeysService.registerGlobalHotkey\",{keys:i,windowName:this.windowName},n)}removeGlobalHotkey(e,t,n=(()=>{})){a.default.system.info(\"HotkeyClient.removeGlobalHotkey\"),a.default.system.debug(\"HotkeyClient.removeGlobalHotkey, keyArr: \",e);const i=d({keys:e}).sort().join(\"+\");l.removeListener(i,t),this.routerClient.query(\"hotkeysService.unregisterGlobalHotkey\",{keys:i,windowName:this.windowName},n)}listenForHotkeys(){const e=this;this.routerClient.addListener(\"HotkeyTriggered\",(t,n)=>{t?console.error(\"Hotkey Channel Error: \"+JSON.stringify(t)):n.data.windows.includes(e.windowName)&&l.emit(n.data.keys)})}removeAllHotkeys(e){l.removeAllListeners(),this.routerClient.query(\"hotkeysService.removeAllHotkeysForWindow\",{windowName:this.windowName},e)}}const g=new p({onReady(e){e&&e()},name:\"hotkeyClient\"});c.Keystroke=f,t.default=g},function(e,t,n){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nconst r=n(12),o=i(n(8)),s=n(4),a=i(n(14)),u=i(n(16)),c=i(n(17)),l=i(n(0));l.default.system.debug(\"Starting LinkerClient\");const d=l.default.system.info,f=l.default.system.debug,h=n(26);function p(e){return e.windowName.replace(/\\./g,\"_\")}function g(e,t){return t&&t(null,e),e}class m extends s._BaseClient{constructor(e){super(e),this.stateChangeListeners=[],this.allChannels=[],this.channels={},this.clients={},this.channelListenerList=[],this.dataListenerList={},this.handleListeners=(e,t)=>{const n=this.dataListenerList[t.data.type];if(n&&n.length>0)for(let e=0;e<n.length;e++)n[e](t.data.data,{data:t.data.data,header:t.header,originatedHere:t.originatedHere})},this.onClose=e=>{const t=p(this.windowClient.getWindowIdentifier());this.clients[t]&&(this.clients[t]=null,this.updateClientInStore(t)),this.linkerStore.removeListener({field:\"clients.\"+t},this.clientsKeyValueChangeStoreListener,(e,n)=>{n||l.default.system.warn(\"Linker Client Onclose: clientsKeyValueChangeStoreListener removeListener failed\",t)}),this.linkerStore.removeListener({field:{}},this.anyFieldChangeStoreListener,(e,t)=>{t||l.default.system.warn(\"Linker Client Onclose: anyFieldChangeStoreListener removeListener failed\")}),l.default.system.debug(\"LINKER-4 cleanup\",t),e&&e()},this.groups=this.channels,this.allGroups=this.allChannels,this.onLinksUpdate={push:e=>{this.stateChangeListeners.push((t,n)=>{n&&(n.groups=n.channels),e(t,{groups:n})})}},this.linkerWindow=null,this.loading=!1,o.default.args(e,\"object=\")&&e&&o.default.args2(\"params.onReady\",e.onReady,\"function=\"),this.launcherClient=e.clients.launcherClient,this.windowClient=e.clients.windowClient,this.distributedStoreClient=e.clients.distributedStoreClient,this.clientsKeyValueChangeStoreListener=this.clientsKeyValueChangeStoreListener.bind(this),this.anyFieldChangeStoreListener=this.anyFieldChangeStoreListener.bind(this)}getChannel(e){return this.allChannels.filter(t=>t.name===e).length>0}createChannel(e,t){return d(\"LinkerClient.createChannel\",\"PARAMS\",e),o.default.args(e,\"object\"),e.name?this.getChannel(e.name)?(f(`LinkerClient.createChannel: Channel ${e.name} Already Exists`),g(this.allChannels,t)):(this.allChannels.push(e),this.allGroups=this.allChannels,this.linkerStore.setValue({field:\"channels\",value:this.allChannels}),g(this.allChannels,t)):(f(\"LinkerClient.createChannel: Name is required\"),g(this.allChannels,t))}removeChannel(e,t){if(d(\"LinkerClient.removeChannel\",\"NAME\",e),o.default.args(e,\"string\"),!this.getChannel(e))return f(`Channel ${e}does not exist`,null),g(this.allChannels,t);const n=this.allChannels;for(let t=0;t<n.length;t++)if(e===n[t].name){n.splice(t,1);break}this.linkerStore.setValue({field:\"channels\",value:this.allChannels});const{clients:i}=this;for(const t in i){const n=i[t];for(const t in n.channels)if(e===t){delete n[t];break}}return this.linkerStore.setValue({field:\"clients\",value:this.clients}),g(this.allChannels,t)}updateClientInStore(e){this.linkerStore.setValue({field:\"clients.\"+e,value:this.clients[e]})}linkToChannel(e,t,n){d(\"LinkerClient.linkToChannel\",\"CHANNEL\",e,\"COMPONENT\",t),o.default.args(e,\"string\",t),t||(t=this.windowClient.getWindowIdentifier());const i=p(t);if(this.clients[i]||(this.clients[i]={client:t,channels:{}}),Array.isArray(e))for(let t=0;t<e.length;t++)this.clients[i].channels[e[t]]=!0;else this.clients[i].channels[e]=!0;return this.updateClientInStore(i),g(this.getState(t),n)}unlinkFromChannel(e,t,n){d(\"LinkerClient.unlinkFromChannel\",\"CHANNEL\",e,\"WINDOW IDENTIFIER\",t),o.default.args(e,\"string\",t),t||(t=this.windowClient.getWindowIdentifier());const i=p(t),r=this.clients[i];if(Array.isArray(e))for(let t=0;t<e.length;t++)delete r.channels[e[t]];else if(e){if(!r||!r.channels[e]){const r=this.clients[i];return f(\"Component was not in specified channel \"+e,r,r.channels[e]),g(this.getState(t),n)}delete r.channels[e]}else for(const e in r.channels)delete r.channels[e];return this.updateClientInStore(i),g(this.getState(t),n)}getAllChannels(e){return d(\"LinkerClient.getAllChannels\"),g(this.allChannels,e)}getState(e,t){d(\"LinkerClient.getState\",\"WINDOW IDENTIFIER\",e);const n={channels:[],allChannels:this.allChannels};if(e||(e=this.windowClient.getWindowIdentifier()),!Object.keys(this.clients).length)return g(n,t);const i=p(e),r=this.clients[i];return r?(n.channels=this.allChannels.filter(e=>r.channels&&!0===r.channels[e.name]),l.default.system.debug(\"LINKER-3\",this.allChannels,\"state.channels\",n.channels,\"key\",i,\"windowIdentifier\",e,\"componentEntry\",r),r.active||(r.active=!0,this.linkerStore.setValue({field:\"clients.\"+i,value:r})),g(n,t)):g(n,t)}unsubscribe(e,t){d(\"LinkerClient.unsubscribe\",\"DATA TYPE\",e),o.default.args(e,\"string\"),this.dataListenerList[e]&&(t?this.dataListenerList[e]=this.dataListenerList[e].filter(e=>e!==t):delete this.dataListenerList[e])}publish(e,t){d(\"LinkerClient.publish\",\"PARAMS\",e),o.default.args(e.dataType,\"string\",e.data,\"any\");let{channels:n}=e;n||(n=Object.keys(this.channels));for(let t=0;t<n.length;t++){const i=n[t];this.routerClient.transmit(`${i}.${e.dataType}`,{type:e.dataType,data:e.data}),this.routerClient.transmit(i,{type:e.dataType,data:e.data})}return g({},t)}subscribe(e,t){d(\"LinkerClient.subscribe\",\"DATA TYPE\",e),o.default.args(e,\"string\",t,\"function\"),this.dataListenerList[e]?this.dataListenerList[e].includes(t)||this.dataListenerList[e].push(t):this.dataListenerList[e]=[t]}getLinkedComponents(e,t){d(\"LinkerClient.getLinkedComponents\",\"PARAMS\",e);const n=[];if(e||(e={}),e.channels&&!Array.isArray(e.channels)&&(o.default.args(e.channels,\"string\"),e.channels=[e.channels]),e.componentTypes&&!Array.isArray(e.componentTypes)&&(o.default.args(e.componentTypes,\"string\"),e.componentTypes=[e.componentTypes]),e.componentTypes&&o.default.args(e.componentTypes,\"array\"),e.windowIdentifier){const t=p(e.windowIdentifier),n=Object.keys(this.clients[t].channels);e.channels?e.channels=e.channels.filter(e=>n.includes(e)):e.channels=n}e.channels||(e.channels=this.getAllChannels().map(e=>e.name));for(const t in this.clients){let i=this.clients[t];if(!i)continue;i.channels||(i=i[Object.keys(i)[0]]);const r=Object.keys(i.channels).filter(t=>e.channels.includes(t)).length;let o=!0;e.componentTypes&&(o=e.componentTypes.includes(i.client.componentType)),i.active&&r&&o&&n.push({windowName:i.client.windowName,componentType:i.client.componentType,uuid:i.client.uuid,channels:Object.keys(i.channels)})}return g(n,t)}updateListeners(){for(let e=this.channelListenerList.length-1;e>=0;e--){const t=this.channelListenerList[e];Object.keys(this.channels).filter(e=>e==t).length||(this.routerClient.removeListener(t,this.handleListeners),this.channelListenerList.splice(e,1))}const e=Object.keys(this.channels);for(let t=0;t<e.length;t++){const n=e[t];this.channelListenerList.includes(n)||(this.routerClient.addListener(n,this.handleListeners),this.channelListenerList.push(n))}const t=this.getState();for(let e=0;e<this.stateChangeListeners.length;e++)this.stateChangeListeners[e](null,t)}onStateChange(e){this.stateChangeListeners.push(e)}persistState(e){console.info(\"saving state\",e),this.windowClient.setComponentState({field:\"Finsemble_Linker\",value:e})}clientsKeyValueChangeStoreListener(e,t){if(f(\"My Channels Updated\"),!t.value)return;const n=t.value.channels||t.value.groups,i=h(n,this.channels);n&&!i&&(this.persistState(n),this.channels=n,this.updateListeners())}anyFieldChangeStoreListener(e,t){const{values:n}=t.value;this.allChannels=n.channels,n.groups&&(this.allChannels=n.groups),l.default.system.debug(\"LINKER-2\",this.allChannels),this.allGroups=this.allChannels,this.clients=n.clients}start(e){this.dontPersistYet=!0,f(\"LinkerClient Loading Channels\");const t=this.windowClient.getWindowIdentifier(),n=p(t);this.distributedStoreClient.getStore({store:\"Finsemble_Linker\",global:!0},(i,r)=>{this.linkerStore=r,r.getValues([\"channels\",\"clients.\"+n],(i,r)=>{r&&r.channels&&(this.allChannels=r.channels,l.default.system.debug(\"LINKER-1\",this.allChannels),this.allGroups=this.allChannels),this.windowClient.getComponentState({field:\"Finsemble_Linker\"},(i,o)=>{var s;this.channels=[],this.clients[n]={client:t,active:!0,channels:{}},o?(this.channels=o,this.clients[n].channels=o):(null===(s=r[\"clients.\"+n])||void 0===s?void 0:s.channels)&&(this.clients[n].channels=r[\"clients.\"+n].channels),this.updateClientInStore(n);const a=this.windowClient.getSpawnData();if(a&&a.linker){let e=a.linker.channels;a.linker.groups&&(e=a.linker.groups),this.linkToChannel(e,t)}else this.updateListeners();e()})}),r.addListener({field:\"clients.\"+n},this.clientsKeyValueChangeStoreListener),r.addListener({},this.anyFieldChangeStoreListener)})}hyperFocus(e){this.launcherClient.hyperFocus({windowList:this.getLinkedComponents({channels:e})})}bringAllToFront(e){const{channel:t,restoreWindows:n}=e;this.launcherClient.bringWindowsToFront({restoreWindows:n,windowList:this.getLinkedComponents({channels:t})})}createGroup(e,t){return this.createChannel(e,t)}deleteGroup(e,t){return this.removeChannel(e,t)}addToGroup(e,t,n){const i=this.linkToChannel(e,t);return n&&n(null,i),i}removeFromGroup(e,t,n){const i=this.unlinkFromChannel(e,t);return n&&n(null,i),i}getAllGroups(e){const t=this.getAllChannels();return e&&e(t),t}getGroups(e,t){const n=this.getState(e);return n.groups=n.channels,g(n,t)}unSubscribe(e,t){this.unsubscribe(e,t)}getLinkedWindows(e,t){return e||(e={}),e.groups=e.channels,e.windowIdentifier=e.client,this.getLinkedComponents(e,t)}windowIdentifier(e,t){return g(this.windowClient.getWindowIdentifier(),t)}openLinkerWindow(e){if(o.default.args(e,\"function\"),this.loading)return;const t=()=>{this.routerClient.query(\"Finsemble.LinkerWindow.Show\",{groups:this.getGroups().groups,windowIdentifier:this.windowClient.getWindowIdentifier(),windowBounds:this.windowClient.getWindowBounds()},()=>{})};this.linkerWindow?this.linkerWindow.isShowing(e=>{e?this.linkerWindow.hide():t()}):t()}}function y(e){return(e=e||{}).windowClient||(e.windowClient=a.default),e.launcherClient||(e.launcherClient=u.default),e.distributedStoreClient||(e.distributedStoreClient=c.default),new m({clients:e,startupDependencies:{clients:[\"windowClient\",\"distributedStoreClient\",\"launcherClient\"]},onReady(t){f(\"Linker onReady\"),setTimeout(()=>{r.parallel([e=>{w.start(e)},t=>{e.launcherClient.onReady(t)}],t)},0)},name:\"linkerClient\"})}const w=y();w.constructInstance=y,t.default=w},function(e,t,n){\"use strict\";(function(e){var i=n(23),r=n(44),o= true&&exports&&!exports.nodeType&&exports,s=o&&\"object\"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?i.a.Buffer:void 0,u=(a?a.isBuffer:void 0)||r.a;t.a=u}).call(this,n(31)(e))},function(e,t,n){\"use strict\";t.a=function(){return!1}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const i=n(54),r=n(55),o=n(57),s=()=>{},a=new r.TimeoutError;t.default=class extends i{constructor(e){if(super(),Object.defineProperty(this,\"_carryoverConcurrencyCount\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_isIntervalIgnored\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_intervalCount\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"_intervalCap\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_interval\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_intervalEnd\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"_intervalId\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_timeoutId\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_queue\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_queueClass\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_pendingCount\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"_concurrency\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_isPaused\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_resolveEmpty\",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,\"_resolveIdle\",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,\"_timeout\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"_throwOnTimeout\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!(\"number\"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${e.intervalCap}\\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${e.interval}\\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother()}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s)}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit(\"active\"),this._queue.dequeue()(),e&&this._initializeIntervalIfNeeded(),!0}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(\"number\"==typeof e&&e>=1))throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${e}\\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,i)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{const o=void 0===this._timeout&&void 0===t.timeout?e():r.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&i(a)});n(await o)}catch(e){i(e)}this._next()},t),this._tryToStartAnother()})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}set timeout(e){this._timeout=e}get timeout(){return this._timeout}}},function(e,t,n){(function(e,n){var i=\"[object Arguments]\",r=\"[object Function]\",o=\"[object GeneratorFunction]\",s=\"[object Map]\",a=\"[object Set]\",u=/\\w*$/,c=/^\\[object .+?Constructor\\]$/,l=/^(?:0|[1-9]\\d*)$/,d={};d[i]=d[\"[object Array]\"]=d[\"[object ArrayBuffer]\"]=d[\"[object DataView]\"]=d[\"[object Boolean]\"]=d[\"[object Date]\"]=d[\"[object Float32Array]\"]=d[\"[object Float64Array]\"]=d[\"[object Int8Array]\"]=d[\"[object Int16Array]\"]=d[\"[object Int32Array]\"]=d[s]=d[\"[object Number]\"]=d[\"[object Object]\"]=d[\"[object RegExp]\"]=d[a]=d[\"[object String]\"]=d[\"[object Symbol]\"]=d[\"[object Uint8Array]\"]=d[\"[object Uint8ClampedArray]\"]=d[\"[object Uint16Array]\"]=d[\"[object Uint32Array]\"]=!0,d[\"[object Error]\"]=d[r]=d[\"[object WeakMap]\"]=!1;var f=\"object\"==typeof e&&e&&e.Object===Object&&e,h=\"object\"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function(\"return this\")(),g=t&&!t.nodeType&&t,m=g&&\"object\"==typeof n&&n&&!n.nodeType&&n,y=m&&m.exports===g;function w(e,t){return e.set(t[0],t[1]),e}function b(e,t){return e.add(t),e}function v(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function S(e){var t=!1;if(null!=e&&\"function\"!=typeof e.toString)try{t=!!(e+\"\")}catch(e){}return t}function C(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function _(e,t){return function(n){return e(t(n))}}function T(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var E,A=Array.prototype,I=Function.prototype,O=Object.prototype,L=p[\"__core-js_shared__\"],M=(E=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+E:\"\",D=I.toString,k=O.hasOwnProperty,N=O.toString,j=RegExp(\"^\"+D.call(k).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),W=y?p.Buffer:void 0,R=p.Symbol,P=p.Uint8Array,F=_(Object.getPrototypeOf,Object),x=Object.create,B=O.propertyIsEnumerable,U=A.splice,z=Object.getOwnPropertySymbols,H=W?W.isBuffer:void 0,V=_(Object.keys,Object),q=me(p,\"DataView\"),$=me(p,\"Map\"),G=me(p,\"Promise\"),Y=me(p,\"Set\"),Q=me(p,\"WeakMap\"),K=me(Object,\"create\"),Z=Se(q),J=Se($),X=Se(G),ee=Se(Y),te=Se(Q),ne=R?R.prototype:void 0,ie=ne?ne.valueOf:void 0;function re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ae(e){this.__data__=new oe(e)}function ue(e,t){var n=_e(e)||function(e){return function(e){return function(e){return!!e&&\"object\"==typeof e}(e)&&Te(e)}(e)&&k.call(e,\"callee\")&&(!B.call(e,\"callee\")||N.call(e)==i)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],r=n.length,o=!!r;for(var s in e)!t&&!k.call(e,s)||o&&(\"length\"==s||be(s,r))||n.push(s);return n}function ce(e,t,n){var i=e[t];k.call(e,t)&&Ce(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function le(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1}function de(e,t,n,c,l,f,h){var p;if(c&&(p=f?c(e,l,f,h):c(e)),void 0!==p)return p;if(!Ie(e))return e;var g=_e(e);if(g){if(p=function(e){var t=e.length,n=e.constructor(t);t&&\"string\"==typeof e[0]&&k.call(e,\"index\")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,i=e.length;t||(t=Array(i));for(;++n<i;)t[n]=e[n];return t}(e,p)}else{var m=we(e),y=m==r||m==o;if(Ee(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(\"[object Object]\"==m||m==i||y&&!f){if(S(e))return f?e:{};if(p=function(e){return\"function\"!=typeof e.constructor||ve(e)?{}:(t=F(e),Ie(t)?x(t):{});var t}(y?{}:e),!t)return function(e,t){return pe(e,ye(e),t)}(e,function(e,t){return e&&pe(t,Oe(t),e)}(p,e))}else{if(!d[m])return f?e:{};p=function(e,t,n,i){var r=e.constructor;switch(t){case\"[object ArrayBuffer]\":return he(e);case\"[object Boolean]\":case\"[object Date]\":return new r(+e);case\"[object DataView]\":return function(e,t){var n=t?he(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,i);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return function(e,t){var n=t?he(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,i);case s:return function(e,t,n){return v(t?n(C(e),!0):C(e),w,new e.constructor)}(e,i,n);case\"[object Number]\":case\"[object String]\":return new r(e);case\"[object RegExp]\":return function(e){var t=new e.constructor(e.source,u.exec(e));return t.lastIndex=e.lastIndex,t}(e);case a:return function(e,t,n){return v(t?n(T(e),!0):T(e),b,new e.constructor)}(e,i,n);case\"[object Symbol]\":return o=e,ie?Object(ie.call(o)):{}}var o}(e,m,de,t)}}h||(h=new ae);var _=h.get(e);if(_)return _;if(h.set(e,p),!g)var E=n?function(e){return function(e,t,n){var i=t(e);return _e(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Oe,ye)}(e):Oe(e);return function(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n,e););}(E||e,(function(i,r){E&&(i=e[r=i]),ce(p,r,de(i,t,n,c,r,e,h))})),p}function fe(e){return!(!Ie(e)||(t=e,M&&M in t))&&(Ae(e)||S(e)?j:c).test(Se(e));var t}function he(e){var t=new e.constructor(e.byteLength);return new P(t).set(new P(e)),t}function pe(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var s=t[r],a=i?i(n[s],e[s],s,n,e):void 0;ce(n,s,void 0===a?e[s]:a)}return n}function ge(e,t){var n,i,r=e.__data__;return(\"string\"==(i=typeof(n=t))||\"number\"==i||\"symbol\"==i||\"boolean\"==i?\"__proto__\"!==n:null===n)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}function me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}re.prototype.clear=function(){this.__data__=K?K(null):{}},re.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},re.prototype.get=function(e){var t=this.__data__;if(K){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return k.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:k.call(t,e)},re.prototype.set=function(e,t){return this.__data__[e]=K&&void 0===t?\"__lodash_hash_undefined__\":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,n=le(t,e);return!(n<0)&&(n==t.length-1?t.pop():U.call(t,n,1),!0)},oe.prototype.get=function(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]},oe.prototype.has=function(e){return le(this.__data__,e)>-1},oe.prototype.set=function(e,t){var n=this.__data__,i=le(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},se.prototype.clear=function(){this.__data__={hash:new re,map:new($||oe),string:new re}},se.prototype.delete=function(e){return ge(this,e).delete(e)},se.prototype.get=function(e){return ge(this,e).get(e)},se.prototype.has=function(e){return ge(this,e).has(e)},se.prototype.set=function(e,t){return ge(this,e).set(e,t),this},ae.prototype.clear=function(){this.__data__=new oe},ae.prototype.delete=function(e){return this.__data__.delete(e)},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oe){var i=n.__data__;if(!$||i.length<199)return i.push([e,t]),this;n=this.__data__=new se(i)}return n.set(e,t),this};var ye=z?_(z,Object):function(){return[]},we=function(e){return N.call(e)};function be(e,t){return!!(t=null==t?9007199254740991:t)&&(\"number\"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function ve(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||O)}function Se(e){if(null!=e){try{return D.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function Ce(e,t){return e===t||e!=e&&t!=t}(q&&\"[object DataView]\"!=we(new q(new ArrayBuffer(1)))||$&&we(new $)!=s||G&&\"[object Promise]\"!=we(G.resolve())||Y&&we(new Y)!=a||Q&&\"[object WeakMap]\"!=we(new Q))&&(we=function(e){var t=N.call(e),n=\"[object Object]\"==t?e.constructor:void 0,i=n?Se(n):void 0;if(i)switch(i){case Z:return\"[object DataView]\";case J:return s;case X:return\"[object Promise]\";case ee:return a;case te:return\"[object WeakMap]\"}return t});var _e=Array.isArray;function Te(e){return null!=e&&function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Ae(e)}var Ee=H||function(){return!1};function Ae(e){var t=Ie(e)?N.call(e):\"\";return t==r||t==o}function Ie(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function Oe(e){return Te(e)?ue(e):function(e){if(!ve(e))return V(e);var t=[];for(var n in Object(e))k.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}(e)}n.exports=function(e){return de(e,!1,!0)}}).call(this,n(5),n(20)(e))},function(e,t,n){e.exports=n(48)},function(e,t,n){e.exports={baseService:n(49).BaseService,Clients:{RouterClient:n(7).default,StorageClient:n(27).default,LauncherClient:n(16).default,DistributedStoreClient:n(17).default,LinkerClient:n(42).default,WindowClient:n(14).default,WorkspaceClient:n(72).default,DialogManager:n(73).default,AuthenticationClient:n(74).default,ConfigClient:n(21).default,DragAndDropClient:n(75).default,Logger:n(0).default,BaseClient:n(4).default,SearchClient:n(81).default,HotkeyClient:n(41).default,NotificationClient:n(82).default},UserNotification:n(38).default,Util:n(11).default,DependencyManager:n(25).default,models:{baseStorage:n(89).default},FinsembleWindow:n(15).FinsembleWindow,System:n(2).System}},function(e,t,n){\"use strict\";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.BaseService=void 0;\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nconst a=n(12),u=n(25),c=s(n(7)),l=s(n(0)),d=s(n(18)),f=n(2),h=o(n(13)),{SERVICE_INITIALIZING_CHANNEL:p,SERVICE_READY_CHANNEL:g,SERVICE_QUERY_READY_CHANNEL:m,SERVICE_CLOSING_CHANNEL:y,SERVICE_CLOSED_CHANNEL:w,SERVICE_STOP_CHANNEL:b}=h,v={startupDependencies:{services:[],clients:[]},shutdownDependencies:{services:[]},addOFWrapper:!1,name:window.name},S=window;t.BaseService=class{constructor(e=v){!function(e){e.startupDependencies?(e.startupDependencies.services||(e.startupDependencies.services=v.startupDependencies.services),e.startupDependencies.clients||(e.startupDependencies.clients=v.startupDependencies.clients)):e.startupDependencies=v.startupDependencies,e.shutdownDependencies?e.shutdownDependencies.services||(e.shutdownDependencies.services=v.shutdownDependencies.services):e.shutdownDependencies=v.shutdownDependencies}(e),this.name=e.name?e.name:window.name,this.startupDependencies=e.startupDependencies,this.shutdownDependencies=e.shutdownDependencies,this.Logger=l.default,this.RouterClient=c.default,this.onBaseServiceReadyCB=null,this.setOnConnectionCompleteCB=null,this.listeners={},this.start=this.waitForDependencies,this.started=!1,this.status=\"initializing\",this.setOnline=this.setOnline.bind(this),this.onBaseServiceReady=this.onBaseServiceReady.bind(this),this.handleShutdown=this.handleShutdown.bind(this),this.waitForDependencies(),S.finsembleServices?S.finsembleServices.push(this):S.finsembleServices=[this]}waitForDependencies(){const e=this;if(this.started)return;this.started=!0;const t=this;function n(e){l.default.system.debug(\"BaseService.start.setParentUUID\"),f.System.Window.getCurrent().getOptions(n=>{t.customData=n.customData,t.parentUuid=n.customData.parentUuid,e()})}function i(n){c.default.onReady(()=>{c.default.addResponder(m(e.name),(t,n)=>{(e.status=\"ready\")?n.sendQueryResponse(null):n.sendQueryResponse(\"service not ready\")}),c.default.transmit(p,{name:t.name}),window.addEventListener(\"beforeunload\",t.RouterClient.disconnectAll),l.default.system.debug(\"APPLICATION LIFECYCLE:STARTUP:SERVICE:BaseService.start.onRouterReady\"),n()})}function r(e){const n=t.customData.debugServiceDelay||0;if(l.default.system.debug(`Custom Data: ${t.name} custom data`,t.customData),Number.isInteger(n))n>0&&l.default.system.debug(`APPLICATION LIFECYCLE:STARTUP:SERVICE:BaseService.start.debugDelay: ${t.name} startup will delayed by ${n} milliseconds for debugging`);else{const e=`debugDelay has an illegal value (\"${n}\") for ${t.name}. Value must be an integer.`;l.default.system.error(\"APPLICATION LIFECYCLE:STARTUP:SERVICE:BaseService.start: \"+e),d.default.systemLog({error:!0},e)}setTimeout(e,n)}function o(e){l.default.system.debug(\"APPLICATION LIFECYCLE:STARTUP:SERVICE:BaseService.start.readyToGo \"+t.name),console.log(\"Startup Dependencies for\",t.name,t.startupDependencies),console.log(\"Shutdown Dependencies for\",t.name,t.shutdownDependencies),u.FSBLDependencyManagerSingleton.shutdown.waitFor(t.shutdownDependencies,t.handleShutdown),l.default.system.debug(\"APPLICATION LIFECYCLE:STARTUP:SERVICE:BaseService.start.readyToGo after wait \"+t.name),c.default.transmit(f.System.Window.getCurrent().name+\".onSpawned\",{name:f.System.Window.getCurrent().name},{suppressWarnings:!0});u.FSBLDependencyManagerSingleton.startup.waitFor(t.startupDependencies,e).on(\"err\",e=>{l.default.system.error(e)})}function s(e){const n=f.System.Window.getCurrent();n.isShowing(i=>{i&&!1!==t.customData.showDevConsoleOnVisible?f.System.showDeveloperTools(n.uuid,n.name,null,e):(l.default.system.debug(\"APPLICATION LIFECYCLE:STARTUP:SERVICE:BaseService.start.delayStartup done\"),e())})}return l.default.system.debug(this.name+\" starting\"),new Promise(e=>{a.series([i,n,s,r,o],()=>{e(),this.onDependenciesReady()})})}setOnline(){\"ready\"!==this.status&&(console.log(\"Setting service online\",this.name),this.RouterClient.addListener(`${b}.${this.name}`,()=>{u.FSBLDependencyManagerSingleton.shutdown.checkDependencies()}),this.status=\"ready\",c.default.transmit(g,{serviceName:this.name},{suppressWarnings:!0}),l.default.system.log(\"APPLICATION LIFECYCLE:STARTUP:SERVICE ONLINE\",this.name),d.default.publishBootStatus(this.name,\"services\",\"completed\"))}onDependenciesReady(){l.default.system.debug(\"APPLICATION LIFECYCLE:STARTUP:BaseService onDependenciesReady\",this.name),this.status=\"initializing\",c.default.onReady(()=>{this.onBaseServiceReadyCB?this.onBaseServiceReadyCB(this.setOnline):this.initialize?this.initialize(this.setOnline):setTimeout(()=>{\"ready\"!==this.status&&\"routerService\"!==this.name&&(console.error(\"No onBaseServiceReadyCB on initialize function defined on your service. Ensure that service.setOnline is called\"),l.default.system.error(\"No onBaseServiceReadyCB on initialize function defined on your service. Ensure that service.setOnline is called\"))},3e3)})}onBaseServiceReady(e){\"initializing\"===this.status?this.onBaseServiceReadyCB=()=>{e(this.setOnline)}:e(this.setOnline)}addEventListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}onShutdown(e){this.addEventListener(\"onShutdown\",e)}handleShutdown(){l.default.system.debug(\"BaseService.handleShutdown\");const e=this;this.listeners.onShutdown?(c.default.transmit(y,{waitForMe:!0,name:this.name}),a.each(this.listeners.onShutdown,(function(e,t){a.asyncify(e)(null,t)}),(function(t){t&&l.default.system.error(t),e.shutdownComplete()}))):(c.default.transmit(y,{waitForMe:!1,name:this.name}),e.shutdownComplete())}shutdownComplete(){l.default.system.info('\"APPLICATION LIFECYCLE:SHUTDOWN:SERVICE SHUTDOWN: '+this.name),c.default.transmit(w,{name:this.name,uuid:f.System.Application.getCurrent().uuid})}},window.addEventListener(\"error\",e=>{const t=e.error?e.error.stack.substring(e.error.stack.search(\"at \")):\"\";return l.default.error(e.message,\"File: \"+e.filename,\"Line: \"+e.lineno,\"Column: \"+e.colno,\"Error Stack: \\n    \"+t),!1}),window.addEventListener(\"unhandledrejection\",e=>{\"Cannot Wrap Service Manager or Services\"==e.reason?l.default.warn(\"A service tried To wrap itself. This is a side effect of using Clients in services.\"):l.default.error(\"Unhandled rejection\",\"reason\",e.reason)})},function(e,t,n){(function(e,t){!function(e,n){\"use strict\";if(!e.setImmediate){var i,r,o,s,a,u=1,c={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,\"[object process]\"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(\"\",\"*\"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},i=function(e){o.port2.postMessage(e)}):d&&\"onreadystatechange\"in d.createElement(\"script\")?(r=d.documentElement,i=function(e){var t=d.createElement(\"script\");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(p,0,e)}:(s=\"setImmediate$\"+Math.random()+\"$\",a=function(t){t.source===e&&\"string\"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener(\"message\",a,!1):e.attachEvent(\"onmessage\",a),i=function(t){e.postMessage(s+t,\"*\")}),f.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,i(u),u++},f.clearImmediate=h}function h(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),l=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,n(5),n(19))},function(e,t,n){\"use strict\";(function(e){\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nvar i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.RouterClientConstructor=void 0;const a=s(n(52)),u=o(n(11)),c=n(10),l=s(n(8)),d=s(n(38)),f=n(2),h=n(0),p=n(35),g=n(36),m=[],y=e;let w=h.Logger;y.FSBLData=y.FSBLData||{},y.FSBLData.RouterClients=y.FSBLData.RouterClients||{},t.RouterClientConstructor=function(e){l.default.args(e,\"object\")&&l.default.args2(\"params.clientName\",e.clientName,\"string\",\"params.transportName\",e.transportName,\"string=\");const t=e.clientName,{transportName:n}=e;let i,r;const o={},s={},h={},b={},v={},S={},C={},_={},T={},E={};let A,I=null,O=!1;const L=[],M=this;function D(){this.header={origin:A,type:\"initialHandshake\"}}function k(e,t){this.header={origin:A,type:\"timeCalibration\"},this.clientBaseTime=e,this.serviceBaseTime=t}function N(e){this.header={origin:A,type:\"addListener\",channel:e}}function j(e,t,n){this.header={origin:A,type:\"transmit\",channel:e},this.data=t,this.options=n}function W(e){this.header={origin:A,type:\"removeListener\",channel:e}}function R(e){this.header={origin:A,type:\"addResponder\",channel:e}}function P(e,t,n){this.header={origin:A,type:\"query\",queryID:e,channel:t},this.data=n}function F(e,t,n){this.header={origin:A,type:\"queryResponse\",queryID:e,error:t},this.data=n}function x(e){this.header={origin:A,type:\"removeResponder\",channel:e}}function B(e,t){this.header={origin:A,type:\"subscribe\",subscribeID:e,topic:t}}function U(e,t){this.header={origin:A,type:\"unsubscribe\",subscribeID:e,topic:t}}function z(e,t){this.header={origin:A,type:\"publish\",topic:e},this.data=t}function H(e,t,n,i){this.header={origin:A,type:\"notify\",subscribeID:e,topic:t,error:n},this.data=i}function V(e,t,n){this.header={origin:A,type:\"addPubSubResponder\",topic:e,handleOnServer:n},this.data=t}function q(e){this.header={origin:A,type:\"removePubSubResponder\",topic:e}}function $(){for(M.startupTime=performance.now()-M.startupTime,w.system.debug(\"WINDOW LIFECYCLE:STARTUP:RouterClient Ready\"),O=!0;L.length>0;){w.system.debug(\"WINDOW LIFECYCLE:STARTUP:RouterClient parentReady invoked\");L.shift()()}}function G(e){!I||I instanceof Promise?(w.system.warn(\"RouterClient: Queuing message since router initialization not complete\",e),m.push(e)):I.send(e)}function Y(){return this.header.origin===this.header.lastClient}function Q(e,t){w.system.info(\"RouterClient: outgoing query response\",\"CHANNEL\",this.header.channel,\"RESPONSE DATA\",t,\"QUERY ID\",this.header.queryID),G(new F(this.header.queryID,e,t))}function K(e,t){const n=e[t.header.channel];void 0===n?w.system.warn(`RouterClient: no query responder define on channel ${t.header.channel} incoming from ${t.header.origin}`,t):t.header.error?(w.system.warn(\"RouterClient: queryResponder error\",t),n(t.header.error,null),delete e[t.header.channel]):(t.originatedHere=Y,t.sendQueryResponse=Q.bind(t),w.system.info(\"RouterClient: incoming query\",\"CHANNEL\",t.header.channel,\"FROM\",t.header.origin,\"QUERY MESSAGE\",t),n(null,t))}function Z(e,t){const n=e[t.header.queryID];void 0===n?w.system.warn(\"RouterClient: no handler for incoming query response\",\"QUERY ID\",t.header.queryID):(!function(e,t){const n=e[t];void 0!==n&&clearTimeout(n)}(E,t.header.queryID),t.header.error?(w.system.debug(\"RouterClient: incoming queryResponse error\",t.header,\"QUERY ID\",t.header.queryID),n(t.header.error,t)):(w.system.info(\"RouterClient: incoming query response\",\"RESPONSE MESSAGE\",t,\"QUERY ID\",t.header.queryID),n(null,t)),delete e[t.header.queryID])}function J(e,t){if(e)w.system.warn(\"RouterClient: income publish rejected by pubsub responder\",e,t);else{b[this.header.topic]=t;const n=S[this.header.topic];if(void 0!==n)for(let i=0;i<n.length;i++)w.system.info(\"RouterClient: sending pubsub notify\",\"TOPIC\",this.header.topic,\"NOTIFY DATA\",t),G(new H(n[i],this.header.topic,e,t))}}function X(e,t){var n,i,r;(function(e){let t=!1;return void 0===e&&(t=!0),t})(t)||G(new H(this.header.subscribeID,this.header.topic,e,t)),e?w.system.warn(\"RouterClient: incoming subscription rejected by pubsub responder\",\"TOPIC\",this.header.topic,\"MESSAGE\",this):(n=S,i=this.header.topic,r=this.header.subscribeID,i in n?n[i].push(r):n[i]=[r],w.system.info(\"RouterClient: incoming subscription added\",\"TOPIC\",this.header.topic,\"MESSAGE\",this))}function ee(){!function(e,t,n){let i=!1;if(t in e){const r=S[t];for(let o=0;o<r.length;o++)if(n===r[o]){r.splice(o,1),0===r.length&&delete e[t],i=!0,w.system.info(\"RouterClient: PubSub removeListener\",\"TOPIC\",t,\"FROM\",n);break}}i||w.system.warn(`RouterClient: tried to remove non-existent listener on ${t} from ${JSON.stringify(n)}`)}(S,this.header.topic,this.header.subscribeID)}function te(e){switch(w.system.verbose(\"Incoming Message Type\",e.header.type,e),e.header.type){case\"transmit\":!function(e,t){const n=e[t.header.channel]||[],i=[];if(Array.isArray(n)&&0!==n.length){t.originatedHere=Y,n.forEach(e=>{i.push(e)});for(let e=0;e<i.length;e++)w.isLogMessage(t.header.channel)||w.system.info(\"RouterClient: incoming transmit\",\"CHANNEL\",t.header.channel,\"FROM\",t.header.origin,\"MESSAGE\",t),i[e](null,t)}else w.system.warn(`RouterClient: no listener for incoming transmit on channel ${t.header.channel} from ${t.header.origin}`,t)}(o,e);break;case\"query\":K(s,e);break;case\"queryResponse\":Z(T,e);break;case\"notify\":!function(e,t){const n=e[t.header.subscribeID];void 0===n?w.system.warn(\"RouterClient: no subscription handler defined for incoming notify for subscriberID\",t.header.subscribeID,t):t.header.error?(w.system.info(\"RouterClient: incoming PubSub notify error for subscriberID\",\"SUBSCRIBER ID\",t.header.subscribeID,\"NOTIFY MESSAGE\",t),n(t.header.error,t)):(t.originatedHere=Y,w.system.info(\"RouterClient: incoming PubSub notify\",\"SUBSCRIBER ID\",t.header.subscribeID,\"NOTIFY MESSAGE\",t),n(null,t))}(C,e);break;case\"publish\":!function(e){let t=h[e.header.topic];if(void 0===t)for(const n in v)if(v[n].test(e.header.topic)){t=h[n];break}void 0===t?w.system.warn(\"RouterClient: no pubsub responder defined for incoming publish\",\"TOPIC\",e.header.topic,\"PUBLISH MESSAGE\",e):(e.sendNotifyToAllSubscribers=J,t.publishCallback?(w.system.info(\"RouterClient: incoming PubSub publish callback invoked\",\"TOPIC\",e.header.topic,\"PUBLISH MESSAGE\",e),t.publishCallback(null,e)):(w.system.info(\"RouterClient: incoming PubSub publish\",\"TOPIC\",e.header.topic,\"PUBLISH MESSAGE\",e),e.sendNotifyToAllSubscribers(null,e.data)))}(e);break;case\"subscribe\":!function(e){w.system.info(\"RouterClient: PubSub subscribe\",\"TOPIC\",e.header.topic);let t=h[e.header.topic];if(void 0===t)for(const n in v)if(v[n].test(e.header.topic)){t=h[n];let i=b[e.header.topic];void 0===i&&(i=b[n]),b[e.header.topic]=i;break}void 0===t?w.system.warn(\"RouterClient: no pubsub responder defined for incoming subscribe\",e):e.header.error?w.system.warn(\"RouterClient: pubsub error received from router service: \"+JSON.stringify(e.header.error)):(e.sendNotifyToSubscriber=X,t.subscribeCallback?(e.data=b[e.header.topic],t.subscribeCallback(null,e)):e.sendNotifyToSubscriber(null,b[e.header.topic]))}(e);break;case\"unsubscribe\":!function(e){let t=h[e.header.topic];if(void 0===t)for(const n in v)if(v[n].test(e.header.topic)){t=h[n];break}void 0===t?w.system.warn(\"RouterClient: no pubsub responder defined for incoming unsubscribe\",\"TOPIC\",e.header.topic,\"UNSUBSCRIBE MESSAGE\",e):(e.removeSubscriber=ee,t.unsubscribeCallback?(w.system.info(\"RouterClient: incoming unsubscribe callback\",\"TOPIC\",e.header.topic,\"UNSUBSCRIBE MESSAGE\",e),t.unsubscribeCallback(null,e)):(w.system.info(\"RouterClient: incoming unsubscribe\",\"TOPIC\",e.header.topic,\"UNSUBSCRIBE MESSAGE\",e),e.removeSubscriber()))}(e);break;case\"timeCalibration\":const t=()=>{r?r(e):setTimeout(()=>{t()},10)};t();break;case\"initialHandshakeResponse\":i()}}function ne(e,t){t.header.lastClient=A,t.header.incomingTransportInfo=e,te(t)}function ie(){return`${A}.${g.v4()}`}function re(e,t,n){e[t]=n}function oe(e,t,n,i){i>0&&(e[t]=setTimeout(()=>{w.system.warn(`RouterClient: timeout waiting on query response on channel ${n} for queryID ${t} on timer ${e[t]} timeout=${i}`)},i))}function se(e,t){let n=!1;return void 0!==e[t]&&(delete e[t],n=!0),n}return this.startupTime=0,this.calibrateTimeWithRouterService=function(e){let t,n=0,i=1/0;r=function(r){n++,n>5?function(n){let r=0;for(let e=1;e<5;e++){const o=n.clientBaseTime[e-1],s=n.clientBaseTime[e]-o,a=n.serviceBaseTime[e-1]-(o+s/2);s<i&&(i=s,t=a),r+=a,w.system.debug(\"calibrationCalculation Intermediate Values\",\"lastRRT\",s,\"lastOffset\",a,\"fastestOffset\",t,\"fastestRRT\",i)}r/=4,w.system.debug(\"RouterClient calibrationCalculation\",\"Average Offset\",r,\"Chosen FastestOffset\",t,n),e(t)}(r):(r.clientBaseTime.push(y.performance.timing.navigationStart+y.performance.now()),G(new k(r.clientBaseTime,r.serviceBaseTime)))},r(new k([],[]))},this.ready=e=>this.onReady(e),this.getClientName=function(){return w.system.debug(\"RouterClient.getClientName\",A),A},this.onReady=function(e){l.default.args(e,\"function\"),O?e():L.push(e)},this.addListener=function(e,t){w.system.info(\"RouterClient.addListener\",\"CHANNEL\",e),l.default.args(e,\"string\",t,\"function\");(function(e,t,n){let i=!1;const r=e[t];return void 0===r||0===r.length?(e[t]=[n],i=!0):r.push(n),i})(o,e,t)&&G(new N(e))},this.transmit=function(e,t,n={suppressWarnings:!1}){w.isLogMessage(e)||w.system.info(\"RouterClient.transmit\",\"TO CHANNEL\",e,\"EVENT\",t),l.default.args(e,\"string\",t,\"any\"),G(new j(e,t,n))},this.removeListener=function(e,t){w.system.info(\"RouterClient.removeListener\",\"CHANNEL\",e,\"EVENT HANDLER\",t),l.default.args(e,\"string\",t,\"function\");(function(e,t,n){let i=!1;const r=e[t];if(void 0!==r){const e=r.indexOf(n);e>-1?(r.splice(e,1),0===r.length&&(i=!0)):w.system.warn(\"no listener defined for channel: \"+t)}return i})(o,e,t)&&G(new W(e))},this.addResponder=function(e,t){w.system.info(\"RouterClient.addResponder\",\"CHANNEL\",e),l.default.args(e,\"string\",t,\"function\");(function(e,t,n){let i=!1;return void 0===e[t]&&(e[t]=n,i=!0),i})(s,e,t)?G(new R(e)):(w.system.warn(\"RouterClient.addResponder: Responder already locally defined for channel \"+e),t({\"RouteClient QueryError\":\"Responder already locally defined for channel\"+e},null))},this.query=function(e,t,n,i=Function.prototype){const r=`${ie()}.${e}`,o=window.performance.timing.navigationStart+window.performance.now(),s=window.performance.timing.navigationStart,a=window.performance.now();function u(u){re(T,r,(c,l)=>{u({err:c,response:l}),\"function\"==typeof i?i(c,l):w.system.warn(\"No response event handler passed to RouterClient.query\",\"RESPONDER CHANNEL\",e,\"QUERY EVENT\",t,\"PARAMS\",n,\"QUERY ID\",r,{timestamp:o,navstart:s,timenow:a})}),oe(E,r,e,n.timeout),G(new P(r,e,t))}return w.system.info(\"RouterClient.query\",\"RESPONDER CHANNEL\",e,\"QUERY EVENT\",t,\"PARAMS\",n,\"QUERY ID\",r,{timestamp:o,navstart:s,timenow:a}),3===arguments.length&&(i=n,n={timeout:2e4}),l.default.args(e,\"string\",t,\"any=\",n,\"object=\",i,\"function\"),n=n||{},l.default.args2(\"params.timeout\",n.timeout,\"number\"),new Promise(u)},this.removeResponder=function(e){w.system.info(\"RouterClient.removeResponder\",\"RESPONDER CHANNEL\",e),l.default.args(e,\"string\");se(s,e)&&G(new x(e))},this.addPubSubResponder=function(t,n,i,r){let o,s;if(w.system.info(\"RouterClient.addPubSubResponder\",\"TOPIC\",t,\"INITIAL STATE\",n,\"PARAMS\",i),l.default.args(t,\"any\",n,\"object=\",e,\"object=\"),i=i||{},l.default.args2(\"params.subscribeCallback\",i.subscribeCallback,\"function=\",\"params.publishCallback\",i.publishCallback,\"function=\")&&l.default.args2(\"params.unsubscribeCallback\",i.unsubscribeCallback,\"function=\"),void 0===i.subscribeCallback&&void 0===i.publishCallback&&void 0===i.unsubscribeCallback)n=n||{},G(new V(t.toString(),n,!0)),s=\"success\";else{(function(e,t,n,i){let r=!1;return void 0===h[e.toString()]&&(e instanceof RegExp&&(v[e.toString()]=e,w.system.info(\"RouterClient: PubSub RegEx added for topic \"+e.toString())),h[e.toString()]={subscribeCallback:t,publishCallback:n,unsubscribeCallback:i},r=!0),r})(t,i.subscribeCallback,i.publishCallback,i.unsubscribeCallback)?(n=n||{},b[t.toString()]=u.clone(n),G(new V(t.toString(),n,!1)),s=\"success\"):(o=\"RouterClient.addPubSubResponder: Responder already locally defined for topic \"+t,w.system.error(o))}r&&r(o,s)},this.removePubSubResponder=function(e){w.system.info(\"RouterClient.removePubSubResponder\",\"TOPIC\",e),l.default.args(e,\"any\");se(h,e)?(delete b[e.toString()],delete v[e.toString()],G(new q(e))):w.system.warn(\"RouterClient.removePubSubResponder failed: Could not find responder for topic \"+e)},this.subscribe=function(e,t){w.system.info(\"RouterClient.subscribe\",\"TOPIC\",e),l.default.args(e,\"string\",t,\"function\");const n=ie();return function(e,t,n,i){e[t]=n,_[t]=i}(C,n,t,e),G(new B(n,e)),{subscribeID:n,topic:e}},this.publish=function(e,t){w.system.info(\"RouterClient.publish\",\"TOPIC\",e,\"EVENT\",t),l.default.args(e,\"string\",t,\"any\"),G(new z(e,t))},this.unsubscribe=function(e){w.system.info(\"RouterClient.unsubscribe\",\"SUBSCRIBE ID\",e),l.default.args(e,\"object\")&&l.default.args2(\"subscribeIDStruct.subscribeID\",e.subscribeID,\"string\");(function(e,t){let n=!1;return void 0!==e[t]&&(delete e[t],n=!0),n})(C,e.subscribeID)?G(new U(e.subscribeID,e.topic)):w.system.warn(\"RouterClient.unsubscribe: Could not find subscribeID for topic \"+e.topic)},this.trustedMessage=function(e){let t=!0;return w.system.debug(\"RouterClient.trustedMessage header\",e.header),\"SharedWorker\"===e.header.originIncomingTransportInfo.transportID&&(t=!0),t},this.disconnectAll=function(){w.system.info(\"RouterClient.disconnectAll\");for(const e in o)w.system.debug(\"RouterClient.disconnectAll is removing listener on \"+e),G(new W(e)),delete o[e];for(const e in s)w.system.debug(\"RouterClient.disconnectAll is removing responder on \"+e),G(new x(e)),delete s[e];for(const e in h)w.system.debug(\"RouterClient.disconnectAll is removing pubsub responder on \"+e),G(new q(e)),delete h[e.toString()],delete b[e.toString()],delete v[e.toString()];for(const e in C){const t=_[e];w.system.debug(\"RouterClient.disconnectAll is removing subscriber on \"+t),G(new U(e,t)),delete C[e],delete _[e]}},\"loggerService\"===f.System.Window.getCurrent().name&&(w=new p.LocalLogger),A=`${t}.${f.System.Window.getCurrent().name}`,A in y.FSBLData.RouterClients?(w.system.debug('\"RouterClient Check: reusing existing client for '+A),console.debug('\"RouterClient Check: reusing existing client for '+A,y)):(w.system.debug('\"RouterClient Check: constructing new client for '+A),console.debug('\"RouterClient Check: constructing new client for '+A,y),y.FSBLData.RouterClients[A]=this,function(e,t){w.system.debug(\"WINDOW LIFECYCLE:STARTUP:RouterClient Constructor:Name:\",e);let r=0;function o(r){w.system.info(\"WINDOW LIFECYCLE:STARTUP:RouterClient:processManifest\"),r&&\"string\"!=typeof r?function(e,t,r,o){w.system.verbose(`Client ${t} connecting to event router`),w.system.verbose(\"Name of transport to establish: \"+r);const s=void 0===r;let u,l,f=!1,h=0;const p=e.finsemble,g={FinsembleUUID:p.FinsembleUUID,applicationRoot:p.applicationRoot,routerDomainRoot:p.moduleRoot,forceWindowTransport:c.ConfigUtilInstance.getDefault(p,\"finConfig.router.forceWindowTransport\",{}),sameDomainTransport:c.ConfigUtilInstance.getDefault(p,\"finConfig.router.sameDomainTransport\",\"SharedWorker\"),crossDomainTransport:c.ConfigUtilInstance.getDefault(p,\"finConfig.router.crossDomainTransport\",\"IPCBus\"),transportSettings:c.ConfigUtilInstance.getDefault(p,\"finConfig.router.transportSettings\",{}),IAC:c.ConfigUtilInstance.getDefault(p,\"finConfig.IAC\",{})};let y,b,v,S,C,_;y=e=>{l=0,w.system.debug(\"WINDOW LIFECYCLE:STARTUP:RouterClient:transport ready\",\"TRANSPORT OBJECT\",e),I=e,i=_,C(),u=setInterval(C,200)},b=e=>{w.system.error(\"RouterClientError\",e)},v=()=>{w.system.debug(\"WINDOW LIFECYCLE:STARTUP:RouterClient:getClientTransport\",\"ROUTER PARAMS:\",g),I=s?a.default.getRecommendedTransport(g,ne,A,\"RouterService\").then(y).catch(b):a.default.getTransport(g,n,ne,A,\"RouterService\").then(y).catch(b)},S=()=>{if(clearInterval(u),h++,h<=3)w.system.error(\"WINDOW LIFECYCLE:STARTUP:RouterClient: failure to connect to router service. Retrying...\",h,g),v();else{const e=\"A cross domain transport has failed to connect. Cross domain components may not work. Please contact your administrator.\";w.system.error(e,g);const t=c.ConfigUtilInstance.getDefault(p,\"finConfig.notificationURL\",p.moduleRoot+\"/components/system/notification/notification.html\");d.default.alert(\"dev\",\"ONCE-SINCE-STARTUP\",\"FSBL-Internal-Transport-Failure\",e,{url:t})}},C=()=>{w.system.debug(\"WINDOW LIFECYCLE:STARTUP:RouterClient: sendHandshake\",l),G(new D),l++>50&&S()},_=()=>{if(!f){if(w.system.debug(`WINDOW LIFECYCLE:STARTUP:RouterClient connected: Starting ${A} with transport ${I.identifier()}`),f=!0,clearInterval(u),m)for(let e=0;e<m.length;e++){w.system.debug(\"RouterClient: firing queued msg\");const t=m[e];I.send(t)}o&&o()}},v()}(r,e,t,$):w.system.error(\"WINDOW LIFECYCLE:STARTUP:RouterClient:processManifest failed -- fatal error\",r)}f.System.ready(()=>{const e=f.System.Window.getCurrent();w.system.debug(\"WINDOW LIFECYCLE:STARTUP: System.ready invoked in \"+e.name),console.debug(\"WINDOW LIFECYCLE:STARTUP: System.ready invoked in \"+e.name),M.startupTime=performance.now(),0==r++&&e.getOptions(e=>{e.customData&&e.customData.manifest?(w.system.debug(\"Router Init using custom data\"),o(e.customData.manifest)):c.ConfigUtilInstance.getExpandedRawManifest(e=>{w.system.debug(\"Router Init using getExpandedRawManifest\"),y.FinsembleUUID&&(e.finsemble.FinsembleUUID=y.FinsembleUUID),o(e)},e=>{w.system.error(\"WINDOW LIFECYCLE:STARTUP:RouterClient:manifest error\",e)})},e=>{w.system.error(\"WINDOW LIFECYCLE:STARTUP:finWindow.getOptions error\",e)})})}(A,n)),y.FSBLData.RouterClients[A]}}).call(this,n(5))},function(e,t,n){\"use strict\";n.r(t);var i=n(10),r=n(0),o=n.n(r),s=n(2),a={activeTransports:{},addTransport(e,t){this.activeTransports[e]=t,o.a.system.log(`RouterTransport ${e} added to activeTransports`)},getActiveTransports(e){const t=[];function n(e){-1===t.indexOf(e)&&t.push(e)}return s.System.InterApplicationBus&&n(\"IPCBus\"),\"Electron\"===s.System.container&&n(\"FinsembleTransport\"),SharedWorker&&n(\"SharedWorker\"),n(e.sameDomainTransport),n(e.crossDomainTransport),o.a.system.log(\"getActiveTransports\",t),t},getDefaultTransport:(e,t,n,i)=>a.getTransport(e,\"IPCBus\",t,n,i),getRecommendedTransport(e,t,n,i){const r=function(){const{sameDomainTransport:t}=e,{crossDomainTransport:n}=e;let i=t;return function(){const t=document.createElement(\"a\");t.href=e.routerDomainRoot;const n=window.location.hostname===t.hostname,i=window.location.protocol===t.protocol,r=(void 0!==window.location.port?window.location.port:80)===(void 0!==t.port?t.port:80),s=!(n&&r&&i);return o.a.system.debug(`Transport crossDomain=${s} (${n}:${i}:${r})`),s}()&&(i=n),o.a.system.log(`Transport Info: Selected=${i} SameDomainDefault=${t} CrossDomainDefault=${n}`),console.log(`Transport Info: Selected=${i} SameDomainDefault=${t} CrossDomainDefault=${n}`),i}();return a.getTransport(e,r,t,n,i)},getTransport(e,t,n,i,r){const o=this;return new Promise((s,a)=>{const u=o.activeTransports[t];u?new u(e,n,i,r,e=>{s(e)}):a(\"unknown router transport name: \"+t)})}};const u={SharedWorkerTransport:function(e,t,n,i,r){let s;const a=this;this.send=function(e,t){1===arguments.length?(t=arguments[0],e=null):(e=arguments[0],t=arguments[1]),o.a.system.verbose(\"SharedWorkerTransport Outgoing Transport\",t);try{s.port.postMessage([e,t])}catch(e){o.a.system.error(\"SharedWorkerTransport: post message failed: \"+JSON.stringify(e),\"Probable cause is sending illegal data type (e.g. function).\")}},this.identifier=function(){return\"SharedWorker\"};const u=e.transportSettings.SharedWorker&&e.transportSettings.SharedWorker.workerPath?e.transportSettings.SharedWorker.workerPath:e.routerDomainRoot+\"/common/routerSharedWorker.js\";o.a.system.log(`SharedWorker Transport Initializing for ${n} using ${u}`),console.log(`SharedWorker Transport Initializing for ${n} using ${u}`),s=new SharedWorker(u,{name:\"Finsemble\",credentials:\"include\"}),s.port.onmessage=function(e){const n=e.data[0],i=e.data[1],r={transportID:a.identifier(),port:n};o.a.system.verbose(\"SharedWorkerTransport Incoming Transport\",r,\"Message\",i),t(r,i)},s.onerror=function(e){o.a.system.error(\"SharedWorkerTransport Transport Error\"+JSON.stringify(e))},s.port.start(),\"RouterService\"===n&&s.port.postMessage({data:\"connect\",source:\"RouterService\"}),r(this)},IPCTransport:function(e,t,n,i,r){const{uuid:a}=s.System.Application.getCurrent(),u=this;this.send=function(e,t){let n;1===arguments.length?(n=i,t=arguments[0]):(n=e.name,t=arguments[1]),o.a.system.verbose(\"IPCTransport Outgoing Transport\",a,n,\"Message\",t),s.System.InterApplicationBus.publish(n,t,()=>{},()=>{})},this.identifier=function(){return\"IPCBus\"},o.a.system.log(\"IPCBus Transport Initializing for \"+n),console.log(\"IPCBus Transport Initializing for \"+n),s.System.InterApplicationBus.subscribe(\"*\",n,(function(e,n){const i={transportID:u.identifier(),senderUuid:n,name:e.header.origin};o.a.system.verbose(\"IPCTransport Incoming Transport\",i,\"Message\",e),t(i,e)}),null,(function(e){o.a.system.error(\"IPCBus Subscribe Failure: \"+e)})),r(this)},FinsembleTransport:function(e,t,n,r,s){const a=i.ConfigUtilInstance.getDefault(e,\"params.IAC.serverAddress\",\"ws://127.0.0.1:3376\"),u=i.ConfigUtilInstance.getDefault(e,\"params.transportSettings.FinsembleTransport.serverAddress\",a)+\"/router\",c=this;let l;function d(e){const n={transportID:c.identifier(),client:e.clientMessage.header.origin};o.a.system.verbose(\"FinsembleTransport Incoming Transport\",n,\"Message\",e),t(n,e.clientMessage)}function f(){o.a.system.error(\"FinsembleTransport Connection Timeout for \"+n),s(c)}function h(){o.a.system.log(`FinsembleTransport Transport Initializing for ${n} using ${u}`),console.log(`FinsembleTransport Transport Initializing for ${n} using ${u}`),u.startsWith(\"ws:\")||u.startsWith(\"wss:\")||console.error(\"wss not found as SOCKET_SERVER_ADDRESS.  Use wss!\",u),l=new WebSocket(u);const e=setTimeout(f,3e3);l.addEventListener(\"open\",()=>{clearTimeout(e),o.a.system.log(\"FinsembleTransport Connected to Server\"),console.log(\"FinsembleTransport Connected to Server\"),l.addEventListener(\"message\",e=>{const t=JSON.parse(e.data);(\"RouterService\"===n&&\"ROUTER_SERVICE\"==t.dest||n===t.message.client)&&d(t.message)}),s(c)})}this.send=function(e,t){let n,i;1===arguments.length?(n=\"ROUTER_SERVICE\",i={clientMessage:t=arguments[0]}):(n=\"ROUTER_CLIENT\",t=arguments[1],i={client:e.client,clientMessage:t}),o.a.system.verbose(\"FinsembleTransport Outgoing Transport\",n,\"NewMessage\",i),l.readyState===WebSocket.OPEN&&l.send(JSON.stringify({dest:n,message:i})),l.readyState===WebSocket.CONNECTING&&l.addEventListener(\"open\",()=>{l.send(JSON.stringify({dest:n,message:i}))}),l.readyState===WebSocket.CLOSED&&(h(),l.addEventListener(\"open\",()=>{l.send(JSON.stringify({dest:n,message:i}))})),l.readyState===WebSocket.CLOSING&&(l.onclose=()=>{h(),l.addEventListener(\"open\",()=>{l.send(JSON.stringify({dest:n,message:i}))})})},this.identifier=function(){return\"FinsembleTransport\"},h(),o.a.system.log(`FinsembleTransport Transport Initializing for ${n} using ${u}`),console.log(`FinsembleTransport Transport Initializing for ${n} using ${u}`),(u.startsWith(\"ws:\")||u.startsWith(\"wss:\"))&&console.error(\"wss not found as SOCKET_SERVER_ADDRESS.  Use wss!\",u)},FinsembleCloudTransport:function(e,t,n,r,s){let a;const u=i.ConfigUtilInstance.getDefault(e,\"params.transportSettings.FinsembleCloudTransport.serverAddress\",e.applicationRoot),{FinsembleUUID:c}=e;a=\"/\"===u.substr(u.length-1)?u.substring(0,u.length-1):u;const l=a+\"/router\",d=this;let f;function h(e){const n={transportID:d.identifier(),client:e.clientMessage.header.origin};o.a.system.verbose(\"FinsembleCloudTransport Incoming Transport\",n,\"Message\",e),t(n,e.clientMessage)}this.send=function(e,t){let n,i;1===arguments.length?(n=\"ROUTER_SERVICE\",i={FinsembleUUID:c,clientMessage:t=arguments[0]}):(n=\"ROUTER_CLIENT\",t=arguments[1],i={FinsembleUUID:c,client:e.client,clientMessage:t}),o.a.system.verbose(\"FinsembleCloudTransport Outgoing Transport\",n,\"NewMessage\",i),f.emit(n,i)},this.identifier=function(){return\"FinsembleCloudTransport\"},o.a.system.log(`FinsembleCloudTransport Transport Initializing for ${n} using ${l}`),console.log(`FinsembleCloudTransport Transport Initializing for ${n} using ${l}`),-1!==l.indexOf(\"ws:\")||console.error(\"SOCKET_SERVER_ADDRESS not wss!\",l),f=new WebSocket(l);const p=setTimeout((function(){o.a.system.error(\"FinsembleCloudTransport Connection Timeout for \"+n),s(d)}),3e3);f.on(\"connect\",()=>{clearTimeout(p),o.a.system.log(\"FinsembleCloudTransport Connected to Server\",c),console.log(\"FinsembleCloudTransport Connected to Server\"),\"RouterService\"===n?(o.a.system.debug(\"Setting Up Socket Connection\",\"ROUTER_SERVICE_IN\"+c),console.log(\"Setting Up Socket Connection\",\"ROUTER_SERVICE_IN\"+c),f.on(\"ROUTER_SERVICE_IN\"+c,e=>{h(e)})):(o.a.system.debug(\"Setting Up Socket Connection\",n+c),console.log(\"SETTING UP Socket CONNECTION\",n+c),f.on(n+c,e=>{h(e)})),s(d)})}};a.addTransport(\"SharedWorker\",u.SharedWorkerTransport),a.addTransport(\"IPCBus\",u.IPCTransport),a.addTransport(\"FinsembleTransport\",u.FinsembleTransport),t.default=a},function(e,t,n){(function(t){var n=/^\\s+|\\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,a=\"object\"==typeof t&&t&&t.Object===Object&&t,u=\"object\"==typeof self&&self&&self.Object===Object&&self,c=a||u||Function(\"return this\")(),l=Object.prototype.toString,d=Math.max,f=Math.min,h=function(){return c.Date.now()};function p(e,t,n){var i,r,o,s,a,u,c=0,l=!1,p=!1,y=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");function w(t){var n=i,o=r;return i=r=void 0,c=t,s=e.apply(o,n)}function b(e){return c=e,a=setTimeout(S,t),l?w(e):s}function v(e){var n=e-u;return void 0===u||n>=t||n<0||p&&e-c>=o}function S(){var e=h();if(v(e))return C(e);a=setTimeout(S,function(e){var n=t-(e-u);return p?f(n,o-(e-c)):n}(e))}function C(e){return a=void 0,y&&i?w(e):(i=r=void 0,s)}function _(){var e=h(),n=v(e);if(i=arguments,r=this,u=e,n){if(void 0===a)return b(u);if(p)return a=setTimeout(S,t),w(u)}return void 0===a&&(a=setTimeout(S,t)),s}return t=m(t)||0,g(n)&&(l=!!n.leading,o=(p=\"maxWait\"in n)?d(m(n.maxWait)||0,t):o,y=\"trailing\"in n?!!n.trailing:y),_.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=u=r=a=void 0},_.flush=function(){return void 0===a?s:C(h())},_}function g(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function m(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&\"[object Symbol]\"==l.call(e)}(e))return NaN;if(g(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(n,\"\");var a=r.test(e);return a||o.test(e)?s(e.slice(2),a?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,r=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");return g(n)&&(i=\"leading\"in n?!!n.leading:i,r=\"trailing\"in n?!!n.trailing:r),p(e,t,{leading:i,maxWait:t,trailing:r})}}).call(this,n(5))},function(e,t,n){\"use strict\";var i=Object.prototype.hasOwnProperty,r=\"~\";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,i,o){if(\"function\"!=typeof n)throw new TypeError(\"The listener must be a function\");var a=new s(n,i||e,o),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},c.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var u,c,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,s),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!u)for(f=1,u=new Array(d-1);f<d;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||u(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==t||i&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c},function(e,t,n){\"use strict\";const i=n(56);class r extends Error{constructor(e){super(e),this.name=\"TimeoutError\"}}const o=(e,t,n)=>new Promise((o,s)=>{if(\"number\"!=typeof t||t<0)throw new TypeError(\"Expected `milliseconds` to be a positive number\");if(t===1/0)return void o(e);const a=setTimeout(()=>{if(\"function\"==typeof n){try{o(n())}catch(e){s(e)}return}const i=n instanceof Error?n:new r(\"string\"==typeof n?n:`Promise timed out after ${t} milliseconds`);\"function\"==typeof e.cancel&&e.cancel(),s(i)},t);i(e.then(o,s),()=>{clearTimeout(a)})});e.exports=o,e.exports.default=o,e.exports.TimeoutError=r},function(e,t,n){\"use strict\";e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const i=n(58);t.default=class{constructor(){Object.defineProperty(this,\"_queue\",{enumerable:!0,configurable:!0,writable:!0,value:[]})}enqueue(e,t){const n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const r=i.default(this._queue,n,(e,t)=>t.priority-e.priority);this._queue.splice(r,0,n)}dequeue(){const e=this._queue.shift();return e&&e.run}get size(){return this._queue.length}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){let i=0,r=e.length;for(;r>0;){const o=r/2|0;let s=i+o;n(e[s],t)<=0?(i=++s,r-=o+1):r=o}return i}},function(e,t,n){var i=n(33),r=n(34);e.exports=function(e,t,n){var o=t&&n||0;\"string\"==typeof e&&(t=\"binary\"==e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||r(s)}},function(e,t,n){(function(t){var n=\"object\"==typeof t&&t&&t.Object===Object&&t,i=\"object\"==typeof self&&self&&self.Object===Object&&self,r=n||i||Function(\"return this\")();function o(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var a=Object.prototype,u=a.hasOwnProperty,c=a.toString,l=r.Symbol,d=a.propertyIsEnumerable,f=l?l.isConcatSpreadable:void 0,h=Math.max;function p(e){return m(e)||function(e){return function(e){return y(e)&&function(e){return null!=e&&function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}(e)?c.call(e):\"\";return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t}(e)}(e)}(e)&&u.call(e,\"callee\")&&(!d.call(e,\"callee\")||\"[object Arguments]\"==c.call(e))}(e)||!!(f&&e&&e[f])}function g(e){if(\"string\"==typeof e||function(e){return\"symbol\"==typeof e||y(e)&&\"[object Symbol]\"==c.call(e)}(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}var m=Array.isArray;function y(e){return!!e&&\"object\"==typeof e}var w,b,v=(w=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var s=t[i],a=e[s];n(a,s)&&(o[s]=a)}return o}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,i=e?e.length:0,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}(function e(t,n,i,r,o){var a=-1,u=t.length;for(i||(i=p),o||(o=[]);++a<u;){var c=t[a];n>0&&i(c)?n>1?e(c,n-1,i,r,o):s(o,c):r||(o[o.length]=c)}return o}(t,1),g))},b=h(void 0===b?w.length-1:b,0),function(){for(var e=arguments,t=-1,n=h(e.length-b,0),i=Array(n);++t<n;)i[t]=e[b+t];t=-1;for(var r=Array(b+1);++t<b;)r[t]=e[t];return r[b]=i,o(w,this,r)});e.exports=v}).call(this,n(5))},function(e,t,n){(function(e,n){var i=\"[object Arguments]\",r=\"[object Map]\",o=\"[object Object]\",s=\"[object Set]\",a=/^\\[object .+?Constructor\\]$/,u=/^(?:0|[1-9]\\d*)$/,c={};c[\"[object Float32Array]\"]=c[\"[object Float64Array]\"]=c[\"[object Int8Array]\"]=c[\"[object Int16Array]\"]=c[\"[object Int32Array]\"]=c[\"[object Uint8Array]\"]=c[\"[object Uint8ClampedArray]\"]=c[\"[object Uint16Array]\"]=c[\"[object Uint32Array]\"]=!0,c[i]=c[\"[object Array]\"]=c[\"[object ArrayBuffer]\"]=c[\"[object Boolean]\"]=c[\"[object DataView]\"]=c[\"[object Date]\"]=c[\"[object Error]\"]=c[\"[object Function]\"]=c[r]=c[\"[object Number]\"]=c[o]=c[\"[object RegExp]\"]=c[s]=c[\"[object String]\"]=c[\"[object WeakMap]\"]=!1;var l=\"object\"==typeof e&&e&&e.Object===Object&&e,d=\"object\"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function(\"return this\")(),h=t&&!t.nodeType&&t,p=h&&\"object\"==typeof n&&n&&!n.nodeType&&n,g=p&&p.exports===h&&l.process,m=function(){try{return g&&g.binding(\"util\")}catch(e){}}(),y=m&&m.isTypedArray;function w(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}function b(e){var t=!1;if(null!=e&&\"function\"!=typeof e.toString)try{t=!!(e+\"\")}catch(e){}return t}function v(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function S(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var C,_,T,E=Array.prototype,A=Function.prototype,I=Object.prototype,O=f[\"__core-js_shared__\"],L=(C=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+C:\"\",M=A.toString,D=I.hasOwnProperty,k=I.toString,N=RegExp(\"^\"+M.call(D).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),j=f.Symbol,W=f.Uint8Array,R=I.propertyIsEnumerable,P=E.splice,F=(_=Object.keys,T=Object,function(e){return _(T(e))}),x=le(f,\"DataView\"),B=le(f,\"Map\"),U=le(f,\"Promise\"),z=le(f,\"Set\"),H=le(f,\"WeakMap\"),V=le(Object,\"create\"),q=he(x),$=he(B),G=he(U),Y=he(z),Q=he(H),K=j?j.prototype:void 0,Z=K?K.valueOf:void 0;function J(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function X(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function te(e){var t=-1,n=e?e.length:0;for(this.__data__=new ee;++t<n;)this.add(e[t])}function ne(e){this.__data__=new X(e)}function ie(e,t){var n=ge(e)||function(e){return function(e){return ve(e)&&me(e)}(e)&&D.call(e,\"callee\")&&(!R.call(e,\"callee\")||k.call(e)==i)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],r=n.length,o=!!r;for(var s in e)!t&&!D.call(e,s)||o&&(\"length\"==s||fe(s,r))||n.push(s);return n}function re(e,t){for(var n=e.length;n--;)if(pe(e[n][0],t))return n;return-1}function oe(e,t,n,a,u){return e===t||(null==e||null==t||!be(e)&&!ve(t)?e!=e&&t!=t:function(e,t,n,a,u,c){var l=ge(e),d=ge(t),f=\"[object Array]\",h=\"[object Array]\";l||(f=(f=de(e))==i?o:f);d||(h=(h=de(t))==i?o:h);var p=f==o&&!b(e),g=h==o&&!b(t),m=f==h;if(m&&!p)return c||(c=new ne),l||Se(e)?ue(e,t,n,a,u,c):function(e,t,n,i,o,a,u){switch(n){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!i(new W(e),new W(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return pe(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case r:var c=v;case s:var l=2&a;if(c||(c=S),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;a|=1,u.set(e,t);var f=ue(c(e),c(t),i,o,a,u);return u.delete(e),f;case\"[object Symbol]\":if(Z)return Z.call(e)==Z.call(t)}return!1}(e,t,f,n,a,u,c);if(!(2&u)){var y=p&&D.call(e,\"__wrapped__\"),w=g&&D.call(t,\"__wrapped__\");if(y||w){var C=y?e.value():e,_=w?t.value():t;return c||(c=new ne),n(C,_,a,u,c)}}if(!m)return!1;return c||(c=new ne),function(e,t,n,i,r,o){var s=2&r,a=Ce(e),u=a.length,c=Ce(t).length;if(u!=c&&!s)return!1;var l=u;for(;l--;){var d=a[l];if(!(s?d in t:D.call(t,d)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);var p=s;for(;++l<u;){d=a[l];var g=e[d],m=t[d];if(i)var y=s?i(m,g,d,t,e,o):i(g,m,d,e,t,o);if(!(void 0===y?g===m||n(g,m,i,r,o):y)){h=!1;break}p||(p=\"constructor\"==d)}if(h&&!p){var w=e.constructor,b=t.constructor;w==b||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof w&&w instanceof w&&\"function\"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,a,u,c)}(e,t,oe,n,a,u))}function se(e){return!(!be(e)||function(e){return!!L&&L in e}(e))&&(ye(e)||b(e)?N:a).test(he(e))}function ae(e){if(n=(t=e)&&t.constructor,i=\"function\"==typeof n&&n.prototype||I,t!==i)return F(e);var t,n,i,r=[];for(var o in Object(e))D.call(e,o)&&\"constructor\"!=o&&r.push(o);return r}function ue(e,t,n,i,r,o){var s=2&r,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,d=!0,f=1&r?new te:void 0;for(o.set(e,t),o.set(t,e);++l<a;){var h=e[l],p=t[l];if(i)var g=s?i(p,h,l,t,e,o):i(h,p,l,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!w(t,(function(e,t){if(!f.has(t)&&(h===e||n(h,e,i,r,o)))return f.add(t)}))){d=!1;break}}else if(h!==p&&!n(h,p,i,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ce(e,t){var n,i,r=e.__data__;return(\"string\"==(i=typeof(n=t))||\"number\"==i||\"symbol\"==i||\"boolean\"==i?\"__proto__\"!==n:null===n)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}function le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return se(n)?n:void 0}J.prototype.clear=function(){this.__data__=V?V(null):{}},J.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},J.prototype.get=function(e){var t=this.__data__;if(V){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return D.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return V?void 0!==t[e]:D.call(t,e)},J.prototype.set=function(e,t){return this.__data__[e]=V&&void 0===t?\"__lodash_hash_undefined__\":t,this},X.prototype.clear=function(){this.__data__=[]},X.prototype.delete=function(e){var t=this.__data__,n=re(t,e);return!(n<0)&&(n==t.length-1?t.pop():P.call(t,n,1),!0)},X.prototype.get=function(e){var t=this.__data__,n=re(t,e);return n<0?void 0:t[n][1]},X.prototype.has=function(e){return re(this.__data__,e)>-1},X.prototype.set=function(e,t){var n=this.__data__,i=re(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},ee.prototype.clear=function(){this.__data__={hash:new J,map:new(B||X),string:new J}},ee.prototype.delete=function(e){return ce(this,e).delete(e)},ee.prototype.get=function(e){return ce(this,e).get(e)},ee.prototype.has=function(e){return ce(this,e).has(e)},ee.prototype.set=function(e,t){return ce(this,e).set(e,t),this},te.prototype.add=te.prototype.push=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this},te.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.clear=function(){this.__data__=new X},ne.prototype.delete=function(e){return this.__data__.delete(e)},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof X){var i=n.__data__;if(!B||i.length<199)return i.push([e,t]),this;n=this.__data__=new ee(i)}return n.set(e,t),this};var de=function(e){return k.call(e)};function fe(e,t){return!!(t=null==t?9007199254740991:t)&&(\"number\"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function he(e){if(null!=e){try{return M.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function pe(e,t){return e===t||e!=e&&t!=t}(x&&\"[object DataView]\"!=de(new x(new ArrayBuffer(1)))||B&&de(new B)!=r||U&&\"[object Promise]\"!=de(U.resolve())||z&&de(new z)!=s||H&&\"[object WeakMap]\"!=de(new H))&&(de=function(e){var t=k.call(e),n=t==o?e.constructor:void 0,i=n?he(n):void 0;if(i)switch(i){case q:return\"[object DataView]\";case $:return r;case G:return\"[object Promise]\";case Y:return s;case Q:return\"[object WeakMap]\"}return t});var ge=Array.isArray;function me(e){return null!=e&&we(e.length)&&!ye(e)}function ye(e){var t=be(e)?k.call(e):\"\";return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t}function we(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function be(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function ve(e){return!!e&&\"object\"==typeof e}var Se=y?function(e){return function(t){return e(t)}}(y):function(e){return ve(e)&&we(e.length)&&!!c[k.call(e)]};function Ce(e){return me(e)?ie(e):ae(e)}n.exports=function(e,t,n){var i=(n=\"function\"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?oe(e,t,n):!!i}}).call(this,n(5),n(20)(e))},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BootReadyItem=t.BootConfigElement=t.ALL_BOOT_STAGES=void 0,t.ALL_BOOT_STAGES=[\"microkernel\",\"kernel\",\"authentication\",\"preuser\",\"earlyuser\",\"user\"];t.BootConfigElement=class{};t.BootReadyItem=class{constructor(e,t,n){this.name=e,this.type=t,this.config=n}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.checkpointChannel=t.statusChannel=t.killOldApplications=void 0;const i=n(2),r=n(39);t.killOldApplications=function(e){return new Promise(async t=>{i.System.getAllApplications(async n=>{if(n)for(let t=0;t<n.length;t++){const r=n[t];if(r.uuid.endsWith(\"-\"+e)){const e=i.System.Application.wrap(r.uuid);await i.System.closeApplication(e)}}console.log(\"killOldApplications: finished closing old apps\"),t()})})},t.statusChannel=function(e){return`${r.STATUS_CHANNEL_BASE}.${e}`},t.checkpointChannel=function(e,t){return`${r.CHECKPOINT_CHANNEL_BASE}.${e}.${t}`}},function(e,t,n){\"use strict\";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const a=s(n(7)),u=o(n(13));t.default=class{constructor(e,t){this.allowDelay=!1,this.delayed=!1,this.allowCancel=!1,this.canceled=!1,this.completed=!1,this.event=e.event,this.source=e.source,this.sourceType=e.sourceType,this.listenerGuid=e.listenerGuid,u[this.sourceType.toUpperCase()]&&u[this.sourceType.toUpperCase()].DELAYABLE_EVENTS.includes(this.event)&&(this.allowDelay=!0),u[this.sourceType.toUpperCase()]&&u[this.sourceType.toUpperCase()].CANCELABLE_EVENTS.includes(this.event)&&(this.allowCancel=!0),this.handler=e.handler,this.queryMessage=t,this.guid=t.data.guid,this.internalHandler()}async internalHandler(){this.data=this.queryMessage.data.data,this.handler&&await this.handler(this),this.delayed||this.canceled||this.completed||this.done()}cancel(){this.allowCancel&&(this.canceled=!0,this.done())}wait(){this.allowDelay?(this.delayed=!0,this.queryMessage.sendQueryResponse(null,{delayed:!0})):this.done()}done(e){this.completed=!0,this.delayed?a.default.transmit(`Finsemble.Listener.Done.${this.guid}.${this.listenerGuid}`,{canceled:this.canceled,data:e}):this.queryMessage.sendQueryResponse(null,{canceled:this.canceled,data:e})}}},function(e,t,n){\"use strict\";const i=n(66);e.exports=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))throw new TypeError(\"Expected `concurrency` to be a number from 1 and up\");const t=[];let n=0;const r=async(e,r,...o)=>{n++;const s=i(e,...o);r(s);try{await s}catch{}n--,t.length>0&&t.shift()()},o=(i,...o)=>new Promise(s=>((i,o,...s)=>{t.push(r.bind(null,i,o,...s)),(async()=>{await Promise.resolve(),n<e&&t.length>0&&t.shift()()})()})(i,s,...o));return Object.defineProperties(o,{activeCount:{get:()=>n},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o}},function(e,t,n){\"use strict\";const i=(e,...t)=>new Promise(n=>{n(e(...t))});e.exports=i,e.exports.default=i},function(e){e.exports=JSON.parse('{\"dictionary\":{\"0\":\"0\",\"1\":\"1\",\"2\":\"2\",\"3\":\"3\",\"4\":\"4\",\"5\":\"5\",\"6\":\"6\",\"7\":\"7\",\"8\":\"8\",\"9\":\"9\",\"backspace\":\"Backspace\",\"bs\":\"Backspace\",\"bksp\":\"Backspace\",\"tab\":\"Tab\",\"escape\":\"Escape\",\"esc\":\"Escape\",\"clear\":\"Clear\",\"enter\":\"Enter\",\"return\":\"Enter\",\"shift\":\"Shift\",\"shft\":\"Shift\",\"lshift\":\"Shift\",\"lshft\":\"Shift\",\"left shift\":\"Shift\",\"leftshift\":\"Shift\",\"rshift\":\"Shift\",\"rshft\":\"Shift\",\"right shift\":\"Shift\",\"rightshift\":\"Shift\",\"control\":\"Control\",\"ctrl\":\"Control\",\"alt\":\"Alt\",\"alternate\":\"Alt\",\"pause\":\"Pause\",\"caps lock\":\"Capslock\",\"capslock\":\"Capslock\",\"spacebar\":\"Space\",\"space\":\"Space\",\"space bar\":\"Space\",\"page up\":\"PageUp\",\"pgup\":\"PageUp\",\"pg up\":\"PageUp\",\"page down\":\"PageDown\",\"pgdn\":\"PageDown\",\"pg dn\":\"PageDown\",\"pgdown\":\"PageDown\",\"end\":\"End\",\"home\":\"Home\",\"left arrow\":\"Left\",\"left\":\"Left\",\"up arrow\":\"Up\",\"up\":\"Up\",\"right arrow\":\"Right\",\"right\":\"Right\",\"down arrow\":\"Down\",\"down\":\"Down\",\"select\":\"Select\",\"slct\":\"Select\",\"print\":\"PrintScreen\",\"prnt\":\"PrintScreen\",\"execute\":\"Execute\",\"print screen\":\"PrintScreen\",\"printscreen\":\"PrintScreen\",\"print scrn\":\"PrintScreen\",\"printscrn\":\"PrintScreen\",\"prnt scrn\":\"PrintScreen\",\"prntscrn\":\"PrintScreen\",\"prt scrn\":\"PrintScreen\",\"prtscrn\":\"PrintScreen\",\"prt scn\":\"PrintScreen\",\"prtscn\":\"PrintScreen\",\"prt scr\":\"PrintScreen\",\"prtscr\":\"PrintScreen\",\"prt sc\":\"PrintScreen\",\"prtsc\":\"PrintScreen\",\"pr sc\":\"PrintScreen\",\"prsc\":\"PrintScreen\",\"insert\":\"Insert\",\"ins\":\"Insert\",\"delete\":\"Delete\",\"del\":\"Delete\",\"a\":\"A\",\"b\":\"B\",\"c\":\"C\",\"d\":\"D\",\"e\":\"E\",\"f\":\"F\",\"g\":\"G\",\"h\":\"H\",\"i\":\"I\",\"j\":\"J\",\"k\":\"K\",\"l\":\"L\",\"m\":\"M\",\"n\":\"N\",\"o\":\"O\",\"p\":\"P\",\"q\":\"Q\",\"r\":\"R\",\"s\":\"S\",\"t\":\"T\",\"u\":\"U\",\"v\":\"V\",\"w\":\"W\",\"x\":\"X\",\"y\":\"Y\",\"z\":\"Z\",\"windows\":\"Super\",\"left windows\":\"Super\",\"right windows\":\"Super\",\"numpad 0\":\"num0\",\"numpad 1\":\"num1\",\"numpad 2\":\"num2\",\"numpad 3\":\"num3\",\"numpad 4\":\"num4\",\"numpad 5\":\"num5\",\"numpad 6\":\"num6\",\"numpad 7\":\"num7\",\"numpad 8\":\"num8\",\"numpad 9\":\"num9\",\"f1\":\"F1\",\"fn1\":\"F1\",\"function 1\":\"F1\",\"f2\":\"F2\",\"fn2\":\"F2\",\"function 2\":\"F2\",\"f3\":\"F3\",\"fn3\":\"F3\",\"function 3\":\"F3\",\"f4\":\"F4\",\"fn4\":\"F4\",\"function 4\":\"F4\",\"f5\":\"F5\",\"fn5\":\"F5\",\"function 5\":\"F5\",\"f6\":\"F6\",\"fn6\":\"F6\",\"function 6\":\"F6\",\"f7\":\"F7\",\"fn7\":\"F7\",\"function 7\":\"F7\",\"f8\":\"F8\",\"fn8\":\"F8\",\"function 8\":\"F8\",\"f9\":\"F9\",\"fn9\":\"F9\",\"function 9\":\"F9\",\"f10\":\"F10\",\"fn10\":\"F10\",\"function 10\":\"F10\",\"f11\":\"F11\",\"fn11\":\"F11\",\"function 11\":\"F11\",\"f12\":\"F12\",\"fn12\":\"F12\",\"function 12\":\"F12\",\"f13\":\"F13\",\"fn\":\"F13\",\"function 13\":\"F13\",\"f14\":\"F14\",\"fn14\":\"F14\",\"function 14\":\"F14\",\"f15\":\"F15\",\"fn15\":\"F15\",\"function 15\":\"F15\",\"f16\":\"F16\",\"fn16\":\"F16\",\"function 16\":\"F16\",\"num lock\":\"Numlock\",\"numlock\":\"Numlock\",\"number lock\":\"Numlock\",\"numeric lock\":\"Numlock\",\"scroll lock\":\"Scrolllock\",\"sclk\":\"Scrolllock\",\"scrlk\":\"Scrolllock\",\"slk\":\"Scrolllock\",\"*\":\"*\",\"+\":\"+\",\"-\":\"-\",\"/\":\"/\",\";\":\";\",\"=\":\"=\",\",\":\",\",\"_\":\"-\",\".\":\".\",\"`\":\"`\",\"[\":\"[\",\"]\":\"]\",\"\\'\":\"\\'\"}}')},function(e,t,n){\"use strict\";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const a=n(12),u=o(n(69)),c=s(n(0)),l=window;t.default=class{constructor(e,t){this.values={},this.listeners=[],this.registeredDispatchListeners=[],this.mapping={},this.Dispatcher={register:e=>{this.registeredDispatchListeners.push(e)},dispatch:e=>{this.isGlobal?this.routerClient.transmit(\"storeService.dispatch.\"+this.name,e):this.handleDispatchedMessages(null,{data:e})}},this.handleChanges=(e,t)=>{if(e&&c.default.system.error(\"DistributedStoreClient\",e),!t.data.store)return;t.data.field||(t.data.field=null);const n=this.name+(t.data.field?\".\"+t.data.field:\"\"),i=t.data.storeData?t.data.storeData:t.data.value;this.triggerListeners(n,i)},this.routerClient=t,this.isGlobal=e.global,this.name=e.store?e.store:\"finsemble\",e.values&&(this.values=e.values),this.lst=this.listeners,u.initObject(this.values,null,this.mapping),this.isGlobal&&this.routerClient.addListener(\"storeService.dispatch.\"+this.name,this.handleDispatchedMessages.bind(this))}handleDispatchedMessages(e,t){for(let e=0;e<this.registeredDispatchListeners.length;e++)this.registeredDispatchListeners[e](t.data)}setValue(e,t){if(e.field||c.default.system.error(\"DistributedStore.setValue:no field provided\",e),e.hasOwnProperty(\"value\")||c.default.system.error(\"DistributedStore.setValue:no value provided\",e),this.isGlobal){const n={store:this.name,field:e.field,value:e.value};return l.distributedStoreClient.routerClient.query(\"storeService.setValue\",n,e=>{if(t)return t(e)})}const n=u.checkForObjectChange(this.values,e.field,this.mapping);return u.setPath(this.values,e.field,e.value),u.mapField(this.values,e.field,this.mapping),n&&this.sendRemovals(n),this.triggerListeners(this.name,this),this.publishObjectUpdates(e.field,this.mapping),t?t(null):null}publishObjectUpdates(e,t){const n=t;for(;e;)this.triggerListeners(`${this.name}.${e}`,u.byString(this.values,e)),e=n[e]}sendRemovals(e){for(let t=0;t<e.length;t++)this.triggerListeners(`${this.name}.${e[t]}`,u.byString(this.values,e[t]))}setValues(e,t){return e?Array.isArray(e)?void a.each(e,(e,t)=>{this.setValue(e,t)},e=>t?t(e):null):c.default.system.error(\"DistributedStore.setValues:params must be an array\"):c.default.system.error(\"DistributedStore.setValues:no params given\")}getValue(e,t){if(\"string\"==typeof e&&(e={field:e}),!e.field)return t?t(\"no field provided\"):\"no field provided\";if(this.isGlobal)return this.getGlobalValue(e,t);const n=u.byString(this.values,e.field);return void 0!==n?t?t(null,n):n:t?t(\"couldn't find a value\"):null}getValues(e,t){if(null===e&&(e=t),\"function\"==typeof e)return t=e,this.isGlobal?this.getGlobalValues(null,t):t?t(null,this.values):this.values;if(!Array.isArray(e))return this.getValue(e,t);if(this.isGlobal)return this.getGlobalValues(e,t);const n={};for(let t=0;t<e.length;t++){const i=e[t],r=\"string\"==typeof i?i:i.field,o=u.byString(this.values,r);n[r]=o}return t?t(null,n):n}getGlobalValue(e,t){l.distributedStoreClient.routerClient.query(\"storeService.getValue\",{store:this.name,field:e.field},(e,n)=>e?t(e):t(e,n.data))}getGlobalValues(e,t){l.distributedStoreClient.routerClient.query(\"storeService.getValues\",{store:this.name,fields:e},(e,n)=>e?t(e):t(e,n.data))}removeValue(e,t){if(!e.field){if(void 0===e)return t(\"no field provided\");e={field:e}}return e.value=null,this.setValue(e,t)}removeValues(e,t){if(!Array.isArray(e))return t(\"The passed in parameter needs to be an array\");a.map(e,this.removeValue,(e,n)=>t(e,n))}destroy(e){const t={store:this.name,global:this.isGlobal};l.distributedStoreClient.removeStore(t,t=>t?e(t):e(null,!0))}changeSub(e){this.subs||(this.subs=[]),this.subs[e]||(this.isGlobal&&l.distributedStoreClient.routerClient.subscribe(\"storeService\"+e,this.handleChanges),this.subs[e]=!0)}addListener(e,t,n){\"function\"==typeof e&&(t=e,e={});let{field:i}=e;const r=this.name+(i?\".\"+i:\"\");return this.listeners[r]?this.listeners[r].push(t):this.listeners[r]=[t],this.changeSub(r),n?n():null}addListeners(e,t,n){if(!Array.isArray(e))return this.addListener(e,t,n);for(let n=0;n<e.length;n++){let r=null;const o=e[n];var i;\"string\"==typeof o?r=o:o.field&&(({field:r}=o),i=e[n].listener);const s=this.name+(r?\".\"+r:\"\");i||t&&\"function\"==typeof t&&(i=t),this.listeners[s]?this.listeners[s].push(i):this.listeners[s]=[i],this.changeSub(s)}return n?n():null}removeListener(e,t,n){\"function\"==typeof e&&(n=t,t=e,e={});let{field:i}=e;const r=this.name+(i?\".\"+i:\"\");if(this.listeners[r])for(let e=0;e<this.listeners[r].length;e++)if(this.listeners[r][e]===t)return this.listeners[r].splice(e,1),n?n(null,!0):null;return n?n(null,!1):null}removeListeners(e,t,n){if(!Array.isArray(e))return\"function\"==typeof e?this.removeListener({},e,n):e.field&&this.removeListener(e,t,n),n(\"missing fields\");let i=0;for(let n=0;n<e.length;n++){let o=null;const s=e[n];var r;\"string\"==typeof s?o=s:s.field&&(({field:o}=s),r=e[n].listener);const a=this.name+(o?\".\"+o:\"\");if(!r){if(!t||\"function\"!=typeof t)continue;r=t}for(let e=0;e<this.listeners[a].length;e++)this.listeners[a][e]===r&&(this.listeners[a].splice(e,1),i++)}return i<e.length?n(\"All listeners could not be found\",!1):n?n(null,!0):null}triggerListeners(e,t){if(this.listeners[e])for(let n=0;n<this.listeners[e].length;n++)\"function\"==typeof this.listeners[e][n]?(c.default.system.debug(\"DistributedStore.triggerListeners\",e,t),this.listeners[e][n](null,{field:e,value:t})):c.default.system.warn(\"DistributedStoreClient:triggerListeners: listener is not a function\",e,n,this.listeners[e][n])}}},function(e,t,i){\"use strict\";function r(e,t){const n=(t=t.replace(/^\\./,\"\")).split(/\\.(?![^[]*])/g);for(let t=0;t<n.length;++t){const i=n[t].replace(/[[\"\\]]/g,\"\");if(!e)return null;if(\"string\"==typeof e)return null;if(!(i in e))return null;e=e[i]}return e}i.r(t),i.d(t,\"byString\",(function(){return r})),i.d(t,\"setPath\",(function(){return o})),i.d(t,\"initObject\",(function(){return s})),i.d(t,\"mapField\",(function(){return a})),i.d(t,\"checkForObjectChange\",(function(){return c}));const o=(e,t,n)=>t.split(\".\").reduce((e,i)=>e[i]=t.split(\".\").pop()===i?n:e[i]||{},e);function s(e,t,i){let r;if(t||(t=null),\"object\"!=typeof e)return r=t?`${t}.${n}`:n,void(i[r]=t);for(const n in e)\"object\"==typeof e[n]&&\"undefined\"!==e[n]?(r=t?`${t}.${n}`:n,i[r]=t,s(e[n],r,i)):(r=t?`${t}.${n}`:n,i[r]=t)}function a(e,t,n){if(n[t])return;const i=(t=(t=t.replace(/\\[(\\w+)\\]/g,\".$1\")).replace(/^\\./,\"\")).split(\".\"),o=t;if(!n.hasOwnProperty(o)){let e=null;i.length>1&&(i.pop(),e=i.join(\".\")),n[o]=e}const s=r(e,o);if(\"undefined\"!==s&&\"object\"==typeof s)for(const t in s)a(e,`${o}.${t}`,n)}function u(e,t){const n=[];for(const i in e){const r=t+\".\";i.includes(r)&&(n.push(i),delete e[i])}return n}function c(e,t,n){const i=r(e,t);return null!==i&&(\"object\"==typeof i||\"object\"!=typeof i&&\"object\"==typeof t?u(n,t):null)}},function(e,t,n){(function(e,n){var i=\"[object Arguments]\",r=\"[object Function]\",o=\"[object GeneratorFunction]\",s=\"[object Map]\",a=\"[object Set]\",u=/\\w*$/,c=/^\\[object .+?Constructor\\]$/,l=/^(?:0|[1-9]\\d*)$/,d={};d[i]=d[\"[object Array]\"]=d[\"[object ArrayBuffer]\"]=d[\"[object DataView]\"]=d[\"[object Boolean]\"]=d[\"[object Date]\"]=d[\"[object Float32Array]\"]=d[\"[object Float64Array]\"]=d[\"[object Int8Array]\"]=d[\"[object Int16Array]\"]=d[\"[object Int32Array]\"]=d[s]=d[\"[object Number]\"]=d[\"[object Object]\"]=d[\"[object RegExp]\"]=d[a]=d[\"[object String]\"]=d[\"[object Symbol]\"]=d[\"[object Uint8Array]\"]=d[\"[object Uint8ClampedArray]\"]=d[\"[object Uint16Array]\"]=d[\"[object Uint32Array]\"]=!0,d[\"[object Error]\"]=d[r]=d[\"[object WeakMap]\"]=!1;var f=\"object\"==typeof e&&e&&e.Object===Object&&e,h=\"object\"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function(\"return this\")(),g=t&&!t.nodeType&&t,m=g&&\"object\"==typeof n&&n&&!n.nodeType&&n,y=m&&m.exports===g;function w(e,t){return e.set(t[0],t[1]),e}function b(e,t){return e.add(t),e}function v(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function S(e){var t=!1;if(null!=e&&\"function\"!=typeof e.toString)try{t=!!(e+\"\")}catch(e){}return t}function C(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function _(e,t){return function(n){return e(t(n))}}function T(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var E,A=Array.prototype,I=Function.prototype,O=Object.prototype,L=p[\"__core-js_shared__\"],M=(E=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+E:\"\",D=I.toString,k=O.hasOwnProperty,N=O.toString,j=RegExp(\"^\"+D.call(k).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),W=y?p.Buffer:void 0,R=p.Symbol,P=p.Uint8Array,F=_(Object.getPrototypeOf,Object),x=Object.create,B=O.propertyIsEnumerable,U=A.splice,z=Object.getOwnPropertySymbols,H=W?W.isBuffer:void 0,V=_(Object.keys,Object),q=me(p,\"DataView\"),$=me(p,\"Map\"),G=me(p,\"Promise\"),Y=me(p,\"Set\"),Q=me(p,\"WeakMap\"),K=me(Object,\"create\"),Z=Se(q),J=Se($),X=Se(G),ee=Se(Y),te=Se(Q),ne=R?R.prototype:void 0,ie=ne?ne.valueOf:void 0;function re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ae(e){this.__data__=new oe(e)}function ue(e,t){var n=_e(e)||function(e){return function(e){return function(e){return!!e&&\"object\"==typeof e}(e)&&Te(e)}(e)&&k.call(e,\"callee\")&&(!B.call(e,\"callee\")||N.call(e)==i)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],r=n.length,o=!!r;for(var s in e)!t&&!k.call(e,s)||o&&(\"length\"==s||be(s,r))||n.push(s);return n}function ce(e,t,n){var i=e[t];k.call(e,t)&&Ce(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function le(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1}function de(e,t,n,c,l,f,h){var p;if(c&&(p=f?c(e,l,f,h):c(e)),void 0!==p)return p;if(!Ie(e))return e;var g=_e(e);if(g){if(p=function(e){var t=e.length,n=e.constructor(t);t&&\"string\"==typeof e[0]&&k.call(e,\"index\")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,i=e.length;t||(t=Array(i));for(;++n<i;)t[n]=e[n];return t}(e,p)}else{var m=we(e),y=m==r||m==o;if(Ee(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(\"[object Object]\"==m||m==i||y&&!f){if(S(e))return f?e:{};if(p=function(e){return\"function\"!=typeof e.constructor||ve(e)?{}:(t=F(e),Ie(t)?x(t):{});var t}(y?{}:e),!t)return function(e,t){return pe(e,ye(e),t)}(e,function(e,t){return e&&pe(t,Oe(t),e)}(p,e))}else{if(!d[m])return f?e:{};p=function(e,t,n,i){var r=e.constructor;switch(t){case\"[object ArrayBuffer]\":return he(e);case\"[object Boolean]\":case\"[object Date]\":return new r(+e);case\"[object DataView]\":return function(e,t){var n=t?he(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,i);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return function(e,t){var n=t?he(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,i);case s:return function(e,t,n){return v(t?n(C(e),!0):C(e),w,new e.constructor)}(e,i,n);case\"[object Number]\":case\"[object String]\":return new r(e);case\"[object RegExp]\":return function(e){var t=new e.constructor(e.source,u.exec(e));return t.lastIndex=e.lastIndex,t}(e);case a:return function(e,t,n){return v(t?n(T(e),!0):T(e),b,new e.constructor)}(e,i,n);case\"[object Symbol]\":return o=e,ie?Object(ie.call(o)):{}}var o}(e,m,de,t)}}h||(h=new ae);var _=h.get(e);if(_)return _;if(h.set(e,p),!g)var E=n?function(e){return function(e,t,n){var i=t(e);return _e(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Oe,ye)}(e):Oe(e);return function(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n,e););}(E||e,(function(i,r){E&&(i=e[r=i]),ce(p,r,de(i,t,n,c,r,e,h))})),p}function fe(e){return!(!Ie(e)||(t=e,M&&M in t))&&(Ae(e)||S(e)?j:c).test(Se(e));var t}function he(e){var t=new e.constructor(e.byteLength);return new P(t).set(new P(e)),t}function pe(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var s=t[r],a=i?i(n[s],e[s],s,n,e):void 0;ce(n,s,void 0===a?e[s]:a)}return n}function ge(e,t){var n,i,r=e.__data__;return(\"string\"==(i=typeof(n=t))||\"number\"==i||\"symbol\"==i||\"boolean\"==i?\"__proto__\"!==n:null===n)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}function me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}re.prototype.clear=function(){this.__data__=K?K(null):{}},re.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},re.prototype.get=function(e){var t=this.__data__;if(K){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return k.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:k.call(t,e)},re.prototype.set=function(e,t){return this.__data__[e]=K&&void 0===t?\"__lodash_hash_undefined__\":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,n=le(t,e);return!(n<0)&&(n==t.length-1?t.pop():U.call(t,n,1),!0)},oe.prototype.get=function(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]},oe.prototype.has=function(e){return le(this.__data__,e)>-1},oe.prototype.set=function(e,t){var n=this.__data__,i=le(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},se.prototype.clear=function(){this.__data__={hash:new re,map:new($||oe),string:new re}},se.prototype.delete=function(e){return ge(this,e).delete(e)},se.prototype.get=function(e){return ge(this,e).get(e)},se.prototype.has=function(e){return ge(this,e).has(e)},se.prototype.set=function(e,t){return ge(this,e).set(e,t),this},ae.prototype.clear=function(){this.__data__=new oe},ae.prototype.delete=function(e){return this.__data__.delete(e)},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oe){var i=n.__data__;if(!$||i.length<199)return i.push([e,t]),this;n=this.__data__=new se(i)}return n.set(e,t),this};var ye=z?_(z,Object):function(){return[]},we=function(e){return N.call(e)};function be(e,t){return!!(t=null==t?9007199254740991:t)&&(\"number\"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function ve(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||O)}function Se(e){if(null!=e){try{return D.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function Ce(e,t){return e===t||e!=e&&t!=t}(q&&\"[object DataView]\"!=we(new q(new ArrayBuffer(1)))||$&&we(new $)!=s||G&&\"[object Promise]\"!=we(G.resolve())||Y&&we(new Y)!=a||Q&&\"[object WeakMap]\"!=we(new Q))&&(we=function(e){var t=N.call(e),n=\"[object Object]\"==t?e.constructor:void 0,i=n?Se(n):void 0;if(i)switch(i){case Z:return\"[object DataView]\";case J:return s;case X:return\"[object Promise]\";case ee:return a;case te:return\"[object WeakMap]\"}return t});var _e=Array.isArray;function Te(e){return null!=e&&function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Ae(e)}var Ee=H||function(){return!1};function Ae(e){var t=Ie(e)?N.call(e):\"\";return t==r||t==o}function Ie(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function Oe(e){return Te(e)?ue(e):function(e){if(!ve(e))return V(e);var t=[];for(var n in Object(e))k.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}(e)}n.exports=function(e){return de(e,!0,!0)}}).call(this,n(5),n(20)(e))},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.FinsembleView=void 0;t.FinsembleView=class{constructor(e){this.win=e.win,this.id=e.id}async remove(e=Function.prototype){await this.win.removeBrowserView(this,e)}async setBounds(e,t=Function.prototype){await this.win.setViewBounds({view:this,bounds:e},t)}async bringToFront(e=Function.prototype){await this.win.bringViewToFront(this,e)}}},function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const a=n(4),u=o(n(11)),c=s(n(8)),l=s(n(0)),d=n(13),f=n(10);class h extends a._BaseClient{constructor(e){super(e),this.workspaces=[],this.setWorkspaces=this.setWorkspaceOrder,this.createNewWorkspace=this.createWorkspace,this.getWorkspaceDefinition=this.export,this.addWorkspaceDefinition=this.import,this.saveWorkspaceTemplateToConfigFile=this.exportToFile,c.default.args(e,\"object=\")&&e&&c.default.args2(\"params.onReady\",e.onReady,\"function=\")}_serviceResponseHandler(e,t,n,i,r=Function.prototype){if(e)return i(new Error(e)),r(e);t||(t={data:null}),n(t.data),r(null,t.data)}saveGlobalData(e,t){l.default.system.debug(\"WorkspaceClient.saveGlobalData\",e);return new Promise((n,i)=>{this.routerClient.query(d.WORKSPACE.API_CHANNELS.SAVE_GLOBAL_DATA,e,(e,r)=>{this._serviceResponseHandler(e,r,n,i,t)})})}saveViewData(e,t){l.default.system.debug(\"WorkspaceClient.saveViewData\",e);return new Promise((n,i)=>{this.routerClient.query(d.WORKSPACE.API_CHANNELS.SAVE_VIEW_DATA,e,(e,r)=>{this._serviceResponseHandler(e,r,n,i,t)})})}addEventListener(e,t){super.addEventListener(e,t)}async addWindow(e,t=null){c.default.args(e,\"object\",t,\"function=\")&&e&&c.default.args2(\"params.name\",e.name,\"string\");const{err:n,response:i}=await this.routerClient.query(\"WorkspaceService.addWindow\",e,()=>{});if(l.default.system.log(`WORKSPACE LIFECYCLE: Window added:WorkspaceClient.addWindow: Name (${e.name})`),t&&t(n,i),!t&&n)throw n;return i}removeWindow(e,t=Function.prototype){c.default.args(e,\"object\",t,\"function=\")&&c.default.args2(\"params.name\",e.name,\"string\"),this.routerClient.query(\"WorkspaceService.removeWindow\",e,(n,i)=>{if(n)return l.default.system.error(n);l.default.system.log(`WORKSPACE LIFECYCLE:WorkspaceClient.removeWindow:Window removed: Name (${e.name})`),t(n,i?i.data:null)})}autoArrange(e,t=Function.prototype){c.default.args(e,\"object\",t,\"function=\"),e=e||{},u.getMyWindowIdentifier(e=>{this.routerClient.query(\"DockingService.autoArrange\",{windowIdentifier:e},t)})}minimizeAll(e,t=Function.prototype){c.default.args(e,\"object\",t,\"function=\"),e=e||{monitor:\"all\"},u.getMyWindowIdentifier(n=>{e.windowIdentifier||(e.windowIdentifier=n),this.routerClient.query(\"WorkspaceService.minimizeAll\",e,t)})}bringWindowsToFront(e,t=Function.prototype){c.default.args(e,\"object\",t,\"function=\"),e=e||{monitor:\"all\"},u.getMyWindowIdentifier(n=>{e.windowIdentifier||(e.windowIdentifier=n),this.routerClient.query(\"WorkspaceService.bringWindowsToFront\",e,t)})}async getActiveWorkspace(e){l.default.system.debug(\"WorkspaceClient.getActiveWorkspace\");const t=(await this.routerClient.query(d.WORKSPACE.API_CHANNELS.GET_ACTIVE_WORKSPACE,{})).response;if(this.activeWorkspace=t.data,t.data.err)throw e&&e(t.data.err),new Error(t.data.err);return e&&e(null,t),t}getWorkspaces(e){c.default.args(e,\"function=\"),l.default.system.debug(\"WorkspaceClient.getWorkspaces\");return new Promise(async(t,n)=>{this.routerClient.query(d.WORKSPACE.API_CHANNELS.GET_WORKSPACES,{},(i,r)=>{this._serviceResponseHandler(i,r,t,n,e)})})}getWorkspaceActions(e){return e(null,d.WORKSPACE.API_CHANNELS)}getWorkspaceNames(e){c.default.args(e,\"function=\"),l.default.system.debug(\"WorkspaceClient.getWorkspaceNames\");return new Promise(async(t,n)=>{this.routerClient.query(d.WORKSPACE.API_CHANNELS.GET_WORKSPACE_NAMES,{},(i,r)=>{this._serviceResponseHandler(i,r,t,n,e)})})}setWorkspaceOrder(e,t){const{workspaces:n}=e;c.default.args(t,\"function\"),l.default.system.debug(\"WorkspaceClient.setWorkspaceOrder\",e);return new Promise((i,r)=>{this.routerClient.query(d.WORKSPACE.API_CHANNELS.SET_WORKSPACE_ORDER,n||e,(e,n)=>{this._serviceResponseHandler(e,n,i,r,t)})})}remove(e,t=Function.prototype){c.default.args(e,\"object\",t,\"function=\")&&!e.name&&!e.workspace&&c.default.args2(\"params.name\",e.name,\"string\"),l.default.system.debug(\"WorkspaceClient.remove\",e);return new Promise(async(n,i)=>{e.name||(e.name=e.workspace.name,delete e.workspace);const r=(await this.getActiveWorkspace()).data;if(e.name===r.name){l.default.system.error(\"APPLICATION LIFECYCLE:  Cannot remove active workspace: WorkspaceClient.remove:attempt to remove active workspace name:\"+r.name);const e=\"Cannot remove active workspace\";return this._serviceResponseHandler(e,null,n,i,t)}this.routerClient.query(d.WORKSPACE.API_CHANNELS.REMOVE,e,(e,r)=>{this._serviceResponseHandler(e,r,n,i,t)})})}rename(e,t=Function.prototype){c.default.args(e,\"object\",t,\"function=\")&&c.default.args2(\"params.oldName\",e.oldName,\"string\",\"params.newName\",e.newName,\"string\"),l.default.system.debug(\"WorkspaceClient.rename\",e);return new Promise((n,i)=>{if(!e.overwriteExisting&&this.workspaceExists(e.newName)){const e=\"Workspace Already Exists\";return this._serviceResponseHandler(e,null,n,i,t)}this.routerClient.query(d.WORKSPACE.API_CHANNELS.RENAME,e,(e,r)=>{this._serviceResponseHandler(e,r,n,i,t)})})}clone(e,t=Function.prototype){return c.default.args(e,\"object\",t,\"function=\")&&c.default.args2(\"params.name\",e.name,\"string\"),delete e.name,e.newName||(e.newName=e.name+\"_clone\"),e.removeOldWorkspace=!1,this.rename({removeOldWorkspace:!1,newName:e.newName,oldName:e.name},t)}save(e=Function.prototype){l.default.system.debug(\"WorkspaceClient.save\");return new Promise((t,n)=>{this.routerClient.query(d.WORKSPACE.API_CHANNELS.SAVE,{},(i,r)=>{this._serviceResponseHandler(i,r,t,n,e)})})}workspaceExists(e){c.default.args(e,\"string\");for(let t=0;t<this.workspaces.length;t++)if(e===this.workspaces[t])return!0;return!1}saveAs(e,t=Function.prototype){c.default.args(e,\"object\",t,\"function=\")&&c.default.args2(\"params.name\",e.name,\"string\"),l.default.system.debug(\"WorkspaceClient.saveAs\",e);return new Promise((n,i)=>{if(!e.force&&this.workspaceExists(e.name))return this._serviceResponseHandler(\"Workspace Already Exists\",null,n,i,t);this.routerClient.query(d.WORKSPACE.API_CHANNELS.SAVE_AS,e,(e,r)=>{this._serviceResponseHandler(e,r,n,i,t)})})}async switchTo(e,t=Function.prototype){c.default.args(e,\"object\",t,\"function\")&&c.default.args2(\"params.name\",e.name,\"string\"),l.default.system.debug(\"WorkspaceClient.switchTo\",e);const n=await this.routerClient.query(d.WORKSPACE.API_CHANNELS.SWITCH_TO,e);if(n.err)throw t(n.err,null),new Error(n.err);return t(n),n}async _setWindowState(e){if(!this.activeWorkspace)throw\"Workspace is not yet ready\";if(!this.activeWorkspace.windows.includes(e.windowName))throw\"Cannot set state for Window not in workspace\";return l.default.system.debug(\"WorkspaceClient.setWindowData\",e),this.routerClient.query(d.WORKSPACE.API_CHANNELS.SET_WINDOW_STATE,e)}async _getWindowState(e){return l.default.system.debug(\"WorkspaceClient.getWindowData\",e),this.routerClient.query(d.WORKSPACE.API_CHANNELS.GET_WINDOW_STATE,e)}async isWorkspaceDirty(e=Function.prototype){c.default.args(e,\"function\"),l.default.system.debug(\"WorkspaceClient.isWorkspaceDirty\");const{err:t,response:n}=await this.routerClient.query(d.WORKSPACE.API_CHANNELS.GET_ACTIVE_WORKSPACE_DIRTY,{},()=>{});return e(t,n),n.data}async createWorkspace(e,t,n=((e,t)=>{e&&(l.default.system.error(\"Error creating workspace: \"+e),l.default.system.info(\"Result from create workspace: \"+t))})){l.default.system.log(`WorkspaceClient: Creating Workspace Request for name \"${e}\"`);const i=(await this.routerClient.query(d.WORKSPACE.API_CHANNELS.NEW_WORKSPACE,{workspaceName:e})).response.data;!1!==t.switchAfterCreation&&await this.switchTo({name:i});const r={workspaceName:i};return n(null,r),r}export(e,t){c.default.args(e,\"object\",t,\"function\")&&c.default.args2(\"params.workspaceName\",e.workspaceName,\"string\"),l.default.system.debug(\"WorkspaceClient.export\",e);return new Promise((n,i)=>{this.routerClient.query(d.WORKSPACE.API_CHANNELS.EXPORT,e,(r,o)=>{const s={};s[e.workspaceName]=o.data,this._serviceResponseHandler(r,{data:s},n,i,t)})})}async import(e,t){c.default.args(e,\"object\",t,\"function=\")&&c.default.args2(\"params.workspaceJSONDefinition\",e.workspaceJSONDefinition,\"object\"),l.default.system.debug(\"WorkspaceClient.import\",e);const n=(await this.routerClient.query(d.WORKSPACE.API_CHANNELS.IMPORT,e)).response.data;if(n&&n.err)throw t(n.err),new Error(n.err);return t&&t(null,n),n}exportToFile(e){l.default.system.info(\"workspaceClient.saveWorkspaceTemplateToConfigFile\",e),c.default.args(e,\"object\")&&c.default.args2(\"params.workspaceTemplateDefinition\",e.workspaceTemplateDefinition,\"object\");const{workspaceTemplateDefinition:t}=e;if(\"object\"==typeof t){const e=Object.keys(t)[0];if(e&&t[e].templateDefinitionFlag){const n={workspaceTemplates:t};f.ConfigUtilInstance.promptAndSaveJSONToLocalFile(\"workspaceConfig-\"+e,n)}else l.default.system.error(\"workspaceClient.saveWorkspaceTemplateToConfigFile. Input is not a legal template\")}else l.default.system.error(\"workspaceClient.saveWorkspaceTemplateToConfigFile: Input is not a legal object\")}async start(e){this.routerClient.subscribe(\"Finsemble.WorkspaceService.update\",(t,n)=>{l.default.system.debug(\"workspaceClient init subscribe response\",t,n),t?l.default.system.error(t):(this.activeWorkspace=n.data.activeWorkspace,this.workspaces=n.data.workspaces,e&&e())})}}var p=new h({onReady:e=>{p.start(e)},name:\"workspaceClient\"});t.default=p},function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(12),o=i(n(16)),s=i(n(14)),a=i(n(17)),u=i(n(8)),c=n(4),l=n(15),d=i(n(0)),f=n(2),h=n(9);s.default.initialize(),o.default.initialize(),a.default.initialize();class p extends c._BaseClient{constructor(e){super(e),this.getParametersFromInDialog=()=>{const{inputParams:e}=s.default.getSpawnData();return d.default.system.debug(\"DialogManagerClient:getParametersFromInDialog: \"+JSON.stringify(e)),e},this.respondAndExitFromInDialog=e=>{u.default.args(e,\"any\"),d.default.system.debug(\"DialogManagerClient:respondAndExitFromInDialog: \"+JSON.stringify(e));const{responseChannel:t}=s.default.getSpawnData();this.routerClient.transmit(t,e)},this.getAvailableDialog=(e,t)=>{this.DialogStore.getValue(\"dialogs.available\",(n,i)=>{for(const n in i){const r=i[n];if(r.componentType===e)return t(r)}t(null)})},this.generateDialogReadyChannel=e=>`Dialog.${e.windowName+e.uuid}.ready`,this.showDialog=()=>{const e=this.generateDialogReadyChannel(o.default.myWindowIdentifier);this.routerClient.transmit(e,{userInputTimeout:void 0===this.userInputTimeout?1e4:this.userInputTimeout})},this.sendQueryToDialog=(e,t,n)=>{function i(t){console.warn(`No response from dialog ${e.windowName} after ${t/1e3} seconds. Check to make sure your dialog is sending back data.`)}this.moveDialogFromAvailableToOpened(e);const r=`Dialog.${e.windowName+e.uuid}.Show`,s=this.generateDialogReadyChannel(e);let a;const u=(n,r)=>{a=setTimeout(i.bind(null,r.data.userInputTimeout),r.data.userInputTimeout),d.default.perf.info(\"DialogManagerClient:sendQueryToDialog:Dialog: ShowWindow Start\"),o.default.showWindow(e,{monitor:t.monitor||\"mine\",left:\"center\",top:\"center\"},(e,t)=>{l.FinsembleWindow.getInstance({name:t.finWindow.name},(e,t)=>{t.bringToFront(),t.focus()}),d.default.perf.info(\"DialogManagerClient:sendQueryToDialog:ShowWindow finish\")}),this.routerClient.removeListener(s,u)};this.routerClient.addListener(s,u),d.default.perf.info(\"DialogManagerClient:sendQueryToDialog ShowWindow Query begin.\"),this.routerClient.query(r,t,(t,i)=>{clearTimeout(a),this.moveDialogFromOpenedToAvailable(e),n(t,i.data)})},this.moveDialogFromOpenedToAvailable=e=>{this.DialogStore.getValue(\"dialogs\",(t,n)=>{const i=n.opened,r=n.available;delete i[e.windowName],r[e.windowName]=e,this.DialogStore.setValue({field:\"dialogs.opened\",value:i}),this.DialogStore.setValue({field:\"dialogs.available\",value:r})})},this.moveDialogFromAvailableToOpened=e=>{this.DialogStore.getValue(\"dialogs\",(t,n)=>{const i=n.available,r=n.opened;delete i[e.windowName],r[e.windowName]=e,this.DialogStore.setValue({field:\"dialogs.available\",value:i}),this.DialogStore.setValue({field:\"dialogs.opened\",value:r})})},this.registerModal=()=>{this.isModal&&(f.System.getMonitorInfo(e=>{const t=e.virtualScreen;t.width=t.right-t.left,t.height=t.bottom-t.top,this.finsembleWindow.setBounds({bounds:t})}),this.DialogStore.setValue({field:\"modalIdentifier\",value:o.default.myWindowIdentifier}))},this.showModal=e=>{this.DialogStore.getValue(\"modalIdentifier\",async(t,n)=>{if(null==n)return;const{wrap:i}=await l.FinsembleWindow.getInstance({uuid:n.uuid,name:n.windowName});i.updateOptions({options:{opacity:.4}},()=>{i.show(()=>{i.bringToFront(()=>{this.finsembleWindow.focus(()=>{this.finsembleWindow.bringToFront(),e&&\"function\"==typeof e&&e()})})})})})},this.open=(e,t,n)=>{this.getAvailableDialog(e,i=>{i?this.sendQueryToDialog(i,t,n):o.default.spawn(e,{options:{customData:{foreign:{clients:{dialogManager:{isDialog:!0}}}}}},()=>{this.open(e,t,n)})})},this.DialogStore=null,this.isDialog=!1,this.isModal=!1,this.RESPONDER_CHANNEL=null,this.openerMessage=null,this.registerDialogCallback=e=>{this.routerClient.addResponder(this.RESPONDER_CHANNEL,(t,n)=>{this.openerMessage=n,e(t,n)})},this.hideModal=()=>{this.DialogStore.getValue(\"modalIdentifier\",async(e,t)=>{if(null==t)return;const{wrap:n}=await l.FinsembleWindow.getInstance({uuid:t.uuid,name:t.windowName});n.hide()})},this.respondToOpener=e=>{d.default.system.info(\"DialogManagerClient:RespondToOpener:\",e),this.openerMessage.sendQueryResponse(null,e),!1!==e.hideModalOnClose&&this.hideModal(),this.finsembleWindow.hide(),this.openerMessage=null},this.registerWithStore=e=>{if(this.isDialog){const t=o.default.myWindowIdentifier;this.RESPONDER_CHANNEL=`Dialog.${t.windowName+t.uuid}.Show`,this.DialogStore.setValue({field:\"dialogs.available.\"+t.windowName,value:t},e)}else e()},this.checkIfWindowIsDialog=e=>{let t=null;try{this.isDialog=s.default.options.customData.foreign.clients.dialogManager.isDialog}catch(e){t=e}e&&e(t)},this.createStore=e=>{a.default.createStore({store:\"DialogStore\",values:{dialogs:{opened:{},available:{}}},global:!0},(t,n)=>{this.DialogStore=n,e()})},this.getFinsembleWindow=e=>{if(!this.isDialog)return e();l.FinsembleWindow.getInstance({name:this.finWindow.name,uuid:this.finWindow.uuid},(t,n)=>{this.finsembleWindow=n,e()})},this.spawnDialog=this.spawnDialog.bind(this)}spawnDialog(e,t,n,i){u.default.args(e,\"object\",t,\"object\",n,\"function\");const r=h.getUniqueName(\"DialogChannel\");e.data={inputParams:t,responseChannel:r},e.left||0===e.left||e.right||0===e.right||(e.left=\"center\"),e.top||0===e.top||e.bottom||0===e.bottom||(e.top=\"center\"),this.routerClient.addListener(r,(e,t)=>{n(e,t.data),this.routerClient.removeListener(r,i)}),o.default.spawn(\"dialogTemplate\",e,(e,t)=>{e&&(d.default.system.error(\"ERROR\",e),n(e,t)),i&&i(e,t)})}}var g=new p({startupDependencies:{clients:[\"distributedStoreClient\",\"windowClient\"]},onReady(e){g.checkIfWindowIsDialog(),r.series([g.createStore.bind(g),g.registerWithStore.bind(g),g.getFinsembleWindow.bind(g),e=>{o.default.onReady(e)},e=>{s.default.onReady(e)}],e)},name:\"dialogManager\"});t.default=g},function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.AuthenticationClient=void 0;const r=i(n(8)),o=n(4),s=n(15),a=n(9);class u extends o._BaseClient{constructor(e){super(e),this.publishAuthorization=(e,t)=>{r.default.args(e,\"string\",t,\"object\"),this.routerClient.transmit(\"AuthenticationService.authorization\",{user:e,credentials:t})},this.getCurrentCredentials=e=>{this.routerClient.query(\"authentication.currentCredentials\",null,(t,n)=>{const i=t?null:n.data;e(t,i)})},this.transmitSignOnToAuthService=e=>{r.default.args(e,\"object\"),this.logger.system.debug(\"AUTHORIZATION: Transmitting SignOn To AuthService\"),this.routerClient.transmit(\"authentication.dialogSignOnToAuthService\",e)},this.appSignOn=(e,t,n)=>{this.logger.system.debug(\"AUTHORIZATION: Signing on to app \"+e),r.default.args(e,\"string\",t,\"object\",n,\"function\"),this.routerClient.query(\"authentication.appSignOn\",{signOnKey:e,params:t},{timeout:-1},(e,t)=>{n&&n(e,t.data)})},this.appRejectAndRetrySignOn=(e,t,n)=>{this.logger.system.warn(\"AUTHORIZATION: appRejectAndRetrySignOn\",e),r.default.args(e,\"string\",t,\"object\",n,\"function\"),this.routerClient.query(\"authentication.appRejectAndRetrySignOn\",{signOnKey:e,params:t},{timeout:-1},(e,t)=>{n&&n(e,t.data)})},this.appAcceptSignOn=e=>{this.logger.system.info(\"AUTHORIZATION: Accepted application sign on.\",e),r.default.args(e,\"string\"),this.routerClient.transmit(\"authentication.appAcceptSignOn\",{signOnKey:e})},this.appRejectSignOn=e=>{this.logger.system.error(\"AUTHORIZATION: Rejected application sign on.\",e),r.default.args(e,\"string\"),this.routerClient.transmit(\"authentication.appRejectSignOn\",{signOnKey:e})},this.completeOAUTH=(e,t,n)=>{if(this.logger.system.log(\"completeOAUTH\",t),r.default.args(t,\"object=\"),!t){t={};const e=new URLSearchParams(window.location.search);for(const n of e.entries())t[n[0]]=n[1]}const i=()=>{this.routerClient.query(\"authentication.completeOAUTH\",{err:e,params:t},(e,t)=>{let{data:i}=t;n(e,i)})};t.state?i():this.isInAService?this.logger.system.error(\"OAUTH Error. This functionality is not yet available in services.\"):this.finsembleWindow.getOptions((e,n)=>{t.state=n.customData.OAuthState,i()})},this.start=e=>{if(a.iAmAServiceWindow())return this.isInAService=!0,void(e&&e());s.FinsembleWindow.getInstance({name:this.finWindow.name,uuid:this.finWindow.uuid},(t,n)=>{\"Cannot Wrap Service Manager or Services\"===t?this.isInAService=!0:this.finsembleWindow=n,e&&e()})},this.beginAuthentication=this.beginAuthentication.bind(this)}beginAuthentication(e,t){this.routerClient.query(\"authentication.beginAuthentication\",e,(e,n)=>{t(e,n.data)})}}t.AuthenticationClient=u;var c=new u({onReady:e=>{c.start(e)},name:\"authenticationClient\"});t.default=c},function(e,t,n){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */\nconst r=n(12),o=i(n(0)),s=i(n(8)),a=n(4),u=i(n(42)),c=i(n(16)),l=i(n(14)),d=i(n(17)),f=n(15),h=n(11),p=n(2),g=n(76),m=n(79).default,y=n(80).default,w={DROP:\"drop\",SPAWN:\"spawn\",LINKER:\"linker\"};class b extends a._BaseClient{constructor(e){super(e),s.default.args(e,\"object=\")&&e&&s.default.args2(\"params.onReady\",e.onReady,\"function=\"),this.emitters={},this.sourceData=[],this.receivers={},this.receiveResponder=!1,this.linkerListener=!1,this.openLinkerDataByDefault=!0,this.SHARE_METHOD=w,this.bindAllFunctions()}bindAllFunctions(){const e=this;for(const t of Object.getOwnPropertyNames(Object.getPrototypeOf(e))){const n=e[t];n instanceof Function&&n!==b&&(e[t]=e[t].bind(e))}}setEmitters(e){if(!Array.isArray(e.emitters))return;const t=this;e.emitters.forEach(e=>{t.emitters[e.type]=e}),this.routerClient.publish(this.windowName+\"Finsemble.Sharer\",{emitterEnabled:!!Object.keys(t.emitters).length,receiverEnabled:!!Object.keys(t.receivers).length}),this.receiveResponder||(this.routerClient.addResponder(this.windowName+\".Share\",(e,n)=>{t.emit.call(t,e,n)}),this.receiveResponder=!0)}addReceivers(e){if(!Array.isArray(e.receivers))return;const t=this;e.receivers.forEach(e=>{const n=e.type.toString();t.receivers[n]?t.receivers[n].push(e):t.receivers[n]=[e]}),this.routerClient.publish(this.windowName+\"Finsemble.Sharer\",{emitterEnabled:!!Object.keys(t.emitters).length,receiverEnabled:!!Object.keys(t.receivers).length});const n=l.default.getSpawnData();n&&n.sharedData&&l.default.getComponentState({field:\"Finsemble.DealtWithSpawnSharedData\"},(e,i)=>{i||l.default.setComponentState({field:\"Finsemble.DealtWithSpawnSharedData\",value:\"done\"},()=>{t.handleSharedData(n.sharedData,w.SPAWN)})}),!this.linkerListener&&this.openLinkerDataByDefault&&(u.default.subscribe(\"Finsemble.DragAndDropClient\",(e,n)=>{n.originatedHere()||Object.keys(e).forEach(n=>{if(t.canReceiveData(n)){const i={};i[n]=e[n],t.handleSharedData(i,w.LINKER)}})}),this.linkerListener=!0)}updateReceivers(e){if(!Array.isArray(e.receivers))return;const t=this;e.receivers.forEach(e=>{const n=e.type.toString();t.receivers[n]||(t.receivers[n]=[]);const i=t.receivers[n];for(let t=0;t<i.length;t++)i[t].handler===e.oldHandler&&(i[t].handler=e.handler);t.receivers[n].push(e.handler)}),t.linkerListener||(u.default.subscribe(\"Finsemble.DragAndDropClient\",(e,n)=>{n.originatedHere()||t.handleSharedData(e,w.LINKER)}),t.linkerListener=!0)}removeReceivers(e){if(!Array.isArray(e.receivers))return;const t=this;e.receivers.forEach(e=>{const n=e.type.toString();if(!t.receivers[n])return;const i=t.receivers[n];for(let t=0;t<i.length;t++)if(i[t].handler===e.handler){i.splice(t,1);break}})}dragStart(e){const t={FSBL:!0,window:this.windowName};this.routerClient.transmit(\"DragAndDropClient.prepareDrag\",Object.keys(this.emitters)),e.dataTransfer.setData(\"text/plain\",JSON.stringify(t))}dragStartWithData(e,t){this.routerClient.transmit(\"DragAndDropClient.dragStart\",Object.keys(t));const n={FSBL:!0,containsData:!0,window:this.windowName,data:t};e.dataTransfer.setData(\"text/plain\",JSON.stringify(n))}handleSharedData(e,t){const n=this;Object.keys(n.receivers).forEach(i=>{const r=n.receivers[i],s={};Object.keys(e).forEach(t=>{o.default.system.info(\"DragAndDropClient:handleSharedData:Data value:\",t),r[0].type instanceof RegExp?t.match(r.type)&&(s[t]=e[t]):r[0].type==t&&(s[t]=e[t])}),Object.keys(s).length&&r.forEach(e=>{e.handler(null,{data:s,shareMethod:t})})})}drop(e){const t=this;e.dataTransfer||(e.dataTransfer=e.originalEvent.dataTransfer);let n=e.dataTransfer.getData(\"text/plain\");if(n){try{n=JSON.parse(n)}catch(e){return}if(n.FSBL)if(e.preventDefault(),e.stopPropagation(),n.containsData)t.handleSharedData(n.data,w.DROP);else{const e=n.window,i=this.sourceData,r=[];for(let e=0;e<i.length;e++){const n=i[e];t.canReceiveData(n)&&r.push(n)}t.routerClient.query(e+\".Share\",r,(e,n)=>{t.handleSharedData(n.data,w.DROP)})}}}emit(e,t){const n={},i=this;r.each(t.data,(e,t)=>{const r=i.emitters[e];r.data&&\"function\"==typeof r.data?(n[e]=r.data(),t()):(n[e]=r.data,t())},()=>{t.sendQueryResponse(null,n)})}getComponentsThatCanReceiveType(e,t){o.default.system.warn(\"DragAndDropClient.getComponentsThatCanReceiveType has been deprecated. Use LauncherClient.getComponentsThatCanReceiveDataTypes instead.\"),c.default.getComponentsThatCanReceiveDataTypes({dataTypes:[e]},(n,i)=>{t(n,i&&i[e]?i[e].componentTypes:[])})}openSharedData(e,t){h.openSharedData(e,t)}addWindowHighlight(e){const t=this,n=document.createElement(\"div\");n.id=\"fsbl-share-scrim\",n.className=\"fsbl-share-scrim\";const i=document.createElement(\"style\");i.innerHTML=g;const r=document.createElement(\"img\");e?(r.src=m,r.className=\"ff-share\",document.addEventListener(\"dragover\",t.dragover),document.addEventListener(\"drop\",t.drop)):(n.className=\"fsbl-share-scrim no\",r.src=y,r.className=\"ff-delete-circle\"),n.appendChild(i),n.appendChild(r),document.body.appendChild(n),this.finsembleWindow.updateOptions({options:{opacity:1}})}removeWindowHighlight(){const e=document.getElementById(\"fsbl-share-scrim\");e&&e.parentNode.removeChild(e),document.removeEventListener(\"dragover\",this.dragover),document.removeEventListener(\"drop\",this.drop),this.finsembleWindow.updateOptions({options:{opacity:1}})}canReceiveData(e,t=null){Array.isArray(e)||(e=[e]);const n=this;let i=!1;t||(t=Object.keys(n.receivers),i=!0);for(let r=0;r<e.length;r++){const o=e[r];for(let e=0;e<t.length;e++){if(!i){if(o===t[e])return!0;continue}let r=n.receivers[t[e]];if(r.length)if(r=r[0],r.type instanceof RegExp){if(o.match(r.type))return!0}else if(o===r.type)return!0}}return!1}dragover(e){return e.preventDefault(),!1}addListeners(e){const t=this;window.addEventListener(\"dragend\",()=>{t.routerClient.transmit(\"DragAndDropClient.dragEnd\",{})}),this.routerClient.addListener(\"DragAndDropClient.prepareDrag\",(e,t)=>{t.originatedHere()&&(p.System.isBrowserView()?this.routerClient.transmit(\"DragAndDropClient.dragStart\",Object.keys(this.emitters)):p.System.hasBrowserView()||this.routerClient.transmit(\"DragAndDropClient.dragStart\",t.data))}),this.routerClient.addListener(\"DragAndDropClient.dragStart\",(e,n)=>{this.sourceData=n.data,!t.canReceiveData(this.sourceData)||n.originatedHere()?t.addWindowHighlight(!1):t.addWindowHighlight(!0)}),this.routerClient.addListener(\"DragAndDropClient.dragEnd\",()=>{t.removeWindowHighlight()}),e(),d.default.createStore({store:\"Finsemble-Share\",global:!0},(e,n)=>{t.store=n})}getFinsembleWindow(e){f.FinsembleWindow.getInstance({name:this.finWindow.name,uuid:this.finWindow.uuid},(t,n)=>{this.finsembleWindow=n,e()})}}var v=new b({startupDependencies:{clients:[\"windowClient\",\"distributedStoreClient\"]},onReady(e=Function.prototype){r.parallel([e=>{v.addListeners(e)},e=>{u.default.onReady(e)},e=>{c.default.onReady(e)},e=>{v.getFinsembleWindow(e)}],(t,n)=>e(t,n))},name:\"dragAndDropClient\"});t.default=v},function(e,t,n){var i=n(77);e.exports=\"string\"==typeof i?i:i.toString()},function(e,t,n){(t=n(78)(!1)).push([e.i,\"/**\\r\\n * The contents of this file are dynamically injected as a <style> tag\\r\\n * within the scrim container element.\\r\\n */\\r\\n:root {\\r\\n\\t--accent-primary-1: #36788b;\\r\\n\\t--accent-negative: #f26666;\\r\\n\\t--scrim-positive-background-color: var(--accent-primary-1);\\r\\n\\t--scrim-negative-background-color: var(--accent-negative);\\r\\n}\\r\\n\\r\\n.fsbl-share-scrim {\\r\\n\\tposition: fixed;\\r\\n\\tdisplay: flex;\\r\\n\\theight: 100%;\\r\\n\\twidth: 100%;\\r\\n\\tz-index: 1000000;\\r\\n\\ttop: 0;\\r\\n\\tleft: 0;\\r\\n\\tjustify-content: center;\\r\\n\\talign-content: center;\\r\\n\\tflex-direction: column;\\r\\n\\talign-items: center;\\r\\n\\ttransition: all 0.3s ease;\\r\\n\\topacity: 0.85;\\r\\n\\tbackground-color: var(--scrim-positive-background-color);\\r\\n}\\r\\n\\r\\n.fsbl-share-scrim .error-message {\\r\\n\\tdisplay: flex;\\r\\n\\theight: 100%;\\r\\n\\talign-content: center;\\r\\n\\tjustify-content: center;\\r\\n\\talign-items: center;\\r\\n\\tpadding: 1em;\\r\\n\\tbackground-color: var(--scrim-negative-background-color);\\r\\n}\\r\\n\\r\\n.fsbl-share-scrim img {\\r\\n\\tdisplay: flex;\\r\\n\\theight: 10%;\\r\\n\\twidth: 10%;\\r\\n\\tz-index: 1000000;\\r\\n\\ttop: 0;\\r\\n\\tleft: 0;\\r\\n\\tjustify-content: center;\\r\\n\\talign-content: center;\\r\\n\\tflex-direction: column;\\r\\n\\talign-items: center;\\r\\n}\\r\\n\\r\\n.fsbl-share-scrim.no {\\r\\n\\tbackground-color: var(--scrim-negative-background-color);\\r\\n}\\r\\n\",\"\"]),e.exports=t},function(e,t,n){\"use strict\";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||\"\",i=e[3];if(!i)return n;if(t&&\"function\"==typeof btoa){var r=(s=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),u=\"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(a),\"/*# \".concat(u,\" */\")),o=i.sources.map((function(e){return\"/*# sourceURL=\".concat(i.sourceRoot||\"\").concat(e,\" */\")}));return[n].concat(o).concat([r]).join(\"\\n\")}var s,a,u;return[n].join(\"\\n\")}(t,e);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},t.i=function(e,n,i){\"string\"==typeof e&&(e=[[null,e,\"\"]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);i&&r[u[0]]||(n&&(u[2]?u[2]=\"\".concat(n,\" and \").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){\"use strict\";n.r(t),t.default=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIzcHgiIGhlaWdodD0iMjNweCIgdmlld0JveD0iMCAwIDIzIDIzIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDx0aXRsZT5TaGFyZSBXaGl0ZTwvdGl0bGU+DQogICAgPGcgaWQ9IlNoYXJlLVdoaXRlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IlBhZ2UtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiI+DQogICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDAuNDc5MTAwKSI+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0LjMyNzE3MTcsNi4wNjQ4MDg1OSBDMTQuMzU4Nzg0Myw2LjAxODIyMTU3IDE0LjM5NTM4ODQsNS45NzY2MjYwMiAxNC40MTcwMTgxLDUuOTI1MDQ3NTQgQzE0LjQ5ODU0NTQsNS43MjM3MjUwNyAxNC40OTg1NDU0LDUuNDk5MTA5MDkgMTQuNDE3MDE4MSw1LjI5OTQ1MDQ0IEMxNC4zOTUzODg0LDUuMjQ2MjA4MTQgMTQuMzU4Nzg0Myw1LjIwNDYxMjU5IDE0LjMyNzE3MTcsNS4xNTgwMjU1NyBDMTQuMzAwNTUwNiw1LjExOTc1NzY2IDE0LjI4NTU3NjIsNS4wNzQ4MzQ0NyAxNC4yNTIyOTk3LDUuMDM5ODk0MiBMMTQuMjM1NjYxNSw1LjAyNDkxOTgxIEMxNC4yMzU2NjE1LDUuMDIzMjU1OTggMTQuMjM1NjYxNSw1LjAyMzI1NTk4IDE0LjIzMzk5NzcsNS4wMjMyNTU5OCBMOS43MzUwMjI4NCwwLjI1OTczMzQzOSBDOS40MTg4OTY2NSwtMC4wNzEzNjcxNSA4Ljg5MzEyODg5LC0wLjA4OTY2OTE5MjYgOC41NTg3MDA2NSwwLjIyNjQ1Njk5OCBDOC4yMjU5MzYyNCwwLjU0MjU4MzE4OCA4LjIxMDk2MTg0LDEuMDY4MzUwOTYgOC41MjcwODgwMywxLjQwMjc3OTE5IEwxMS43MTgyOTg3LDQuNzgwMzM3OTYgTDIuOTkxNTUyMDYsNC43ODAzMzc5NiBDMS4zNDEwNDA1OCw0Ljc4MDMzNzk2IDAsNi40MzQxNzcwOSAwLDguNDY5MDMxNDYgTDAsMTAuNjkwMjMzOSBDMCwxMS4xNTExMTI2IDAuMzcxMDMyMzE4LDExLjUyMjE0NDkgMC44MzE5MTEwMjgsMTEuNTIyMTQ0OSBDMS4yOTExMjU5MSwxMS41MjIxNDQ5IDEuNjYzODIyMDYsMTEuMTUxMTEyNiAxLjY2MzgyMjA2LDEwLjY5MDIzMzkgTDEuNjYzODIyMDYsOC40NjkwMzE0NiBDMS42NjM4MjIwNiw3LjM3MDkwODkgMi4yNzExMTcxMSw2LjQ0NDE2MDAyIDIuOTkxNTUyMDYsNi40NDQxNjAwMiBMMTEuNzE4Mjk4Nyw2LjQ0NDE2MDAyIEw4LjUyNzA4ODAzLDkuODIwMDU0OTcgQzguMjEwOTYxODQsMTAuMTU0NDgzMiA4LjIyNTkzNjI0LDEwLjY3ODU4NzEgOC41NTg3MDA2NSwxMC45OTYzNzcyIEM4LjcyMDA5MTM5LDExLjE0Nzc4NSA4LjkyNjQwNTMzLDExLjIyNDMyMDggOS4xMzEwNTU0NCwxMS4yMjQzMjA4IEM5LjM1MjM0Mzc3LDExLjIyNDMyMDggOS41NzE5NjgyOCwxMS4xMzYxMzgyIDkuNzM1MDIyODQsMTAuOTYxNDM2OSBMMTQuMjMzOTk3Nyw2LjIwMTI0MiBDMTQuMjM1NjYxNSw2LjE5OTU3ODE4IDE0LjIzNTY2MTUsNi4xOTk1NzgxOCAxNC4yMzU2NjE1LDYuMTk5NTc4MTggTDE0LjI1MjI5OTcsNi4xODI5Mzk5NiBDMTQuMjg1NTc2Miw2LjE0Nzk5OTY5IDE0LjMwMDU1MDYsNi4xMDMwNzY1IDE0LjMyNzE3MTcsNi4wNjQ4MDg1OSIgaWQ9IkZpbGwtMSI+PC9wYXRoPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAyLjQ3OTEwMCkiPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMS45NzA3NzAyLDE4LjUxNjY3NTcgTDAuODMxOTExMDI4LDE4LjUxNjY3NTcgQzAuMzcyNjk2MTQsMTguNTE2Njc1NyAwLDE4LjE0Mzk3OTUgMCwxNy42ODQ3NjQ2IEwwLDAuODMxOTExMDI4IEMwLDAuMzcxMDMyMzE4IDAuMzcyNjk2MTQsMCAwLjgzMTkxMTAyOCwwIEw1LjQwNzQyMTY4LDAgQzUuODY2NjM2NTcsMCA2LjIzOTMzMjcxLDAuMzcxMDMyMzE4IDYuMjM5MzMyNzEsMC44MzE5MTEwMjggQzYuMjM5MzMyNzEsMS4yOTExMjU5MSA1Ljg2NjYzNjU3LDEuNjYzODIyMDYgNS40MDc0MjE2OCwxLjY2MzgyMjA2IEwxLjY2MzgyMjA2LDEuNjYzODIyMDYgTDEuNjYzODIyMDYsMTYuODUyODUzNiBMMjEuMTM4ODU5MiwxNi44NTI4NTM2IEwyMS4xMzg4NTkyLDEwLjc0OTk1NDMgQzIxLjEzODg1OTIsMTAuMjkwNzM5NCAyMS41MTE1NTU0LDkuOTE4MDQzMjcgMjEuOTcwNzcwMiw5LjkxODA0MzI3IEMyMi40Mjk5ODUxLDkuOTE4MDQzMjcgMjIuODAyNjgxMywxMC4yOTA3Mzk0IDIyLjgwMjY4MTMsMTAuNzQ5OTU0MyBMMjIuODAyNjgxMywxNy42ODQ3NjQ2IEMyMi44MDI2ODEzLDE4LjE0Mzk3OTUgMjIuNDI5OTg1MSwxOC41MTY2NzU3IDIxLjk3MDc3MDIsMTguNTE2Njc1NyIgaWQ9IkZpbGwtNCI+PC9wYXRoPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+\"},function(e,t,n){\"use strict\";n.r(t),t.default=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDx0aXRsZT5mZi1kZWxldGUtY2lyY2xlPC90aXRsZT4NCiAgICA8ZyBpZD0iU3ltYm9scyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSJmZi1kZWxldGUtY2lyY2xlIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPg0KICAgICAgICAgICAgPHBhdGggZD0iTTguOCwxNS44IEM4LjYsMTUuOCA4LjQsMTUuNyA4LjMsMTUuNiBDOCwxNS4zIDgsMTQuOCA4LjMsMTQuNSBMMTQuNCw4LjMgQzE0LjcsOCAxNS4yLDggMTUuNSw4LjMgQzE1LjgsOC42IDE1LjgsOS4xIDE1LjUsOS40IEw5LjQsMTUuNiBDOS4yLDE1LjcgOSwxNS44IDguOCwxNS44IiBpZD0iUGF0aCI+PC9wYXRoPg0KICAgICAgICAgICAgPHBhdGggZD0iTTE0LjksMTUuOCBDMTQuNywxNS44IDE0LjUsMTUuNyAxNC40LDE1LjYgTDguMyw5LjQgQzgsOS4xIDgsOC42IDguMyw4LjMgQzguNiw4IDkuMSw4IDkuNCw4LjMgTDE1LjUsMTQuNSBDMTUuOCwxNC44IDE1LjgsMTUuMyAxNS41LDE1LjYgQzE1LjMsMTUuNyAxNS4xLDE1LjggMTQuOSwxNS44IiBpZD0iUGF0aCI+PC9wYXRoPg0KICAgICAgICAgICAgPHBhdGggZD0iTTExLjYsMS42IEM2LjEsMS42IDEuNiw2LjIgMS42LDExLjcgQzEuNiwxNy4zIDYuMSwyMS44IDExLjYsMjEuOCBDMTcuMSwyMS44IDIxLjYsMTcuMiAyMS42LDExLjcgQzIxLjYsNi4xIDE3LjEsMS42IDExLjYsMS42IFogTTExLjYsMjMuNCBDNS4yLDIzLjQgMCwxOC4xIDAsMTEuNyBDMCw1LjMgNS4yLDAgMTEuNiwwIEMxOCwwIDIzLjIsNS4yIDIzLjIsMTEuNyBDMjMuMiwxOC4yIDE3LjksMjMuNCAxMS42LDIzLjQgTDExLjYsMjMuNCBaIiBpZD0iU2hhcGUiPjwvcGF0aD4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg==\"},function(e,t,n){\"use strict\";\n/*!\n * Copyright 2017 - 2020 by ChartIQ, Inc.\n * All rights reserved.\n */var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const r=i(n(0)),o=n(4);r.default.system.debug(\"Starting searchClient\");class s extends o._BaseClient{constructor(){super(...arguments),this.providers={},this.resultProviders={},this.searchResultsList=[],this.isSearching=!1,this.unRegister=this.unregister,this.handleResults=(e,t)=>{t.data.searchId&&t.data.searchId==this.searchId&&(this.resultProviders[t.data.provider.channel]=t.data,this.searchResultsList.push(t.data),this.resultsCallback(null,this.searchResultsList))}}register(e,t){return e.name?e.searchCallback?void this.routerClient.query(\"Search.register\",{name:e.name,channel:`${this.finWindow.name}.${e.name}`,providerActionTitle:e.providerActionTitle,providerActionCallback:!!e.providerActionCallback},(n,i)=>{if(n)return t?t(n):console.error(n);const r=`${this.finWindow.name}.${e.name}`;return this.providers[e.name]=e.name,this.routerClient.addResponder(\"Search.Provider.\"+r,(t,n)=>{if(t)return console.error(t);n&&e.searchCallback(n.data,(e,t)=>{n.sendQueryResponse(e,t)})}),this.routerClient.addResponder(\"Search.Provider.ItemAction.\"+r,(t,n)=>{if(t)return console.error(t);n&&e.itemActionCallback&&e.itemActionCallback(n.data,n.header.origin,(e,t)=>{n.sendQueryResponse(e,t)})}),e.providerActionCallback&&this.routerClient.addResponder(\"Search.Provider.Action.\"+r,(t,n)=>{if(t)return console.error(t);n&&e.providerActionCallback&&e.providerActionCallback(n.header.origin,(e,t)=>{n.sendQueryResponse(e,t)})}),t?t(null,i.data):null}):t(\"no provider callback provided\"):t(\"no provider name provided\")}unregister(e,t){if(!e.name)return t(\"Provider name was not provided\");const n=`${this.finWindow.name}.${e.name}`;this.routerClient.query(\"Search.unregister\",{channel:n},()=>(this.routerClient.removeResponder(\"Search.Provider.\"+n),this.routerClient.removeResponder(\"Search.Provider.ItemAction.\"+n),this.routerClient.removeResponder(\"Search.Provider.Action.\"+n),delete this.providers[e.name],t?t():null))}search(e,t){this.isSearching||(this.routerClient.addPubSubResponder(\"Search.\"+this.finWindow.name),this.routerClient.subscribe(\"Search.\"+this.finWindow.name,this.handleResults),this.isSearching=!0),this.searchResultsList=[],e.windowName=this.finWindow.name,this.routerClient.query(\"Search.search\",e,(e,n)=>{if(e)return t(e);this.resultsCallback=t,this.searchId=n.data.searchId})}invokeItemAction(e,t){this.routerClient.query(\"Search.Provider.ItemAction.\"+e.provider,{item:e,action:t})}invokeProviderAction(e){this.routerClient.query(\"Search.Provider.Action.\"+e.channel,{})}}const a=new s({onReady(e){e&&e()},name:\"searchClient\"});t.default=a},function(e,t,n){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.NotificationClient=t.ActionTypes=t.ROUTER_NAMESPACE=void 0;const r=n(83);Object.defineProperty(t,\"ActionTypes\",{enumerable:!0,get:function(){return r.ActionTypes}});const o=i(n(84)),s=i(n(86)),a=i(n(87)),u=i(n(88)),c=n(9),l=n(4),d=i(n(21)),f=i(n(14)),h=i(n(16)),p=\"action.\",g=\"notification.\",m=\"delete\",y=\"fetch_history\",w=\"last_issued\",b=\"mark_read\",v=\"mark_unread\",S=\"mute\",C=\"notify\",_=\"perform_action\",T=\"subscribe\",E=\"unmute\",A=\"unsubscribe\",I=\"sources\",O=\"mute_filters\",L=\"preferences\";t.ROUTER_NAMESPACE={ACTION_PREFIX:g+p};class M extends l._BaseClient{constructor(){super(...arguments),this.subscriptions=[],this.Notification=o.default,this.ActionTypes=r.ActionTypes,this.Subscription=s.default,this.Action=a.default,this.Filter=u.default,this.actionTypes=r.ActionTypes}async applyOverrides(){var e,t;const{data:n}=await d.default.getValue(\"finsemble.servicesConfig.notifications.applyNotificationOverrides\");if(!n)return;const i=f.default.getWindowIdentifier().windowName,{data:r}=await h.default.getActiveDescriptors(),o=Object.keys(r).filter(e=>e===i).map(e=>r[e]);let s,a=\"Unknown Source\";function u(e,t){const{componentType:n}=f.default.getWindowIdentifier();t.finsembleSource=a,D.notify(JSON.parse(JSON.stringify({title:e,options:t})))}1!==o.length?this.logger.warn(\"Unable to fetch component to extract type or display name\"):(s=o[0],a=(null===(t=null===(e=s.customData)||void 0===e?void 0:e.component)||void 0===t?void 0:t.displayName)||s.componentType);const c=window.Notification;u.requestPermission=c.requestPermission.bind(c),Object.defineProperty(u,\"permission\",{get:function(){return c.permission}}),window.Notification=u}setup(){window&&window.addEventListener&&window.addEventListener(\"unload\",()=>{this.unsubscribeAll()})}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}query(e,t,n,i){return new Promise(async(r,o)=>{try{null==n&&(n=g),this.logger.system.info(`sending message on ${n+e} channel`,t);const s=await this.routerClient.query(n+e,t,()=>{});s.err?(this.logger.system.error(\"Error: \",s.err),o(s.err)):(this.logger.system.log(e+\" raw response: \",s),i&&i(null,s.response.data.data),r(s.response.data.data))}catch(e){this.logger.system.error(\"Error: \",e),i&&i(e),o(e)}})}async fetchHistory(e,t){return this.logger.system.info(\"FetchHistory() called with params: \",e,t),await this.query(y,{options:e,filter:t})}async getLastIssuedAt(e){return this.logger.system.info(\"getLastIssued called with params: \",e),await this.query(w,e)}async performAction(e,t){return this.logger.system.info(\"performAction() called with params: \",e,t),Array.isArray(e)||(e=[e]),await this.query(_,{notifications:e,action:t})}async markRead(e){this.logger.info(\"markRead() called with params: \",e),Array.isArray(e)||(e=[e]),await this.query(b,{notifications:e,isRead:!0})}async markUnread(e){this.logger.info(\"markUnread() called with params: \",e),Array.isArray(e)||(e=[e]),await this.query(v,{notifications:e,isRead:!1})}deleteNotifications(e){return this.logger.info(\"deleteNotifications() called with params: \",e),new Promise(async(t,n)=>{try{t(this.query(m,e))}catch(e){n(e)}})}async notify(e){this.logger.system.info(\"notify() called with params: \",e);try{await this.query(C,Array.isArray(e)?e:[e])}catch(t){if(!t.includes(\"No responder\"))throw t;await c.sleep(500),await this.notify(e)}}async subscribe(e,t){this.logger.system.info(\"subscribe() called with params: \",e,t);const n=await this.query(T,JSON.parse(JSON.stringify(e)));return this.logger.system.info(\"Got a return value containing a channel\",n),await this.monitorChannel(n.channel,t),this.subscriptions.push(n),n}async unsubscribe(e){this.logger.system.info(\"unsubscribe() called with params: \",e),await this.query(A,e),this.cleanupSubscription(e)}removeResponder(e,t){null==t&&(t=g),this.routerClient.removeResponder(t+e)}unsubscribeAll(){this.logger.system.info(\"unsubscribeAll() called\"),this.subscriptions.forEach(e=>{this.query(A,e.id).then(),this.removeResponder(e.id)}),this.subscriptions=[]}async mute(e){return this.logger.system.info(\"mute() called with params: \",e),await this.query(S,{filter:e})}async unmute(e){return this.logger.system.info(\"unmute() called with params: \",e),await this.query(E,{filter:e})}async getSources(){return this.logger.system.info(\"getSources() called\"),await this.query(I,{})}async getMuteFilters(){return this.logger.system.info(\"getSources() called\"),await this.query(O,{})}async getPreferences(){return this.logger.system.info(\"getPreferences() called\"),await this.query(L,{})}cleanupSubscription(e){const t=this.subscriptions.findIndex(t=>t.id===e);t>-1&&(this.removeResponder(this.subscriptions[t].channel),this.subscriptions.splice(t,1))}addResponder(e,t,n){null==n&&(n=g),this.logger.system.info(\"Adding responder for endpoint: \"+(n+e)),this.routerClient.addResponder(n+e,(n,i)=>{if(this.logger.system.info(`Message received on ${e}: `,i),n)this.logger.system.error(`Failed to setup ${e} responder`,n);else try{this.logger.system.info(`Processing message on channel ${e}: `,i);const n=t(i.data);this.logger.system.info(`Message response on ${e}: `,n),i.sendQueryResponse(null,{status:\"success\",data:n})}catch(n){this.logger.system.error(\"Failed to process query\",n),i.sendQueryResponse(n)}})}monitorChannel(e,t){return new Promise(n=>{this.logger.system.info(\"Listening for messages on channel\",e),this.addResponder(e,e=>{this.logger.system.info(\"Notification received: \",e.id);try{t(e)}catch(e){this.logger.system.error(\"Error thrown in the subscription.onNotification()\",e)}return{message:\"success\"}}),n()})}}t.NotificationClient=M;const D=new M({onReady:function(e){this.logger.system.log(\"notificationClient Online\"),e()},name:\"notificationClient\"});D.applyOverrides(),D.initialize(),D.setup(),t.default=D},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.FinsembleNotificationOptions=t.ActionTypes=void 0,function(e){e.DISMISS=\"DISMISS\",e.SNOOZE=\"SNOOZE\",e.SPAWN=\"SPAWN\",e.QUERY=\"QUERY\",e.PUBLISH=\"PUBLISH\",e.TRANSMIT=\"TRANSMIT\"}(t.ActionTypes||(t.ActionTypes={})),function(e){e.MARK_AS_UNREAD=\"MARK_AS_UNREAD\",e.MARK_AS_READ=\"MARK_AS_READ\",e.SNOOZE=\"SNOOZE\",e.DISMISS=\"DISMISS\",e.SETTINGS=\"SETTINGS\",e.DETAILS=\"DETAILS\"}(t.FinsembleNotificationOptions||(t.FinsembleNotificationOptions={}))},function(e,t,n){\"use strict\";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0});const r=i(n(85));t.default=class{constructor(){this.actions=[],this.isRead=!1,this.isSnoozed=!1,this.isMuted=!1,this.isDeleted=!1,this.actionsHistory=[],this.meta=new r.default,this.stateHistory=[]}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=class{}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=class{constructor(e,t){this.id=e||null,this.filter=t}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=class{}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=class{constructor(){this.include=[],this.exclude=[]}}},function(e,t,n){\"use strict\";n.r(t),function(e){t.default=function(t){if(t)try{e.adapterReceiver?e.adapterReceiver.loaded(t[0],this):console.error(\"Global Adapter Receiver not found on the global object. Fatal error.\")}catch(e){console.error(\"BaseStorage constructor\",e)}this.setBaseName=function(e){this.baseName=e},this.setUser=function(e){this.userName=e},this.save=function(){console.warn(\"Save method not fulfilled in the active storage model.\")},this.get=function(){console.warn(\"Get method not fulfilled in the active storage model.\")},this.keys=function(){console.warn(\"Keys method not fulfilled in the active storage model.\")},this.delete=function(){console.warn(\"Delete method not fulfilled in the active storage model.\")},this.clearCache=function(){console.warn(\"Clear cache method not fulfilled in the active storage model.\")},this.empty=function(){console.warn(\"Empty method not fulfilled in the active storage model.\")},this.getMultiple=function(){},this.getCombinedKey=function(e,t){return`${e.baseName}:${e.userName}:${t.topic}:${t.key}`},this.getKeyPreface=function(e,t){let n=`${e.baseName}:${e.userName}:${t.topic}:`;return\"keyPrefix\"in t&&(n+=t.keyPrefix),n}}}.call(this,n(5))}])}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGZpbnNlbWJsZS9maW5zZW1ibGUtY29yZS9kaXN0L2luZGV4LmpzP2RlMWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxLQUFpRCxvQkFBb0IsU0FBeUcsQ0FBQyxvQkFBb0IsbUJBQW1CLFNBQVMsY0FBYyw0QkFBNEIsWUFBWSxxQkFBcUIsMkRBQTJELHVDQUF1QyxxQ0FBcUMsb0JBQW9CLEVBQUUsaUJBQWlCLDRGQUE0RixlQUFlLHdDQUF3QyxTQUFTLEVBQUUsbUJBQW1CLDhCQUE4QixxREFBcUQsMEJBQTBCLDZDQUE2QyxzQkFBc0IsNkRBQTZELFlBQVksZUFBZSxTQUFTLGlCQUFpQixpQ0FBaUMsaUJBQWlCLFlBQVksVUFBVSxzQkFBc0IsbUJBQW1CLGlEQUFpRCxrQkFBa0Isa0JBQWtCO0FBQ2hvQztBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsU0FBUyxzQ0FBc0Msd0JBQXdCLGlFQUFpRSxJQUFJLHlDQUF5QyxTQUFTLGdDQUFnQyxhQUFhLE1BQU0saUNBQWlDLGNBQWMsVUFBVSxnQkFBZ0IsbUJBQW1CLFNBQVMscUNBQXFDLHdDQUF3QyxvRUFBb0UscUNBQXFDLE9BQU8saUNBQWlDLGtCQUFrQiwrRkFBK0YsRUFBRSxTQUFTLEVBQUUseUhBQXlILGdCQUFnQixzREFBc0QsS0FBSyxlQUFlLCtFQUErRSxXQUFXLGFBQWEsU0FBUyxHQUFHLElBQUksMkhBQTJILG9FQUFvRSxhQUFhLDRIQUE0SCxJQUFJLElBQUksYUFBYSxNQUFNLFFBQVEsWUFBWSxJQUFJLGdCQUFnQixTQUFTLFVBQVUsOENBQThDLFFBQVEsK0NBQStDLHdCQUF3QixxRkFBcUYsZ0NBQWdDLElBQUksK0JBQStCLFNBQVMsa0NBQWtDLEtBQUssMkJBQTJCLFdBQVcseUJBQXlCLFVBQVUsa0ZBQWtGLGdCQUFnQixJQUFJLDhCQUE4Qiw2REFBNkQsS0FBSyxTQUFTLGtCQUFrQixXQUFXLDRGQUE0RixrQkFBa0IsZ0JBQWdC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RCxFQUFFLGVBQWUsU0FBUyx5REFBeUQsRUFBRSxPQUFPLGtCQUFrQiwrQ0FBK0MsRUFBRSxpQ0FBaUMsd0JBQXdCLEVBQUUsU0FBUyw4RUFBOEUsRUFBRSxvQkFBb0IsdUJBQXVCLHVGQUF1Rix3REFBd0QsSUFBSSxLQUFLLFNBQVMsZ0ZBQWdGLE9BQU8sbUJBQW1CLE1BQU0sR0FBRyx1QkFBdUIsZUFBZSxvQkFBb0Isd0RBQXdELDJCQUEyQixFQUFFLHdEQUF3RCxpQkFBaUIsYUFBYSxzQ0FBc0MsU0FBUyxrRUFBa0UsZ0hBQWdILGlDQUFpQyxlQUFlLGdKQUFnSixtRUFBbUUsR0FBRyxpQkFBaUIsYUFBYSw4Q0FBOEMsMEJBQTBCLFlBQVksc0NBQXNDLFNBQVMsRUFBRSxpQkFBaUIsZ0JBQWdCLGNBQWMseUpBQXlKLGlCQUFpQixhQUFhLHNDQUFzQyxTQUFTLEVBQUUsa0JBQWtCLGlCQUFpQixhQUFhLHNDQUFzQyxTQUFTLEVBQUUsZ0JBQWdCLGlCQUFpQixnQ0FBZ0MsaUJBQWlCLGFBQWEsc0NBQXNDLFNBQVMsRUFBRSxrQkFBa0IsaUJBQWlCLGFBQWEsc0NBQXNDLFNBQVMsRUFBRSxnQkFBZ0IsY0FBYyxrQ0FBa0MsaUJBQWlCLGFBQWEsbUJBQW1CLHNCQUFzQixTQUFTLDRJQUE0SSxTQUFTLDJDQUEyQyw2QkFBNkIsZ0JBQWdCLDBCQUEwQixnQkFBZ0Isc0JBQXNCLHVFQUF1RSxxQkFBcUIsc0VBQXNFLHNCQUFzQix1RUFBdUUsd0JBQXdCLHlFQUF5RSw0QkFBNEIsOEVBQThFLHVCQUF1Qix3RUFBd0UsOEJBQThCLG1DQUFtQyxTQUFTLFdBQVcsR0FBRyxXQUFXLEdBQUcsUUFBUSxHQUFHLE1BQU0sRUFBRSxrQ0FBa0MsU0FBUyxXQUFXLEdBQUcsV0FBVyxHQUFHLFFBQVEsR0FBRyw0Q0FBNEMsaUJBQWlCLEdBQUciLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGZpbnNlbWJsZS9maW5zZW1ibGUtY29yZS9kaXN0L2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5pbmRleD10KCk6ZS5pbmRleD10KCl9KHdpbmRvdywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIHI9dFtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsbiksci5sPSEwLHIuZXhwb3J0c31yZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxpKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgciBpbiBlKW4uZChpLHIsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxyKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsXCJhXCIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9XCJcIixuKG4ucz00Nyl9KFtmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7XG4vKiFcbiAqIENvcHlyaWdodCAyMDE3IC0gMjAyMCBieSBDaGFydElRLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICovT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Mb2dnZXI9dC5Mb2dnZXJDb25zdHJ1Y3Rvcj12b2lkIDA7Y29uc3QgaT1uKDIpLHI9bigzNSksbz17RXJyb3I6ITAsV2FybjohMCxJbmZvOiEwLExvZzohMCxEZWJ1ZzohMCxWZXJib3NlOiEwLExvY2FsT25seTohMX0scz17RXJyb3I6ITAsV2FybjohMCxJbmZvOiEwLExvZzohMCxEZWJ1ZzohMH0sYT1uKDUzKTt0LkxvZ2dlckNvbnN0cnVjdG9yPWZ1bmN0aW9uKGUpe2NvbnN0IHI9dGhpcztsZXQgdTtyLlJvdXRlckNsaWVudD1lJiZlLlJvdXRlckNsaWVudDtsZXQgYz0hMSxsPSExO2NvbnN0IGQ9cjtsZXQgZixoLHA9MCxnPTA7dGhpcy5zdGFydHVwVGltZT0wO2xldCBtPVtdO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuO2xldCB5PWkuU3lzdGVtLldpbmRvdy5nZXRDdXJyZW50KCkubmFtZTt3aW5kb3cudG9wIT09d2luZG93JiYoeSs9XCIuRnJhbWVcIiksdGhpcy5vbkxvZ1N0YXRlQ2hhbmdlQ2FsbGJhY2s9W107Y29uc3Qgdz1cImZpbnNlbWJsZS5sb2dnZXIuY2xpZW50LlwiK3k7bGV0IGI9e2NvbnNvbGU6cyxkZXY6byxzeXN0ZW06byxwZXJmOm99O2Z1bmN0aW9uIHYoZSx0LG4pe3RoaXMuY2F0ZWdvcnk9ZSwhdSYmaS5TeXN0ZW0uaXNCcm93c2VyVmlldygpJiYodT1pLlN5c3RlbS5nZXRWaWV3SWQoKSksdGhpcy5sb2dDbGllbnROYW1lPXU/YCR7eX06IHZpZXctJHt1fWA6eSx0aGlzLmxvZ1R5cGU9dCx0aGlzLmxvZ0RhdGE9bix0aGlzLmxvZ1RpbWVzdGFtcD13aW5kb3cucGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCt3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkrcH1mdW5jdGlvbiBTKGUsdCl7ZSYmZS5kZXYmJihiPWUsci5vbkxvZ1N0YXRlQ2hhbmdlQ2FsbGJhY2suZm9yRWFjaCh0PT57dChlKX0pKSxmdW5jdGlvbihlKXtkLnN5c3RlbS5kZWJ1ZyhcIkxvZ2dlciB1cGRhdGVRdWV1ZUJhc2VkT25TdGF0ZVwiLGUscCxcIlFVRVVFIExFTkdUSFwiLG0ubGVuZ3RoLGIpO2NvbnN0IHQ9W107Zm9yKGxldCBuPTAse2xlbmd0aDppfT1tO248aTtuKyspaWYoYlttW25dLmNhdGVnb3J5XVttW25dLmxvZ1R5cGVdJiYhYlttW25dLmNhdGVnb3J5XS5Mb2NhbE9ubHkpZSYmKG1bbl0ubG9nVGltZXN0YW1wPW1bbl0ubG9nVGltZXN0YW1wK3ApLHQucHVzaChtW25dKTtlbHNlIGlmKGJbbVtuXS5jYXRlZ29yeV1bbVtuXS5sb2dUeXBlXSYmYlttW25dLmNhdGVnb3J5XS5Mb2NhbE9ubHkpe2NvbnN0IGU9bVtuXTtjb25zb2xlLmxvZyhlLmNhdGVnb3J5LGUubG9nVHlwZSxlLmxvZ1RpbWVzdGFtcC13aW5kb3cucGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCxlLmxvZ0RhdGEsXCIoUHJldmlvdXNseSBxdWV1ZWQhKVwiKX1tPXR9KHQpfWZ1bmN0aW9uIEMoKXtjb25zdHtzdGFjazplfT1mdW5jdGlvbigpe3RyeXt0aHJvdyBFcnJvcihcIlwiKX1jYXRjaChlKXtyZXR1cm4gZX19KCksdD0obj1cIlxcblwiLGk9NCxlLnNwbGl0KG4saSkuam9pbihuKS5sZW5ndGgpO3ZhciBuLGk7cmV0dXJuXCJMb2cgU3RhY2s6IFxcblwiK2Uuc3Vic3RyaW5nKHQpLnN1YnN0cigxKX10aGlzLm9uU3RhdGVDaGFuZ2VkPWU9PnstMT09PXRoaXMub25Mb2dTdGF0ZUNoYW5nZUNhbGxiYWNrLmluZGV4T2YoZSkmJnRoaXMub25Mb2dTdGF0ZUNoYW5nZUNhbGxiYWNrLnB1c2goZSl9LHRoaXMuc2V0Q2xpZW50TmFtZT1mdW5jdGlvbihlKXt5PWV9LHRoaXMuZ2V0Q2xpZW50TmFtZT1mdW5jdGlvbigpe3JldHVybiB5fSx0aGlzLmNsZWFyTWVzc2FnZUxpc3Q9ZnVuY3Rpb24oKXttPVtdfSx0aGlzLmNhbGxTdGFjaz1mdW5jdGlvbigpe3JldHVybiBDKCl9LHRoaXMuc2V0dGluZz1mdW5jdGlvbigpe3JldHVybiBifTtjb25zdCBfPWNvbnNvbGUuZXJyb3IsVD1jb25zb2xlLndhcm4sRT1jb25zb2xlLmluZm8sQT1jb25zb2xlLmxvZyxJPWNvbnNvbGUuZGVidWc7ZnVuY3Rpb24gTyhlLHQpe3RyeXtlLmFwcGx5KGNvbnNvbGUsZnVuY3Rpb24gZSh0KXtyZXR1cm4gdC5yZWR1Y2UoKHQsbik9PnQuY29uY2F0KEFycmF5LmlzQXJyYXkobik/ZShuKTpuKSxbXSl9KHQpKX1jYXRjaChlKXsodD1bXSkucHVzaChDKCkpfX1sZXQgTD0oKT0+e20ubGVuZ3RoPjAmJihyLlJvdXRlckNsaWVudC50cmFuc21pdChcImxvZ2dlci5zZXJ2aWNlLmxvZ01lc3NhZ2VzXCIsbSksZC5jbGVhck1lc3NhZ2VMaXN0KCkpfTtmdW5jdGlvbiBNKGUsbixpKXtsZXQgcixvPSExLHM9ITA7XCJmb3JjZU9iamVjdHNUb0xvZ2dlclwiPT09aVswXSYmKG89ITAscz0hMSxpLnNwbGljZSgwLDEpKSxpPWkubWFwKGU9PntpZihzKXtpZihmdW5jdGlvbihlKXtjb25zdCB0PVtdLG49W2VdO2xldCBpPTAscj0wO2Zvcig7bi5sZW5ndGgmJnI8MWUzOyl7cisrO2NvbnN0IGU9bi5wb3AoKTtpZihcImJvb2xlYW5cIj09dHlwZW9mIGUpaSs9NDtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBlKWkrPTIqZS5sZW5ndGg7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgZSlpKz04O2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJi0xPT09dC5pbmRleE9mKGUpKXt0LnB1c2goZSk7Zm9yKGNvbnN0IHQgaW4gZSluLnB1c2goZVt0XSl9fXJldHVybiBpfShlKT41ZTQpcmV0dXJuIE8oRSxbXCJNZXNzYWdlIHRvbyBsYXJnZSB0byBzZW5kIHRvIHRoZSBsb2dnZXIuXCIsaV0pLFwiTG9nIGFyZ3VtZW50IGdyZWF0ZXIgdGhhbiA1MEtCLiBDaGVjayBsb2NhbCBDb25zb2xlIHRvIHNlZSBvdXRwdXQgb2YgdGhlIG9iamVjdC5cIn1yZXR1cm4gZX0pO3RyeXtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKylpW2VdaW5zdGFuY2VvZiBFcnJvciYmKGlbZV09aVtlXS50b1N0cmluZygpKTtyPW5ldyB2KGUsbixKU09OLnN0cmluZ2lmeShpKSl9Y2F0Y2godCl7aS5zcGxpY2UoMCxpLmxlbmd0aCksaS5wdXNoKEMoKSkscj1uZXcgdihlLG4sXCIqKiogTG9nZ2luZyBFcnJvcjogXCIrSlNPTi5zdHJpbmdpZnkoaSkpfWlmKG98fCFmdW5jdGlvbihlKXtyZXR1cm4hMD09PWUubG9nRGF0YS5pbmNsdWRlcyhcIkZpbnNlbWJsZS5oZWFydGJlYXRcIil9KHIpKSFmdW5jdGlvbihlKXtpZihtLmxlbmd0aDwyZTQpbS5wdXNoKGUpO2Vsc2V7Y29uc29sZS5lcnJvcihcIkxvZ2dpbmcgUXVldWUgT3ZlcmZsb3dlZCEgRHVtcGluZyBxdWV1ZSBoZXJlIHRoZW4gY29udGludWluZy5cIixtLmxlbmd0aCk7bGV0IGUsbj0wO2Zvcig7ZT1tLnNoaWZ0KCk7KWNvbnNvbGUubG9nKFwiTWVzc2FnZSBcIituKyssZSk7dC5Mb2dnZXIuc3lzdGVtLmVycm9yKFwiTG9nZ2luZyBRdWV1ZSBPdmVyZmxvd2VkISBEdW1waW5nIHF1ZXVlIGluIGNsaWVudCB0aGVuIGNvbnRpbnVpbmcuXCIpfX0ocik7ZWxzZSBpZigrK2c8PTUpe08oRSxbYFwiRmlsdGVyZWQgTG9nZ2VyIE1lc3NhZ2UgKCR7Z30gb2YgZmlyc3QgNSBzaG93bilgLHJdKX1sJiZMKCl9ZnVuY3Rpb24gRCgpeyF1JiZpLlN5c3RlbS5pc0Jyb3dzZXJWaWV3KCkmJih1PWkuU3lzdGVtLmdldFZpZXdJZCgpKSxkLnN5c3RlbS5kZWJ1ZyhcImxvZ2dlci5zZXJ2aWNlLnJlZ2lzdGVyaW5nXCIseSksci5Sb3V0ZXJDbGllbnQucXVlcnkoXCJsb2dnZXIuc2VydmljZS5yZWdpc3RlclwiLHtjbGllbnROYW1lOnksY2xpZW50Q2hhbm5lbDp3LHV1aWQ6aS5TeXN0ZW0uV2luZG93LmdldEN1cnJlbnQoKS51dWlkLHdpbmRvd05hbWU6aS5TeXN0ZW0uV2luZG93LmdldEN1cnJlbnQoKS5uYW1lLHZpZXdJZDp1fSwoZSx0KT0+e2lmKGUpc2V0VGltZW91dChELDc1MCk7ZWxzZXtmb3IoY29uc3QgZSBvZiBtKWUudmlld0lkPXU7bD0hMCxkLnN5c3RlbS5kZWJ1ZyhcImxvZ2dlci5zZXJ2aWNlLnJlZ2lzdGVyZWRcIiksZj10LmRhdGEsXCJyb3V0ZXJTZXJ2aWNlXCIhPT15PyhwPWgsUyhmLCEwKSk6UyhmLCExKSxNKFwic3lzdGVtXCIsXCJEZWJ1Z1wiLFtcIkxvZ2dlciBSZWdpc3RlcmVkXCJdKSxMKCl9fSksci5Sb3V0ZXJDbGllbnQuYWRkTGlzdGVuZXIodywoZSx0KT0+e2Quc3lzdGVtLmRlYnVnKFwibG9nZ2VyLmNsaWVudC5zZXRMb2dTdGF0ZVwiLHQuZGF0YSksZj10LmRhdGEsUyhmLCExKX0pfUw9YShMLFwicm91dGVyU2VydmljZVwiPT09eT8xMDA6MjUwLHtsZWFkaW5nOiExfSksdGhpcy5lcnJvcj1mdW5jdGlvbigpe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtlLnB1c2goQygpKSxiLmRldi5FcnJvciYmIWIuZGV2LkxvY2FsT25seSYmTShcImRldlwiLFwiRXJyb3JcIixlKSxlLnVuc2hpZnQoYGRldiBlcnJvciAoJHt3aW5kb3cucGVyZm9ybWFuY2Uubm93KCl9KTpgKSxPKF8sZSl9LHRoaXMud2Fybj1mdW5jdGlvbigpe2lmKGIuZGV2Lldhcm4pe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtlLnB1c2goQygpKSxiLmRldi5XYXJuJiYhYi5kZXYuTG9jYWxPbmx5JiZNKFwiZGV2XCIsXCJXYXJuXCIsZSksYi5kZXYuV2FybiYmYi5kZXYuTG9jYWxPbmx5JiYoZS51bnNoaWZ0KGBkZXYgd2FybiAoJHt3aW5kb3cucGVyZm9ybWFuY2Uubm93KCl9KTpgKSxPKFQsZSkpfX0sdGhpcy5pbmZvPWZ1bmN0aW9uKCl7aWYoYi5kZXYuSW5mbyl7Y29uc3QgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOzAsYi5kZXYuSW5mbyYmIWIuZGV2LkxvY2FsT25seSYmTShcImRldlwiLFwiSW5mb1wiLGUpLGIuZGV2LkluZm8mJmIuZGV2LkxvY2FsT25seSYmKGUudW5zaGlmdChgZGV2IGluZm8gKCR7d2luZG93LnBlcmZvcm1hbmNlLm5vdygpfSk6YCksTyhFLGUpKX19LHRoaXMubG9nPWZ1bmN0aW9uKCl7aWYoYi5kZXYuTG9nKXtjb25zdCBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7MCxiLmRldi5Mb2cmJiFiLmRldi5Mb2NhbE9ubHkmJk0oXCJkZXZcIixcIkxvZ1wiLGUpLGIuZGV2LkxvZyYmYi5kZXYuTG9jYWxPbmx5JiYoZS51bnNoaWZ0KGBkZXYgbG9nICgke3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKX0pOmApLE8oQSxlKSl9fSx0aGlzLmRlYnVnPWZ1bmN0aW9uKCl7aWYoYi5kZXYuRGVidWcpe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTswLGIuZGV2LkRlYnVnJiYhYi5kZXYuTG9jYWxPbmx5JiZNKFwiZGV2XCIsXCJEZWJ1Z1wiLGUpLGIuZGV2LkRlYnVnJiZiLmRldi5Mb2NhbE9ubHkmJihlLnVuc2hpZnQoYGRldiBkZWJ1ZyAoJHt3aW5kb3cucGVyZm9ybWFuY2Uubm93KCl9KTpgKSxPKEksZSkpfX0sdGhpcy52ZXJib3NlPWZ1bmN0aW9uKCl7aWYoYi5kZXYuVmVyYm9zZSl7Y29uc3QgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOzAsYi5kZXYuVmVyYm9zZSYmIWIuZGV2LkxvY2FsT25seSYmTShcImRldlwiLFwiVmVyYm9zZVwiLGUpLGIuZGV2LlZlcmJvc2UmJmIuZGV2LkxvY2FsT25seSYmKGUudW5zaGlmdChgZGV2IHZlcmJvc2UgKCR7d2luZG93LnBlcmZvcm1hbmNlLm5vdygpfSk6YCksTyhJLGUpKX19LHRoaXMuc3lzdGVtPXt9LHRoaXMuc3lzdGVtLmVycm9yPWZ1bmN0aW9uKCl7Y29uc3QgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2UucHVzaChDKCkpLGIuc3lzdGVtLkVycm9yJiYhYi5zeXN0ZW0uTG9jYWxPbmx5JiZNKFwic3lzdGVtXCIsXCJFcnJvclwiLGUpLGUudW5zaGlmdChgc3lzdGVtIGVycm9yICgke3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKX0pOmApLE8oXyxlKX0sdGhpcy5zeXN0ZW0ud2Fybj1mdW5jdGlvbigpe2lmKGIuc3lzdGVtLldhcm4pe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtlLnB1c2goQygpKSxiLnN5c3RlbS5XYXJuJiYhYi5zeXN0ZW0uTG9jYWxPbmx5JiZNKFwic3lzdGVtXCIsXCJXYXJuXCIsZSksYi5zeXN0ZW0uV2FybiYmYi5zeXN0ZW0uTG9jYWxPbmx5JiYoZS51bnNoaWZ0KGBzeXN0ZW0gd2FybiAoJHt3aW5kb3cucGVyZm9ybWFuY2Uubm93KCl9KTpgKSxPKFQsZSkpfX0sdGhpcy5zeXN0ZW0uaW5mbz1mdW5jdGlvbigpe2lmKGIuc3lzdGVtLkluZm8pe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTswLGIuc3lzdGVtLkluZm8mJiFiLnN5c3RlbS5Mb2NhbE9ubHkmJk0oXCJzeXN0ZW1cIixcIkluZm9cIixlKSxiLnN5c3RlbS5JbmZvJiZiLnN5c3RlbS5Mb2NhbE9ubHkmJihlLnVuc2hpZnQoYHN5c3RlbSBpbmZvICgke3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKX0pOmApLE8oRSxlKSl9fSx0aGlzLnN5c3RlbS5sb2c9ZnVuY3Rpb24oKXtpZihiLnN5c3RlbS5Mb2cpe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTswLGIuc3lzdGVtLkxvZyYmIWIuc3lzdGVtLkxvY2FsT25seSYmTShcInN5c3RlbVwiLFwiTG9nXCIsZSksYi5zeXN0ZW0uTG9nJiZiLnN5c3RlbS5Mb2NhbE9ubHkmJihlLnVuc2hpZnQoYHN5c3RlbSBsb2cgKCR7d2luZG93LnBlcmZvcm1hbmNlLm5vdygpfSk6YCksTyhBLGUpKX19LHRoaXMuc3lzdGVtLmRlYnVnPWZ1bmN0aW9uKCl7aWYoYi5zeXN0ZW0uRGVidWcpe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTswLGIuc3lzdGVtLkRlYnVnJiYhYi5zeXN0ZW0uTG9jYWxPbmx5JiZNKFwic3lzdGVtXCIsXCJEZWJ1Z1wiLGUpLGIuc3lzdGVtLkRlYnVnJiZiLnN5c3RlbS5Mb2NhbE9ubHkmJihlLnVuc2hpZnQoYHN5c3RlbSBkZWJ1ZyAoJHt3aW5kb3cucGVyZm9ybWFuY2Uubm93KCl9KTpgKSxPKEksZSkpfX0sdGhpcy5zeXN0ZW0udmVyYm9zZT1mdW5jdGlvbigpe2lmKGIuc3lzdGVtLlZlcmJvc2Upe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7MCxiLnN5c3RlbS5WZXJib3NlJiYhYi5zeXN0ZW0uTG9jYWxPbmx5JiZNKFwic3lzdGVtXCIsXCJWZXJib3NlXCIsZSksYi5zeXN0ZW0uVmVyYm9zZSYmYi5zeXN0ZW0uTG9jYWxPbmx5JiYoKGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkudW5zaGlmdChgc3lzdGVtIGxvZyAoJHt3aW5kb3cucGVyZm9ybWFuY2Uubm93KCl9KTpgKSxPKEksZSkpfX0sdGhpcy5wZXJmPXt9LHRoaXMucGVyZi5lcnJvcj1mdW5jdGlvbigpe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtlLnB1c2goQygpKSxiLnBlcmYuRXJyb3ImJiFiLnBlcmYuTG9jYWxPbmx5JiZNKFwicGVyZlwiLFwiRXJyb3JcIixlKSxlLnVuc2hpZnQoYHBlcmYgZXJyb3IgKCR7d2luZG93LnBlcmZvcm1hbmNlLm5vdygpfSk6YCksTyhfLGUpfSx0aGlzLnBlcmYud2Fybj1mdW5jdGlvbigpe2lmKGIucGVyZi5XYXJuKXtjb25zdCBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7ZS5wdXNoKEMoKSksYi5wZXJmLldhcm4mJiFiLnBlcmYuTG9jYWxPbmx5JiZNKFwicGVyZlwiLFwiV2FyblwiLGUpLGIucGVyZi5XYXJuJiZiLnBlcmYuTG9jYWxPbmx5JiYoZS51bnNoaWZ0KGBwZXJmIHdhcm4gKCR7d2luZG93LnBlcmZvcm1hbmNlLm5vdygpfSk6YCksTyhULGUpKX19LHRoaXMucGVyZi5pbmZvPWZ1bmN0aW9uKCl7aWYoYi5wZXJmLkluZm8pe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTswLGIucGVyZi5JbmZvJiYhYi5wZXJmLkxvY2FsT25seSYmTShcInBlcmZcIixcIkluZm9cIixlKSxiLnBlcmYuSW5mbyYmYi5wZXJmLkxvY2FsT25seSYmKGUudW5zaGlmdChgcGVyZiBpbmZvICgke3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKX0pOmApLE8oRSxlKSl9fSx0aGlzLnBlcmYubG9nPWZ1bmN0aW9uKCl7aWYoYi5wZXJmLkxvZyl7Y29uc3QgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOzAsYi5wZXJmLkxvZyYmIWIucGVyZi5Mb2NhbE9ubHkmJk0oXCJwZXJmXCIsXCJMb2dcIixlKSxiLnBlcmYuTG9nJiZiLnBlcmYuTG9jYWxPbmx5JiYoZS51bnNoaWZ0KGBwZXJmIGxvZyAoJHt3aW5kb3cucGVyZm9ybWFuY2Uubm93KCl9KTpgKSxPKEEsZSkpfX0sdGhpcy5wZXJmLmRlYnVnPWZ1bmN0aW9uKCl7aWYoYi5wZXJmLkRlYnVnKXtjb25zdCBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7MCxiLnBlcmYuRGVidWcmJiFiLnBlcmYuTG9jYWxPbmx5JiZNKFwicGVyZlwiLFwiRGVidWdcIixlKSxiLnBlcmYuRGVidWcmJmIucGVyZi5Mb2NhbE9ubHkmJihlLnVuc2hpZnQoYHBlcmYgZGVidWcgKCR7d2luZG93LnBlcmZvcm1hbmNlLm5vdygpfSk6YCksTyhJLGUpKX19LHRoaXMucGVyZi52ZXJib3NlPWZ1bmN0aW9uKCl7aWYoYi5wZXJmLlZlcmJvc2Upe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTswLGIucGVyZi5WZXJib3NlJiYhYi5wZXJmLkxvY2FsT25seSYmTShcInBlcmZcIixcIlZlcmJvc2VcIixlKSxiLnBlcmYuVmVyYm9zZSYmYi5wZXJmLkxvY2FsT25seSYmKGUudW5zaGlmdChgcGVyZiB2ZXJib3NlICgke3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKX0pOmApLE8oSSxlKSl9fSx0aGlzLnVucmVnaXN0ZXJDbGllbnQ9ZnVuY3Rpb24oZT1udWxsLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtkLnN5c3RlbS5kZWJ1ZyhcImxvZ2dlci5zZXJ2aWNlLnVucmVnaXN0ZXJcIix5LGUsdSksTCgpO2NvbnN0IG49ZXx8e2NsaWVudE5hbWU6eSx2aWV3SWQ6dX07ci5Sb3V0ZXJDbGllbnQucXVlcnkoXCJsb2dnZXIuc2VydmljZS51bnJlZ2lzdGVyXCIsbix0KX0sdGhpcy5pc0xvZ01lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuXCJsb2dnZXIuc2VydmljZS5sb2dNZXNzYWdlc1wiPT09ZX0sdGhpcy5zdGF0dXM9XCJvZmZsaW5lXCIsdGhpcy5zZXRSb3V0ZXJDbGllbnQ9ZT0+e3RoaXMuUm91dGVyQ2xpZW50PWV9LHRoaXMuc3RhcnQ9ZnVuY3Rpb24oKXtsZXQgZTtmdW5jdGlvbiB0KCl7ci5zdGF0dXM9XCJvbmxpbmVcIixkLnN5c3RlbS5kZWJ1ZyhcIkxvZ2dlciBvblJlYWR5XCIseSksci5Sb3V0ZXJDbGllbnQuY2FsaWJyYXRlVGltZVdpdGhSb3V0ZXJTZXJ2aWNlKGU9PntoPWUsY3x8KHIuc3RhcnR1cFRpbWU9cGVyZm9ybWFuY2Uubm93KCktci5zdGFydHVwVGltZSxEKCksYz0hMCl9KX10aGlzLnN0YXJ0dXBUaW1lPXBlcmZvcm1hbmNlLm5vdygpLHIuUm91dGVyQ2xpZW50fHwoY29uc29sZS5sb2coXCJObyBpbnN0YW5jZSBvZiB0aGUgUm91dGVyQ2xpZW50IGZvdW5kIGZvciB0aGlzIGluc3RhbmNlIG9mIHRoZSBMb2dnZXIuIER5bmFtaWNhbGx5IHJlcXVpcmluZyBpdC5cIiksci5Sb3V0ZXJDbGllbnQ9big3KS5kZWZhdWx0KTtjb25zdCBvPSgpPT57ZT1yLlJvdXRlckNsaWVudC5zdWJzY3JpYmUoXCJGaW5zZW1ibGUuU2VydmljZS5TdGF0ZS5sb2dnZXJTZXJ2aWNlXCIsKG4saSk9PntcInJlYWR5XCI9PT1pLmRhdGEuc3RhdGUmJih0KCksci5Sb3V0ZXJDbGllbnQudW5zdWJzY3JpYmUoZSkpfSl9O1wicm91dGVyU2VydmljZVwiPT09d2luZG93Lm5hbWU/ci5Sb3V0ZXJDbGllbnQucXVlcnkoXCJsb2dnZXIuc2VydmljZS5yZWdpc3RlclwiLHt9LGU9PntlP3NldFRpbWVvdXQobyw3NTApOm8oKX0pOnIuUm91dGVyQ2xpZW50Lm9uUmVhZHkobyksaS5TeXN0ZW0uaXNCcm93c2VyVmlldygpJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCgpPT57ci51bnJlZ2lzdGVyQ2xpZW50KCl9KX19LHQuTG9nZ2VyPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/bmV3IHQuTG9nZ2VyQ29uc3RydWN0b3I6bmV3IHIuTG9jYWxMb2dnZXIsdC5kZWZhdWx0PXQuTG9nZ2VyfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIGk9ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaChuLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBlLmNhbGwodCk7Y2FzZSAxOnJldHVybiBlLmNhbGwodCxuWzBdKTtjYXNlIDI6cmV0dXJuIGUuY2FsbCh0LG5bMF0sblsxXSk7Y2FzZSAzOnJldHVybiBlLmNhbGwodCxuWzBdLG5bMV0sblsyXSl9cmV0dXJuIGUuYXBwbHkodCxuKX0scj1NYXRoLm1heDt2YXIgbz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ9cih2b2lkIDA9PT10P2UubGVuZ3RoLTE6dCwwKSxmdW5jdGlvbigpe2Zvcih2YXIgbz1hcmd1bWVudHMscz0tMSxhPXIoby5sZW5ndGgtdCwwKSx1PUFycmF5KGEpOysrczxhOyl1W3NdPW9bdCtzXTtzPS0xO2Zvcih2YXIgYz1BcnJheSh0KzEpOysrczx0OyljW3NdPW9bc107cmV0dXJuIGNbdF09bih1KSxpKGUsdGhpcyxjKX19LHM9big2KTtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIG8oZSx0LHMuYSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU3lzdGVtPXZvaWQgMDtjb25zdCBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OmU7Y2xhc3MgaXtjb25zdHJ1Y3RvcihlLHQsbil7cmV0dXJuIG5ldyBmaW4uZGVza3RvcC5XaW5kb3coZSx0KX1zdGF0aWMgZ2V0IGdldEN1cnJlbnQoKXtyZXR1cm4gZmluLmRlc2t0b3AuV2luZG93LmdldEN1cnJlbnR9c3RhdGljIGdldCB3cmFwKCl7cmV0dXJuIGZpbi5kZXNrdG9wLldpbmRvdy53cmFwfX1jbGFzcyBye2NvbnN0cnVjdG9yKGUsdCxuKXtyZXR1cm4gbmV3IGZpbi5kZXNrdG9wLkFwcGxpY2F0aW9uKGUsdCl9c3RhdGljIGdldCBnZXRDdXJyZW50KCl7cmV0dXJuIGZpbi5kZXNrdG9wLkFwcGxpY2F0aW9uLmdldEN1cnJlbnR9c3RhdGljIGdldCB3cmFwKCl7cmV0dXJuIGZpbi5kZXNrdG9wLkFwcGxpY2F0aW9uLndyYXB9fWNsYXNzIG97Y29uc3RydWN0b3IoZSl7bmV3IGZpbi5kZXNrdG9wLk5vdGlmaWNhdGlvbihlKX19Y2xhc3Mgc3tjb25zdHJ1Y3Rvcigpe3JldHVybiBuZXcgZmluLmRlc2t0b3AuU3lzdGVtLkNsaXBib2FyZH1zdGF0aWMgZ2V0IHdyaXRlVGV4dCgpe3JldHVybiBmaW4uZGVza3RvcC5TeXN0ZW0uQ2xpcGJvYXJkLndyaXRlVGV4dH1zdGF0aWMgZ2V0IHdyaXRlSFRNTCgpe3JldHVybiBmaW4uZGVza3RvcC5TeXN0ZW0uQ2xpcGJvYXJkLndyaXRlSFRNTH1zdGF0aWMgZ2V0IHdyaXRlUlRGKCl7cmV0dXJuIGZpbi5kZXNrdG9wLlN5c3RlbS5DbGlwYm9hcmQud3JpdGVSVEZ9c3RhdGljIGdldCByZWFkVGV4dCgpe3JldHVybiBmaW4uZGVza3RvcC5TeXN0ZW0uQ2xpcGJvYXJkLnJlYWRUZXh0fXN0YXRpYyBnZXQgcmVhZEhUTUwoKXtyZXR1cm4gZmluLmRlc2t0b3AuU3lzdGVtLkNsaXBib2FyZC5yZWFkSFRNTH1zdGF0aWMgZ2V0IHJlYWRSVEYoKXtyZXR1cm4gZmluLmRlc2t0b3AuU3lzdGVtLkNsaXBib2FyZC5yZWFkUlRGfX10LlN5c3RlbT1jbGFzc3tzdGF0aWMgZ2V0IEFwcGxpY2F0aW9uKCl7cmV0dXJuIHJ9c3RhdGljIGdldCBXaW5kb3coKXtyZXR1cm4gaX1zdGF0aWMgZ2V0IE5vdGlmaWNhdGlvbigpe3JldHVybiBvfXN0YXRpYyBnZXQgQ2xpcGJvYXJkKCl7cmV0dXJuIHN9c3RhdGljIGFzeW5jIGdldE1vdXNlUG9zaXRpb24oZT1GdW5jdGlvbi5wcm90b3R5cGUpe3JldHVybiBuZXcgUHJvbWlzZSgodCxuKT0+e2Zpbi5kZXNrdG9wLlN5c3RlbS5nZXRNb3VzZVBvc2l0aW9uKG49Pnsobi5sZWZ0fHwwPT09bi5sZWZ0KSYmKG4ueD1uLmxlZnQpLChuLnRvcHx8MD09PW4udG9wKSYmKG4ueT1uLnRvcCksZShudWxsLG4pLHQobil9LHQ9PntlKHQsbnVsbCksbih0KX0pfSl9c3RhdGljIGdldE1vbml0b3JJbmZvKGU9RnVuY3Rpb24ucHJvdG90eXBlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e2Zpbi5kZXNrdG9wLlN5c3RlbS5nZXRNb25pdG9ySW5mbyhuPT57dChuKSxlKG4pfSl9KX1zdGF0aWMgZ2V0IGNvbnRhaW5lcigpe3JldHVybiBmaW4uY29udGFpbmVyP2Zpbi5jb250YWluZXI6XCJFbGVjdHJvblwifXN0YXRpYyBnZXQgaXNCcm93c2VyVmlldygpe3JldHVybiBlMm8uaXNCcm93c2VyVmlld31zdGF0aWMgZ2V0IGdldFZpZXdJZCgpe3JldHVybiBlMm8uZ2V0Vmlld0lkfXN0YXRpYyBnZXQgaGFzQnJvd3NlclZpZXcoKXtyZXR1cm4gZTJvLmhhc0Jyb3dzZXJWaWV3fXN0YXRpYyBnZXQgZmluKCl7cmV0dXJuIGUyb3x8ZmlufHx7fX1zdGF0aWMgZ2V0IHJlYWR5KCl7cmV0dXJuIGZpbi5kZXNrdG9wLm1haW59c3RhdGljIGdldEhvc3RTcGVjcyhlPUZ1bmN0aW9uLnByb3RvdHlwZSl7cmV0dXJuIG5ldyBQcm9taXNlKHQ9PntmaW4uZGVza3RvcC5TeXN0ZW0uZ2V0SG9zdFNwZWNzKG49Pnt0KG4pLGUobil9KX0pfXN0YXRpYyBnZXQgSW50ZXJBcHBsaWNhdGlvbkJ1cygpe3JldHVybiBmaW4uZGVza3RvcC5JbnRlckFwcGxpY2F0aW9uQnVzfXN0YXRpYyBnZXQgbGF1bmNoRXh0ZXJuYWxQcm9jZXNzKCl7cmV0dXJuIGZpbi5kZXNrdG9wLlN5c3RlbS5sYXVuY2hFeHRlcm5hbFByb2Nlc3N9c3RhdGljIGdldCB0ZXJtaW5hdGVFeHRlcm5hbFByb2Nlc3MoKXtyZXR1cm4gZmluLmRlc2t0b3AuU3lzdGVtLnRlcm1pbmF0ZUV4dGVybmFsUHJvY2Vzc31zdGF0aWMgZ2V0IGdldEFsbEFwcGxpY2F0aW9ucygpe3JldHVybiBmaW4uZGVza3RvcC5TeXN0ZW0uZ2V0QWxsQXBwbGljYXRpb25zfXN0YXRpYyBnZXQgZXhpdCgpe3JldHVybiBmaW4uZGVza3RvcC5TeXN0ZW0uZXhpdH1zdGF0aWMgZ2V0IGNsZWFyQ2FjaGUoKXtyZXR1cm4gZmluLmRlc2t0b3AuU3lzdGVtLmNsZWFyQ2FjaGV9c3RhdGljIGdldCBzaG93RGV2ZWxvcGVyVG9vbHMoKXtyZXR1cm4gZmluLmRlc2t0b3AuU3lzdGVtLnNob3dEZXZlbG9wZXJUb29sc31zdGF0aWMgZ2V0IGdldFJ1bnRpbWVJbmZvKCl7cmV0dXJuIGZpbi5kZXNrdG9wLlN5c3RlbS5nZXRSdW50aW1lSW5mb3x8Y2hyb21lLmRlc2t0b3AuZ2V0RGV0YWlsc31zdGF0aWMgZ2V0IGFkZEV2ZW50TGlzdGVuZXIoKXtyZXR1cm4gZmluLmRlc2t0b3AuU3lzdGVtLmFkZEV2ZW50TGlzdGVuZXJ9c3RhdGljIGdldCBhZGRTZWxlY3RDbGllbnRDZXJ0aWZpY2F0ZUxpc3RlbmVyKCl7cmV0dXJuIGZpbi5kZXNrdG9wLlN5c3RlbS5hZGRTZWxlY3RDbGllbnRDZXJ0aWZpY2F0ZUxpc3RlbmVyfXN0YXRpYyBnZXQgYWRkQ2VydGlmaWNhdGVFcnJvckxpc3RlbmVyKCl7cmV0dXJuIGZpbi5kZXNrdG9wLlN5c3RlbS5hZGRDZXJ0aWZpY2F0ZUVycm9yTGlzdGVuZXJ9c3RhdGljIGdldCBnZXRWZXJzaW9uKCl7cmV0dXJuIGZpbi5kZXNrdG9wLlN5c3RlbS5nZXRWZXJzaW9ufXN0YXRpYyBnZXQgZ2V0VXBkYXRlQXZhaWxhYmxlKCl7cmV0dXJuIGZpbi5kZXNrdG9wLlN5c3RlbS5nZXRVcGRhdGVBdmFpbGFibGV9c3RhdGljIGdldCBvcGVuVXJsV2l0aEJyb3dzZXIoKXtyZXR1cm4gZmluLmRlc2t0b3AuU3lzdGVtLm9wZW5VcmxXaXRoQnJvd3Nlcn1zdGF0aWMgZ2V0IGdldEFsbFdpbmRvd3MoKXtyZXR1cm4gZmluLmRlc2t0b3AuU3lzdGVtLmdldEFsbFdpbmRvd3N9c3RhdGljIGdldCBnZXRQcm9jZXNzTGlzdCgpe3JldHVybiBmaW4uZGVza3RvcC5TeXN0ZW0uZ2V0UHJvY2Vzc0xpc3R9c3RhdGljIGdldCBnZXRQcm90b2NvbFN0cmluZygpe3JldHVybiBmaW4uZGVza3RvcC5TeXN0ZW0uZ2V0UHJvdG9jb2xTdHJpbmd9c3RhdGljIGdldCBoaWRlU3BsYXNoU2NyZWVuKCl7cmV0dXJuIGZpbi5kZXNrdG9wLlN5c3RlbS5oaWRlU3BsYXNoU2NyZWVufXN0YXRpYyBGaW5zZW1ibGVSZWFkeShlKXtyZXR1cm4gbi5GU0JMJiZuLkZTQkwuYWRkRXZlbnRMaXN0ZW5lcj9uLkZTQkwuYWRkRXZlbnRMaXN0ZW5lcihcIm9ucmVhZHlcIixlKTp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkZTQkxyZWFkeVwiLGUpfXN0YXRpYyBzdGFydHVwQXBwbGljYXRpb25IYW5kc2hha2UoKXtmaW4uZGVza3RvcC5TeXN0ZW0uc3RhcnR1cEFwcGxpY2F0aW9uSGFuZHNoYWtlJiZmaW4uZGVza3RvcC5TeXN0ZW0uc3RhcnR1cEFwcGxpY2F0aW9uSGFuZHNoYWtlKCl9c3RhdGljIGNsb3NlQXBwbGljYXRpb24oZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7cmV0dXJuIG5ldyBQcm9taXNlKG49PntsZXQgaSxyPSExO2NvbnN0IG89KCk9PntyfHwoY29uc29sZS5sb2coXCJBdHRlbXB0aW5nIHRvIHRlcm1pbmF0ZVwiLGUudXVpZCksZS50ZXJtaW5hdGUoKCk9Pnt0KCksbigpfSwoKT0+e3J8fChyPSEwLGNsZWFySW50ZXJ2YWwoaSksY29uc29sZS5sb2coXCJmb3JjZSBjbG9zaW5nIFwiLGUudXVpZCksZS50ZXJtaW5hdGUoKSl9KSl9O2k9c2V0SW50ZXJ2YWwobywyZTMpLGNvbnNvbGUubG9nKFwiY2xvc2luZyBcIixlLnV1aWQpLGUuY2xvc2UoITEsKCk9Pntjb25zb2xlLmxvZyhcImFwcC5jbG9zZTogc3VjY2Vzc2Z1bGx5IGNsb3NlZFwiLGUudXVpZCkscj0hMCxjbGVhckludGVydmFsKGkpLHQoKSxuKCl9LG8pfSl9c3RhdGljIGlzRWxlY3Ryb24oKXtyZXR1cm5cIkVsZWN0cm9uXCI9PT1maW4uY29udGFpbmVyfX19KS5jYWxsKHRoaXMsbigxOSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUsaSl7bi5kKHQsXCJkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksbi5kKHQsXCJjXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKHQsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKHQsXCJlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSk7dmFyIHIsbz1uKDEpLHM9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSxhPVwib2JqZWN0XCI9PXR5cGVvZiBpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLm5leHRUaWNrO2Z1bmN0aW9uIHUoZSl7c2V0VGltZW91dChlLDApfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIE9iamVjdChvLmEpKChmdW5jdGlvbih0LG4pe2UoKGZ1bmN0aW9uKCl7dC5hcHBseShudWxsLG4pfSkpfSkpfXI9cz9lOmE/aS5uZXh0VGljazp1LHQuYT1jKHIpfSkuY2FsbCh0aGlzLG4oMzIpLnNldEltbWVkaWF0ZSxuKDE5KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Ll9CYXNlQ2xpZW50PXZvaWQgMDtcbi8qIVxuICogQ29weXJpZ2h0IDIwMTcgLSAyMDIwIGJ5IENoYXJ0SVEsIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cbmNvbnN0IHI9aShuKDcpKSxvPWkobig4KSkscz1pKG4oMCkpLGE9bigyKSx1PWkobig0MCkpLGM9bigyNSk7Y2xhc3MgbCBleHRlbmRzIHUuZGVmYXVsdHtjb25zdHJ1Y3RvcihlKXtzdXBlcih7bmFtZTplLm5hbWUsc291cmNlVHlwZTplLm5hbWUucmVwbGFjZShcIkNsaWVudFwiLFwiXCIpfSksdGhpcy5zdGF0dXM9XCJvZmZsaW5lXCIsdGhpcy5zdGFydHVwVGltZT0wLHRoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy5zdGFydHVwRGVwZW5kZW5jaWVzPXtzZXJ2aWNlczpbXSxjbGllbnRzOltdfSx0aGlzLmZpbnNlbWJsZVdpbmRvdz1udWxsLHRoaXMud2luZG93TmFtZT1cIlwiLHRoaXMuY2xpZW50UmVhZHlRdWV1ZT1bXSx0aGlzLnByb2Nlc3NDbGllbnRSZWFkeVF1ZXVlPSgpPT57Zm9yKGNvbnN0IGUgb2YgdGhpcy5jbGllbnRSZWFkeVF1ZXVlKWUoKTt0aGlzLmNsaWVudFJlYWR5UXVldWU9W119LHRoaXMub25SZWFkeT1lPT57dGhpcy5jbGllbnRSZWFkeVF1ZXVlLnB1c2goZSksXCJvbmxpbmVcIj09PXRoaXMuc3RhdHVzJiZ0aGlzLnByb2Nlc3NDbGllbnRSZWFkeVF1ZXVlKCl9LHRoaXMuc2V0Q2xpZW50T25saW5lPSgpPT57dGhpcy5zdGF0dXM9XCJvbmxpbmVcIjtjb25zdCBlPWBTVEFSVFVQOkNMSUVOVCBPTkxJTkU6JHt0aGlzLmZpbldpbmRvdy5uYW1lfToke3RoaXMubmFtZX1gO3RoaXMuc3RhcnR1cFRpbWU9d2luZG93LnBlcmZvcm1hbmNlLm5vdygpLXRoaXMuc3RhcnR1cFRpbWU7Y29uc3QgdD0oKT0+e3RoaXMubG9nZ2VyLnN5c3RlbS5kZWJ1ZyhlKSx0aGlzLnByb2Nlc3NDbGllbnRSZWFkeVF1ZXVlKCksYy5GU0JMRGVwZW5kZW5jeU1hbmFnZXJTaW5nbGV0b24uc2V0Q2xpZW50T25saW5lKHRoaXMubmFtZSl9O3RoaXMuX29uUmVhZHk/dGhpcy5fb25SZWFkeSh0KTp0KCl9LHRoaXMuaW5pdGlhbGl6ZT0oZT1GdW5jdGlvbi5wcm90b3R5cGUpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5zdGFydHVwVGltZT1wZXJmb3JtYW5jZS5ub3coKSx0aGlzLnJvdXRlckNsaWVudC5vblJlYWR5KCgpPT57dGhpcy5maW5XaW5kb3c9YS5TeXN0ZW0uV2luZG93LmdldEN1cnJlbnQoKSx0aGlzLndpbmRvd05hbWU9dGhpcy5maW5XaW5kb3cubmFtZSx0aGlzLmxvZ2dlci5zeXN0ZW0uZGVidWcoXCJCYXNlY2xpZW50IEluaXQgUm91dGVyIFJlYWR5XCIsdGhpcy5uYW1lKSxjLkZTQkxEZXBlbmRlbmN5TWFuYWdlclNpbmdsZXRvbi5zdGFydHVwLndhaXRGb3IodGhpcy5zdGFydHVwRGVwZW5kZW5jaWVzLCgpPT57ZSgpLHRoaXMuc2V0Q2xpZW50T25saW5lKCl9KX0pKX0sdGhpcy5vbkNsb3NlPWU9Pnt0aGlzLmNsZWFudXAoKSxlJiZlKCl9LHRoaXMubmFtZT1lLm5hbWUsdGhpcy5fb25SZWFkeT1lLm9uUmVhZHksdGhpcy5zdGFydHVwRGVwZW5kZW5jaWVzPWUuc3RhcnR1cERlcGVuZGVuY2llc3x8e3NlcnZpY2VzOltdLGNsaWVudHM6W119LHRoaXMubG9nZ2VyPXMuZGVmYXVsdCx0aGlzLnJvdXRlckNsaWVudD1yLmRlZmF1bHR9YWRkRXZlbnRMaXN0ZW5lcihlLHQpe3N1cGVyLmFkZEV2ZW50TGlzdGVuZXIoZSx0KX19dC5fQmFzZUNsaWVudD1sO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtvLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0PVwiKTtjb25zdCB0PXRoaXM7bGV0IG4saT1cIm9mZmxpbmVcIjt0aGlzLnN0YXJ0dXBUaW1lPTAsZSYmKGUub25SZWFkeSYmKHtvblJlYWR5Om59PWUpLHRoaXMubmFtZT1lLm5hbWUpLHRoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy5zdGFydHVwRGVwZW5kZW5jaWVzPWUuc3RhcnR1cERlcGVuZGVuY2llc3x8e3NlcnZpY2VzOltdLGNsaWVudHM6W119LHRoaXMucm91dGVyQ2xpZW50PXIuZGVmYXVsdCx0aGlzLmZpbldpbmRvdz1udWxsLHRoaXMuZmluc2VtYmxlV2luZG93PW51bGwsdGhpcy53aW5kb3dOYW1lPVwiXCIsdGhpcy5yZXF1aXJlZFNlcnZpY2VzPVtdLHRoaXMucmVxdWlyZWRDbGllbnRzPVtdLHRoaXMuY2xpZW50UmVhZHlRdWV1ZT1bXSx0aGlzLnByb2Nlc3NDbGllbnRSZWFkeVF1ZXVlPWZ1bmN0aW9uKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLmNsaWVudFJlYWR5UXVldWUubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmNsaWVudFJlYWR5UXVldWVbZV07XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdCgpfXRoaXMuY2xpZW50UmVhZHlRdWV1ZT1bXX0sdGhpcy5vblJlYWR5PWZ1bmN0aW9uKGUpe3RoaXMuY2xpZW50UmVhZHlRdWV1ZS5wdXNoKGUpLFwib25saW5lXCI9PT1pJiZ0aGlzLnByb2Nlc3NDbGllbnRSZWFkeVF1ZXVlKCl9LHRoaXMuc2V0Q2xpZW50T25saW5lPWZ1bmN0aW9uKCl7aT1cIm9ubGluZVwiO2NvbnN0IGU9YFNUQVJUVVA6Q0xJRU5UIE9OTElORToke3QuZmluV2luZG93Lm5hbWV9OiR7dC5uYW1lfWA7dC5zdGFydHVwVGltZT1wZXJmb3JtYW5jZS5ub3coKS10LnN0YXJ0dXBUaW1lLG4/bigoKT0+e3MuZGVmYXVsdC5zeXN0ZW0uZGVidWcoZSksdC5wcm9jZXNzQ2xpZW50UmVhZHlRdWV1ZSgpLGMuRlNCTERlcGVuZGVuY3lNYW5hZ2VyU2luZ2xldG9uLnNldENsaWVudE9ubGluZSh0Lm5hbWUpfSk6KHMuZGVmYXVsdC5zeXN0ZW0uZGVidWcoZSksdC5wcm9jZXNzQ2xpZW50UmVhZHlRdWV1ZSgpLGMuRlNCTERlcGVuZGVuY3lNYW5hZ2VyU2luZ2xldG9uLnNldENsaWVudE9ubGluZSh0Lm5hbWUpKX0sdGhpcy5pbml0aWFsaXplPWZ1bmN0aW9uKGU9RnVuY3Rpb24ucHJvdG90eXBlKXt0LmluaXRpYWxpemVkfHwodC5pbml0aWFsaXplZD0hMCx0LnNldENsaWVudE9ubGluZT10LnNldENsaWVudE9ubGluZS5iaW5kKHQpLHQuc3RhcnR1cFRpbWU9cGVyZm9ybWFuY2Uubm93KCksdC5yb3V0ZXJDbGllbnQub25SZWFkeSgoKT0+e3QuZmluV2luZG93PWEuU3lzdGVtLldpbmRvdy5nZXRDdXJyZW50KCksdC53aW5kb3dOYW1lPXQuZmluV2luZG93Lm5hbWUscy5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkJhc2VjbGllbnQgSW5pdCBSb3V0ZXIgUmVhZHlcIix0Lm5hbWUpLGMuRlNCTERlcGVuZGVuY3lNYW5hZ2VyU2luZ2xldG9uLnN0YXJ0dXAud2FpdEZvcih7Y2xpZW50czp0LnN0YXJ0dXBEZXBlbmRlbmNpZXMuY2xpZW50c3x8W119LCgpPT57ZSgpLHQuc2V0Q2xpZW50T25saW5lKCl9KX0pKX0sdGhpcy5vbkNsb3NlPWZ1bmN0aW9uKCl7fX19LGZ1bmN0aW9uKGUsdCl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2goZSl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX1lLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3QuYT1mdW5jdGlvbihlKXtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtcbi8qIVxuICogQ29weXJpZ2h0IDIwMTcgLSAyMDIwIGJ5IENoYXJ0SVEsIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oNTEpLHI9bigwKSxvPW5ldygwLGkuUm91dGVyQ2xpZW50Q29uc3RydWN0b3IpKHtjbGllbnROYW1lOlwiUm91dGVyQ2xpZW50XCJ9KTtyLkxvZ2dlci5zZXRSb3V0ZXJDbGllbnQobyksdC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCk7dmFyIGk9bmV3IGZ1bmN0aW9uKCl7bGV0IGU9Mzt0aGlzLmRpYWdMZXZlbD1mdW5jdGlvbigpe3JldHVybiBlfSx0aGlzLnNldERpYWdMZXZlbD1mdW5jdGlvbih0KXtlPXR9LHRoaXMudmFsaWRhdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZT49NH19O1xuLyohXG4gKiBDb3B5cmlnaHQgMjAxNyAtIDIwMjAgYnkgQ2hhcnRJUSwgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL3QuZGVmYXVsdD1uZXcgZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXtjb25zdCBpPWZ1bmN0aW9uKCl7dHJ5e3Rocm93IEVycm9yKFwiXCIpfWNhdGNoKGUpe3JldHVybiBlfX0oKSxyPWkuc3RhY2suc3BsaXQoXCJcXG5cIilbNV0sbz1yLmluZGV4T2YoXCJhdCBcIikscz1yLnNsaWNlKG8rMixyLmxlbmd0aCksYT1pLnN0YWNrLnNwbGl0KFwiXFxuXCIpWzZdLHU9YS5pbmRleE9mKFwiYXQgXCIpLGM9YS5zbGljZSh1KzIsYS5sZW5ndGgpO2NvbnNvbGUud2FybihgcGFyYW1ldGVyIHZhbGlkYXRpb24gZmFpbGVkOiBwYXJhbWV0ZXIgJHtlfSBpcyBvZiB0eXBlICcke3R5cGVvZiB0fScgYnV0IHNob3VsZCBiZSBvZiB0eXBlICcke259JyBpbiR7c30gY2FsbGVkIGJ5JHtjfWApfXRoaXMuYXJncz1mdW5jdGlvbigpe2xldCB0PSEwO2lmKGkudmFsaWRhdGlvbkVuYWJsZWQoKSl7Y29uc3Qgbj1hcmd1bWVudHMubGVuZ3RoO2lmKChuKzEpJTIhPTApZm9yKGxldCBpPTA7aTxuO2krPTIpe2xldCBuPSExO2NvbnN0IHI9YXJndW1lbnRzW2ldO2xldCBvPWFyZ3VtZW50c1tpKzFdO2lmKFwiPVwiPT09by5zbGljZSgtMSkmJihvPW8uc2xpY2UoMCwtMSksbj0hMCksdHlwZW9mIHIhPT1vJiYhKG4mJnZvaWQgMD09PXJ8fHZvaWQgMCE9PXImJlwiYW55XCI9PT1vKSl7ZShpLzIrMSxyLG8pLHQ9ITE7YnJlYWt9fWVsc2UgY29uc29sZS53YXJuKFwidmFsaWRhdGUuYXJncyByZXF1aXJlcyBldmVuIG51bWJlciBvZiBwYXJhbWV0ZXJzOiBcIitKU09OLnN0cmluZ2lmeShhcmd1bWVudHMpKX1yZXR1cm4gdH0sdGhpcy5hcmdzMj1mdW5jdGlvbigpe2xldCB0PSEwO2lmKGkudmFsaWRhdGlvbkVuYWJsZWQoKSl7Y29uc3Qgbj1hcmd1bWVudHMubGVuZ3RoO2lmKChuKzEpJTMhPTApZm9yKGxldCBpPTA7aTxuO2krPTMpe2xldCBuPSExO2NvbnN0IHI9YXJndW1lbnRzW2ldLG89YXJndW1lbnRzW2krMV07bGV0IHM9YXJndW1lbnRzW2krMl07aWYoXCI9XCI9PT1zLnNsaWNlKC0xKSYmKHM9cy5zbGljZSgwLC0xKSxuPSEwKSx0eXBlb2YgbyE9PXMmJiEobiYmdm9pZCAwPT09b3x8dm9pZCAwIT09byYmXCJhbnlcIj09PXMpKXtlKHIsbyxzKSx0PSExO2JyZWFrfX1lbHNlIGNvbnNvbGUud2FybihcInZhbGlkYXRlLmFyZ3MgcmVxdWlyZXMgZXZlbiBudW1iZXIgb2YgcGFyYW1ldGVyczogXCIrSlNPTi5zdHJpbmdpZnkoYXJndW1lbnRzKSl9cmV0dXJuIHR9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY2hlY2tEZXByZWNhdGVkQ29uZmlncz10LmlzRXF1YWxJZ25vcmluZ0FycmF5T3JkZXI9dC5zbGVlcD10LmNoZWNrSWZCb3VuZHNBcmVFcXVhbD10LnJlbW92ZUtleXM9dC50b1JlY29yZD10LmlzU3RhY2tlZFdpbmRvdz10LndyYXBXaXRoVGltZW91dD10LnRpbWVvdXRQcm9taXNlPXQuZ2V0UmFuZG9tV2luZG93TmFtZT10LmdldFVuaXF1ZU5hbWU9dC5nZXRQcm9wPXQuY29tcG9zZVJMPXQuaW5zdHJ1bWVudFByb21pc2U9dC5wcm9taXNpZnk9dC5pZGVudGl0eT10LmlzTnVtYmVyPXQuY2h1bmtBcnJheT10LlRpbWVvdXQ9dC5tb2NrTG9nZ2VyPXQuY2FwaXRhbGl6ZUZpcnN0PXQuY2xvbmU9dC5pc1NlcnZpY2VJbldpbmRvdz10LmlBbUFTZXJ2aWNlV2luZG93PXQuZ3V1aWQ9dm9pZCAwO2NvbnN0IHI9bigzNiksbz1pKG4oMzcpKSxzPWkobig2MCkpLGE9aShuKDI2KSksdT1pKG4oNjEpKSxjPW4oMTApLGw9aShuKDApKSxkPXdpbmRvdztmdW5jdGlvbiBmKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5zbGljZSgpO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2goZSl7cmV0dXJuIHQoXCJjbG9uZSBlcnJvclwiLGUpLGV9fXQuZ3V1aWQ9ZnVuY3Rpb24oKXtyZXR1cm4gci52MSgpfSx0LmlBbUFTZXJ2aWNlV2luZG93PWZ1bmN0aW9uKCl7cmV0dXJuISghZC5maW5zZW1ibGVTZXJ2aWNlc3x8IWQuZmluc2VtYmxlU2VydmljZXMubGVuZ3RoKX0sdC5pc1NlcnZpY2VJbldpbmRvdz1mdW5jdGlvbihlKXtyZXR1cm4gZC5maW5zZW1ibGVTZXJ2aWNlcyYmZC5maW5zZW1ibGVTZXJ2aWNlcy5maW5kKHQ9PnQubmFtZT09PWUpfSx0LmNsb25lPWYsdC5jYXBpdGFsaXplRmlyc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKX07dC5tb2NrTG9nZ2VyPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcih7ZGVidWc6ZX09e2RlYnVnOiEwfSl7ZT8odGhpcy5zeXN0ZW09Y29uc29sZSx0aGlzLnN5c3RlbS5kZWJ1Zz1jb25zb2xlLmxvZyk6dGhpcy5zeXN0ZW09e3dhcm46RnVuY3Rpb24ucHJvdG90eXBlLGRlYnVnOkZ1bmN0aW9uLnByb3RvdHlwZSxsb2c6RnVuY3Rpb24ucHJvdG90eXBlLGluZm86RnVuY3Rpb24ucHJvdG90eXBlLGVycm9yOmNvbnNvbGUuZXJyb3J9fWlzTG9nTWVzc2FnZSgpe3JldHVybiEwfXN0YXJ0KCl7fX07ZnVuY3Rpb24gaChlPVwiUm91dGVyQ2xpZW50XCIpe3JldHVybmAke2V9LSR7TWF0aC5mbG9vcigxMDAqTWF0aC5yYW5kb20oKSl9LSR7TWF0aC5mbG9vcigxZTQqTWF0aC5yYW5kb20oKSl9YH1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGkpPT57Y29uc3Qgcj1zZXRUaW1lb3V0KCgpPT57Y2xlYXJUaW1lb3V0KHIpLGkodCl9LGUpfSl9ZnVuY3Rpb24gZyhlLHQsbil7cmV0dXJuYCR7ZX0uJHt0fS4ke259YH1mdW5jdGlvbiBtKGUsdCxuKXtjb25zdCBpPVwiXCIrZyhlLmJhc2VTdHJpbmcsZS5uZXdQYXRoLGUubmV3VmFsdWUpO2wuZGVmYXVsdC5zeXN0ZW0ud2FybihgJHtnKGUuYmFzZVN0cmluZyx0LG4pfSBoYXMgYmVlbiBkZXByZWNhdGVkIGluIGZhdm9yIG9mICR7aX1gKX10LlRpbWVvdXQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmZpcmVkPSExLHRoaXMuaWQ9c2V0VGltZW91dCgoKT0+e2UoKSx0aGlzLmZpcmVkPSEwfSx0KSx0aGlzLmNsZWFyPXRoaXMuY2xlYXIuYmluZCh0aGlzKSx0aGlzLmRpZEZpcmU9dGhpcy5kaWRGaXJlLmJpbmQodGhpcyl9Y2xlYXIoKXt0aGlzLmZpcmVkfHxjbGVhclRpbWVvdXQodGhpcy5pZCl9ZGlkRmlyZSgpe3JldHVybiB0aGlzLmZpcmVkfX0sdC5jaHVua0FycmF5PWZ1bmN0aW9uKGUsdCl7aWYoZTw9MCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjaHVuayBhcnJheSBieSBudW1iZXIgbGVzcyB0aGFuIDBcIik7cmV0dXJuIHQucmVkdWNlKChuLGkscik9PntpZihyJWU9PTApe2NvbnN0IGk9W107Zm9yKGxldCBuPXI7bjxyK2U7bisrKW48dC5sZW5ndGgmJmkucHVzaCh0W25dKTtuLnB1c2goaSl9cmV0dXJuIG59LFtdKX0sdC5pc051bWJlcj1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHxOdW1iZXIuaXNOYU4oTnVtYmVyKGUpKSkmJk51bWJlcihlKX0sdC5pZGVudGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sdC5wcm9taXNpZnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIG5ldyBQcm9taXNlKChpLHIpPT57bi5wdXNoKChlLHQpPT5lP3IoZSk6aSh0KSksZS5hcHBseSh0LG4pfSl9fSx0Lmluc3RydW1lbnRQcm9taXNlPWFzeW5jKGUsdCxuKT0+e2NvbnN0IGk9dCtcIiBlbmRcIjtyZXR1cm4gZSh0K1wiIHN0YXJ0XCIpLG4udGhlbigoKT0+ZShpKSl9LHQuY29tcG9zZVJMPSguLi5lKT0+ZS5yZWR1Y2UoKGUsdCk9PiguLi5uKT0+ZSh0KC4uLm4pKSksdC5nZXRQcm9wPWZ1bmN0aW9uIGUodCxuLGkpe2NvbnN0IHI9QXJyYXkuaXNBcnJheShuKT9uOm4uc3BsaXQoXCIuXCIpLmZpbHRlcihlPT5lLmxlbmd0aCk7cmV0dXJuIHIubGVuZ3RoP2UodFtyLnNoaWZ0KCldLHIsaSk6dm9pZCAwPT09dD9pOnR9LHQuZ2V0VW5pcXVlTmFtZT1oLHQuZ2V0UmFuZG9tV2luZG93TmFtZT1mdW5jdGlvbihlLHQpe3JldHVybmAke2goZSl9LSR7dH1gfSx0LnRpbWVvdXRQcm9taXNlPXAsdC53cmFwV2l0aFRpbWVvdXQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBQcm9taXNlLnJhY2UoW2UscCh0LG4pXSl9LHQuaXNTdGFja2VkV2luZG93PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZcIlN0YWNrZWRXaW5kb3dcIj09PShvLmRlZmF1bHQoZSxcIndpbmRvd0lkZW50aWZpZXIud2luZG93VHlwZVwiKXx8ZS53aW5kb3dUeXBlKX0sdC50b1JlY29yZD1mdW5jdGlvbihlLHQpe2NvbnN0IG49XCJzdHJpbmdcIj09dHlwZW9mIGU/dD0+dFtlXTplO3JldHVybiB0LnJlZHVjZSgoZSx0KT0+KGVbbih0KV09dCxlKSx7fSl9LHQucmVtb3ZlS2V5cz1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybiBlO2NvbnN0IG49T2JqZWN0LmtleXMoZSkuZmlsdGVyKGU9PiF0LmluY2x1ZGVzKGUpKTtyZXR1cm4gcy5kZWZhdWx0KGUsbil9LHQuY2hlY2tJZkJvdW5kc0FyZUVxdWFsPWZ1bmN0aW9uKGUsdCl7aWYoIWV8fCF0KXJldHVybiExO2NvbnN0IG49W1wibGVmdFwiLFwicmlnaHRcIixcInRvcFwiLFwiYm90dG9tXCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLGk9cy5kZWZhdWx0KGUsbikscj1zLmRlZmF1bHQodCxuKTtyZXR1cm4hIWEuZGVmYXVsdChpLHIpfSx0LnNsZWVwPWZ1bmN0aW9uKGUsdD0hMSl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGkpPT57dD9zZXRUaW1lb3V0KCgpPT57dHJ5e2koXCJ0aW1lb3V0IGV4cGlyZWRcIil9Y2F0Y2goZSl7fX0sZSk6c2V0VGltZW91dChuLGUpfSl9LHQuaXNFcXVhbElnbm9yaW5nQXJyYXlPcmRlcj1mdW5jdGlvbihlLHQpe2NvbnN0IG49ZihlLEZ1bmN0aW9uLnByb3RvdHlwZSksaT1mKHQsRnVuY3Rpb24ucHJvdG90eXBlKTtyZXR1cm4gdS5kZWZhdWx0KG4saSwoZSx0KT0+e2lmKEFycmF5LmlzQXJyYXkoZSkmJkFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHUuZGVmYXVsdChlLnNvcnQoKSx0LnNvcnQoKSl9KX0sdC5jaGVja0RlcHJlY2F0ZWRDb25maWdzPWZ1bmN0aW9uKGUsdCxuKXtjb25zdHtiYXNlU3RyaW5nOmksb2xkUGF0aDpyLG5ld1BhdGg6byxvbGRWYWx1ZTpzLG5ld1ZhbHVlOmF9PXQ7bGV0IHU9Yy5Db25maWdVdGlsSW5zdGFuY2UuZ2V0RGVmYXVsdChlLGcoaSxvLGEpLG51bGwpO3JldHVybiBudWxsPT09dSYmKHU9Yy5Db25maWdVdGlsSW5zdGFuY2UuZ2V0RGVmYXVsdChlLGcoaSxvLHMpLG51bGwpLHU/bSh0LG8scyk6KHU9Yy5Db25maWdVdGlsSW5zdGFuY2UuZ2V0RGVmYXVsdChlLGcoaSxyLGEpLG51bGwpLHU/bSh0LHIsYSk6KHU9Yy5Db25maWdVdGlsSW5zdGFuY2UuZ2V0RGVmYXVsdChlLGcoaSxyLHMpLG51bGwpLHU/bSh0LHIscyk6dT1uKSkpLHV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLG4uZCh0LFwiQ29uZmlnVXRpbEluc3RhbmNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIGk9bigxMSkscj1uKDApLG89bi5uKHIpLHM9bigyKTtcbi8qIVxuICogQ29weXJpZ2h0IDIwMTcgLSAyMDIwIGJ5IENoYXJ0SVEsIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cbmNvbnN0IGE9bmV3IGZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzO3RoaXMucmVzb2x2ZUNvbmZpZ1ZhcmlhYmxlcz1mdW5jdGlvbihlLHQpe2xldCBuPTAsaT0wLHI9ITA7ZnVuY3Rpb24gcyhlKXtjb25zdCB0PWUuc3BsaXQoL1svXFxcXDo/PSZcXHNdLyk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoXCIkXCI9PT10W25dWzBdKXtjb25zdCBpPXRbbl0uc3Vic3RyaW5nKDEpO2xldCBzPWEoaSk7aWYodm9pZCAwIT09cyl7Y29uc3QgYT1lLnJlcGxhY2UodFtuXSxzKTtvLmEuc3lzdGVtLnZlcmJvc2UoXCJmb3JjZU9iamVjdHNUb0xvZ2dlclwiLFwiQ29uZmlnVXRpbC5yZXNvbHZlQ29uZmlnVmFyaWFibGVzOnJlc29sdmVTdHJpbmcgY29uZmlnU3RyaW5nXCIsdFtuXSxpLHMsXCJvbGQgdmFsdWU9XCIsZSxcInZhbHVlPVwiLGEpLHI9ITAsZT1hfX1yZXR1cm4gZX1mdW5jdGlvbiBhKHQpe2xldCBuPWVbdF07cmV0dXJuIHZvaWQgMD09PW4mJihlLmN1c3RvbT8obj1lLmN1c3RvbVt0XSx2b2lkIDA9PT1uJiZvLmEuc3lzdGVtLndhcm4oXCJDb25maWdVdGlsLnJlc29sdmVTdHJpbmdcIixgTWlzc2luZyBbJHt0fV0gdmFyaWFibGUgZnJvbSBmaW5zZW1ibGUuY3VzdG9tIGNvbmZpZ3VyYXRpb24gb2JqZWN0YCkpOm8uYS5zeXN0ZW0uZXJyb3IoXCJDb25maWdVdGlsLnJlc29sdmVTdHJpbmdcIiwnTWlzc2luZyBcImN1c3RvbVwiIG5vZGUgZnJvbSBmaW5zZW1ibGUgY29uZmlndXJhdGlvbiAtIHVuYWJsZSB0byBnZXQgdmFyaWFibGUgcmVzb3V0aW9uIGZvciB2YXJpYWJsZTogJyt0KSksbn1mdW5jdGlvbiB1KGUsdCxuKXtlPWV8fHt9LG8uYS5zeXN0ZW0udmVyYm9zZShcImZvcmNlT2JqZWN0c1RvTG9nZ2VyXCIsXCJDb25maWdVdGlsLnJlc29sdmVDb25maWdWYXJpYWJsZXM6cmVzb2x2ZU9iamVjdFwiLFwicGFzc1wiLHQsXCJyZWN1cnNpb25MZXZlbFwiLG4sXCJjb25maWdPYmplY3Q6XCIsZSksT2JqZWN0LmtleXMoZSkuZm9yRWFjaChpPT57Y29uc3Qgcj1lW2ldO1wic3RyaW5nXCI9PXR5cGVvZiByJiZyLmluZGV4T2YoXCIkXCIpPi0xP2VbaV09cyhyKTpyIGluc3RhbmNlb2YgQXJyYXk/ZnVuY3Rpb24gZSh0LG4saSl7by5hLnN5c3RlbS52ZXJib3NlKFwiZm9yY2VPYmplY3RzVG9Mb2dnZXJcIixcInJlc29sdmVBcnJheVwiLFwicGFzc1wiLG4sXCJyZWN1cnNpb25MZXZlbFwiLGksXCJjb25maWdBcnJheTpcIix0KTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdO1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvLmluZGV4T2YoXCIkXCIpPi0xP3Rbcl09cyhvKTpvIGluc3RhbmNlb2YgQXJyYXk/ZShvLG4saSsxKTpcIm9iamVjdFwiPT10eXBlb2YgbyYmdShvLG4saSsxKX19KHIsdCxuKzEpOlwib2JqZWN0XCI9PXR5cGVvZiByJiZ1KHIsdCxuKzEpfSl9Zm9yKDtyJiZpKys8MTAwOylyPSExLHUodCwrK24sMSk7aT49MTAwJiZvLmEuc3lzdGVtLmVycm9yKFwiZm9yY2VPYmplY3RzVG9Mb2dnZXJcIixcInJlc29sdmVDb25maWdWYXJpYWJsZXMgZXhjZWVkZWQgbWF4aW11bSBwYXNzZXMgc28gY29udGludWluZyAtLSBwcm9iYWJseSBhIHJlY3Vyc2l2ZSBtYWNybyBkZWZpbml0aW9ucy4gIExvb2sgaW4gdGhpcyBjb25maWcgZm9yIHVucmVzb2x2ZWQgbWFjcm8gdmFyaWFibGVzXCIsZSl9LHRoaXMuZ2V0RXhwYW5kZWRSYXdNYW5pZmVzdD1mdW5jdGlvbih0LG4pe28uYS5zeXN0ZW0uZGVidWcoXCJDb25maWdVdGlsLmdldEV4cGFuZGVkUmF3TWFuaWZlc3Qgc3RhcnRpbmdcIikscy5TeXN0ZW0ucmVhZHkoKCk9Pntjb25zdCBpPXMuU3lzdGVtLkFwcGxpY2F0aW9uLmdldEN1cnJlbnQoKTshZnVuY3Rpb24gdChpLHIsYSl7by5hLnN5c3RlbS5kZWJ1ZyhcImZvcmNlT2JqZWN0c1RvTG9nZ2VyXCIsXCJDb25maWdVdGlsLmdldEV4cGFuZGVkUmF3TWFuaWZlc3Q6Z2V0UmF3TWFuaWZlc3RcIixyLGEpLHIuZ2V0TWFuaWZlc3QodD0+e28uYS5zeXN0ZW0uZGVidWcoXCJmb3JjZU9iamVjdHNUb0xvZ2dlclwiLFwiQ29uZmlnVXRpbC5nZXRFeHBhbmRlZFJhd01hbmlmZXN0OmdldEV4cGFuZGVkUmF3TWFuaWZlc3Q6IG1hbmlmZXN0IHJldHJpZXZlZC4gUHJlLXZhcmlhYmxlIHJlc29sdXRpb25cIix0KSxlLnJlc29sdmVDb25maWdWYXJpYWJsZXModC5maW5zZW1ibGUsdC5maW5zZW1ibGUpLG8uYS5zeXN0ZW0uZGVidWcoXCJmb3JjZU9iamVjdHNUb0xvZ2dlclwiLFwiQ29uZmlnVXRpbC5nZXRFeHBhbmRlZFJhd01hbmlmZXN0OmdldEV4cGFuZGVkUmF3TWFuaWZlc3Q6Q29tcGxldGUuIHBvc3QtdmFyaWFibGUgcmVzb2x1dGlvblwiLHQpLGkodCl9LGU9PntlJiYoby5hLnN5c3RlbS5lcnJvcihcIkNvbmZpZ1V0aWwuZ2V0RXhwYW5kZWRSYXdNYW5pZmVzdDphcHBsaWNhdGlvbi5nZXRNYW5pZmVzdDplcnJcIixlKSxuJiZuKCkpLHIuZ2V0UGFyZW50VXVpZChlPT57Y29uc3Qgbj1zLlN5c3RlbS5BcHBsaWNhdGlvbi53cmFwKGUpO28uYS5zeXN0ZW0uZGVidWcoXCJmb3JjZU9iamVjdHNUb0xvZ2dlclwiLFwidXVpZFwiLGUsXCJwYXJlbnRBcHBsaWNhdGlvblwiLG4pLGE8MTA/dChpLG4sKythKTppKFwiY291bGQgbm90IGZpbmQgbWFuaWZlc3QgaW4gcGFyZW50IGFwcGxpY2F0aW9uc1wiKX0pfSl9KHQsaSwxKX0pfSx0aGlzLnJlYWRDb25maWdGaWxlPWZ1bmN0aW9uKGUsdCl7by5hLnN5c3RlbS5kZWJ1ZyhcImZldGNoaW5nIFwiK2UpLGZldGNoKGUse2NyZWRlbnRpYWxzOlwiaW5jbHVkZVwiLGNhY2hlOlwibm8tY2FjaGVcIn0pLnRoZW4oZT0+ZS5qc29uKCkpLmNhdGNoKG49Pnt0KGBGYWlsdXJlIGltcG9ydGluZyAke2V9OiAke259YCxudWxsKX0pLnRoZW4oZT0+e3QobnVsbCxlKX0pfSx0aGlzLmdldEluaXRpYWxNYW5pZmVzdD1mdW5jdGlvbih0KXtzLlN5c3RlbS5yZWFkeSgoKT0+e3MuU3lzdGVtLkFwcGxpY2F0aW9uLmdldEN1cnJlbnQoKS5nZXRNYW5pZmVzdChuPT57bi5maW5zZW1ibGU9bi5maW5zZW1ibGV8fHt9LGUucmVzb2x2ZUNvbmZpZ1ZhcmlhYmxlcyhuLmZpbnNlbWJsZSxuLmZpbnNlbWJsZSksbi5maW5zZW1ibGUuYXBwbGljYXRpb25Sb290fHxvLmEuc3lzdGVtLmVycm9yKFwiRkFUQUwgRVJST1I6IGFwcGxpY2F0aW9uUm9vdCB3YXMgbm90IGRlZmluZWQgaW4gbWFuaWZlc3QgZmlsZS5cIik7Y29uc3QgaT1uLmZpbnNlbWJsZS5tb2R1bGVSb290K1wiL2NvbmZpZ3MvY29yZS9jb25maWcuanNvblwiO2UucmVhZENvbmZpZ0ZpbGUoaSwocixzKT0+e3I/by5hLnN5c3RlbS5lcnJvcihgQ29uZmlnVXRpbC5nZXRJbml0aWFsTWFuaWZlc3Q6Z2V0Q29yZUNvbmZpZzpmYWlsZWQgaW1wb3J0aW5nIGludG8gZmluc2VtYmxlIGNvbmZpZy4gJG1vZHVsZVJvb3Q9JHtuLmZpbnNlbWJsZS5tb2R1bGVSb290fTsgRnVsbCBQYXRoPSR7aX1gLHIpOihPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGU9PntpZihcImltcG9ydENvbmZpZ1wiPT09ZSl7bi5maW5zZW1ibGUuaW1wb3J0Q29uZmlnPW4uZmluc2VtYmxlLmltcG9ydENvbmZpZ3x8W107Zm9yKGxldCBlPTA7ZTxzLmltcG9ydENvbmZpZy5sZW5ndGg7ZSsrKW4uZmluc2VtYmxlLmltcG9ydENvbmZpZy51bnNoaWZ0KHMuaW1wb3J0Q29uZmlnW2VdKX1lbHNlIGlmKFwiaW1wb3J0VGhpcmRQYXJ0eUNvbmZpZ1wiPT09ZSl7bi5maW5zZW1ibGUuaW1wb3J0VGhpcmRQYXJ0eUNvbmZpZz1uLmZpbnNlbWJsZS5pbXBvcnRUaGlyZFBhcnR5Q29uZmlnfHxbXTtmb3IobGV0IGU9MDtlPHMuaW1wb3J0VGhpcmRQYXJ0eUNvbmZpZy5sZW5ndGg7ZSsrKW4uZmluc2VtYmxlLmltcG9ydFRoaXJkUGFydHlDb25maWcudW5zaGlmdChzLmltcG9ydFRoaXJkUGFydHlDb25maWdbZV0pfWVsc2Ugbi5maW5zZW1ibGVbZV09c1tlXX0pLGUucmVzb2x2ZUNvbmZpZ1ZhcmlhYmxlcyhuLmZpbnNlbWJsZSxuLmZpbnNlbWJsZSksby5hLnN5c3RlbS5kZWJ1ZyhcImZvcmNlT2JqZWN0c1RvTG9nZ2VyXCIsXCJDb25maWdVdGlsLmdldEluaXRpYWxNYW5pZmVzdDpnZXRDb3JlQ29uZmlnOkluaXRpYWwgTWFuaWZlc3QgYWZ0ZXIgdmFyaWFibGVzIFJlc29sdmVkXCIsbikpLHQobil9KX0pfSl9LHRoaXMucHJvbXB0QW5kU2F2ZUpTT05Ub0xvY2FsRmlsZT1mdW5jdGlvbihlLHQpe28uYS5zeXN0ZW0uZGVidWcoXCJzYXZlSlNPTlRvTG9jYWxGaWxlXCIsZSx0KTtjb25zdCBuPUpTT04uc3RyaW5naWZ5KHQsbnVsbCxcIlxcdFwiKSxpPVwiZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgsXCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pLHI9ZStcIi5qc29uXCIscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtzLnNldEF0dHJpYnV0ZShcImhyZWZcIixpKSxzLnNldEF0dHJpYnV0ZShcImRvd25sb2FkXCIscikscy5jbGljaygpfSx0aGlzLmNvbmZpZ0Zvcm1hdEZvckV4cG9ydD1mdW5jdGlvbihlLHQpe28uYS5zeXN0ZW0uZGVidWcoXCJjb25maWdGb3JtYXRGb3JFeHBvcnQgc3RhcnRpbmdcIixlLHQpO2xldCBuPWkuZGVmYXVsdC5jbG9uZSh0KTtpZihcInJhd1wiPT09ZSk7ZWxzZSBpZihcImFsbFwiPT09ZSlkZWxldGUgbi5pbXBvcnRDb25maWcsZGVsZXRlIG4uY29tbWVudDtlbHNlIGlmKFwiYXBwbGljYXRpb25cIj09PWUpZGVsZXRlIG4uaW1wb3J0Q29uZmlnLGRlbGV0ZSBuLmNvbW1lbnQsZGVsZXRlIG4uc3lzdGVtLGRlbGV0ZSBuLnNlcnZpY2VzO2Vsc2UgaWYoXCJ3b3Jrc3BhY2VcIj09PWUpbj17d29ya3NwYWNlOm59O2Vsc2UgaWYoXCJ3b3Jrc3BhY2VUZW1wbGF0ZVwiPT09ZSl7Y29uc3QgZT17fTtlW24ubmFtZV09bixuPXt3b3Jrc3BhY2VUZW1wbGF0ZXM6ZX19ZWxzZVwic2VydmljZXNcIj09PWU/bj1uLnNlcnZpY2VzOlwiY29tcG9uZW50c1wiPT09ZSYmKG49bi5jb21wb25lbnRzKTtyZXR1cm4gbn0sdGhpcy5nZXREZWZhdWx0PWZ1bmN0aW9uKGUsdCxuKXtsZXQgaT1uO2lmKGUpe3RyeXtjb25zdCBuPXQuc3BsaXQoXCIuXCIpO2xldCByPWU7Zm9yKGxldCBlPTE7ZTxuLmxlbmd0aDtlKyspcj1yW25bZV1dO2k9cn1jYXRjaChlKXtpPW59dm9pZCAwPT09aSYmKGk9bil9cmV0dXJuIGl9LHRoaXMuZ2V0RmlsZT1hc3luYyBmdW5jdGlvbihlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtvLmEuc3lzdGVtLmRlYnVnKFwiZmV0Y2hpbmcgaW1wb3J0IFwiK2UpO2xldCBuPW51bGw7cmV0dXJuIGF3YWl0IGZldGNoKGUse2NyZWRlbnRpYWxzOlwiaW5jbHVkZVwiLGNhY2hlOlwibm8tY2FjaGVcIn0pLnRoZW4oZT0+ZS5qc29uKCkpLmNhdGNoKG49Pnt0KGBmYWlsdXJlIGltcG9ydGluZyAke2V9OiAke259YCxudWxsKX0pLnRoZW4oZT0+e3QobnVsbCxlKSxuPWV9KSxufX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksbi5kKHQsXCJNb25pdG9yc1wiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLG4uZCh0LFwiY2xvbmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSxuLmQodCxcImdldENvbnRhaW5lclZlcnNpb25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gd30pKSxuLmQodCxcImNhc3RUb1Byb21pc2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKSxuLmQodCxcImlzUGVyY2VudGFnZVwiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLG4uZCh0LFwiY3Jvc3NEb21haW5cIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSxuLmQodCxcImdldEFsbE1vbml0b3JzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksbi5kKHQsXCJnZXRNb25pdG9yRnJvbVhZXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSksbi5kKHQsXCJnZXRNb25pdG9yRnJvbVdpbmRvd1wiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLG4uZCh0LFwiZ2V0RmluV2luZG93XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKHQsXCJnZXRXaW5kb3dEZXNjcmlwdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSksbi5kKHQsXCJmaW5kTW9uaXRvclwiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLG4uZCh0LFwiZ2V0V2hpY2hNb25pdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksbi5kKHQsXCJnZXRNb25pdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx9KSksbi5kKHQsXCJnZXRNb25pdG9yRnJvbUNvbW1hbmRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTX0pKSxuLmQodCxcIndpbmRvd09uTW9uaXRvclwiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZCh0LFwiZ2V0TW9uaXRvckJ5RGVzY3JpcHRvclwiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLG4uZCh0LFwiZ2V0TXlXaW5kb3dJZGVudGlmaWVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksbi5kKHQsXCJjYW1lbENhc2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gan0pKSxuLmQodCxcImd1dWlkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFd9KSksbi5kKHQsXCJpbmplY3RKU1wiLChmdW5jdGlvbigpe3JldHVybiBSfSkpLG4uZCh0LFwib3BlblNoYXJlZERhdGFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSxuLmQodCxcImdldE5ld0JvdW5kc1doZW5Nb3ZlZFRvTW9uaXRvclwiLChmdW5jdGlvbigpe3JldHVybiBGfSkpLG4uZCh0LFwiaXNPbkFNb25pdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKHQsXCJhZGp1c3RCb3VuZHNUb0JlT25Nb25pdG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksbi5kKHQsXCJpc1dpbmRvd3NcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKSxuLmQodCxcImdldFdpbmRvd1R5cGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gen0pKTt2YXIgaT1uKDI5KSxyPW4ubihpKSxvPW4oMikscz1uKDIyKSxhPW4oMCksdT1uLm4oYSksYz0obigyNiksbig0NSkpLGw9bi5uKGMpLGQ9big0NiksZj1uLm4oZCksaD1uKDkpO2xldCBwO2NsYXNzIGcgZXh0ZW5kcyBzLkV2ZW50RW1pdHRlcntjb25zdHJ1Y3RvcihlLHQsbil7aWYoc3VwZXIoKSwhbnx8IW4uU3lzdGVtKXRocm93IG5ldyBFcnJvcihcIk1vbml0b3JzIGNsYXNzIHJlcXVpcmVzIGRlcGVuZGVuY3kgaW5qZWN0aW9uLiBFbnN1cmUgdGhhdCBTeXN0ZW0gaXMgYmVpbmcgcGFzc2VkIGluLlwiKTsoe1N5c3RlbTpwfT1uKSx0aGlzLmNhY2hlZE1vbml0b3JJbmZvPW51bGwsdGhpcy5saW1pdGVkTW9uaXRvclJlZnJlc2hRdWV1ZT1uZXcgbC5hKHtjb25jdXJyZW5jeToxfSksdGhpcy5iaW5kQWxsRnVuY3Rpb25zKCksdGhpcy5saW1pdGVkTW9uaXRvclJlZnJlc2hRdWV1ZS5hZGQoKCk9PnRoaXMucmVmcmVzaE1vbml0b3JzKGUpKSxwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb25pdG9yLWluZm8tY2hhbmdlZFwiLCgpPT57dGhpcy5saW1pdGVkTW9uaXRvclJlZnJlc2hRdWV1ZS5hZGQoKCk9PnRoaXMucmVmcmVzaE1vbml0b3JzKHQpKX0pLHAuYWRkRXZlbnRMaXN0ZW5lcihcInNlc3Npb24tY2hhbmdlZFwiLGU9PntlJiYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLmhhc093blByb3BlcnR5KFwicmVhc29uXCIpfHxcInVubG9ja1wiIT09ZS5yZWFzb24mJlwicmVtb3RlLWNvbm5lY3RcIiE9PWUucmVhc29uJiZcInVua25vd25cIiE9PWUucmVhc29uKXx8dGhpcy5saW1pdGVkTW9uaXRvclJlZnJlc2hRdWV1ZS5hZGQoKCk9PnRoaXMucmVmcmVzaE1vbml0b3JzKHQpKX0pfWJpbmRBbGxGdW5jdGlvbnMoKXtsZXQgZT10aGlzO2ZvcihsZXQgdCBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpKXtsZXQgbj1lW3RdO24gaW5zdGFuY2VvZiBGdW5jdGlvbiYmbiE9PWcmJihlW3RdPWVbdF0uYmluZChlKSl9fWFzeW5jSXQoZSx0KXtyZXR1cm4gdChlKSxlfXJhdGlvbmFsaXplTW9uaXRvcihlKXtlLm1vbml0b3JSZWN0LndpZHRoPWUubW9uaXRvclJlY3QucmlnaHQtZS5tb25pdG9yUmVjdC5sZWZ0LGUubW9uaXRvclJlY3QuaGVpZ2h0PWUubW9uaXRvclJlY3QuYm90dG9tLWUubW9uaXRvclJlY3QudG9wLGUuYXZhaWxhYmxlUmVjdC53aWR0aD1lLmF2YWlsYWJsZVJlY3QucmlnaHQtZS5hdmFpbGFibGVSZWN0LmxlZnQsZS5hdmFpbGFibGVSZWN0LmhlaWdodD1lLmF2YWlsYWJsZVJlY3QuYm90dG9tLWUuYXZhaWxhYmxlUmVjdC50b3B9Y2FsY3VsYXRlTW9uaXRvclNjYWxlKGUsdCl7cmV0dXJuKHQucmlnaHQtdC5sZWZ0KS8oZS5yaWdodC1lLmxlZnQpfW1vbml0b3JJbmZvSXNDaGFuZ2VkKGUsdCl7aWYoIWV8fCF0KXJldHVybiEwO2lmKGUubm9uUHJpbWFyeU1vbml0b3JzLmxlbmd0aCE9PXQubm9uUHJpbWFyeU1vbml0b3JzLmxlbmd0aClyZXR1cm4hMDtpZighT2JqZWN0KGguY2hlY2tJZkJvdW5kc0FyZUVxdWFsKShlLnByaW1hcnlNb25pdG9yLmF2YWlsYWJsZVJlY3QsdC5wcmltYXJ5TW9uaXRvci5hdmFpbGFibGVSZWN0KSlyZXR1cm4hMDtpZighT2JqZWN0KGguY2hlY2tJZkJvdW5kc0FyZUVxdWFsKShlLnByaW1hcnlNb25pdG9yLm1vbml0b3JSZWN0LHQucHJpbWFyeU1vbml0b3IubW9uaXRvclJlY3QpKXJldHVybiEwO2Uubm9uUHJpbWFyeU1vbml0b3JzLnNvcnQoKGUsdCk9PmUuZGV2aWNlTmFtZT50LmRldmljZU5hbWU/MTplLmRldmljZU5hbWU8dC5kZXZpY2VOYW1lPy0xOjApLHQubm9uUHJpbWFyeU1vbml0b3JzLnNvcnQoKGUsdCk9PmUuZGV2aWNlTmFtZT50LmRldmljZU5hbWU/MTplLmRldmljZU5hbWU8dC5kZXZpY2VOYW1lPy0xOjApO2xldCBuPSExO3JldHVybiBlLm5vblByaW1hcnlNb25pdG9ycy5mb3JFYWNoKChlLGkpPT57Y29uc3Qgcj10Lm5vblByaW1hcnlNb25pdG9yc1tpXTtPYmplY3QoaC5jaGVja0lmQm91bmRzQXJlRXF1YWwpKGUuYXZhaWxhYmxlUmVjdCxyLmF2YWlsYWJsZVJlY3QpJiZPYmplY3QoaC5jaGVja0lmQm91bmRzQXJlRXF1YWwpKGUubW9uaXRvclJlY3Qsci5tb25pdG9yUmVjdCl8fChuPSEwKX0pLG59YXN5bmMgcmVmcmVzaE1vbml0b3JzKGU9RnVuY3Rpb24ucHJvdG90eXBlKXt0aGlzLmxpbWl0ZWRNb25pdG9yUmVmcmVzaFF1ZXVlLmNsZWFyKCk7Y29uc3QgdD1hd2FpdCBwLmdldE1vbml0b3JJbmZvKCk7aWYoIXRoaXMubW9uaXRvckluZm9Jc0NoYW5nZWQodGhpcy5jYWNoZWRNb25pdG9ySW5mbyx0KSlyZXR1cm4gdS5hLnN5c3RlbS5pbmZvKFwiU2tpcHBlZCByZWZyZXNoTW9uaXRvcnMgYmVjYXVzZSBtb25pdG9ycyBkbyBub3QgY2hhbmdlLlwiKSxlKHRoaXMuYWxsTW9uaXRvcnMpO3RoaXMuYWxsTW9uaXRvcnM9W107bGV0e3ByaW1hcnlNb25pdG9yOm59PXQ7aWYoT2JqZWN0LmVudHJpZXMobikubGVuZ3RoKXtuLndoaWNoTW9uaXRvcj1cInByaW1hcnlcIixuLnBvc2l0aW9uPTAsdGhpcy5hbGxNb25pdG9ycy5wdXNoKE9iamVjdC5hc3NpZ24oe30sbikpO2ZvcihsZXQgZT0wO2U8dC5ub25QcmltYXJ5TW9uaXRvcnMubGVuZ3RoO2UrKyl7bGV0IG49dC5ub25QcmltYXJ5TW9uaXRvcnNbZV07bi53aGljaE1vbml0b3I9ZSxuLnBvc2l0aW9uPWUrMSx0aGlzLmFsbE1vbml0b3JzLnB1c2gobil9Zm9yKGxldCBlPTA7ZTx0aGlzLmFsbE1vbml0b3JzLmxlbmd0aDtlKyspe2xldCB0PXRoaXMuYWxsTW9uaXRvcnNbZV07dGhpcy5yYXRpb25hbGl6ZU1vbml0b3IodCl9dGhpcy5jYWNoZWRNb25pdG9ySW5mbz1mKCkodCksZSh0aGlzLmFsbE1vbml0b3JzKSx0aGlzLnJlYWR5PSEwLDE9PT10aGlzLmxpbWl0ZWRNb25pdG9yUmVmcmVzaFF1ZXVlLnBlbmRpbmcmJnRoaXMuZW1pdChcIm1vbml0b3JzLWNoYW5nZWRcIix7bW9uaXRvcnM6dGhpcy5hbGxNb25pdG9yc30pfWVsc2UgdS5hLnN5c3RlbS5pbmZvKFwiVGhlcmUgaXMgbm8gcHJpbWFyeSBtb25pdG9yIGluICdtb25pdG9ySW5mbycgLSB0aGUgc3lzdGVtIGlzIHN0aWxsIGluIHRoZSBwcm9jZXNzIG9mIHVwZGF0aW5nIHRoZSBtb25pdG9yIGluZm9ybWF0aW9uLiBSZXR1cm5pbmcgZnJvbSBtb25pdG9yc0FuZFNjYWxpbmcgLT4gcmVmcmVzaE1vbml0b3JzXCIpfWdldEFsbE1vbml0b3JzKGU9RnVuY3Rpb24ucHJvdG90eXBlKXtyZXR1cm4gdGhpcy5yZWFkeT90aGlzLmFzeW5jSXQoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmFsbE1vbml0b3JzKSksZSk6ZT92b2lkIHRoaXMucmVmcmVzaE1vbml0b3JzKGUpOlwibm90IHJlYWR5XCJ9Z2V0TW9uaXRvckZyb21TY2FsZWRYWShlLHQsbj1GdW5jdGlvbi5wcm90b3R5cGUpe3JldHVybiBuZXcgUHJvbWlzZShpPT57aWYoIXRoaXMucmVhZHkpcmV0dXJuIHRoaXMucmVmcmVzaE1vbml0b3JzKCgpPT57dGhpcy5nZXRNb25pdG9yRnJvbVNjYWxlZFhZKGUsdCxuKX0pLFwibm90IHJlYWR5XCI7bGV0IHI9bnVsbDtmb3IodmFyIG89dGhpcy5hbGxNb25pdG9ycyxzPTA7czxvLmxlbmd0aDtzKyspe3ZhciBhPW9bc10se21vbml0b3JSZWN0OnV9PWE7aWYoZT49dS5sZWZ0JiZlPHUucmlnaHQmJnQ+PXUudG9wJiZ0PHUuYm90dG9tKXtyPWE7YnJlYWt9fWkociksbihyKX0pfWdldE1vbml0b3JGcm9tVW5zY2FsZWRYWShlLHQsbj1GdW5jdGlvbi5wcm90b3R5cGUpe2lmKCF0aGlzLnJlYWR5KXJldHVybiB0aGlzLnJlZnJlc2hNb25pdG9ycygoKT0+e3RoaXMuZ2V0TW9uaXRvckZyb21VbnNjYWxlZFhZKGUsdCxuKX0pLFwibm90IHJlYWR5XCI7Zm9yKHZhciBpPXRoaXMuYWxsTW9uaXRvcnMscj0wO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLHM9by5tb25pdG9yLnNjYWxlZFJlY3Q7aWYoZT49cy5sZWZ0JiZlPHMucmlnaHQmJnQ+PXMudG9wJiZ0PHMuYm90dG9tKXJldHVybiB0aGlzLmFzeW5jSXQobyxuKX1yZXR1cm4gdGhpcy5hc3luY0l0KG51bGwsbil9YXN5bmMgdHJhbnNsYXRlUG9pbnRGcm9tU2NhbGVkKGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2lmKCF0aGlzLnJlYWR5KXJldHVybiB0aGlzLnJlZnJlc2hNb25pdG9ycygoKT0+e3RoaXMudHJhbnNsYXRlUG9pbnRGcm9tU2NhbGVkKGUsdCl9KSxcIm5vdCByZWFkeVwiO3ZhciBuO2UucG9pbnQ/KHtwb2ludDpufT1lKTpuPWU7dmFye21vbml0b3I6aX09ZTtpZighaSl7aT0oYXdhaXQgdGhpcy5nZXRNb25pdG9yRnJvbVNjYWxlZFhZKG4ueCxuLnkpKS5kYXRhfWxldCByPW51bGw7aWYoaSl7dmFyIG89bi54LWkubW9uaXRvclJlY3QubGVmdCxzPW4ueS1pLm1vbml0b3JSZWN0LnRvcCxhPW8qaS5kZXZpY2VTY2FsZUZhY3Rvcix1PXMqaS5kZXZpY2VTY2FsZUZhY3RvcjtyPXt4OmEraS5tb25pdG9yLnNjYWxlZFJlY3QubGVmdCx5OnUraS5tb25pdG9yLnNjYWxlZFJlY3QudG9wfX1yZXR1cm4gdChyKSxQcm9taXNlLnJlc29sdmUocil9dHJhbnNsYXRlUG9pbnRUb1NjYWxlZChlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtpZighdGhpcy5yZWFkeSlyZXR1cm4gdGhpcy5yZWZyZXNoTW9uaXRvcnMoKCk9Pnt0aGlzLnRyYW5zbGF0ZVBvaW50VG9TY2FsZWQoZSx0KX0pLFwibm90IHJlYWR5XCI7dmFyIG47ZS5wb2ludD8oe3BvaW50Om59PWUpOm49ZTt2YXIgaT1lLm1vbml0b3J8fHRoaXMuZ2V0TW9uaXRvckZyb21VbnNjYWxlZFhZKG4ueCxuLnkpO2lmKCFpKXJldHVybiB0aGlzLmFzeW5jSXQobnVsbCx0KTt2YXIgcj1uLngtaS5tb25pdG9yLnNjYWxlZFJlY3QubGVmdCxvPW4ueS1pLm1vbml0b3Iuc2NhbGVkUmVjdC50b3Ascz1yL2kuZGV2aWNlU2NhbGVGYWN0b3IsYT1vL2kuZGV2aWNlU2NhbGVGYWN0b3IsdT17eDpzK2kubW9uaXRvclJlY3QubGVmdCx5OmEraS5tb25pdG9yUmVjdC50b3B9O3JldHVybiB0aGlzLmFzeW5jSXQodSx0KX1hc3luYyB0cmFuc2xhdGVSZWN0VG9TY2FsZWQoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7bGV0IG47aWYoIXRoaXMucmVhZHkpcmV0dXJuIHRoaXMucmVmcmVzaE1vbml0b3JzKCgpPT57dGhpcy50cmFuc2xhdGVSZWN0VG9TY2FsZWQoZSx0KX0pLFwibm90IHJlYWR5XCI7dmFyIGk9dGhpcy50cmFuc2xhdGVQb2ludFRvU2NhbGVkKHt4OmUubGVmdCx5OmUudG9wfSkscj10aGlzLnRyYW5zbGF0ZVBvaW50VG9TY2FsZWQoe3g6ZS5yaWdodCx5OmUuYm90dG9tfSk7cmV0dXJuIWkmJnImJihuPWF3YWl0IHRoaXMuZ2V0TW9uaXRvckZyb21TY2FsZWRYWShyKSxpPXRoaXMudHJhbnNsYXRlUG9pbnRUb1NjYWxlZCh7bW9uaXRvcjpuLHBvaW50Ont4OmUubGVmdCx5OmUudG9wfX0pKSwhciYmaSYmKG49YXdhaXQgdGhpcy5nZXRNb25pdG9yRnJvbVNjYWxlZFhZKHIpLHI9dGhpcy50cmFuc2xhdGVQb2ludFRvU2NhbGVkKHttb25pdG9yOm4scG9pbnQ6e3g6ZS5yaWdodCx5OmUuYm90dG9tfX0pKSx0aGlzLmFzeW5jSXQoe3RvcDppP2kueTpudWxsLGxlZnQ6aT9pLng6bnVsbCxib3R0b206cj9yLnk6bnVsbCxyaWdodDpyP3IueDpudWxsLGhlaWdodDppJiZyP3IueS1pLnk6bnVsbCx3aWR0aDppJiZyP3IueC1pLng6bnVsbH0sdCl9dHJhbnNsYXRlUmVjdEZyb21TY2FsZWQoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7aWYoIXRoaXMucmVhZHkpcmV0dXJuIHRoaXMucmVmcmVzaE1vbml0b3JzKCgpPT57dGhpcy50cmFuc2xhdGVSZWN0RnJvbVNjYWxlZChlLHQpfSksXCJub3QgcmVhZHlcIjt2YXIgbj10aGlzLnRyYW5zbGF0ZVBvaW50RnJvbVNjYWxlZCh7eDplLmxlZnQseTplLnRvcH0pLGk9dGhpcy50cmFuc2xhdGVQb2ludEZyb21TY2FsZWQoe3g6ZS5yaWdodCx5OmUuYm90dG9tfSk7cmV0dXJuIW4mJmkmJihuPXRoaXMudHJhbnNsYXRlUG9pbnRGcm9tU2NhbGVkKHttb25pdG9yOnRoaXMuZ2V0TW9uaXRvckZyb21VbnNjYWxlZFhZKGkpLHBvaW50Ont4OmUubGVmdCx5OmUudG9wfX0pKSwhaSYmbiYmKGk9dGhpcy50cmFuc2xhdGVQb2ludEZyb21TY2FsZWQoe21vbml0b3I6dGhpcy5nZXRNb25pdG9yRnJvbVVuc2NhbGVkWFkobikscG9pbnQ6e3g6ZS5yaWdodCx5OmUuYm90dG9tfX0pKSx0aGlzLmFzeW5jSXQoe3RvcDpuP24ueTpudWxsLGxlZnQ6bj9uLng6bnVsbCxib3R0b206aT9pLnk6bnVsbCxyaWdodDppP2kueDpudWxsLGhlaWdodDpuJiZpP2kueS1uLnk6bnVsbCx3aWR0aDpuJiZpP2kueC1uLng6bnVsbH0sdCl9fVxuLyohXG4gKiBDb3B5cmlnaHQgMjAxNyAtIDIwMjAgYnkgQ2hhcnRJUSwgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuY29uc3QgbT1uZXcgZyhGdW5jdGlvbi5wcm90b3R5cGUsRnVuY3Rpb24ucHJvdG90eXBlLHtTeXN0ZW06by5TeXN0ZW19KTtmdW5jdGlvbiB5KGUsdCl7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlKXJldHVybiBlO2lmKGUuY29uc3RydWN0b3I9PURhdGV8fGUuY29uc3RydWN0b3I9PVJlZ0V4cHx8ZS5jb25zdHJ1Y3Rvcj09RnVuY3Rpb258fGUuY29uc3RydWN0b3I9PVN0cmluZ3x8ZS5jb25zdHJ1Y3Rvcj09TnVtYmVyfHxlLmNvbnN0cnVjdG9yPT1Cb29sZWFuKXJldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihlKTt0PXR8fG5ldyBlLmNvbnN0cnVjdG9yO2Zvcihjb25zdCBuIGluIGUpdFtuXT12b2lkIDA9PT10W25dP3koZVtuXSxudWxsKTp0W25dO3JldHVybiB0fWZ1bmN0aW9uIHcoZT1GdW5jdGlvbi5wcm90b3R5cGUpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57by5TeXN0ZW0uZ2V0VmVyc2lvbihuPT57Y29uc3QgaT1uLnNwbGl0KFwiLlwiKS5tYXAoTnVtYmVyKSxyPXttYWpvcjppWzBdLGNocm9taXVtOmlbMV0sbWlub3I6aVsyXSxwYXRjaDppWzNdfTtlKHIpLHQoe3ZlcnNpb25PYmplY3Q6cn0pfSl9KX1mdW5jdGlvbiBiKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZSgodCxuKT0+e2NvbnN0IGk9ZS5hcHBseShudWxsLEFycmF5LmZyb20oYXJndW1lbnRzKSk7dHJ5e3JldHVybiBpLnRoZW4odCxuKX1jYXRjaChlKXtlIGluc3RhbmNlb2YgVHlwZUVycm9yP3QoaSk6bihlKX19KX19ZnVuY3Rpb24gdihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmLTEhPT1lLmluZGV4T2YoXCIlXCIpfWZ1bmN0aW9uIFMoZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTt0LmhyZWY9ZTtjb25zdCBuPXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZT09PXQuaG9zdG5hbWUsaT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2w9PT10LnByb3RvY29sLHI9KHZvaWQgMCE9PXdpbmRvdy5sb2NhdGlvbi5wb3J0P3dpbmRvdy5sb2NhdGlvbi5wb3J0OjgwKT09PSh2b2lkIDAhPT10LnBvcnQ/dC5wb3J0OjgwKSxvPSEobiYmciYmaSk7cmV0dXJuIHUuYS5zeXN0ZW0uZGVidWcoYExhdW5jaGVyIGNyb3NzRG9tYWluPSR7b30gKCR7bn06JHtpfToke3J9KWApLG99dmFye2dldEFsbE1vbml0b3JzOkN9PW0sXz1tLmdldE1vbml0b3JGcm9tU2NhbGVkWFk7ZnVuY3Rpb24gVChlLHQpe2NvbnN0IG49TnVtYmVyLmlzRmluaXRlKGUueCk/ZS54OmUuZGVmYXVsdExlZnQsaT1OdW1iZXIuaXNGaW5pdGUoZS55KT9lLnk6ZS5kZWZhdWx0VG9wLHI9bitlLmRlZmF1bHRXaWR0aCxvPWkrZS5kZWZhdWx0SGVpZ2h0O3JldHVybiBuZXcgUHJvbWlzZSgoZSxzKT0+e20uZ2V0TW9uaXRvckZyb21TY2FsZWRYWShuLGksYT0+e2lmKCFhKXJldHVybiB1LmEuc3lzdGVtLmRlYnVnKFwiZ2V0TW9uaXRvckZyb21XaW5kb3cgLSB0b3AtbGVmdCBpcyBvZmYgc2NyZWVuLCB0cnlpbmcgYm90dG9tIHJpZ2h0XCIpLHZvaWQgbS5nZXRNb25pdG9yRnJvbVNjYWxlZFhZKHIsbyxyPT57aWYoIXIpcmV0dXJuIHUuYS5zeXN0ZW0uZGVidWcoXCJnZXRNb25pdG9yRnJvbVdpbmRvdyAtIGJvdHRvbS1yaWdodCBpcyBvZmYgc2NyZWVuLCBnZXR0aW5nIHByaW1hcnlcIiksdm9pZCBtLmdldEFsbE1vbml0b3JzKG49PntuWzBdPyh0JiZ0KG5bMF0pLGUoblswXSkpOihzKG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vbml0b3IgZm9yIHdpbmRvdy5cIikpLHQmJnQobnVsbCkpfSk7cj15KHIpO2NvbnN0e21vbml0b3JSZWN0Om99PXI7KG8ubGVmdDxufHxvLnJpZ2h0PGkpJiYoci5zdHJhZGRsaW5nPSEwKSx0JiZ0KHIpLGUocil9KTthPXkoYSk7Y29uc3R7bW9uaXRvclJlY3Q6Y309YTsoYy5yaWdodD5yfHxjLmJvdHRvbT5vKSYmKGEuc3RyYWRkbGluZz0hMCksdCYmdChhKSxlKGEpfSl9KX1mdW5jdGlvbiBFKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGkpPT57Y29uc3Qgcj1vLlN5c3RlbS5XaW5kb3cuZ2V0Q3VycmVudCgpO3IuZ2V0T3B0aW9ucyhzPT57aWYoZSYmZS53aW5kb3dOYW1lKXtlLnV1aWR8fChlLnV1aWQ9cy51dWlkKTtjb25zdCByPW8uU3lzdGVtLldpbmRvdy53cmFwKGUudXVpZCxlLndpbmRvd05hbWUpO3IuZ2V0SW5mbygoKT0+e3QmJnQociksbihyKX0sKCk9Pnt0JiZ0KG51bGwpLGkoYFdpbmRvdyAke2Uud2luZG93TmFtZX0gbm90IGZvdW5kLiBVVUlEOiAke2UudXVpZH1gKSxjb25zb2xlLmRlYnVnKGB1dGlsLmdldEZpbldpbmRvdzogV2luZG93ICR7ZS53aW5kb3dOYW1lfSBub3QgZm91bmRgKX0pfWVsc2UgaWYoZSYmZS5jb21wb25lbnRUeXBlKWlmKHZvaWQgMCE9PXdpbmRvdy5MYXVuY2hlclNlcnZpY2Upe2NvbnN0IHI9d2luZG93LkxhdW5jaGVyU2VydmljZS5jb21wb25lbnRGaW5kZXIoZSk7cj8obihyKSx0JiZ0KHIpKTooaShgdXRpbC5nZXRGaW5XaW5kb3c6IENvbXBvbmVudCAke2UuY29tcG9uZW50VHlwZX0gbm90IGZvdW5kLmApLHQmJnQobnVsbCkpfWVsc2UgaShcImdldEZpbldpbmRvdyBieSBjb21wb25lbnRUeXBlIGlzIGN1cnJlbnRseSBvbmx5IG9wZXJhYmxlIHdpdGhpbiBMYXVuY2hTZXJ2aWNlXCIpLHQmJnQobnVsbCk7ZWxzZSB0JiZ0KHIpLG4ocil9KX0pfWZ1bmN0aW9uIEEoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKG4saSk9PntFKGUpLnRoZW4oZT0+e2UuZ2V0T3B0aW9ucyhlPT57dCYmdChlKSxuKGUpfSl9KS5jYXRjaChlPT57Y29uc29sZS53YXJuKGUpLHQmJnQobnVsbCksaShlKX0pfSl9ZnVuY3Rpb24gSShlLHQsbil7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IHI9ZVtpXTtpZihyW3RdPT09bilyZXR1cm4gcn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBPKGUsdCl7bGV0IG47YXJndW1lbnRzLmxlbmd0aD4yJiYoZT17Y29tbWFuZE1vbml0b3I6YXJndW1lbnRzWzBdLG1vbml0b3JzOmFyZ3VtZW50c1sxXSxsYXVuY2hpbmdNb25pdG9yUG9zaXRpb246YXJndW1lbnRzWzJdfSx0PW51bGwpO2xldHtjb21tYW5kTW9uaXRvcjppLG1vbml0b3JzOnIsbGF1bmNoaW5nTW9uaXRvclBvc2l0aW9uOm99PWU7Y29uc3Qgcz1pJiZcIlwiIT09aXx8MD09PWk7aWYoXCJwcmltYXJ5XCI9PT1pKW49SShyLFwid2hpY2hNb25pdG9yXCIsXCJwcmltYXJ5XCIpO2Vsc2UgaWYoXCJuZXh0XCI9PT1pKXtsZXQgZT1vKzE7ZT49ci5sZW5ndGgmJihlPTApLG49cltlXX1lbHNlIGlmKFwicHJldmlvdXNcIj09PWkpe2xldCBlPW8tMTtlPDAmJihlPXIubGVuZ3RoLTEpLG49cltlXX1lbHNlIGlmKFwibWluZVwiPT09aSl7dmFyIGE9ITA7YWN0aXZlV2luZG93cy5nZXRXaW5kb3coZS53aW5kb3dJZGVudGlmaWVyLndpbmRvd05hbWUpLl9nZXRCb3VuZHMoKGUsaSk9PntlPyhuPXJbMF0sdChuKSk6bS5nZXRNb25pdG9yRnJvbVNjYWxlZFhZKGkubGVmdCxpLnRvcCxlPT57dChlKX0pfSl9ZWxzZSBzPyhpPj1yLmxlbmd0aCYmKGk9ci5sZW5ndGgtMSksbj1yLmZpbHRlcihlPT5lLnBvc2l0aW9uPT09aSlbMF0pOm8mJihuPXJbb10pO2lmKG58fChuPXJbMF0pLCFhKXtpZighdClyZXR1cm4gbjt0KG4pfX1mdW5jdGlvbiBMKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGkpPT57QShlLGU9PntlP1QoZSxlPT57dCYmdChlKSxuKGUpfSk6aShcInV0aWwuZ2V0TW9uaXRvcjogQ2FuJ3QgbG9jYXRlIHdpbmRvd0Rlc2NyaXB0b3IuXCIpfSl9KX1mdW5jdGlvbiBNKGUsdCxuKXtyZXR1cm4gbmV3IFByb21pc2UoaT0+e0wodCx0PT57bS5nZXRBbGxNb25pdG9ycyhyPT57Tyh7Y29tbWFuZE1vbml0b3I6ZSxtb25pdG9yczpyLGxhdW5jaGluZ01vbml0b3JQb3NpdGlvbjp0LnBvc2l0aW9ufSxlPT57biYmbihlKSxpKGUpfSl9KX0pfSl9ZnVuY3Rpb24gRChlLHQpe3JldHVybiBlLmxlZnQ+PXQubGVmdCYmZS5sZWZ0PHQucmlnaHR8fGUucmlnaHQ8PXQucmlnaHQmJmUucmlnaHQ+dC5sZWZ0fWZ1bmN0aW9uIGsoZSx0KXtyZXR1cm4gbmV3IFByb21pc2Uobj0+e1QoZSxlPT57dCYmdChlKSxuKGUpfSl9KX1mdW5jdGlvbiBOKGUpe2NvbnN0IHQ9by5TeXN0ZW0uV2luZG93LmdldEN1cnJlbnQoKTtyZXR1cm4gbmV3IFByb21pc2Uobj0+e3QuZ2V0T3B0aW9ucyhpPT57bGV0IHI9bnVsbDtjb25zdHtjdXN0b21EYXRhOm99PWk7byYmby5jb21wb25lbnQmJihyPW8uY29tcG9uZW50LnR5cGUpO2NvbnN0IHM9e3dpbmRvd05hbWU6dC5uYW1lLHV1aWQ6dC51dWlkLGNvbXBvbmVudFR5cGU6cn07ZSYmZShzKSxuKHMpfSl9KX1mdW5jdGlvbiBqKCl7bGV0IGU9XCJcIjtmb3IobGV0IHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWU9YCR7ZX0gJHthcmd1bWVudHNbdF19YDtyZXR1cm4gZS5yZXBsYWNlKC9cXHMoLikvZyxlPT5lLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoL1xccy9nLFwiXCIpLnJlcGxhY2UoL14oLikvLGU9PmUudG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gVygpe3JldHVybiByKCkoKX1mdW5jdGlvbiBSKGUsdCl7Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO24ub25sb2FkPXQsbi50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsbi5hc3luYz0hMCxuLnNyYz1lO2NvbnN0IGk9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLHI9aS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXTtpLmluc2VydEJlZm9yZShuLHIpfWZ1bmN0aW9uIFAoZSx0KXtjb25zdCBuPUZTQkwuQ2xpZW50cy5MYXVuY2hlckNsaWVudCxpPUZTQkwuQ2xpZW50cy5MaW5rZXJDbGllbnQ7ZS5tdWx0aXBsZU9wZW5lckhhbmRsZXJ8fChlLm11bHRpcGxlT3BlbmVySGFuZGxlcj1mdW5jdGlvbihlKXtsZXQgdCxuPTA7Zm9yKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoZSkpZVtpXS5sZW5ndGg+biYmKHQ9aSxuPWVbaV0ubGVuZ3RoKTtyZXR1cm5bdF19KTtjb25zdCByPVtdLG89e307bi5nZXRDb21wb25lbnRzVGhhdENhblJlY2VpdmVEYXRhVHlwZXMoe2RhdGFUeXBlczpPYmplY3Qua2V5cyhlLmRhdGEpfSwocyxhKT0+e2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKGEpKWlmKGFbZV0uY29tcG9uZW50VHlwZXMubGVuZ3RoKWZvcihjb25zdCB0IG9mIGFbZV0uY29tcG9uZW50VHlwZXMpb1t0XT9vW3RdLnB1c2goZSk6b1t0XT1bZV07ZWxzZXtjb25zdCB0PVwiTm8gQ29tcG9uZW50cyBBdmFpbGFibGUgdG8gSGFuZGxlIHRoZSB0eXBlOiBcIitlO3IucHVzaCh0KSx1LmEuc3lzdGVtLmVycm9yKHQpfWxldCBjPU9iamVjdC5rZXlzKG8pO2lmKGMubGVuZ3RoKXtjLmxlbmd0aD4xJiYoYz1lLm11bHRpcGxlT3BlbmVySGFuZGxlcihvKSk7Y29uc3Qgcz1PYmplY3Qua2V5cyhpLmNoYW5uZWxzKTtpZihzLmxlbmd0aCl7aWYoaS5nZXRMaW5rZWRDb21wb25lbnRzKHtjb21wb25lbnRUeXBlczpjLHdpbmRvd0lkZW50aWZpZXI6aS53aW5kb3dJZGVudGlmaWVyKCl9KS5sZW5ndGh8fGUucHVibGlzaE9ubHkpaS5wdWJsaXNoKHtkYXRhVHlwZTpcIkZpbnNlbWJsZS5EcmFnQW5kRHJvcENsaWVudFwiLGRhdGE6ZS5kYXRhfSksdCYmdChyLmxlbmd0aD9yOm51bGwsXCJEYXRhIHB1Ymxpc2hlZFwiKTtlbHNle2Zvcihjb25zdCB0IG9mIGMpbi5zcGF3bih0LHtkYXRhOntzaGFyZWREYXRhOmUuZGF0YSxsaW5rZXI6e2NoYW5uZWxzOnN9fSxhZGRUb1dvcmtzcGFjZTohMH0pO3QmJnQoci5sZW5ndGg/cjpudWxsLFwiTGlua2VkIFdpbmRvdyhzKSBzcGF3bmVkIHdpdGggZGF0YVwiKX19ZWxzZSBpZighZS5wdWJsaXNoT25seSl7Zm9yKGNvbnN0IHQgb2YgYyluLnNwYXduKHQse2RhdGE6e3NoYXJlZERhdGE6ZS5kYXRhfSxhZGRUb1dvcmtzcGFjZTohMH0pO3QmJnQoci5sZW5ndGg/cjpudWxsLFwiTmV3IFdpbmRvdyhzKSBzcGF3bmVkIHdpdGggZGF0YVwiKX19ZWxzZSB0JiZ0KHIubGVuZ3RoP3I6bnVsbCxudWxsKX0pfWZ1bmN0aW9uIEYoZSx0LG49XCJhdmFpbGFibGVSZWN0XCIpe2NvbnN0IGk9ZVtuXXx8ZS5hdmFpbGFibGVSZWN0fHxlLm1vbml0b3JSZWN0LHI9eSh0KTt0LnRvcDxpLnRvcD9yLnRvcD1pLnRvcDp0LnRvcD5pLmJvdHRvbS10LmhlaWdodCYmKHIudG9wPWkuYm90dG9tLXQuaGVpZ2h0KSx0LmxlZnQ8aS5sZWZ0P3IubGVmdD1pLmxlZnQ6dC5sZWZ0PmkucmlnaHQtdC53aWR0aCYmKHIubGVmdD1pLnJpZ2h0LXQud2lkdGgpLHIuYm90dG9tPXIudG9wK3IuaGVpZ2h0LHIucmlnaHQ9ci5sZWZ0K3Iud2lkdGgsci5yaWdodD5pLnJpZ2h0JiYoci5yaWdodD1pLnJpZ2h0KSxyLnRvcDxpLnRvcCYmKHIudG9wPWkudG9wKSxyLmxlZnQ8aS5sZWZ0JiYoci5sZWZ0PWkubGVmdCksci5ib3R0b20+aS5ib3R0b20mJihyLmJvdHRvbT1pLmJvdHRvbSksci5oZWlnaHQ9ci5ib3R0b20tci50b3Asci53aWR0aD1yLnJpZ2h0LXIubGVmdDtyZXR1cm57bmV3Qm91bmRzOnIsZGlzdGFuY2VNb3ZlZDpNYXRoLnNxcnQoKHQubGVmdC1yLmxlZnQpKioyKyh0LnRvcC1yLnRvcCkqKjIpLG1vbml0b3I6ZX19ZnVuY3Rpb24geChlKXtyZXR1cm4gdGhpcy5Nb25pdG9ycy5hbGxNb25pdG9ycy5zb21lKHQ9Pntjb25zdHttb25pdG9yUmVjdDpufT10O3JldHVybiBlLmxlZnQ+PW4ubGVmdCYmZS5sZWZ0PD1uLnJpZ2h0JiZlLnJpZ2h0Pj1uLmxlZnQmJmUucmlnaHQ8PW4ucmlnaHQmJmUudG9wPj1uLnRvcCYmZS50b3A8PW4uYm90dG9tJiZlLmJvdHRvbT49bi50b3AmJmUuYm90dG9tPD1uLmJvdHRvbX0pfWZ1bmN0aW9uIEIoZSx0PVwiYXZhaWxhYmxlUmVjdFwiKXtpZih0aGlzLmlzT25BTW9uaXRvcihlKSlyZXR1cm4gdS5hLnN5c3RlbS5pbmZvKFwiTGF1bmNoZXIuYWRqdXN0V2luZG93RGVzY3JpcHRvckJvdW5kc1RvQmVPbk1vbml0b3I6IG9uIG1vbml0b3IuXCIpLGU7Y29uc3Qgbj10aGlzLk1vbml0b3JzLmFsbE1vbml0b3JzLm1hcChuPT57bGV0IGk9bi5yYXdNb25pdG9yP24ucmF3TW9uaXRvcjpuO3JldHVybiB0aGlzLmdldE5ld0JvdW5kc1doZW5Nb3ZlZFRvTW9uaXRvcihpLGUsdCl9KS5zb3J0KChlLHQpPT5lLmRpc3RhbmNlTW92ZWQtdC5kaXN0YW5jZU1vdmVkKVswXTtyZXR1cm4gdS5hLnN5c3RlbS5pbmZvKFwiTGF1bmNoZXIuYWRqdXN0V2luZG93RGVzY3JpcHRvckJvdW5kc1RvQmVPbk1vbml0b3I6IG5vdCBvbiBtb25pdG9yLiAgYm91bmRzXCIsZSxcIm1vbml0b3IgbmFtZVwiLG4ubW9uaXRvci5uYW1lLFwibmV3Qm91bmRzXCIsbi5uZXdCb3VuZHMpLG4ubmV3Qm91bmRzfWFzeW5jIGZ1bmN0aW9uIFUoZT1GdW5jdGlvbi5wcm90b3R5cGUpe2NvbnN0IHQ9KGF3YWl0IG8uU3lzdGVtLmdldEhvc3RTcGVjcygpKS5uYW1lLnRvVXBwZXJDYXNlKCkuaW5jbHVkZXMoXCJXSU5ET1dTXCIpO3JldHVybiBlKHQpLHR9ZnVuY3Rpb24geihlKXtpZihlLndpbmRvd1R5cGUmJiFbXCJhc3NpbWlsYXRpb25cIixcImFzc2ltaWxhdGVkXCIsXCJuYXRpdmVcIixcImFwcGxpY2F0aW9uXCIsXCJOYXRpdmVXaW5kb3dcIixcIkZpbnNlbWJsZU5hdGl2ZVdpbmRvd1wiLFwiQ29tcG91bmRXaW5kb3dcIixcIldlYldpbmRvd1wiLFwiV2ViQXBwbGljYXRpb25cIixcIlN0YWNrZWRXaW5kb3dcIl0uaW5jbHVkZXMoZS53aW5kb3dUeXBlKSlyZXR1cm4gdS5hLnN5c3RlbS5lcnJvcihgSW52YWxpZCB3aW5kb3dUeXBlOiAke2Uud2luZG93VHlwZX0sIGRlZmF1bHRpbmcgdG8gd2luZG93VHlwZTogV2ViV2luZG93YCksXCJXZWJXaW5kb3dcIjtsZXQgdD1lLndpbmRvd1R5cGV8fFwiV2ViV2luZG93XCI7c3dpdGNoKGUud2luZG93VHlwZSl7Y2FzZVwiYXNzaW1pbGF0aW9uXCI6Y2FzZVwiYXNzaW1pbGF0ZWRcIjp0PVwiTmF0aXZlV2luZG93XCI7YnJlYWs7Y2FzZVwibmF0aXZlXCI6dD1cIkZpbnNlbWJsZU5hdGl2ZVdpbmRvd1wiO2JyZWFrO2Nhc2VcImFwcGxpY2F0aW9uXCI6dD1cIldlYkFwcGxpY2F0aW9uXCI7YnJlYWs7Y2FzZVwiV2ViXCI6dD1cIldlYldpbmRvd1wiO2JyZWFrO2Nhc2VcIlN0YWNrZWRXaW5kb3dcIjp0PVwiU3RhY2tlZFdpbmRvd1wifXJldHVybiBlLm5hdGl2ZSYmKHQ9XCJOYXRpdmVXaW5kb3dcIiksZS5jb21wb3VuZCYmKHQ9XCJDb21wb3VuZFdpbmRvd1wiKSx0fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxuLmQodCxcImFwcGx5RWFjaFwiLChmdW5jdGlvbigpe3JldHVybiBzZX0pKSxuLmQodCxcImFwcGx5RWFjaFNlcmllc1wiLChmdW5jdGlvbigpe3JldHVybiBsZX0pKSxuLmQodCxcImFwcGx5XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGRlfSkpLG4uZCh0LFwiYXN5bmNpZnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZmV9KSksbi5kKHQsXCJhdXRvXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZlfSkpLG4uZCh0LFwiYXV0b0luamVjdFwiLChmdW5jdGlvbigpe3JldHVybiBKZX0pKSxuLmQodCxcImNhcmdvXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl0fSkpLG4uZCh0LFwiY29tcG9zZVwiLChmdW5jdGlvbigpe3JldHVybiBhdH0pKSxuLmQodCxcImNvbmNhdFwiLChmdW5jdGlvbigpe3JldHVybiBjdH0pKSxuLmQodCxcImNvbmNhdFNlcmllc1wiLChmdW5jdGlvbigpe3JldHVybiBkdH0pKSxuLmQodCxcImNvbnN0YW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ0fSkpLG4uZCh0LFwiZGV0ZWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG10fSkpLG4uZCh0LFwiZGV0ZWN0TGltaXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4geXR9KSksbi5kKHQsXCJkZXRlY3RTZXJpZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gd3R9KSksbi5kKHQsXCJkaXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gdnR9KSksbi5kKHQsXCJkb0R1cmluZ1wiLChmdW5jdGlvbigpe3JldHVybiBTdH0pKSxuLmQodCxcImRvVW50aWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX3R9KSksbi5kKHQsXCJkb1doaWxzdFwiLChmdW5jdGlvbigpe3JldHVybiBDdH0pKSxuLmQodCxcImR1cmluZ1wiLChmdW5jdGlvbigpe3JldHVybiBUdH0pKSxuLmQodCxcImVhY2hcIiwoZnVuY3Rpb24oKXtyZXR1cm4gQXR9KSksbi5kKHQsXCJlYWNoTGltaXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSXR9KSksbi5kKHQsXCJlYWNoT2ZcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV9KSksbi5kKHQsXCJlYWNoT2ZMaW1pdFwiLChmdW5jdGlvbigpe3JldHVybiBKfSkpLG4uZCh0LFwiZWFjaE9mU2VyaWVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ0fSkpLG4uZCh0LFwiZWFjaFNlcmllc1wiLChmdW5jdGlvbigpe3JldHVybiBPdH0pKSxuLmQodCxcImVuc3VyZUFzeW5jXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx0fSkpLG4uZCh0LFwiZXZlcnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRHR9KSksbi5kKHQsXCJldmVyeUxpbWl0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt0fSkpLG4uZCh0LFwiZXZlcnlTZXJpZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTnR9KSksbi5kKHQsXCJmaWx0ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRnR9KSksbi5kKHQsXCJmaWx0ZXJMaW1pdFwiLChmdW5jdGlvbigpe3JldHVybiB4dH0pKSxuLmQodCxcImZpbHRlclNlcmllc1wiLChmdW5jdGlvbigpe3JldHVybiBCdH0pKSxuLmQodCxcImZvcmV2ZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVXR9KSksbi5kKHQsXCJsb2dcIiwoZnVuY3Rpb24oKXtyZXR1cm4genR9KSksbi5kKHQsXCJtYXBcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb2V9KSksbi5kKHQsXCJtYXBMaW1pdFwiLChmdW5jdGlvbigpe3JldHVybiB1ZX0pKSxuLmQodCxcIm1hcFNlcmllc1wiLChmdW5jdGlvbigpe3JldHVybiBjZX0pKSxuLmQodCxcIm1hcFZhbHVlc1wiLChmdW5jdGlvbigpe3JldHVybiBWdH0pKSxuLmQodCxcIm1hcFZhbHVlc0xpbWl0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEh0fSkpLG4uZCh0LFwibWFwVmFsdWVzU2VyaWVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHF0fSkpLG4uZCh0LFwibWVtb2l6ZVwiLChmdW5jdGlvbigpe3JldHVybiBHdH0pKSxuLmQodCxcIm5leHRUaWNrXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl0LmF9KSksbi5kKHQsXCJwYXJhbGxlbFwiLChmdW5jdGlvbigpe3JldHVybiBLdH0pKSxuLmQodCxcInBhcmFsbGVsTGltaXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWnR9KSksbi5kKHQsXCJwcmlvcml0eVF1ZXVlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGVufSkpLG4uZCh0LFwicXVldWVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gWHR9KSksbi5kKHQsXCJyYWNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRufSkpLG4uZCh0LFwicmVkdWNlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG90fSkpLG4uZCh0LFwicmVkdWNlUmlnaHRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcm59KSksbi5kKHQsXCJyZWZsZWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG9ufSkpLG4uZCh0LFwicmVmbGVjdEFsbFwiLChmdW5jdGlvbigpe3JldHVybiB1bn0pKSxuLmQodCxcInJlamVjdFwiLChmdW5jdGlvbigpe3JldHVybiBhbn0pKSxuLmQodCxcInJlamVjdExpbWl0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGNufSkpLG4uZCh0LFwicmVqZWN0U2VyaWVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxufSkpLG4uZCh0LFwicmV0cnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZm59KSksbi5kKHQsXCJyZXRyeWFibGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaG59KSksbi5kKHQsXCJzZXFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc3R9KSksbi5kKHQsXCJzZXJpZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcG59KSksbi5kKHQsXCJzZXRJbW1lZGlhdGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSnR9KSksbi5kKHQsXCJzb21lXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGdufSkpLG4uZCh0LFwic29tZUxpbWl0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG1ufSkpLG4uZCh0LFwic29tZVNlcmllc1wiLChmdW5jdGlvbigpe3JldHVybiB5bn0pKSxuLmQodCxcInNvcnRCeVwiLChmdW5jdGlvbigpe3JldHVybiB3bn0pKSxuLmQodCxcInRpbWVvdXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYm59KSksbi5kKHQsXCJ0aW1lc1wiLChmdW5jdGlvbigpe3JldHVybiBUbn0pKSxuLmQodCxcInRpbWVzTGltaXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX259KSksbi5kKHQsXCJ0aW1lc1Nlcmllc1wiLChmdW5jdGlvbigpe3JldHVybiBFbn0pKSxuLmQodCxcInRyYW5zZm9ybVwiLChmdW5jdGlvbigpe3JldHVybiBBbn0pKSxuLmQodCxcInVubWVtb2l6ZVwiLChmdW5jdGlvbigpe3JldHVybiBJbn0pKSxuLmQodCxcInVudGlsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIExufSkpLG4uZCh0LFwid2F0ZXJmYWxsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE1ufSkpLG4uZCh0LFwid2hpbHN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE9ufSkpLG4uZCh0LFwiYWxsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIER0fSkpLG4uZCh0LFwiYWxsTGltaXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4ga3R9KSksbi5kKHQsXCJhbGxTZXJpZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTnR9KSksbi5kKHQsXCJhbnlcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ259KSksbi5kKHQsXCJhbnlMaW1pdFwiLChmdW5jdGlvbigpe3JldHVybiBtbn0pKSxuLmQodCxcImFueVNlcmllc1wiLChmdW5jdGlvbigpe3JldHVybiB5bn0pKSxuLmQodCxcImZpbmRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbXR9KSksbi5kKHQsXCJmaW5kTGltaXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4geXR9KSksbi5kKHQsXCJmaW5kU2VyaWVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd0fSkpLG4uZCh0LFwiZm9yRWFjaFwiLChmdW5jdGlvbigpe3JldHVybiBBdH0pKSxuLmQodCxcImZvckVhY2hTZXJpZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gT3R9KSksbi5kKHQsXCJmb3JFYWNoTGltaXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gSXR9KSksbi5kKHQsXCJmb3JFYWNoT2ZcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV9KSksbi5kKHQsXCJmb3JFYWNoT2ZTZXJpZXNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcnR9KSksbi5kKHQsXCJmb3JFYWNoT2ZMaW1pdFwiLChmdW5jdGlvbigpe3JldHVybiBKfSkpLG4uZCh0LFwiaW5qZWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG90fSkpLG4uZCh0LFwiZm9sZGxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb3R9KSksbi5kKHQsXCJmb2xkclwiLChmdW5jdGlvbigpe3JldHVybiBybn0pKSxuLmQodCxcInNlbGVjdFwiLChmdW5jdGlvbigpe3JldHVybiBGdH0pKSxuLmQodCxcInNlbGVjdExpbWl0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh0fSkpLG4uZCh0LFwic2VsZWN0U2VyaWVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ0fSkpLG4uZCh0LFwid3JhcFN5bmNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZmV9KSk7dmFyIGk9bigxKSxyPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5hKSgoZnVuY3Rpb24odCl7dmFyIG49dC5wb3AoKTtlLmNhbGwodGhpcyx0LG4pfSkpfTtmdW5jdGlvbiBvKGUpe3JldHVybiBPYmplY3QoaS5hKSgoZnVuY3Rpb24odCxuKXt2YXIgaT1yKChmdW5jdGlvbihuLGkpe3ZhciByPXRoaXM7cmV0dXJuIGUodCwoZnVuY3Rpb24oZSx0KXtlLmFwcGx5KHIsbi5jb25jYXQodCkpfSksaSl9KSk7cmV0dXJuIG4ubGVuZ3RoP2kuYXBwbHkodGhpcyxuKTppfSkpfXZhciBzPW4oMjMpLmEuU3ltYm9sLGE9T2JqZWN0LnByb3RvdHlwZSx1PWEuaGFzT3duUHJvcGVydHksYz1hLnRvU3RyaW5nLGw9cz9zLnRvU3RyaW5nVGFnOnZvaWQgMDt2YXIgZD1mdW5jdGlvbihlKXt2YXIgdD11LmNhbGwoZSxsKSxuPWVbbF07dHJ5e2VbbF09dm9pZCAwO3ZhciBpPSEwfWNhdGNoKGUpe312YXIgcj1jLmNhbGwoZSk7cmV0dXJuIGkmJih0P2VbbF09bjpkZWxldGUgZVtsXSkscn0sZj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO3ZhciBoPWZ1bmN0aW9uKGUpe3JldHVybiBmLmNhbGwoZSl9LHA9cz9zLnRvU3RyaW5nVGFnOnZvaWQgMDt2YXIgZz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA9PT1lP1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6cCYmcCBpbiBPYmplY3QoZSk/ZChlKTpoKGUpfTt2YXIgbT1mdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4gbnVsbCE9ZSYmKFwib2JqZWN0XCI9PXR8fFwiZnVuY3Rpb25cIj09dCl9O3ZhciB5PWZ1bmN0aW9uKGUpe2lmKCFtKGUpKXJldHVybiExO3ZhciB0PWcoZSk7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT10fHxcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCI9PXR8fFwiW29iamVjdCBBc3luY0Z1bmN0aW9uXVwiPT10fHxcIltvYmplY3QgUHJveHldXCI9PXR9O3ZhciB3PWZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPi0xJiZlJTE9PTAmJmU8PTkwMDcxOTkyNTQ3NDA5OTF9O3ZhciBiPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZ3KGUubGVuZ3RoKSYmIXkoZSl9LHY9e307dmFyIFM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIEMoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYobnVsbCE9PWUpe3ZhciB0PWU7ZT1udWxsLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIF89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3I7dmFyIFQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49LTEsaT1BcnJheShlKTsrK248ZTspaVtuXT10KG4pO3JldHVybiBpfTt2YXIgRT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9O3ZhciBBPWZ1bmN0aW9uKGUpe3JldHVybiBFKGUpJiZcIltvYmplY3QgQXJndW1lbnRzXVwiPT1nKGUpfSxJPU9iamVjdC5wcm90b3R5cGUsTz1JLmhhc093blByb3BlcnR5LEw9SS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxNPUEoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKT9BOmZ1bmN0aW9uKGUpe3JldHVybiBFKGUpJiZPLmNhbGwoZSxcImNhbGxlZVwiKSYmIUwuY2FsbChlLFwiY2FsbGVlXCIpfSxEPUFycmF5LmlzQXJyYXksaz1uKDQzKSxOPS9eKD86MHxbMS05XVxcZCopJC87dmFyIGo9ZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2YgZTtyZXR1cm4hISh0PW51bGw9PXQ/OTAwNzE5OTI1NDc0MDk5MTp0KSYmKFwibnVtYmVyXCI9PW58fFwic3ltYm9sXCIhPW4mJk4udGVzdChlKSkmJmU+LTEmJmUlMT09MCYmZTx0fSxXPXt9O1dbXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIl09V1tcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXT1XW1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPVdbXCJbb2JqZWN0IEludDE2QXJyYXldXCJdPVdbXCJbb2JqZWN0IEludDMyQXJyYXldXCJdPVdbXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCJdPVdbXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiXT1XW1wiW29iamVjdCBVaW50MTZBcnJheV1cIl09V1tcIltvYmplY3QgVWludDMyQXJyYXldXCJdPSEwLFdbXCJbb2JqZWN0IEFyZ3VtZW50c11cIl09V1tcIltvYmplY3QgQXJyYXldXCJdPVdbXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiXT1XW1wiW29iamVjdCBCb29sZWFuXVwiXT1XW1wiW29iamVjdCBEYXRhVmlld11cIl09V1tcIltvYmplY3QgRGF0ZV1cIl09V1tcIltvYmplY3QgRXJyb3JdXCJdPVdbXCJbb2JqZWN0IEZ1bmN0aW9uXVwiXT1XW1wiW29iamVjdCBNYXBdXCJdPVdbXCJbb2JqZWN0IE51bWJlcl1cIl09V1tcIltvYmplY3QgT2JqZWN0XVwiXT1XW1wiW29iamVjdCBSZWdFeHBdXCJdPVdbXCJbb2JqZWN0IFNldF1cIl09V1tcIltvYmplY3QgU3RyaW5nXVwiXT1XW1wiW29iamVjdCBXZWFrTWFwXVwiXT0hMTt2YXIgUj1mdW5jdGlvbihlKXtyZXR1cm4gRShlKSYmdyhlLmxlbmd0aCkmJiEhV1tnKGUpXX07dmFyIFA9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfX0sRj1uKDMwKSx4PUYuYSYmRi5hLmlzVHlwZWRBcnJheSxCPXg/UCh4KTpSLFU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgej1mdW5jdGlvbihlLHQpe3ZhciBuPUQoZSksaT0hbiYmTShlKSxyPSFuJiYhaSYmT2JqZWN0KGsuYSkoZSksbz0hbiYmIWkmJiFyJiZCKGUpLHM9bnx8aXx8cnx8byxhPXM/VChlLmxlbmd0aCxTdHJpbmcpOltdLHU9YS5sZW5ndGg7Zm9yKHZhciBjIGluIGUpIXQmJiFVLmNhbGwoZSxjKXx8cyYmKFwibGVuZ3RoXCI9PWN8fHImJihcIm9mZnNldFwiPT1jfHxcInBhcmVudFwiPT1jKXx8byYmKFwiYnVmZmVyXCI9PWN8fFwiYnl0ZUxlbmd0aFwiPT1jfHxcImJ5dGVPZmZzZXRcIj09Yyl8fGooYyx1KSl8fGEucHVzaChjKTtyZXR1cm4gYX0sSD1PYmplY3QucHJvdG90eXBlO3ZhciBWPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuY29uc3RydWN0b3I7cmV0dXJuIGU9PT0oXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5wcm90b3R5cGV8fEgpfTt2YXIgcT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZSh0KG4pKX19KE9iamVjdC5rZXlzLE9iamVjdCksJD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBHPWZ1bmN0aW9uKGUpe2lmKCFWKGUpKXJldHVybiBxKGUpO3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBPYmplY3QoZSkpJC5jYWxsKGUsbikmJlwiY29uc3RydWN0b3JcIiE9biYmdC5wdXNoKG4pO3JldHVybiB0fTt2YXIgWT1mdW5jdGlvbihlKXtyZXR1cm4gYihlKT96KGUpOkcoZSl9O2Z1bmN0aW9uIFEoZSl7aWYoYihlKSlyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9LTEsbj1lLmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4rK3Q8bj97dmFsdWU6ZVt0XSxrZXk6dH06bnVsbH19KGUpO3ZhciB0LG4saSxyLG89ZnVuY3Rpb24oZSl7cmV0dXJuIF8mJmVbX10mJmVbX10oKX0oZSk7cmV0dXJuIG8/ZnVuY3Rpb24oZSl7dmFyIHQ9LTE7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49ZS5uZXh0KCk7cmV0dXJuIG4uZG9uZT9udWxsOih0Kysse3ZhbHVlOm4udmFsdWUsa2V5OnR9KX19KG8pOihuPVkodD1lKSxpPS0xLHI9bi5sZW5ndGgsZnVuY3Rpb24oKXt2YXIgZT1uWysraV07cmV0dXJuIGk8cj97dmFsdWU6dFtlXSxrZXk6ZX06bnVsbH0pfWZ1bmN0aW9uIEsoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYobnVsbD09PWUpdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGJhY2sgd2FzIGFscmVhZHkgY2FsbGVkLlwiKTt2YXIgdD1lO2U9bnVsbCx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gWihlKXtyZXR1cm4gZnVuY3Rpb24odCxuLGkpe2lmKGk9QyhpfHxTKSxlPD0wfHwhdClyZXR1cm4gaShudWxsKTt2YXIgcj1RKHQpLG89ITEscz0wO2Z1bmN0aW9uIGEoZSx0KXtpZihzLT0xLGUpbz0hMCxpKGUpO2Vsc2V7aWYodD09PXZ8fG8mJnM8PTApcmV0dXJuIG89ITAsaShudWxsKTt1KCl9fWZ1bmN0aW9uIHUoKXtmb3IoO3M8ZSYmIW87KXt2YXIgdD1yKCk7aWYobnVsbD09PXQpcmV0dXJuIG89ITAsdm9pZChzPD0wJiZpKG51bGwpKTtzKz0xLG4odC52YWx1ZSx0LmtleSxLKGEpKX19dSgpfX1mdW5jdGlvbiBKKGUsdCxuLGkpe1oodCkoZSxuLGkpfWZ1bmN0aW9uIFgoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixpLHIpe3JldHVybiBlKG4sdCxpLHIpfX1mdW5jdGlvbiBlZShlLHQsbil7bj1DKG58fFMpO3ZhciBpPTAscj0wLG89ZS5sZW5ndGg7ZnVuY3Rpb24gcyhlLHQpe2U/bihlKTorK3IhPT1vJiZ0IT09dnx8bihudWxsKX1mb3IoMD09PW8mJm4obnVsbCk7aTxvO2krKyl0KGVbaV0saSxLKHMpKX12YXIgdGU9WChKLDEvMCksbmU9ZnVuY3Rpb24oZSx0LG4peyhiKGUpP2VlOnRlKShlLHQsbil9O2Z1bmN0aW9uIGllKGUpe3JldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIGUobmUsdCxuLGkpfX1mdW5jdGlvbiByZShlLHQsbixpKXtpPWl8fFM7dmFyIHI9W10sbz0wO2UodD10fHxbXSwoZnVuY3Rpb24oZSx0LGkpe3ZhciBzPW8rKztuKGUsKGZ1bmN0aW9uKGUsdCl7cltzXT10LGkoZSl9KSl9KSwoZnVuY3Rpb24oZSl7aShlLHIpfSkpfXZhciBvZT1pZShyZSksc2U9byhvZSk7ZnVuY3Rpb24gYWUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixpLHIpe3JldHVybiBlKFoobiksdCxpLHIpfX12YXIgdWU9YWUocmUpLGNlPVgodWUsMSksbGU9byhjZSksZGU9T2JqZWN0KGkuYSkoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChpLmEpKChmdW5jdGlvbihuKXtyZXR1cm4gZS5hcHBseShudWxsLHQuY29uY2F0KG4pKX0pKX0pKTtmdW5jdGlvbiBmZShlKXtyZXR1cm4gcigoZnVuY3Rpb24odCxuKXt2YXIgaTt0cnl7aT1lLmFwcGx5KHRoaXMsdCl9Y2F0Y2goZSl7cmV0dXJuIG4oZSl9bShpKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS50aGVuP2kudGhlbigoZnVuY3Rpb24oZSl7bihudWxsLGUpfSksKGZ1bmN0aW9uKGUpe24oZS5tZXNzYWdlP2U6bmV3IEVycm9yKGUpKX0pKTpuKG51bGwsaSl9KSl9dmFyIGhlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPS0xLGk9bnVsbD09ZT8wOmUubGVuZ3RoOysrbjxpJiYhMSE9PXQoZVtuXSxuLGUpOyk7cmV0dXJuIGV9O3ZhciBwZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuLGkpe2Zvcih2YXIgcj0tMSxvPU9iamVjdCh0KSxzPWkodCksYT1zLmxlbmd0aDthLS07KXt2YXIgdT1zW2U/YTorK3JdO2lmKCExPT09bihvW3VdLHUsbykpYnJlYWt9cmV0dXJuIHR9fSgpO3ZhciBnZT1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZwZShlLHQsWSl9O3ZhciBtZT1mdW5jdGlvbihlLHQsbixpKXtmb3IodmFyIHI9ZS5sZW5ndGgsbz1uKyhpPzE6LTEpO2k/by0tOisrbzxyOylpZih0KGVbb10sbyxlKSlyZXR1cm4gbztyZXR1cm4tMX07dmFyIHllPWZ1bmN0aW9uKGUpe3JldHVybiBlIT1lfTt2YXIgd2U9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT1uLTEscj1lLmxlbmd0aDsrK2k8cjspaWYoZVtpXT09PXQpcmV0dXJuIGk7cmV0dXJuLTF9O3ZhciBiZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ9PXQ/d2UoZSx0LG4pOm1lKGUseWUsbil9LHZlPWZ1bmN0aW9uKGUsdCxuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYobj10LHQ9bnVsbCksbj1DKG58fFMpO3ZhciByPVkoZSkubGVuZ3RoO2lmKCFyKXJldHVybiBuKG51bGwpO3R8fCh0PXIpO3ZhciBvPXt9LHM9MCxhPSExLHU9T2JqZWN0LmNyZWF0ZShudWxsKSxjPVtdLGw9W10sZD17fTtmdW5jdGlvbiBmKGUsdCl7Yy5wdXNoKChmdW5jdGlvbigpeyFmdW5jdGlvbihlLHQpe2lmKGEpcmV0dXJuO3ZhciByPUsoT2JqZWN0KGkuYSkoKGZ1bmN0aW9uKHQsaSl7aWYocy0tLGkubGVuZ3RoPD0xJiYoaT1pWzBdKSx0KXt2YXIgcj17fTtnZShvLChmdW5jdGlvbihlLHQpe3JbdF09ZX0pKSxyW2VdPWksYT0hMCx1PU9iamVjdC5jcmVhdGUobnVsbCksbih0LHIpfWVsc2Ugb1tlXT1pLGM9dVtlXXx8W10saGUoYywoZnVuY3Rpb24oZSl7ZSgpfSkpLGgoKTt2YXIgY30pKSk7cysrO3ZhciBjPXRbdC5sZW5ndGgtMV07dC5sZW5ndGg+MT9jKG8scik6YyhyKX0oZSx0KX0pKX1mdW5jdGlvbiBoKCl7aWYoMD09PWMubGVuZ3RoJiYwPT09cylyZXR1cm4gbihudWxsLG8pO2Zvcig7Yy5sZW5ndGgmJnM8dDspe2Muc2hpZnQoKSgpfX1mdW5jdGlvbiBwKHQpe3ZhciBuPVtdO3JldHVybiBnZShlLChmdW5jdGlvbihlLGkpe0QoZSkmJmJlKGUsdCwwKT49MCYmbi5wdXNoKGkpfSkpLG59Z2UoZSwoZnVuY3Rpb24odCxuKXtpZighRCh0KSlyZXR1cm4gZihuLFt0XSksdm9pZCBsLnB1c2gobik7dmFyIGk9dC5zbGljZSgwLHQubGVuZ3RoLTEpLHI9aS5sZW5ndGg7aWYoMD09PXIpcmV0dXJuIGYobix0KSx2b2lkIGwucHVzaChuKTtkW25dPXIsaGUoaSwoZnVuY3Rpb24obyl7aWYoIWVbb10pdGhyb3cgbmV3IEVycm9yKFwiYXN5bmMuYXV0byB0YXNrIGBcIituK1wiYCBoYXMgYSBub24tZXhpc3RlbnQgZGVwZW5kZW5jeSBgXCIrbytcImAgaW4gXCIraS5qb2luKFwiLCBcIikpOyFmdW5jdGlvbihlLHQpe3ZhciBuPXVbZV07bnx8KG49dVtlXT1bXSk7bi5wdXNoKHQpfShvLChmdW5jdGlvbigpezA9PT0tLXImJmYobix0KX0pKX0pKX0pKSxmdW5jdGlvbigpe3ZhciBlLHQ9MDtmb3IoO2wubGVuZ3RoOyllPWwucG9wKCksdCsrLGhlKHAoZSksKGZ1bmN0aW9uKGUpezA9PS0tZFtlXSYmbC5wdXNoKGUpfSkpO2lmKHQhPT1yKXRocm93IG5ldyBFcnJvcihcImFzeW5jLmF1dG8gY2Fubm90IGV4ZWN1dGUgdGFza3MgZHVlIHRvIGEgcmVjdXJzaXZlIGRlcGVuZGVuY3lcIil9KCksaCgpfTt2YXIgU2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49LTEsaT1udWxsPT1lPzA6ZS5sZW5ndGgscj1BcnJheShpKTsrK248aTspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn07dmFyIENlPWZ1bmN0aW9uKGUpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBlfHxFKGUpJiZcIltvYmplY3QgU3ltYm9sXVwiPT1nKGUpfSxfZT1zP3MucHJvdG90eXBlOnZvaWQgMCxUZT1fZT9fZS50b1N0cmluZzp2b2lkIDA7dmFyIEVlPWZ1bmN0aW9uIGUodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYoRCh0KSlyZXR1cm4gU2UodCxlKStcIlwiO2lmKENlKHQpKXJldHVybiBUZT9UZS5jYWxsKHQpOlwiXCI7dmFyIG49dCtcIlwiO3JldHVyblwiMFwiPT1uJiYxL3Q9PS0xLzA/XCItMFwiOm59O3ZhciBBZT1mdW5jdGlvbihlLHQsbil7dmFyIGk9LTEscj1lLmxlbmd0aDt0PDAmJih0PS10PnI/MDpyK3QpLChuPW4+cj9yOm4pPDAmJihuKz1yKSxyPXQ+bj8wOm4tdD4+PjAsdD4+Pj0wO2Zvcih2YXIgbz1BcnJheShyKTsrK2k8cjspb1tpXT1lW2krdF07cmV0dXJuIG99O3ZhciBJZT1mdW5jdGlvbihlLHQsbil7dmFyIGk9ZS5sZW5ndGg7cmV0dXJuIG49dm9pZCAwPT09bj9pOm4sIXQmJm4+PWk/ZTpBZShlLHQsbil9O3ZhciBPZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS0mJmJlKHQsZVtuXSwwKT4tMTspO3JldHVybiBufTt2YXIgTGU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49LTEsaT1lLmxlbmd0aDsrK248aSYmYmUodCxlW25dLDApPi0xOyk7cmV0dXJuIG59O3ZhciBNZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIlwiKX0sRGU9UmVnRXhwKFwiW1xcXFx1MjAwZFxcXFx1ZDgwMC1cXFxcdWRmZmZcXFxcdTAzMDAtXFxcXHUwMzZmXFxcXHVmZTIwLVxcXFx1ZmUyZlxcXFx1MjBkMC1cXFxcdTIwZmZcXFxcdWZlMGVcXFxcdWZlMGZdXCIpO3ZhciBrZT1mdW5jdGlvbihlKXtyZXR1cm4gRGUudGVzdChlKX0sTmU9XCJbXFxcXHVkODAwLVxcXFx1ZGZmZl1cIixqZT1cIltcXFxcdTAzMDAtXFxcXHUwMzZmXFxcXHVmZTIwLVxcXFx1ZmUyZlxcXFx1MjBkMC1cXFxcdTIwZmZdXCIsV2U9XCJcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl1cIixSZT1cIlteXFxcXHVkODAwLVxcXFx1ZGZmZl1cIixQZT1cIig/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn1cIixGZT1cIltcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXVwiLHhlPVwiKD86XCIramUrXCJ8XCIrV2UrXCIpXCIrXCI/XCIsQmU9XCJbXFxcXHVmZTBlXFxcXHVmZTBmXT9cIit4ZSsoXCIoPzpcXFxcdTIwMGQoPzpcIitbUmUsUGUsRmVdLmpvaW4oXCJ8XCIpK1wiKVtcXFxcdWZlMGVcXFxcdWZlMGZdP1wiK3hlK1wiKSpcIiksVWU9XCIoPzpcIitbUmUramUrXCI/XCIsamUsUGUsRmUsTmVdLmpvaW4oXCJ8XCIpK1wiKVwiLHplPVJlZ0V4cChXZStcIig/PVwiK1dlK1wiKXxcIitVZStCZSxcImdcIik7dmFyIEhlPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hdGNoKHplKXx8W119O3ZhciBWZT1mdW5jdGlvbihlKXtyZXR1cm4ga2UoZSk/SGUoZSk6TWUoZSl9O3ZhciBxZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9cIlwiOkVlKGUpfSwkZT0vXlxccyt8XFxzKyQvZzt2YXIgR2U9ZnVuY3Rpb24oZSx0LG4pe2lmKChlPXFlKGUpKSYmKG58fHZvaWQgMD09PXQpKXJldHVybiBlLnJlcGxhY2UoJGUsXCJcIik7aWYoIWV8fCEodD1FZSh0KSkpcmV0dXJuIGU7dmFyIGk9VmUoZSkscj1WZSh0KSxvPUxlKGkscikscz1PZShpLHIpKzE7cmV0dXJuIEllKGksbyxzKS5qb2luKFwiXCIpfSxZZT0vXihmdW5jdGlvbik/XFxzKlteXFwoXSpcXChcXHMqKFteXFwpXSopXFwpL20sUWU9LywvLEtlPS8oPS4rKT8oXFxzKikkLyxaZT0vKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKSkvZ207ZnVuY3Rpb24gSmUoZSx0KXt2YXIgbj17fTtnZShlLChmdW5jdGlvbihlLHQpe3ZhciBpLHI7aWYoRChlKSlpPWUuc2xpY2UoMCwtMSksZT1lW2UubGVuZ3RoLTFdLG5bdF09aS5jb25jYXQoaS5sZW5ndGg+MD9vOmUpO2Vsc2UgaWYoMT09PWUubGVuZ3RoKW5bdF09ZTtlbHNle2lmKGk9cj0ocj0ocj0ocj0ocj1lKS50b1N0cmluZygpLnJlcGxhY2UoWmUsXCJcIikpLm1hdGNoKFllKVsyXS5yZXBsYWNlKFwiIFwiLFwiXCIpKT9yLnNwbGl0KFFlKTpbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gR2UoZS5yZXBsYWNlKEtlLFwiXCIpKX0pKSwwPT09ZS5sZW5ndGgmJjA9PT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJhdXRvSW5qZWN0IHRhc2sgZnVuY3Rpb25zIHJlcXVpcmUgZXhwbGljaXQgcGFyYW1ldGVycy5cIik7aS5wb3AoKSxuW3RdPWkuY29uY2F0KG8pfWZ1bmN0aW9uIG8odCxuKXt2YXIgcj1TZShpLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKTtyLnB1c2gobiksZS5hcHBseShudWxsLHIpfX0pKSx2ZShuLHQpfXZhciBYZT1uKDMpO2Z1bmN0aW9uIGV0KCl7dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoPTB9ZnVuY3Rpb24gdHQoZSx0KXtlLmxlbmd0aD0xLGUuaGVhZD1lLnRhaWw9dH1mdW5jdGlvbiBudChlLHQsbil7aWYobnVsbD09dCl0PTE7ZWxzZSBpZigwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJDb25jdXJyZW5jeSBtdXN0IG5vdCBiZSB6ZXJvXCIpO2Z1bmN0aW9uIHIoZSx0LG4pe2lmKG51bGwhPW4mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwidGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7aWYoYy5zdGFydGVkPSEwLEQoZSl8fChlPVtlXSksMD09PWUubGVuZ3RoJiZjLmlkbGUoKSlyZXR1cm4gT2JqZWN0KFhlLmEpKChmdW5jdGlvbigpe2MuZHJhaW4oKX0pKTtmb3IodmFyIGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspe3ZhciBvPXtkYXRhOmVbaV0sY2FsbGJhY2s6bnx8U307dD9jLl90YXNrcy51bnNoaWZ0KG8pOmMuX3Rhc2tzLnB1c2gobyl9T2JqZWN0KFhlLmEpKGMucHJvY2Vzcyl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gT2JqZWN0KGkuYSkoKGZ1bmN0aW9uKHQpe3MtPTE7Zm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7bisrKXt2YXIgcj1lW25dLG89YmUoYSxyLDApO28+PTAmJmEuc3BsaWNlKG8pLHIuY2FsbGJhY2suYXBwbHkocix0KSxudWxsIT10WzBdJiZjLmVycm9yKHRbMF0sci5kYXRhKX1zPD1jLmNvbmN1cnJlbmN5LWMuYnVmZmVyJiZjLnVuc2F0dXJhdGVkKCksYy5pZGxlKCkmJmMuZHJhaW4oKSxjLnByb2Nlc3MoKX0pKX12YXIgcz0wLGE9W10sdT0hMSxjPXtfdGFza3M6bmV3IGV0LGNvbmN1cnJlbmN5OnQscGF5bG9hZDpuLHNhdHVyYXRlZDpTLHVuc2F0dXJhdGVkOlMsYnVmZmVyOnQvNCxlbXB0eTpTLGRyYWluOlMsZXJyb3I6UyxzdGFydGVkOiExLHBhdXNlZDohMSxwdXNoOmZ1bmN0aW9uKGUsdCl7cihlLCExLHQpfSxraWxsOmZ1bmN0aW9uKCl7Yy5kcmFpbj1TLGMuX3Rhc2tzLmVtcHR5KCl9LHVuc2hpZnQ6ZnVuY3Rpb24oZSx0KXtyKGUsITAsdCl9LHByb2Nlc3M6ZnVuY3Rpb24oKXtpZighdSl7Zm9yKHU9ITA7IWMucGF1c2VkJiZzPGMuY29uY3VycmVuY3kmJmMuX3Rhc2tzLmxlbmd0aDspe3ZhciB0PVtdLG49W10saT1jLl90YXNrcy5sZW5ndGg7Yy5wYXlsb2FkJiYoaT1NYXRoLm1pbihpLGMucGF5bG9hZCkpO2Zvcih2YXIgcj0wO3I8aTtyKyspe3ZhciBsPWMuX3Rhc2tzLnNoaWZ0KCk7dC5wdXNoKGwpLG4ucHVzaChsLmRhdGEpfTA9PT1jLl90YXNrcy5sZW5ndGgmJmMuZW1wdHkoKSxzKz0xLGEucHVzaCh0WzBdKSxzPT09Yy5jb25jdXJyZW5jeSYmYy5zYXR1cmF0ZWQoKTt2YXIgZD1LKG8odCkpO2UobixkKX11PSExfX0sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIGMuX3Rhc2tzLmxlbmd0aH0scnVubmluZzpmdW5jdGlvbigpe3JldHVybiBzfSx3b3JrZXJzTGlzdDpmdW5jdGlvbigpe3JldHVybiBhfSxpZGxlOmZ1bmN0aW9uKCl7cmV0dXJuIGMuX3Rhc2tzLmxlbmd0aCtzPT09MH0scGF1c2U6ZnVuY3Rpb24oKXtjLnBhdXNlZD0hMH0scmVzdW1lOmZ1bmN0aW9uKCl7ITEhPT1jLnBhdXNlZCYmKGMucGF1c2VkPSExLE9iamVjdChYZS5hKShjLnByb2Nlc3MpKX19O3JldHVybiBjfWZ1bmN0aW9uIGl0KGUsdCl7cmV0dXJuIG50KGUsMSx0KX1ldC5wcm90b3R5cGUucmVtb3ZlTGluaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5wcmV2P2UucHJldi5uZXh0PWUubmV4dDp0aGlzLmhlYWQ9ZS5uZXh0LGUubmV4dD9lLm5leHQucHJldj1lLnByZXY6dGhpcy50YWlsPWUucHJldixlLnByZXY9ZS5uZXh0PW51bGwsdGhpcy5sZW5ndGgtPTEsZX0sZXQucHJvdG90eXBlLmVtcHR5PWV0LGV0LnByb3RvdHlwZS5pbnNlcnRBZnRlcj1mdW5jdGlvbihlLHQpe3QucHJldj1lLHQubmV4dD1lLm5leHQsZS5uZXh0P2UubmV4dC5wcmV2PXQ6dGhpcy50YWlsPXQsZS5uZXh0PXQsdGhpcy5sZW5ndGgrPTF9LGV0LnByb3RvdHlwZS5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24oZSx0KXt0LnByZXY9ZS5wcmV2LHQubmV4dD1lLGUucHJldj9lLnByZXYubmV4dD10OnRoaXMuaGVhZD10LGUucHJldj10LHRoaXMubGVuZ3RoKz0xfSxldC5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbihlKXt0aGlzLmhlYWQ/dGhpcy5pbnNlcnRCZWZvcmUodGhpcy5oZWFkLGUpOnR0KHRoaXMsZSl9LGV0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3RoaXMudGFpbD90aGlzLmluc2VydEFmdGVyKHRoaXMudGFpbCxlKTp0dCh0aGlzLGUpfSxldC5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkJiZ0aGlzLnJlbW92ZUxpbmsodGhpcy5oZWFkKX0sZXQucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhaWwmJnRoaXMucmVtb3ZlTGluayh0aGlzLnRhaWwpfTt2YXIgcnQ9WChKLDEpO2Z1bmN0aW9uIG90KGUsdCxuLGkpe2k9QyhpfHxTKSxydChlLChmdW5jdGlvbihlLGkscil7bih0LGUsKGZ1bmN0aW9uKGUsbil7dD1uLHIoZSl9KSl9KSwoZnVuY3Rpb24oZSl7aShlLHQpfSkpfXZhciBzdD1PYmplY3QoaS5hKSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmEpKChmdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9dFt0Lmxlbmd0aC0xXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiByP3QucG9wKCk6cj1TLG90KGUsdCwoZnVuY3Rpb24oZSx0LHIpe3QuYXBwbHkobixlLmNvbmNhdChPYmplY3QoaS5hKSgoZnVuY3Rpb24oZSx0KXtyKGUsdCl9KSkpKX0pLChmdW5jdGlvbihlLHQpe3IuYXBwbHkobixbZV0uY29uY2F0KHQpKX0pKX0pKX0pKSxhdD1PYmplY3QoaS5hKSgoZnVuY3Rpb24oZSl7cmV0dXJuIHN0LmFwcGx5KG51bGwsZS5yZXZlcnNlKCkpfSkpO2Z1bmN0aW9uIHV0KGUsdCxuLGkpe3ZhciByPVtdO2UodCwoZnVuY3Rpb24oZSx0LGkpe24oZSwoZnVuY3Rpb24oZSx0KXtyPXIuY29uY2F0KHR8fFtdKSxpKGUpfSkpfSksKGZ1bmN0aW9uKGUpe2koZSxyKX0pKX12YXIgY3Q9aWUodXQpO3ZhciBsdCxkdD0obHQ9dXQsZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsdChydCxlLHQsbil9KSxmdD1PYmplY3QoaS5hKSgoZnVuY3Rpb24oZSl7dmFyIHQ9W251bGxdLmNvbmNhdChlKTtyZXR1cm4gcigoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbi5hcHBseSh0aGlzLHQpfSkpfSkpLGh0PW4oNik7ZnVuY3Rpb24gcHQoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixpLHIsbyl7bz1vfHxTO3ZhciBzLGE9ITE7bihpLChmdW5jdGlvbihuLGksbyl7cihuLChmdW5jdGlvbihpLHIpe2k/byhpKTplKHIpJiYhcz8oYT0hMCxzPXQoITAsbiksbyhudWxsLHYpKTpvKCl9KSl9KSwoZnVuY3Rpb24oZSl7ZT9vKGUpOm8obnVsbCxhP3M6dCghMSkpfSkpfX1mdW5jdGlvbiBndChlLHQpe3JldHVybiB0fXZhciBtdD1pZShwdChodC5hLGd0KSkseXQ9YWUocHQoaHQuYSxndCkpLHd0PVgoeXQsMSk7ZnVuY3Rpb24gYnQoZSl7cmV0dXJuIE9iamVjdChpLmEpKChmdW5jdGlvbih0LG4pe3QuYXBwbHkobnVsbCxuLmNvbmNhdChPYmplY3QoaS5hKSgoZnVuY3Rpb24odCxuKXtcIm9iamVjdFwiPT10eXBlb2YgY29uc29sZSYmKHQ/Y29uc29sZS5lcnJvciYmY29uc29sZS5lcnJvcih0KTpjb25zb2xlW2VdJiZoZShuLChmdW5jdGlvbih0KXtjb25zb2xlW2VdKHQpfSkpKX0pKSkpfSkpfXZhciB2dD1idChcImRpclwiKTtmdW5jdGlvbiBTdChlLHQsbil7bj1LKG58fFMpO3ZhciByPU9iamVjdChpLmEpKChmdW5jdGlvbihlLGkpe2lmKGUpcmV0dXJuIG4oZSk7aS5wdXNoKG8pLHQuYXBwbHkodGhpcyxpKX0pKTtmdW5jdGlvbiBvKHQsaSl7cmV0dXJuIHQ/bih0KTppP3ZvaWQgZShyKTpuKG51bGwpfW8obnVsbCwhMCl9ZnVuY3Rpb24gQ3QoZSx0LG4pe249SyhufHxTKTt2YXIgcj1PYmplY3QoaS5hKSgoZnVuY3Rpb24oaSxvKXtyZXR1cm4gaT9uKGkpOnQuYXBwbHkodGhpcyxvKT9lKHIpOnZvaWQgbi5hcHBseShudWxsLFtudWxsXS5jb25jYXQobykpfSkpO2Uocil9ZnVuY3Rpb24gX3QoZSx0LG4pe0N0KGUsKGZ1bmN0aW9uKCl7cmV0dXJuIXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksbil9ZnVuY3Rpb24gVHQoZSx0LG4pe2Z1bmN0aW9uIGkodCl7aWYodClyZXR1cm4gbih0KTtlKHIpfWZ1bmN0aW9uIHIoZSxyKXtyZXR1cm4gZT9uKGUpOnI/dm9pZCB0KGkpOm4obnVsbCl9bj1LKG58fFMpLGUocil9ZnVuY3Rpb24gRXQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gZSh0LGkpfX1mdW5jdGlvbiBBdChlLHQsbil7bmUoZSxFdCh0KSxuKX1mdW5jdGlvbiBJdChlLHQsbixpKXtaKHQpKGUsRXQobiksaSl9dmFyIE90PVgoSXQsMSk7ZnVuY3Rpb24gTHQoZSl7cmV0dXJuIHIoKGZ1bmN0aW9uKHQsbil7dmFyIGk9ITA7dC5wdXNoKChmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztpP09iamVjdChYZS5hKSgoZnVuY3Rpb24oKXtuLmFwcGx5KG51bGwsZSl9KSk6bi5hcHBseShudWxsLGUpfSkpLGUuYXBwbHkodGhpcyx0KSxpPSExfSkpfWZ1bmN0aW9uIE10KGUpe3JldHVybiFlfXZhciBEdD1pZShwdChNdCxNdCkpLGt0PWFlKHB0KE10LE10KSksTnQ9WChrdCwxKTt2YXIganQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0W2VdfX07ZnVuY3Rpb24gV3QoZSx0LG4saSl7dmFyIHI9bmV3IEFycmF5KHQubGVuZ3RoKTtlKHQsKGZ1bmN0aW9uKGUsdCxpKXtuKGUsKGZ1bmN0aW9uKGUsbil7clt0XT0hIW4saShlKX0pKX0pLChmdW5jdGlvbihlKXtpZihlKXJldHVybiBpKGUpO2Zvcih2YXIgbj1bXSxvPTA7bzx0Lmxlbmd0aDtvKyspcltvXSYmbi5wdXNoKHRbb10pO2kobnVsbCxuKX0pKX1mdW5jdGlvbiBSdChlLHQsbixpKXt2YXIgcj1bXTtlKHQsKGZ1bmN0aW9uKGUsdCxpKXtuKGUsKGZ1bmN0aW9uKG4sbyl7bj9pKG4pOihvJiZyLnB1c2goe2luZGV4OnQsdmFsdWU6ZX0pLGkoKSl9KSl9KSwoZnVuY3Rpb24oZSl7ZT9pKGUpOmkobnVsbCxTZShyLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaW5kZXgtdC5pbmRleH0pKSxqdChcInZhbHVlXCIpKSl9KSl9ZnVuY3Rpb24gUHQoZSx0LG4saSl7KGIodCk/V3Q6UnQpKGUsdCxuLGl8fFMpfXZhciBGdD1pZShQdCkseHQ9YWUoUHQpLEJ0PVgoeHQsMSk7ZnVuY3Rpb24gVXQoZSx0KXt2YXIgbj1LKHR8fFMpLGk9THQoZSk7IWZ1bmN0aW9uIGUodCl7aWYodClyZXR1cm4gbih0KTtpKGUpfSgpfXZhciB6dD1idChcImxvZ1wiKTtmdW5jdGlvbiBIdChlLHQsbixpKXtpPUMoaXx8Uyk7dmFyIHI9e307SihlLHQsKGZ1bmN0aW9uKGUsdCxpKXtuKGUsdCwoZnVuY3Rpb24oZSxuKXtpZihlKXJldHVybiBpKGUpO3JbdF09bixpKCl9KSl9KSwoZnVuY3Rpb24oZSl7aShlLHIpfSkpfXZhciBWdD1YKEh0LDEvMCkscXQ9WChIdCwxKTtmdW5jdGlvbiAkdChlLHQpe3JldHVybiB0IGluIGV9ZnVuY3Rpb24gR3QoZSx0KXt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpLG89T2JqZWN0LmNyZWF0ZShudWxsKTt0PXR8fGh0LmE7dmFyIHM9cigoZnVuY3Rpb24ocixzKXt2YXIgYT10LmFwcGx5KG51bGwscik7JHQobixhKT9PYmplY3QoWGUuYSkoKGZ1bmN0aW9uKCl7cy5hcHBseShudWxsLG5bYV0pfSkpOiR0KG8sYSk/b1thXS5wdXNoKHMpOihvW2FdPVtzXSxlLmFwcGx5KG51bGwsci5jb25jYXQoT2JqZWN0KGkuYSkoKGZ1bmN0aW9uKGUpe25bYV09ZTt2YXIgdD1vW2FdO2RlbGV0ZSBvW2FdO2Zvcih2YXIgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyl0W2ldLmFwcGx5KG51bGwsZSl9KSkpKSl9KSk7cmV0dXJuIHMubWVtbz1uLHMudW5tZW1vaXplZD1lLHN9dmFyIFl0PW4oMjgpO2Z1bmN0aW9uIFF0KGUsdCxuKXtuPW58fFM7dmFyIHI9Yih0KT9bXTp7fTtlKHQsKGZ1bmN0aW9uKGUsdCxuKXtlKE9iamVjdChpLmEpKChmdW5jdGlvbihlLGkpe2kubGVuZ3RoPD0xJiYoaT1pWzBdKSxyW3RdPWksbihlKX0pKSl9KSwoZnVuY3Rpb24oZSl7bihlLHIpfSkpfWZ1bmN0aW9uIEt0KGUsdCl7UXQobmUsZSx0KX1mdW5jdGlvbiBadChlLHQsbil7UXQoWih0KSxlLG4pfXZhciBKdD1YZS5hLFh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG50KChmdW5jdGlvbih0LG4pe2UodFswXSxuKX0pLHQsMSl9LGVuPWZ1bmN0aW9uKGUsdCl7dmFyIG49WHQoZSx0KTtyZXR1cm4gbi5wdXNoPWZ1bmN0aW9uKGUsdCxpKXtpZihudWxsPT1pJiYoaT1TKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXRocm93IG5ldyBFcnJvcihcInRhc2sgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2lmKG4uc3RhcnRlZD0hMCxEKGUpfHwoZT1bZV0pLDA9PT1lLmxlbmd0aClyZXR1cm4gSnQoKGZ1bmN0aW9uKCl7bi5kcmFpbigpfSkpO3Q9dHx8MDtmb3IodmFyIHI9bi5fdGFza3MuaGVhZDtyJiZ0Pj1yLnByaW9yaXR5OylyPXIubmV4dDtmb3IodmFyIG89MCxzPWUubGVuZ3RoO288cztvKyspe3ZhciBhPXtkYXRhOmVbb10scHJpb3JpdHk6dCxjYWxsYmFjazppfTtyP24uX3Rhc2tzLmluc2VydEJlZm9yZShyLGEpOm4uX3Rhc2tzLnB1c2goYSl9SnQobi5wcm9jZXNzKX0sZGVsZXRlIG4udW5zaGlmdCxufTtmdW5jdGlvbiB0bihlLHQpe2lmKHQ9Qyh0fHxTKSwhRChlKSlyZXR1cm4gdChuZXcgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgdG8gcmFjZSBtdXN0IGJlIGFuIGFycmF5IG9mIGZ1bmN0aW9uc1wiKSk7aWYoIWUubGVuZ3RoKXJldHVybiB0KCk7Zm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7bisrKWVbbl0odCl9dmFyIG5uPUFycmF5LnByb3RvdHlwZS5zbGljZTtmdW5jdGlvbiBybihlLHQsbixpKXtvdChubi5jYWxsKGUpLnJldmVyc2UoKSx0LG4saSl9ZnVuY3Rpb24gb24oZSl7cmV0dXJuIHIoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQucHVzaChPYmplY3QoaS5hKSgoZnVuY3Rpb24oZSx0KXtpZihlKW4obnVsbCx7ZXJyb3I6ZX0pO2Vsc2V7dmFyIGk9bnVsbDsxPT09dC5sZW5ndGg/aT10WzBdOnQubGVuZ3RoPjEmJihpPXQpLG4obnVsbCx7dmFsdWU6aX0pfX0pKSksZS5hcHBseSh0aGlzLHQpfSkpfWZ1bmN0aW9uIHNuKGUsdCxuLGkpe1B0KGUsdCwoZnVuY3Rpb24oZSx0KXtuKGUsKGZ1bmN0aW9uKGUsbil7dChlLCFuKX0pKX0pLGkpfXZhciBhbj1pZShzbik7ZnVuY3Rpb24gdW4oZSl7dmFyIHQ7cmV0dXJuIEQoZSk/dD1TZShlLG9uKToodD17fSxnZShlLChmdW5jdGlvbihlLG4pe3Rbbl09b24uY2FsbCh0aGlzLGUpfSkpKSx0fXZhciBjbj1hZShzbiksbG49WChjbiwxKTt2YXIgZG49ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fTtmdW5jdGlvbiBmbihlLHQsbil7dmFyIGk9NSxyPTAsbz17dGltZXM6aSxpbnRlcnZhbEZ1bmM6ZG4ocil9O2Z1bmN0aW9uIHMoZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgdCllLnRpbWVzPSt0LnRpbWVzfHxpLGUuaW50ZXJ2YWxGdW5jPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQuaW50ZXJ2YWw/dC5pbnRlcnZhbDpkbigrdC5pbnRlcnZhbHx8ciksZS5lcnJvckZpbHRlcj10LmVycm9yRmlsdGVyO2Vsc2V7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQmJlwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIGZvciBhc3luYy5yZXRyeVwiKTtlLnRpbWVzPSt0fHxpfX1pZihhcmd1bWVudHMubGVuZ3RoPDMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGU/KG49dHx8Uyx0PWUpOihzKG8sZSksbj1ufHxTKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIGZvciBhc3luYy5yZXRyeVwiKTt2YXIgYT0xO2Z1bmN0aW9uIHUoKXt0KChmdW5jdGlvbihlKXtlJiZhKys8by50aW1lcyYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG8uZXJyb3JGaWx0ZXJ8fG8uZXJyb3JGaWx0ZXIoZSkpP3NldFRpbWVvdXQodSxvLmludGVydmFsRnVuYyhhKSk6bi5hcHBseShudWxsLGFyZ3VtZW50cyl9KSl9dSgpfXZhciBobj1mdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD1lLGU9bnVsbCkscigoZnVuY3Rpb24obixpKXtmdW5jdGlvbiByKGUpe3QuYXBwbHkobnVsbCxuLmNvbmNhdChlKSl9ZT9mbihlLHIsaSk6Zm4ocixpKX0pKX07ZnVuY3Rpb24gcG4oZSx0KXtRdChydCxlLHQpfXZhciBnbj1pZShwdChCb29sZWFuLGh0LmEpKSxtbj1hZShwdChCb29sZWFuLGh0LmEpKSx5bj1YKG1uLDEpO2Z1bmN0aW9uIHduKGUsdCxuKXtmdW5jdGlvbiBpKGUsdCl7dmFyIG49ZS5jcml0ZXJpYSxpPXQuY3JpdGVyaWE7cmV0dXJuIG48aT8tMTpuPmk/MTowfW9lKGUsKGZ1bmN0aW9uKGUsbil7dChlLChmdW5jdGlvbih0LGkpe2lmKHQpcmV0dXJuIG4odCk7bihudWxsLHt2YWx1ZTplLGNyaXRlcmlhOml9KX0pKX0pLChmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIG4oZSk7bihudWxsLFNlKHQuc29ydChpKSxqdChcInZhbHVlXCIpKSl9KSl9ZnVuY3Rpb24gYm4oZSx0LG4pe3ZhciBpLG8scz0hMTtmdW5jdGlvbiBhKCl7c3x8KGkuYXBwbHkobnVsbCxhcmd1bWVudHMpLGNsZWFyVGltZW91dChvKSl9ZnVuY3Rpb24gdSgpe3ZhciB0PWUubmFtZXx8XCJhbm9ueW1vdXNcIixyPW5ldyBFcnJvcignQ2FsbGJhY2sgZnVuY3Rpb24gXCInK3QrJ1wiIHRpbWVkIG91dC4nKTtyLmNvZGU9XCJFVElNRURPVVRcIixuJiYoci5pbmZvPW4pLHM9ITAsaShyKX1yZXR1cm4gcigoZnVuY3Rpb24obixyKXtpPXIsbz1zZXRUaW1lb3V0KHUsdCksZS5hcHBseShudWxsLG4uY29uY2F0KGEpKX0pKX12YXIgdm49TWF0aC5jZWlsLFNuPU1hdGgubWF4O3ZhciBDbj1mdW5jdGlvbihlLHQsbixpKXtmb3IodmFyIHI9LTEsbz1Tbih2bigodC1lKS8obnx8MSkpLDApLHM9QXJyYXkobyk7by0tOylzW2k/bzorK3JdPWUsZSs9bjtyZXR1cm4gc307ZnVuY3Rpb24gX24oZSx0LG4saSl7dWUoQ24oMCxlLDEpLHQsbixpKX12YXIgVG49WChfbiwxLzApLEVuPVgoX24sMSk7ZnVuY3Rpb24gQW4oZSx0LG4saSl7Mz09PWFyZ3VtZW50cy5sZW5ndGgmJihpPW4sbj10LHQ9RChlKT9bXTp7fSksaT1DKGl8fFMpLG5lKGUsKGZ1bmN0aW9uKGUsaSxyKXtuKHQsZSxpLHIpfSksKGZ1bmN0aW9uKGUpe2koZSx0KX0pKX1mdW5jdGlvbiBJbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4oZS51bm1lbW9pemVkfHxlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIE9uKGUsdCxuKXtpZihuPUsobnx8UyksIWUoKSlyZXR1cm4gbihudWxsKTt2YXIgcj1PYmplY3QoaS5hKSgoZnVuY3Rpb24oaSxvKXtyZXR1cm4gaT9uKGkpOmUoKT90KHIpOnZvaWQgbi5hcHBseShudWxsLFtudWxsXS5jb25jYXQobykpfSkpO3Qocil9ZnVuY3Rpb24gTG4oZSx0LG4pe09uKChmdW5jdGlvbigpe3JldHVybiFlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHQsbil9dmFyIE1uPWZ1bmN0aW9uKGUsdCl7aWYodD1DKHR8fFMpLCFEKGUpKXJldHVybiB0KG5ldyBFcnJvcihcIkZpcnN0IGFyZ3VtZW50IHRvIHdhdGVyZmFsbCBtdXN0IGJlIGFuIGFycmF5IG9mIGZ1bmN0aW9uc1wiKSk7aWYoIWUubGVuZ3RoKXJldHVybiB0KCk7dmFyIG49MDshZnVuY3Rpb24gcihvKXtpZihuPT09ZS5sZW5ndGgpcmV0dXJuIHQuYXBwbHkobnVsbCxbbnVsbF0uY29uY2F0KG8pKTt2YXIgcz1LKE9iamVjdChpLmEpKChmdW5jdGlvbihlLG4pe2lmKGUpcmV0dXJuIHQuYXBwbHkobnVsbCxbZV0uY29uY2F0KG4pKTtyKG4pfSkpKTtvLnB1c2gocyksZVtuKytdLmFwcGx5KG51bGwsbyl9KFtdKX07dC5kZWZhdWx0PXthcHBseUVhY2g6c2UsYXBwbHlFYWNoU2VyaWVzOmxlLGFwcGx5OmRlLGFzeW5jaWZ5OmZlLGF1dG86dmUsYXV0b0luamVjdDpKZSxjYXJnbzppdCxjb21wb3NlOmF0LGNvbmNhdDpjdCxjb25jYXRTZXJpZXM6ZHQsY29uc3RhbnQ6ZnQsZGV0ZWN0Om10LGRldGVjdExpbWl0Onl0LGRldGVjdFNlcmllczp3dCxkaXI6dnQsZG9EdXJpbmc6U3QsZG9VbnRpbDpfdCxkb1doaWxzdDpDdCxkdXJpbmc6VHQsZWFjaDpBdCxlYWNoTGltaXQ6SXQsZWFjaE9mOm5lLGVhY2hPZkxpbWl0OkosZWFjaE9mU2VyaWVzOnJ0LGVhY2hTZXJpZXM6T3QsZW5zdXJlQXN5bmM6THQsZXZlcnk6RHQsZXZlcnlMaW1pdDprdCxldmVyeVNlcmllczpOdCxmaWx0ZXI6RnQsZmlsdGVyTGltaXQ6eHQsZmlsdGVyU2VyaWVzOkJ0LGZvcmV2ZXI6VXQsbG9nOnp0LG1hcDpvZSxtYXBMaW1pdDp1ZSxtYXBTZXJpZXM6Y2UsbWFwVmFsdWVzOlZ0LG1hcFZhbHVlc0xpbWl0Okh0LG1hcFZhbHVlc1NlcmllczpxdCxtZW1vaXplOkd0LG5leHRUaWNrOll0LmEscGFyYWxsZWw6S3QscGFyYWxsZWxMaW1pdDpadCxwcmlvcml0eVF1ZXVlOmVuLHF1ZXVlOlh0LHJhY2U6dG4scmVkdWNlOm90LHJlZHVjZVJpZ2h0OnJuLHJlZmxlY3Q6b24scmVmbGVjdEFsbDp1bixyZWplY3Q6YW4scmVqZWN0TGltaXQ6Y24scmVqZWN0U2VyaWVzOmxuLHJldHJ5OmZuLHJldHJ5YWJsZTpobixzZXE6c3Qsc2VyaWVzOnBuLHNldEltbWVkaWF0ZTpKdCxzb21lOmduLHNvbWVMaW1pdDptbixzb21lU2VyaWVzOnluLHNvcnRCeTp3bix0aW1lb3V0OmJuLHRpbWVzOlRuLHRpbWVzTGltaXQ6X24sdGltZXNTZXJpZXM6RW4sdHJhbnNmb3JtOkFuLHVubWVtb2l6ZTpJbix1bnRpbDpMbix3YXRlcmZhbGw6TW4sd2hpbHN0Ok9uLGFsbDpEdCxhbnk6Z24sZm9yRWFjaDpBdCxmb3JFYWNoU2VyaWVzOk90LGZvckVhY2hMaW1pdDpJdCxmb3JFYWNoT2Y6bmUsZm9yRWFjaE9mU2VyaWVzOnJ0LGZvckVhY2hPZkxpbWl0OkosaW5qZWN0Om90LGZvbGRsOm90LGZvbGRyOnJuLHNlbGVjdDpGdCxzZWxlY3RMaW1pdDp4dCxzZWxlY3RTZXJpZXM6QnQsd3JhcFN5bmM6ZmV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5NT1ZFX1JFQVNPTj10LkxBVU5DSEVSX1NFUlZJQ0U9dC5IRUFSVEJFQVRfVElNRU9VVF9DSEFOTkVMPXQuQ09NUE9ORU5UX1NUQVRFX1NUT1JBR0VfVE9QSUM9dC5XSU5ET1dfU0VSVklDRV9SRVFVRVNUUz10LldPUktTUEFDRT10LldJTkRPVz10LklOVEVSUlVQVElCTEVfRVZFTlRTPXQuRVZFTlRfSU5URVJSVVBUX0NIQU5ORUw9dC5ET0NLSU5HPXQuU0VSVklDRV9TVE9QX0NIQU5ORUw9dC5TRVJWSUNFX1NUQVJUX0NIQU5ORUw9dC5XSU5ET1dTVEFURT10LlNFUlZJQ0VTX1NUQVRFX0NIQU5ORUw9dC5DTElFTlRfU0VSVkVSX01BUFBJTkc9dC5TRVJWSUNFX1FVRVJZX1JFQURZX0NIQU5ORUw9dC5TRVJWSUNFX0NMT1NFRF9DSEFOTkVMPXQuU0VSVklDRV9DTE9TSU5HX0NIQU5ORUw9dC5TRVJWSUNFX1JFQURZX0NIQU5ORUw9dC5TRVJWSUNFX0lOSVRJQUxJWklOR19DSEFOTkVMPXQuQVBQTElDQVRJT05fU1RBVEVfQ0hBTk5FTD10LldSQVBQRVJTPXZvaWQgMCx0LldSQVBQRVJTPXtFVkVOVFM6W1widGl0bGUtY2hhbmdlZFwiLFwiYnJpbmdUb0Zyb250XCIsXCJzZXRCb3VuZHNcIixcImFsd2F5c09uVG9wXCIsXCJzZXRPcGFjaXR5XCJdfSx0LkFQUExJQ0FUSU9OX1NUQVRFX0NIQU5ORUw9XCJGaW5zZW1ibGUuQXBwbGljYXRpb24uU3RhdGVcIix0LlNFUlZJQ0VfSU5JVElBTElaSU5HX0NIQU5ORUw9XCJGaW5zZW1ibGUuU2VydmljZU1hbmFnZXIuc2VydmljZUluaXRpYWxpemluZ1wiLHQuU0VSVklDRV9SRUFEWV9DSEFOTkVMPVwiRmluc2VtYmxlLlNlcnZpY2VNYW5hZ2VyLnNlcnZpY2VSZWFkeVwiLHQuU0VSVklDRV9DTE9TSU5HX0NIQU5ORUw9XCJGaW5zZW1ibGUuU2VydmljZU1hbmFnZXIuc2VydmljZUNsb3NpbmdcIix0LlNFUlZJQ0VfQ0xPU0VEX0NIQU5ORUw9XCJGaW5zZW1ibGUuU2VydmljZU1hbmFnZXIuc2VydmljZUNsb3NlZFwiLHQuU0VSVklDRV9RVUVSWV9SRUFEWV9DSEFOTkVMPWU9PlwiRmluc2VtYmxlLlNlcnZpY2VNYW5hZ2VyLnF1ZXJ5UmVhZHkuXCIrZSx0LkNMSUVOVF9TRVJWRVJfTUFQUElORz1lPT4oe2F1dGhlbnRpY2F0aW9uQ2xpZW50OlwiYXV0aGVudGljYXRpb25TZXJ2aWNlXCIsY29uZmlnQ2xpZW50OlwiY29uZmlnU2VydmljZVwiLGRpc3RyaWJ1dGVkU3RvcmVDbGllbnQ6XCJkYXRhU3RvcmVTZXJ2aWNlXCIsaG90a2V5c0NsaWVudDpcImhvdGtleXNTZXJ2aWNlXCIsbGlua2VyQ2xpZW50OlwibGlua2VyU2VydmljZVwiLGxvZ2dlcjpcImxvZ2dlclNlcnZpY2VcIixzZWFyY2hDbGllbnQ6XCJzZWFyY2hTZXJ2aWNlXCIsc3RvcmFnZUNsaWVudDpcInN0b3JhZ2VTZXJ2aWNlXCIsd2luZG93Q2xpZW50Olwid2luZG93U2VydmljZVwiLHdvcmtzcGFjZUNsaWVudDpcIndvcmtzcGFjZVNlcnZpY2VcIn1bZV0pLHQuU0VSVklDRVNfU1RBVEVfQ0hBTk5FTD1cIkZpbnNlbWJsZS5TdGF0ZS5TZXJ2aWNlc1wiLGZ1bmN0aW9uKGUpe2VbZS5OT1JNQUw9MF09XCJOT1JNQUxcIixlW2UuTUlOSU1JWkVEX1dBU19OT1JNQUw9MV09XCJNSU5JTUlaRURfV0FTX05PUk1BTFwiLGVbZS5NQVhJTUlaRUQ9Ml09XCJNQVhJTUlaRURcIixlW2UuTUlOSU1JWkVEX1dBU19NQVhJTUlaRUQ9M109XCJNSU5JTUlaRURfV0FTX01BWElNSVpFRFwiLGVbZS5UUkFOU0lUSU9OSU5HPTRdPVwiVFJBTlNJVElPTklOR1wifSh0LldJTkRPV1NUQVRFfHwodC5XSU5ET1dTVEFURT17fSkpLHQuU0VSVklDRV9TVEFSVF9DSEFOTkVMPVwiRmluc2VtYmxlLlNlcnZpY2UuU3RhcnRcIix0LlNFUlZJQ0VfU1RPUF9DSEFOTkVMPVwiRmluc2VtYmxlLlNlcnZpY2UuU3RvcFwiLHQuRE9DS0lORz17R1JPVVBfVVBEQVRFOlwiRG9ja2luZ1NlcnZpY2UuZ3JvdXBVcGRhdGVcIixXT1JLU1BBQ0VfR1JPVVBfVVBEQVRFOlwiRmluc2VtYmxlLldvcmtzcGFjZVNlcnZpY2UuZ3JvdXBVcGRhdGVcIixSRVFVRVNUX1BVQkxJU0g6XCJEb2NraW5nU2VydmljZS5yZXF1ZXN0R3JvdXBEYXRhUHVibGlzaFwifSx0LkVWRU5UX0lOVEVSUlVQVF9DSEFOTkVMPVwiRmluc2VtYmxlLkV2ZW50LkludGVycnVwdFwiLHQuSU5URVJSVVBUSUJMRV9FVkVOVFM9W1wiY2xvc2UtcmVxdWVzdGVkXCIsXCJjbG9zZWRcIixcImNsb3NlLWNvbXBsZXRlXCIsXCJfY29udGFpbmVyLWNsb3NlLWhhbmRsZXJzXCJdLHQuV0lORE9XPXtERUxBWUFCTEVfRVZFTlRTOltcImNsb3NlLXJlcXVlc3RlZFwiLFwiY2xvc2VkXCIsXCJjbG9zZS1jb21wbGV0ZVwiLFwiX2NvbnRhaW5lci1jbG9zZS1oYW5kbGVyc1wiXSxDQU5DRUxBQkxFX0VWRU5UUzpbXCJjbG9zZS1yZXF1ZXN0ZWRcIl19LHQuV09SS1NQQUNFPXtERUxBWUFCTEVfRVZFTlRTOltcImxvYWQtcmVxdWVzdGVkXCIsXCJjbG9zZS1yZXF1ZXN0ZWRcIixcInNhdmUtcmVxdWVzdGVkXCJdLENBTkNFTEFCTEVfRVZFTlRTOltcImNsb3NlLXJlcXVlc3RlZFwiXSxDTEVBTl9TSFVURE9XTjpcIkZpbnNlbWJsZS5Xb3Jrc3BhY2UuY2xlYW5TaHV0ZG93blwiLFVQREFURV9QVUJTVUI6XCJGaW5zZW1ibGUuV29ya3NwYWNlU2VydmljZS51cGRhdGVcIixTVE9SQUdFX1RPUElDOlwiZmluc2VtYmxlLndvcmtzcGFjZVwiLENBQ0hFX1NUT1JBR0VfVE9QSUM6XCJmaW5zZW1ibGUud29ya3NwYWNlLmNhY2hlXCIsQUxMX1dPUktTUEFDRVM6XCJmaW5zZW1ibGUuYWxsV29ya3NwYWNlc1wiLEFDVElWRV9XT1JLU1BBQ0U6XCJhY3RpdmVXb3Jrc3BhY2VcIixMQVNUX1VTRURfV09SS1NQQUNFX1RPUElDOlwiZmluc2VtYmxlXCIsTEFTVF9VU0VEX1dPUktTUEFDRV9OQU1FOlwiZmluc2VtYmxlLmxhc3RVc2VkV29ya3NwYWNlLm5hbWVcIixMQVNUX1VTRURfV09SS1NQQUNFOlwiZmluc2VtYmxlLmxhc3RVc2VkV29ya3NwYWNlXCIsSU5JVElBTF9XT1JLU1BBQ0VfUFJFRkVSRU5DRTpcImZpbnNlbWJsZS5pbml0aWFsV29ya3NwYWNlXCIsUFVCTElTSF9SRUFTT05TOntJTklUOlwid29ya3NwYWNlOmluaXRpYWxpemF0aW9uXCIsTE9BRF9EQVRBX1JFVFJJRVZFRDpcIndvcmtzcGFjZTpsb2FkOmRhdGFSZXRyaWV2ZWRcIixMT0FEX0ZJTklTSEVEOlwid29ya3NwYWNlOmxvYWQ6ZmluaXNoZWRcIixXSU5ET1dfUkVNT1ZFRDpcIndpbmRvdzpyZW1vdmVcIixXSU5ET1dfQURERUQ6XCJ3aW5kb3c6YWRkXCIsTE9BRF9TVEFSVEVEOlwid29ya3NwYWNlOmxvYWQ6c3RhcnRcIixXT1JLU1BBQ0VfUkVNT1ZFRDpcIldvcmtzcGFjZTpyZW1vdmVcIixXT1JLU1BBQ0VfUkVOQU1FRDpcInJlbmFtZVwiLFNXSVRDSFRPX1RFUk1JTkFURUQ6XCJ3b3Jrc3BhY2U6c3dpdGNoVG86dGVybWluYXRlZFwiLE5FV19XT1JLU1BBQ0U6XCJuZXcgd29ya3NwYWNlXCIsU0FWRV9BUzpcIkFQUExJQ0FUSU9OIExJRkVDWUNMRTpXT1JLU1BBQ0UgTElGRUNZQ0xFOlNhdmVBczpXb3Jrc3BhY2U6U2F2ZSBBc1wifSxBUElfQ0hBTk5FTFM6e05FV19XT1JLU1BBQ0U6XCJGaW5zZW1ibGUuV29ya3NwYWNlLk5ld1dvcmtzcGFjZVwiLFNBVkU6XCJGaW5zZW1ibGUuV29ya3NwYWNlLlNhdmVcIixSRU5BTUU6XCJGaW5zZW1ibGUuV29ya3NwYWNlLlJlbmFtZVwiLFNBVkVfQVM6XCJGaW5zZW1ibGUuV29ya3NwYWNlLlNhdmVBc1wiLFNXSVRDSF9UTzpcIkZpbnNlbWJsZS5Xb3Jrc3BhY2UuU3dpdGNoVG9cIixJTVBPUlQ6XCJGaW5zZW1ibGUuV29ya3NwYWNlLkltcG9ydFwiLEVYUE9SVDpcIkZpbnNlbWJsZS5Xb3Jrc3BhY2UuRXhwb3J0XCIsUkVNT1ZFOlwiRmluc2VtYmxlLldvcmtzcGFjZS5SZW1vdmVcIixTQVZFX0dMT0JBTF9EQVRBOlwiRmluc2VtYmxlLldvcmtzcGFjZS5TYXZlR2xvYmFsRGF0YVwiLFNBVkVfVklFV19EQVRBOlwiRmluc2VtYmxlLldvcmtzcGFjZS5TYXZlVmlld0RhdGFcIixHRVRfR0xPQkFMX0RBVEE6XCJGaW5zZW1ibGUuV29ya3NwYWNlLkdldEdsb2JhbERhdGFcIixHRVRfVklFV19EQVRBOlwiRmluc2VtYmxlLldvcmtzcGFjZS5HZXRWaWV3RGF0YVwiLEdFVF9XT1JLU1BBQ0VTOlwiRmluc2VtYmxlLldvcmtzcGFjZS5HZXRXb3Jrc3BhY2VzXCIsR0VUX1dPUktTUEFDRV9OQU1FUzpcIkZpbnNlbWJsZS5Xb3Jrc3BhY2UuR2V0V29ya3NwYWNlTmFtZXNcIixTRVRfV09SS1NQQUNFX09SREVSOlwiRmluc2VtYmxlLldvcmtzcGFjZS5TZXRXb3Jrc3BhY2VPcmRlclwiLEdFVF9BQ1RJVkVfV09SS1NQQUNFOlwiRmluc2VtYmxlLldvcmtzcGFjZS5HZXRBY3RpdmVXb3Jrc3BhY2VcIixHRVRfQUNUSVZFX1dPUktTUEFDRV9ESVJUWTpcIkZpbnNlbWJsZS5Xb3Jrc3BhY2UuR2V0QWN0aXZlV29ya3NwYWNlRGlydHlcIixHRVRfVEVNUExBVEVTOlwiRmluc2VtYmxlLldvcmtzcGFjZS5HZXRUZW1wbGF0ZXNcIixJTVBPUlRfVEVNUExBVEU6XCJGaW5zZW1ibGUuV29ya3NwYWNlLkltcG9ydFRlbXBsYXRlXCIsRVhQT1JUX1RFTVBMQVRFOlwiRmluc2VtYmxlLldvcmtzcGFjZS5FeHBvcnRUZW1wbGF0ZVwiLFJFTU9WRV9URU1QTEFURTpcIkZpbnNlbWJsZS5Xb3Jrc3BhY2UuUmVtb3ZlVGVtcGxhdGVcIixTRVRfV0lORE9XX1NUQVRFOlwiRmluc2VtYmxlLldvcmtzcGFjZS5TZXRXaW5kb3dEYXRhXCIsR0VUX1dJTkRPV19TVEFURTpcIkZpbnNlbWJsZS5Xb3Jrc3BhY2UuR2V0V2luZG93RGF0YVwiLEFERF9XSU5ET1c6XCJXb3Jrc3BhY2VTZXJ2aWNlLmFkZFdpbmRvd1wiLFJFTU9WRV9XSU5ET1c6XCJXb3Jrc3BhY2VTZXJ2aWNlLnJlbW92ZVdpbmRvd1wifSxERUZBVUxUX1dJTkRPV19QUk9QUzpbXCJuYW1lXCIsXCJjb21wb25lbnRUeXBlXCIsXCJ3aW5kb3dUeXBlXCIsXCJhbHdheXNPblRvcFwiLFwiYXV0b1Nob3dcIixcIm1pbldpZHRoXCIsXCJtaW5IZWlnaHRcIixcIm1heFdpZHRoXCIsXCJtYXhIZWlnaHRcIixcInJlc2l6YWJsZVwiLFwibWF4aW1pemFibGVcIixcIm1pbmltaXphYmxlXCIsXCJvcGFjaXR5XCIsXCJ3aW5kb3dTdGF0ZVwiLFwibGVmdFwiLFwidG9wXCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJyaWdodFwiLFwiYm90dG9tXCIsXCJkZWZhdWx0TGVmdFwiLFwiZGVmYXVsdFRvcFwiLFwiZGVmYXVsdFdpZHRoXCIsXCJkZWZhdWx0SGVpZ2h0XCIsXCJkZWZhdWx0UmlnaHRcIixcImRlZmF1bHRCb3R0b21cIixcIm1vbml0b3JJbmZvXCIsXCJpY29uXCIsXCJjYWNoZWRCb3VuZHNcIixcInNob3dUYXNrYmFySWNvblwiLFwiaXNFdmVyZ3JlZW5cIixcImNvbXBvc2l0ZUNvbXBvbmVudERhdGFcIl0sQURESVRJT05BTF9XSU5ET1dfUFJPUFM6e1dlYldpbmRvdzpbXCJ1cmxcIixcImZ1bGxzY3JlZW5cIixcImZyYW1lXCIsXCJiYWNrZ3JvdW5kQ29sb3JcIixcInRyYW5zcGFyZW50XCIsXCJ3YWl0Rm9yUGFnZUxvYWRcIixcImFmZmluaXR5XCIsXCJhcHBVVUlEXCJdLE5hdGl2ZVdpbmRvdzpbXCJwYXRoXCIsXCJhbGlhc1wiLFwiYXJndW1lbnRzXCIsXCJhcmd1bWVudHNBc1F1ZXJ5U3RyaW5nXCIsXCJpc1dQRlwiXSxTdGFja2VkV2luZG93OltcImNoaWxkV2luZG93SWRlbnRpZmllcnNcIixcInZpc2libGVXaW5kb3dJZGVudGlmaWVyXCIsXCJib3VuZHNcIl19fSx0LldJTkRPV19TRVJWSUNFX1JFUVVFU1RTPXtSRU1PVEVfRk9DVVM6XCJXaW5kb3dTZXJ2aWNlLnJlbW90ZUZvY3VzXCIsU0VUX0FMV0FZU19PTl9UT1A6XCJXaW5kb3dTZXJ2aWNlLVJlcXVlc3Qtc2V0QWx3YXlzT25Ub3BcIixJU19BTFdBWVNfT05fVE9QOlwiV2luZG93U2VydmljZS1SZXF1ZXN0LWlzQWx3YXlzT25Ub3BcIn0sdC5DT01QT05FTlRfU1RBVEVfU1RPUkFHRV9UT1BJQz1cImZpbnNlbWJsZS5jb21wb25lbnRTdGF0ZVN0b3JhZ2VcIix0LkhFQVJUQkVBVF9USU1FT1VUX0NIQU5ORUw9XCJGaW5zZW1ibGUuV2luZG93U2VydmljZS5IZWFydGJlYXRUaW1lb3V0XCIsdC5MQVVOQ0hFUl9TRVJWSUNFPXtXSU5ET1dfQ0xPU0VEOlwiTGF1bmNoZXJTZXJ2aWNlLldpbmRvd0Nsb3NlZFwifSx0Lk1PVkVfUkVBU09OPXtBRVJPX0tFWTpcImFlcm9fa2V5XCIsU1lTVEVNX1JFU1RPUkVEOlwic3lzdGVtX3Jlc3RvcmVkXCJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSl9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLHI9dGhpcyYmdGhpcy5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pfTpmdW5jdGlvbihlLHQpe2UuZGVmYXVsdD10fSksbz10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmaSh0LGUsbik7cmV0dXJuIHIodCxlKSx0fSxzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO1xuLyohXG4gKiBDb3B5cmlnaHQgMjAxNyAtIDIwMjAgYnkgQ2hhcnRJUSwgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuY29uc3QgYT1uKDEyKSx1PXMobigyNykpLGM9cyhuKDQxKSksbD1vKG4oMTEpKSxkPW4oMiksZj1uKDQpLGg9cyhuKDApKSxwPXMobig4KSksZz1uKDE1KSxtPW4oMTApLHk9cyhuKDcpKSx3PW4oMTMpLGI9cyhuKDIxKSksdj1uKDkpLFM9bigzNyk7bGV0IEM7ZnVuY3Rpb24gXyhlLHQpe3JldHVybiBlLmNsYXNzTGlzdD9lLmNsYXNzTGlzdC5jb250YWlucyh0KTohIWUuY2xhc3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoYChcXFxcc3xeKSR7dH0oXFxcXHN8JClgKSl9Y2xhc3MgVCBleHRlbmRzIGYuX0Jhc2VDbGllbnR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5zaG93QXRNb3VzZVBvc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5yb3V0ZXJDbGllbnQudHJhbnNtaXQoXCJEb2NraW5nU2VydmljZS5zaG93QXRNb3VzZVBvc2l0aW9uXCIsdGhpcy5nZXRXaW5kb3dJZGVudGlmaWVyKCkpfSxwLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0PVwiKSYmZSYmcC5kZWZhdWx0LmFyZ3MyKFwicGFyYW1zLm9uUmVhZHlcIixlLm9uUmVhZHksXCJmdW5jdGlvbj1cIiksdGhpcy5vcHRpb25zPXt9LHRoaXMud2luZG93SGFzaD1cIlwiLHRoaXMudGl0bGU9bnVsbCx0aGlzLnRvb2xiYXJCb3R0b209NDAsdGhpcy5jb250YWluZXJzPVtdLHRoaXMuY29tcG9uZW50U3RhdGU9e30sdGhpcy53aW5kb3dTdGF0ZT1cIm5vcm1hbFwiLHRoaXMuaGFzSGVhZGVyPSExLHRoaXMuZW5hYmxlV2luZG93c0Flcm9TbmFwPSExLHRoaXMuYmluZEZ1bmN0aW9ucygpLHRoaXMubWluaW1pemVXaXRoRG9ja2VkV2luZG93cz10aGlzLm1pbmltaXplfWJpbmRGdW5jdGlvbnMoKXt0aGlzLm9uV2luZG93UmVzdG9yZWQ9dGhpcy5vbldpbmRvd1Jlc3RvcmVkLmJpbmQodGhpcyksdGhpcy5vbldpbmRvd01heGltaXplZD10aGlzLm9uV2luZG93TWF4aW1pemVkLmJpbmQodGhpcyksdGhpcy5vbldpbmRvd0JsdXJyZWQ9dGhpcy5vbldpbmRvd0JsdXJyZWQuYmluZCh0aGlzKSx0aGlzLm9uV2luZG93Rm9jdXNlZD10aGlzLm9uV2luZG93Rm9jdXNlZC5iaW5kKHRoaXMpLHRoaXMub25NaW5pbWl6ZWRSZXN0b3JlZD10aGlzLm9uTWluaW1pemVkUmVzdG9yZWQuYmluZCh0aGlzKSx0aGlzLm9uV2luZG93TWluaW1pemVkPXRoaXMub25XaW5kb3dNaW5pbWl6ZWQuYmluZCh0aGlzKSx0aGlzLmNsb3NlPXRoaXMuY2xvc2UuYmluZCh0aGlzKSx0aGlzLmdldEluaXRpYWxPcHRpb25zPXRoaXMuZ2V0SW5pdGlhbE9wdGlvbnMuYmluZCh0aGlzKSx0aGlzLmNhY2hlSW5pdGlhbEJvdW5kcz10aGlzLmNhY2hlSW5pdGlhbEJvdW5kcy5iaW5kKHRoaXMpLHRoaXMuX3NldEhlYWRlckhlaWdodD10aGlzLl9zZXRIZWFkZXJIZWlnaHQuYmluZCh0aGlzKX1vbldpbmRvd1Jlc3RvcmVkKCl7dGhpcy51cGRhdGVIZWFkZXJTdGF0ZShcIk1heGltaXplXCIse2hpZGU6ITF9KX1vbldpbmRvd01heGltaXplZCgpe3RoaXMudXBkYXRlSGVhZGVyU3RhdGUoXCJNYXhpbWl6ZVwiLHtoaWRlOiEwfSl9b25XaW5kb3dCbHVycmVkKCl7dGhpcy5zZXRBY3RpdmUoITEpfW9uV2luZG93Rm9jdXNlZCgpe3RoaXMuc2V0QWN0aXZlKCEwKX1vbk1pbmltaXplZFJlc3RvcmVkKCl7dGhpcy5yb3V0ZXJDbGllbnQudHJhbnNtaXQoXCJEb2NraW5nU2VydmljZS53aW5kb3dSZXN0b3JlZFwiLEMubmFtZSksQy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzdG9yZWRcIix0aGlzLm9uTWluaW1pemVkUmVzdG9yZWQpfW9uV2luZG93TWluaW1pemVkKCl7dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJEb2NraW5nU2VydmljZS53aW5kb3dNaW5pbWl6ZWRcIix7d2luZG93TmFtZTpDLm5hbWV9KSxDLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXN0b3JlZFwiLHRoaXMub25NaW5pbWl6ZWRSZXN0b3JlZCl9Z2V0V2luZG93R3JvdXBzKCl7cmV0dXJuIHRoaXMud2luZG93R3JvdXBzfWdyb3VwVXBkYXRlSGFuZGxlcihlLHQpe2U/RlNCTC5DbGllbnRzLkxvZ2dlci5lcnJvcihlKTp0LmRhdGEmJnQuZGF0YS5ncm91cERhdGEmJih0aGlzLndpbmRvd0dyb3Vwcz1PYmplY3QudmFsdWVzKHQuZGF0YS5ncm91cERhdGEpLmZpbHRlcihlPT5lLndpbmRvd05hbWVzLmluY2x1ZGVzKHRoaXMuZ2V0V2luZG93TmFtZUZvckRvY2tpbmcoKSkpKX1jbG9zZShlLHQ9KCgpPT57fSkpe2V8fChlPXtyZW1vdmVGcm9tV29ya3NwYWNlOiEwLGNsb3NlV2luZG93OiEwfSk7Y29uc3R7cGFyZW50V2luZG93Om59PUM7aWYoZS51c2VySW5pdGlhdGVkJiZuKXJldHVybiBuLmNsb3NlKGUsdCk7Qy5jbG9zZShlLHQpfWdldFdpbmRvd0hhc2goKXtyZXR1cm4gdGhpcy53aW5kb3dIYXNofWdldFdpbmRvd1RpdGxlKCl7cmV0dXJuIHRoaXMudGl0bGV9cmV0cmlldmVNb25pdG9yRGltZW5zaW9ucyhlPUZ1bmN0aW9uLnByb3RvdHlwZSl7bC5nZXRNb25pdG9yKG51bGwsdD0+e0MudXBkYXRlT3B0aW9ucyh7b3B0aW9uczp7bW9uaXRvckRpbWVuc2lvbnM6dC5tb25pdG9yUmVjdH19KSxlJiZlKHQubW9uaXRvclJlY3QpfSl9bGlzdGVuRm9ySGFzaENoYW5nZXMoKXtkLlN5c3RlbS5oYXNCcm93c2VyVmlldygpfHwoQy51cGRhdGVPcHRpb25zKHt1cmw6d2luZG93LnRvcC5sb2NhdGlvbi5ocmVmfSwoKT0+e30pLGZ1bmN0aW9uKGUpe2NvbnN0e3B1c2hTdGF0ZTp0fT1lO2UucHVzaFN0YXRlPWZ1bmN0aW9uKG4pe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUub25wdXNoc3RhdGUmJmUub25wdXNoc3RhdGUoe3N0YXRlOm59KSx0LmFwcGx5KGUsYXJndW1lbnRzKSxDLnVwZGF0ZU9wdGlvbnMoe3VybDp3aW5kb3cudG9wLmxvY2F0aW9uLmhyZWZ9LCgpPT57fSl9O2NvbnN0e3JlcGxhY2VTdGF0ZTpufT1lO2UucmVwbGFjZVN0YXRlPWZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUub25yZXBsYWNlc3RhdGUmJmUub25yZXBsYWNlc3RhdGUoe3N0YXRlOnR9KSxuLmFwcGx5KGUsYXJndW1lbnRzKSxDLnVwZGF0ZU9wdGlvbnMoe3VybDp3aW5kb3cudG9wLmxvY2F0aW9uLnRvU3RyaW5nKCl9KX19KHdpbmRvdy5oaXN0b3J5KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIiwoKT0+e0MudXBkYXRlT3B0aW9ucyh7dXJsOndpbmRvdy50b3AubG9jYXRpb24udG9TdHJpbmcoKX0sKCk9Pnt9KX0pKX1nZXRJbml0aWFsT3B0aW9ucyhlKXt0aGlzLmlzSW5BU2VydmljZT8odGhpcy5vcHRpb25zPXt9LGguZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJXaW5kb3dDbGllbnQ6Z2V0dGluZyBvcHRpb25zIGVtcHR5XCIsdGhpcy5vcHRpb25zKSxlKCkpOkMuZ2V0T3B0aW9ucygodCxuKT0+e3QmJihuPXt9KSxDLndpbmRvd09wdGlvbnM9bix0aGlzLm9wdGlvbnM9bixoLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV2luZG93Q2xpZW50OmdldHRpbmcgb3B0aW9uc1wiLHRoaXMub3B0aW9ucyksZSgpfSl9Y2FjaGVJbml0aWFsQm91bmRzKGUpe2lmKGQuU3lzdGVtLmhhc0Jyb3dzZXJWaWV3KCkpcmV0dXJuIGUoKTt0aGlzLmNhY2hlQm91bmRzKCgpPT57dHJ5e2lmKCFDLndpbmRvd09wdGlvbnMuY3VzdG9tRGF0YS5mb3JlaWduLmNvbXBvbmVudHNbXCJXaW5kb3cgTWFuYWdlclwiXS5wZXJzaXN0V2luZG93U3RhdGUpcmV0dXJuIGUoKTtDLnVwZGF0ZU9wdGlvbnMoe29wdGlvbnM6e3VybDp3aW5kb3cudG9wLmxvY2F0aW9uLnRvU3RyaW5nKCl9fSl9Y2F0Y2goZSl7aC5kZWZhdWx0LnN5c3RlbS53YXJuKCdjdXN0b21EYXRhLmZvcmVpZ24uY29tcG9uZW50c1tcIldpbmRvdyBNYW5hZ2VyXCIgaXMgdW5kZWZpbmVkJyl9ZSgpfSl9c2V0SW5pdGlhbFdpbmRvd0JvdW5kcyhlKXtoLmRlZmF1bHQuc3lzdGVtLndhcm4oXCJgRlNCTC5DbGllbnRzLldpbmRvd0NsaWVudC5zZXRJbml0aWFsV2luZG93Qm91bmRzIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIGZpbnNlbWJsZS4gVXNlICdnZXRJbml0aWFsT3B0aW9ucycgYW5kICdjYWNoZUluaXRpYWxCb3VuZHMnIGluc3RlYWQuXCIpLGEucGFyYWxsZWwoW3RoaXMuZ2V0SW5pdGlhbE9wdGlvbnMsdGhpcy5jYWNoZUluaXRpYWxCb3VuZHNdLGUpfWdldFdpbmRvd0JvdW5kcygpe3JldHVybnt0b3A6Qy53aW5kb3dPcHRpb25zLmRlZmF1bHRUb3AsbGVmdDpDLndpbmRvd09wdGlvbnMuZGVmYXVsdExlZnQsd2lkdGg6Qy53aW5kb3dPcHRpb25zLmRlZmF1bHRXaWR0aCxoZWlnaHQ6Qy53aW5kb3dPcHRpb25zLmRlZmF1bHRIZWlnaHR9fXNhdmVXaW5kb3dCb3VuZHMoZSx0KXtpZihoLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV0lORE9XIExJRkVDWUNMRTpTYXZpbmdCb3VuZHM6XCIsZSxcInNldEFjdGl2ZVdvcmtzcGFjZURpcnR5XCIsdCksdm9pZCAwPT09dCYmKHQ9ITEpLHAuZGVmYXVsdC5hcmdzKGUsXCJvYmplY3RcIikmJnAuZGVmYXVsdC5hcmdzMihcImJvdW5kcy50b3BcIixlLnRvcCxcIm51bWJlclwiKSxlKXtDLnVwZGF0ZU9wdGlvbnMoe29wdGlvbnM6e3RvcDpNYXRoLnJvdW5kKGUudG9wKSxkZWZhdWx0VG9wOk1hdGgucm91bmQoZS50b3ApLGxlZnQ6TWF0aC5yb3VuZChlLmxlZnQpLGRlZmF1bHRMZWZ0Ok1hdGgucm91bmQoZS5sZWZ0KSx3aWR0aDpNYXRoLnJvdW5kKGUud2lkdGgpLGRlZmF1bHRXaWR0aDpNYXRoLnJvdW5kKGUud2lkdGgpLGhlaWdodDpNYXRoLnJvdW5kKGUuaGVpZ2h0KSxkZWZhdWx0SGVpZ2h0Ok1hdGgucm91bmQoZS5oZWlnaHQpfX0pO3RyeXtDLndpbmRvd09wdGlvbnMuY3VzdG9tRGF0YS5mb3JlaWduLmNvbXBvbmVudHNbXCJXaW5kb3cgTWFuYWdlclwiXS5wZXJzaXN0V2luZG93U3RhdGV9Y2F0Y2goZSl7fX19bWluaW1pemUoZSl7dGhpcy5jYWNoZUJvdW5kcygoKT0+e0MubWluaW1pemUobnVsbCx0PT57dCYmaC5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIldpbmRvd0NsaWVudDptaW5pbWl6ZVwiLHQpLGUmJmUodCl9KX0pfXNldEFsd2F5c09uVG9wKGUsdCl7Qy5zZXRBbHdheXNPblRvcCh7YWx3YXlzT25Ub3A6ZX0sdCl9cmVzdG9yZShlPSgoKT0+e30pKXtDLnJlc3RvcmUobnVsbCx0PT57dCYmaC5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIldpbmRvd0NsaWVudDpyZXN0b3JlXCIsdCksZSh0KX0pfWNhY2hlQm91bmRzKGUpe3RoaXMuZ2V0Qm91bmRzKCh0LG4pPT57aWYodClyZXR1cm4gZSgpLGNvbnNvbGUud2FybihcIkdldCBib3VuZHMgZXJyb3IuXCIsdCxcIldpbmRvdyBtYXkgbm90IGJlIHJlZ2lzdGVyZWQgd2l0aCB0aGUgd2luZG93IHNlcnZpY2VcIik7Qy51cGRhdGVPcHRpb25zKHtvcHRpb25zOntjYWNoZWRMZWZ0Om4ubGVmdCxkZWZhdWx0TGVmdDpuLmxlZnQsY2FjaGVkVG9wOm4udG9wLGRlZmF1bHRUb3A6bi50b3AsY2FjaGVkV2lkdGg6bi53aWR0aCxkZWZhdWx0V2lkdGg6bi53aWR0aCxjYWNoZWRIZWlnaHQ6bi5oZWlnaHQsZGVmYXVsdEhlaWdodDpuLmhlaWdodH19KSxlJiZlKG4pfSl9bWF4aW1pemUoZSl7dGhpcy5jYWNoZUJvdW5kcygoKT0+KEMubWF4aW1pemUoKSxlKCkpKX1yZW1vdmVGaW5XaW5kb3dFdmVudExpc3RlbmVycygpe0MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1heGltaXplZFwiLHRoaXMub25XaW5kb3dNYXhpbWl6ZWQpLEMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc3RvcmVkXCIsdGhpcy5vbldpbmRvd1Jlc3RvcmVkKSxDLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVycmVkXCIsdGhpcy5vbldpbmRvd0JsdXJyZWQpLEMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzZWRcIix0aGlzLm9uV2luZG93Rm9jdXNlZCksQy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xvc2UtcmVxdWVzdGVkXCIsdGhpcy5jbG9zZSksQy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWluaW1pemVkXCIsdGhpcy5vbldpbmRvd01pbmltaXplZCl9aW5qZWN0RE9NKGUpe2lmKGguZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJpbmplY3RET01cIixlKSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkZTQkxIZWFkZXJcIikpcmV0dXJuO3dpbmRvdy5zY3JvbGxUbygwLDApO2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmlubmVySFRNTD1gPGRpdiBpZD1cIkZTQkxIZWFkZXJcIiR7ZT9cIiBzdHlsZT1oZWlnaHQ6XCIrZTpcIlwifT48L2Rpdj5gLGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHQuZmlyc3RDaGlsZCxkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpfWdldENvbXBvbmVudFN0YXRlKGUsdCl7aWYoZXx8KGU9e30pLGUuZmllbGRzJiYhQXJyYXkuaXNBcnJheShlLmZpZWxkcykmJihlLmZpZWxkcz1bZS5maWVsZHNdKSxwLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uXCIpLEMpcmV0dXJuIEMuZ2V0Q29tcG9uZW50U3RhdGUoZSx0KTtoLmRlZmF1bHQuc3lzdGVtLndhcm4oXCJBdHRlbXB0IHRvIHVzZSBnZXRDb21wb25lbnRTdGF0ZSBiZWZvcmUgY29tcG9uZW50IGlzIHJlYWR5IG9yIGluIGEgc2VydmljZVwiKSxlLndpbmRvd05hbWV8fChlLndpbmRvd05hbWU9d2luZG93Lm5hbWUpO2NvbnN0IG49dGhpcy5nZXRDb250YWluZXJIYXNoKGUud2luZG93TmFtZSk7dS5kZWZhdWx0LmdldCh7dG9waWM6dy5XT1JLU1BBQ0UuQ0FDSEVfU1RPUkFHRV9UT1BJQyxrZXk6bn0sKG4saSk9PntpZihuKXJldHVybiBoLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiRXJyb3IgcmV0cmlldmluZyB3aW5kb3cgY2xpZW50J3MgY29tcG9uZW50IHN0YXRlLlwiKSx2b2lkIHQobik7Y29uc3Qgcj1pO2lmKGkmJmUuZmllbGQpdGhpcy5jb21wb25lbnRTdGF0ZT1yfHx7fSx0KG4scltlLmZpZWxkXSk7ZWxzZXtpZihlLmZpZWxkcyl7Y29uc3Qgbj17fTtmb3IobGV0IHQ9MDt0PGUuZmllbGRzLmxlbmd0aDt0KyspcltlLmZpZWxkc1t0XV0mJihuW2UuZmllbGRzW3RdXT1yW2UuZmllbGRzW3RdXSk7cmV0dXJuIHQobnVsbCxuKX1pZihpKXJldHVybiB0KG51bGwscik7aC5kZWZhdWx0LnN5c3RlbS5pbmZvKFwiV2luZG93Q2xpZW50OmdldENvbXBvbmVudFN0YXRlOmVycm9yLCByZXNwb25zZSwgcGFyYW1zXCIsbixpLGUpLHQoXCJOb3QgZm91bmRcIixpKX19KX1hc3luYyBzZXRDb21wb25lbnRTdGF0ZShlLHQ9KCgpPT57fSkpe3JldHVybiBwLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uPVwiKSYmcC5kZWZhdWx0LmFyZ3MyKFwicGFyYW1zLmZpZWxkXCIsZS5maWVsZCxcInN0cmluZ1wiKSxDP0Muc2V0Q29tcG9uZW50U3RhdGUoZSx0KTp0aGlzLmlzSW5BU2VydmljZT8odChcIkNhbm5vdCBjYWxsIHNldENvbXBvbmVudFN0YXRlIGluIGEgc2VydmljZS5cIiksUHJvbWlzZS5yZXNvbHZlKCkpOih0KFwiQ2Fubm90IGNhbGwgc2V0Q29tcG9uZW50U3RhdGUuIFRoZSB3aW5kb3cgbWF5IG5vdCBiZSByZWFkeVwiKSxQcm9taXNlLnJlamVjdChcIlRoZSB3aW5kb3cgaXMgbm90IHlldCByZWFkeSB0byBzYXZlIHN0YXRlLlwiKSl9YXN5bmMgcmVtb3ZlQ29tcG9uZW50U3RhdGUoZSx0PSgoKT0+e30pKXtwLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uPVwiKSYmcC5kZWZhdWx0LmFyZ3MyKFwicGFyYW1zLmZpZWxkXCIsZS5maWVsZCxcInN0cmluZ1wiKTtyZXR1cm4oQ3x8YXdhaXQgZy5GaW5zZW1ibGVXaW5kb3cuZ2V0SW5zdGFuY2Uoe25hbWU6ZS53aW5kb3dOYW1lfHx3aW5kb3cubmFtZX0pKS5yZW1vdmVDb21wb25lbnRTdGF0ZShlLHQpfWdldFdpbmRvd05hbWVGb3JEb2NraW5nKCl7Y29uc3QgZT1DLnBhcmVudFdpbmRvdztyZXR1cm4gZT9lLm5hbWU6Qy5uYW1lfWdldENvbnRhaW5lckhhc2goZSl7cmV0dXJuIGwuY2FtZWxDYXNlKHRoaXMud2luZG93SGFzaCxlKX1mb3JtR3JvdXAoKXtDLmZvcm1Hcm91cCgpfXJlZ2lzdGVyV2l0aERvY2tpbmdNYW5hZ2VyKGUsdCl7Qy5wYXJlbnRXaW5kb3cmJihoLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwicmVnaXN0ZXJXaXRoRG9ja2luZ01hbmFnZXIgaWdub3JlIHJlZ2lzdHJhdGlvbiByZXF1ZXN0IGlmIGhhcyBhIHBhcmVudFwiKSx0JiZ0KCkpO2NvbnN0IG49Qy5uYW1lLHt1dWlkOml9PUM7dGhpcy5zdGFydGVkUmVnaXN0cmF0aW9uV2l0aERvY2tpbmc9ITAsdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJEb2NraW5nU2VydmljZS5yZWdpc3RlcldpbmRvd1wiLHtuYW1lOm4sdXVpZDppLG9wdGlvbnM6ZXx8e30sd2luZG93VHlwZTpcIldlYldpbmRvd1wifSwoKT0+e3RoaXMuc3RhcnRlZFJlZ2lzdHJhdGlvbldpdGhEb2NraW5nPSExLHRoaXMuZGVyZWdpc3RlclBsZWFzZSYmKHRoaXMuZGVyZWdpc3RlcldpdGhEb2NraW5nTWFuYWdlcigpLHRoaXMuZGVyZWdpc3RlclBsZWFzZT0hMSksaC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldJTkRPVyBMSUZFQ1lDTEU6IERvY2tpbmcgUmVnaXN0cmF0aW9uIGNvbXBsZXRlLlwiKSx0JiZ0KCl9KX1kZXJlZ2lzdGVyV2l0aERvY2tpbmdNYW5hZ2VyKGUpe3RoaXMuc3RhcnRlZFJlZ2lzdHJhdGlvbldpdGhEb2NraW5nJiYodGhpcy5kZXJlZ2lzdGVyUGxlYXNlPSEwKTtjb25zdCB0PUMubmFtZTt0aGlzLnJvdXRlckNsaWVudC50cmFuc21pdChcIkRvY2tpbmdTZXJ2aWNlLmRlcmVnaXN0ZXJXaW5kb3dcIix7bmFtZTp0LHVzZXJJbml0aWF0ZWQ6ZX0pfWJ1bXBGaXhlZEVsZW1lbnRzKGUpe2lmKFwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUpcmV0dXJuIHNldFRpbWVvdXQoKCk9Pnt0aGlzLmJ1bXBGaXhlZEVsZW1lbnRzKGUpfSwxMDApO2lmKCFlKXJldHVybjtsZXR7YWJzb2x1dGU6dCxmaXhlZDpuLGJ1bXBCeTppfT1lO2lmKCF0JiYhbilyZXR1cm47Y29uc3Qgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkZTQkxIZWFkZXJcIik7aWYoIXJ8fDA9PT1yLmNoaWxkcmVuLmxlbmd0aHx8IXIuY2hpbGRyZW5bMF0uY2xpZW50SGVpZ2h0KXJldHVybiBzZXRUaW1lb3V0KCgpPT57dGhpcy5idW1wRml4ZWRFbGVtZW50cyhlKX0sMTAwKTtcImF1dG9cIj09PWk/aT1cIjBweFwiOi0xPT09bmV3IFN0cmluZyhpKS5pbmRleE9mKFwicHhcIikmJihpKz1cInB4XCIpO2NvbnN0IG89ZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikscz1vLmxlbmd0aDtmb3IobGV0IGU9MDtlPHM7ZSsrKXtpZihcIkZTQkxIZWFkZXJcIj09PW9bZV0uaWR8fG9bZV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZnNibC1oZWFkZXJcIikpY29udGludWU7Y29uc3Qgcj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShvW2VdLG51bGwpLHM9W1wiMFwiLFwiMHB4XCIsMF0sYT1yLmdldFByb3BlcnR5VmFsdWUoXCJ0b3BcIik7dCYmb1tlXS5wYXJlbnROb2RlPT09ZG9jdW1lbnQuYm9keSYmXCJhYnNvbHV0ZVwiPT1yLmdldFByb3BlcnR5VmFsdWUoXCJwb3NpdGlvblwiKSYmKFwiYWxsXCI9PXQ/b1tlXS5zdHlsZS50b3A9YGNhbGMoJHthfSArICR7aX0pYDpcIjBQb3NpdGlvbmVkXCI9PXQmJnMuaW5jbHVkZXMoYSkmJihvW2VdLnN0eWxlLnRvcD1pKSksbiYmXCJmaXhlZFwiPT1yLmdldFByb3BlcnR5VmFsdWUoXCJwb3NpdGlvblwiKSYmKFwiYWxsXCI9PW4/b1tlXS5zdHlsZS50b3A9YGNhbGMoJHthfSArICR7aX0pYDpcIjBQb3NpdGlvbmVkXCI9PW4mJnMuaW5jbHVkZXMoYSkmJihvW2VdLnN0eWxlLnRvcD1pKSl9fWJyaW5nV2luZG93VG9Gcm9udCgpe0MuYnJpbmdUb0Zyb250KHtmb3JjZUZvY3VzOiEwfSxlPT57ZT9oLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiV2luZG93Q2xpZW50LmJyaW5nV2luZG93VG9Gcm9udDogZmFpbHVyZTpcIitlKTpoLmRlZmF1bHQuc3lzdGVtLmluZm8oXCJXaW5kb3dDbGllbnQuYnJpbmdXaW5kb3dUb0Zyb250OiBzdWNjZXNzXCIpfSl9aW5qZWN0U3R5bGVzaGVldE92ZXJyaWRlKCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7ZS50eXBlPVwidGV4dC9jc3NcIixlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEMud2luZG93T3B0aW9ucy5jdXN0b21EYXRhLmNzc092ZXJyaWRlKSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKX1jaGVja0lmQ2hpbGRBcHAoKXtpZihDLndpbmRvd09wdGlvbnMmJkMud2luZG93T3B0aW9ucy5jdXN0b21EYXRhJiZDLndpbmRvd09wdGlvbnMuY3VzdG9tRGF0YS5wYXJlbnRVVUlEJiZDLndpbmRvd09wdGlvbnMuY3VzdG9tRGF0YS5wYXJlbnRVVUlEIT09ZC5TeXN0ZW0uQXBwbGljYXRpb24uZ2V0Q3VycmVudCgpLnV1aWQpe2NvbnN0IGU9ZC5TeXN0ZW0uQXBwbGljYXRpb24ud3JhcChDLndpbmRvd09wdGlvbnMuY3VzdG9tRGF0YS5wYXJlbnRVVUlEKTtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjcmFzaGVkXCIsdGhpcy5jbG9zZS5iaW5kKG51bGwsITEpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJpbml0aWFsaXplZFwiLHRoaXMuY2xvc2UuYmluZChudWxsLCExKSksZS5hZGRFdmVudExpc3RlbmVyKFwib3V0LW9mLW1lbW9yeVwiLHRoaXMuY2xvc2UuYmluZChudWxsLCExKSl9fXByZXZlbnRVbmludGVuZGVkRHJvcEV2ZW50cygpe2Z1bmN0aW9uIGUoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIixlLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIixlLCExKX1yZWplY3RXaW5kb3dzS2V5UmVzaXplcygpe2xldCBlPSExO2NvbnN0IHQ9YXN5bmMgdD0+e3RoaXMuZW5hYmxlV2luZG93c0Flcm9TbmFwP1wiTWV0YVwiPT09dC5rZXkmJnkuZGVmYXVsdC50cmFuc21pdChcIkZpbnNlbWJsZS5XaW5kb3dTZXJ2aWNlLldpbmRvd3NLZXlcIixcInVwXCIpOlwiTWV0YVwiPT09dC5rZXkmJmUmJihlPSExLGQuU3lzdGVtLldpbmRvdy5nZXRDdXJyZW50KCkudXBkYXRlT3B0aW9ucyh7cmVzaXphYmxlOiEwfSkpfSxuPXQ9Pnt0aGlzLmVuYWJsZVdpbmRvd3NBZXJvU25hcD9cIk1ldGFcIj09PXQua2V5JiZ5LmRlZmF1bHQudHJhbnNtaXQoXCJGaW5zZW1ibGUuV2luZG93U2VydmljZS5XaW5kb3dzS2V5XCIsXCJkb3duXCIpOlwiTWV0YVwiPT09dC5rZXkmJihlPSEwLGQuU3lzdGVtLldpbmRvdy5nZXRDdXJyZW50KCkudXBkYXRlT3B0aW9ucyh7cmVzaXphYmxlOiExfSkpfTtGU0JMJiZjLmRlZmF1bHQub25SZWFkeSgoKT0+e3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIix0KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixuKX0pfWFkZExpc3RlbmVycyhlPUZ1bmN0aW9uLnByb3RvdHlwZSl7dGhpcy5saXN0ZW5Gb3JIYXNoQ2hhbmdlcygpLHRoaXMucHJldmVudFVuaW50ZW5kZWREcm9wRXZlbnRzKCksdGhpcy5yZWplY3RXaW5kb3dzS2V5UmVzaXplcygpLEMuYWRkTGlzdGVuZXIoXCJzZXRQYXJlbnRcIiwoKT0+e2guZGVmYXVsdC5zeXN0ZW0uaW5mbyhcIldpbmRvd0NsaWVudC5zZXRQYXJlbnQgZGVyZWdpc3RlcldpdGhEb2NraW5nTWFuYWdlclwiKSx0aGlzLmRlcmVnaXN0ZXJXaXRoRG9ja2luZ01hbmFnZXIoKX0pLEMuYWRkRXZlbnRMaXN0ZW5lcihcIm1heGltaXplZFwiLHRoaXMub25XaW5kb3dNYXhpbWl6ZWQpLEMuYWRkRXZlbnRMaXN0ZW5lcihcIm1pbmltaXplZFwiLHRoaXMub25XaW5kb3dNaW5pbWl6ZWQpLEMuYWRkRXZlbnRMaXN0ZW5lcihcInJlc3RvcmVkXCIsdGhpcy5vbldpbmRvd1Jlc3RvcmVkKSxDLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVycmVkXCIsdGhpcy5vbldpbmRvd0JsdXJyZWQpLEMuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzZWRcIix0aGlzLm9uV2luZG93Rm9jdXNlZCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZTQkwmJkZTQkwub25TaHV0ZG93bigoKT0+KGguZGVmYXVsdC5zeXN0ZW0uaW5mbyhcIldJTkRPVyBMSUZFQ1lDTEU6U0hVVERPV046IEZTQkwub25TaHV0ZG93biBzdGFydFwiKSxuZXcgUHJvbWlzZShlPT57aC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkZTQkwub25TaHV0ZG93blwiKSxGU0JMLnNodXRkb3duQ29tcGxldGUoKSx0aGlzLmNsb3NlKHtyZW1vdmVGcm9tV29ya3NwYWNlOiExLGlnbm9yZVBhcmVudDohMCxjbG9zZVdpbmRvdzohMX0sZSl9KSkpLGUoKX11cGRhdGVIZWFkZXJTdGF0ZShlLHQpe3RoaXMuY29tbWFuZENoYW5uZWwmJnRoaXMuY29tbWFuZENoYW5uZWwoZSx0KX1oZWFkZXJDb21tYW5kQ2hhbm5lbChlKXt0aGlzLmNvbW1hbmRDaGFubmVsPWV9ZWplY3RGcm9tR3JvdXAoKXtDLmVqZWN0RnJvbUdyb3VwKCl9c2V0V2luZG93VGl0bGUoZSl7cC5kZWZhdWx0LmFyZ3MoZSxcInN0cmluZ1wiKSx0aGlzLnRpdGxlPWUsdGhpcy51cGRhdGVIZWFkZXJTdGF0ZShcIk1haW5cIix7d2luZG93VGl0bGU6ZX0pLEMuc2V0VGl0bGUoZSl9Z2V0U3Bhd25EYXRhKCl7aWYoIXRoaXMub3B0aW9ucy5jdXN0b21EYXRhKXJldHVybnt9O2NvbnN0e3NwYXduRGF0YTplfT10aGlzLm9wdGlvbnMuY3VzdG9tRGF0YTtyZXR1cm4gdm9pZCAwPT09ZT97fTplfWdldEN1cnJlbnRXaW5kb3coKXtyZXR1cm4gZC5TeXN0ZW0uV2luZG93LmdldEN1cnJlbnQoKX1hc3luYyBnZXREZXNrdG9wQm91bmRpbmdCb3goZSl7bGV0IHQ9ZTtcInN0cmluZ1wiPT10eXBlb2YgZSYmKHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKSk7Y29uc3Qgbj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9YXdhaXQgQy5nZXRCb3VuZHMoKSxyPWkuZGF0YTtsZXQgbyxzO2kuZXJyPyhvPXRoaXMub3B0aW9ucy5kZWZhdWx0VG9wLHM9dGhpcy5vcHRpb25zLmRlZmF1bHRMZWZ0KToobz1yLnRvcCxzPXIubGVmdCk7Y29uc3QgYT17dG9wOm8rbi50b3AsbGVmdDpzK24ubGVmdCx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodCxyaWdodDowLGJvdHRvbTowfTtyZXR1cm4gYS5yaWdodD1hLmxlZnQrYS53aWR0aCxhLmJvdHRvbT1hLnRvcCthLmhlaWdodCxhfWlzUG9pbnRJbkJveChlLHQpe3JldHVybiB0LmJvdHRvbXx8KHQuYm90dG9tPXQudG9wK3QuaGVpZ2h0KSx0LnJpZ2h0fHwodC5yaWdodD10LmxlZnQrdC53aWR0aCksZS54PnQubGVmdCYmZS54PHQucmlnaHQmJmUueTx0LmJvdHRvbSYmZS55PnQudG9wfWlzTW91c2VPdmVyRE9NRWxlbWVudChlLHQpe3RoaXMuZ2V0RGVza3RvcEJvdW5kaW5nQm94KGUpLnRoZW4oZT0+e2QuU3lzdGVtLmdldE1vdXNlUG9zaXRpb24oKG4saSk9Pnt0KHRoaXMuaXNQb2ludEluQm94KGksZSkpfSl9KX1nZXRXaW5kb3dJZGVudGlmaWVyKCl7dmFyIGU9bnVsbDtyZXR1cm4gdGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuY3VzdG9tRGF0YSYmdGhpcy5vcHRpb25zLmN1c3RvbURhdGEuY29tcG9uZW50JiYoZT10aGlzLm9wdGlvbnMuY3VzdG9tRGF0YS5jb21wb25lbnQudHlwZSkse3dpbmRvd05hbWU6Qz9DLm5hbWU6d2luZG93Lm5hbWUsdXVpZDpDP0MudXVpZDpudWxsLGNvbXBvbmVudFR5cGU6ZX19c2V0QWN0aXZlKGUpe3ZhciB0LG47ZT8odD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsbj1cImRlc2t0b3AtYWN0aXZlXCIsdC5jbGFzc0xpc3Q/dC5jbGFzc0xpc3QuYWRkKG4pOl8odCxuKXx8KHQuY2xhc3NOYW1lPWAke3QuY2xhc3NOYW1lfSAke259YCkpOmZ1bmN0aW9uKGUsdCl7aWYoZS5jbGFzc0xpc3QpZS5jbGFzc0xpc3QucmVtb3ZlKHQpO2Vsc2UgaWYoXyhlLHQpKXtjb25zdCBuPW5ldyBSZWdFeHAoYChcXFxcc3xeKSR7dH0oXFxcXHN8JClgKTtlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZS5yZXBsYWNlKG4sXCIgXCIpfX0oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFwiZGVza3RvcC1hY3RpdmVcIil9Z2V0Qm91bmRzKGUpe0MuZ2V0Qm91bmRzKCh0LG4pPT57ZSh0LG4pfSl9c2V0U2hhcGUoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7Qy5zZXRTaGFwZShlLHQpfXN0YXJ0VGlsaW5nT3JUYWJiaW5nKGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe0ZTQkwuQ2xpZW50cy5Sb3V0ZXJDbGllbnQudHJhbnNtaXQoXCJEb2NraW5nU2VydmljZS5zdGFydFRpbGluZ09yVGFiYmluZ1wiLGUpLHQoKX1zdGFydE1vdmluZ1dpbmRvdyhlKXtkLlN5c3RlbS5XaW5kb3cuZ2V0Q3VycmVudCgpLnN0YXJ0TW92aW5nV2luZG93KGUpfXN0b3BNb3ZpbmdXaW5kb3coKXtkLlN5c3RlbS5XaW5kb3cuZ2V0Q3VycmVudCgpLnN0b3BNb3ZpbmdXaW5kb3coKX1jYW5jZWxUaWxpbmdPclRhYmJpbmcoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7Y29uc29sZS5kZWJ1ZyhcIkNhbmNlbFRpbGluZ09yVGFiYmluZ1wiKSx5LmRlZmF1bHQudHJhbnNtaXQoXCJEb2NraW5nU2VydmljZS5jYW5jZWxUaWxpbmdPclRhYmJpbmdcIixlKSx0KCl9c2VuZElkZW50aWZpZXJGb3JUaWxpbmdPclRhYmJpbmcoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7RlNCTC5DbGllbnRzLlJvdXRlckNsaWVudC50cmFuc21pdChcIkRvY2tpbmdTZXJ2aWNlLmlkZW50aWZpZXJGb3JUaWxpbmdPclRhYmJpbmdcIixlKSx0KCl9c3RvcFRpbGluZ09yVGFiYmluZyhlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtjb25zdCBuPSgpPT57eS5kZWZhdWx0LnF1ZXJ5KFwiRG9ja2luZ1NlcnZpY2Uuc3RvcFRpbGluZ09yVGFiYmluZ1wiLGUsKCk9Pnt0KCl9KSx5LmRlZmF1bHQudHJhbnNtaXQoXCJEb2NraW5nU2VydmljZS5zdG9wVGlsaW5nT3JUYWJiaW5nXCIsZSl9O3JldHVybiBlLm1vdXNlUG9zaXRpb24/KG4oKSxlLmFsbG93RHJvcE9uU2VsZj92b2lkIDA6dCgpKTpkLlN5c3RlbS5nZXRNb3VzZVBvc2l0aW9uKChpLHIpPT57aWYoZS5tb3VzZVBvc2l0aW9uPXIsbigpLCFlLmFsbG93RHJvcE9uU2VsZilyZXR1cm4gdCgpfSl9Z2V0U3RhY2tlZFdpbmRvdyhlLHQpe2lmKGguZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJXaW5kb3dDbGllbnQuZ2V0U3RhY2tlZFdpbmRvd1wiLGUpLHQ9dHx8ZSwoZT1lfHx7fSkud2luZG93SWRlbnRpZmllcnM9ZS53aW5kb3dJZGVudGlmaWVyc3x8W10sIUMucGFyZW50V2luZG93JiZlLmNyZWF0ZSl7Y29uc3Qgbj1lPT57Y29uc3R7cGFyZW50TmFtZTppfT1lLmRhdGE7Qy5zZXRQYXJlbnQoe3dpbmRvd05hbWU6aX0sKGUsbik9Pnt0KGUsbil9KSxDLnJlbW92ZUxpc3RlbmVyKFwicGFyZW50LXNldFwiLG4pfTtDLmFkZExpc3RlbmVyKFwicGFyZW50LXNldFwiLG4pLEZTQkwuQ2xpZW50cy5MYXVuY2hlckNsaWVudC5zcGF3bihcIlN0YWNrZWRXaW5kb3dcIix7d2luZG93VHlwZTpcIlN0YWNrZWRXaW5kb3dcIixkYXRhOnt3aW5kb3dJZGVudGlmaWVyczplLndpbmRvd0lkZW50aWZpZXJzfSxvcHRpb25zOntuZXdTdGFjazohMH19LChlLG4pPT57aC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldpbmRvd0NsaWVudC5nZXRTdGFja2VkV2luZG93LXN1Y2Nlc3NcIixlLG4pLGUmJnQoZSxudWxsKX0pfWVsc2UgQy5nZXRQYXJlbnQodCl9Z2V0TW9uaXRvckluZm8oZSx0KXtsLmdldE15V2luZG93SWRlbnRpZmllcihuPT57ZS53aW5kb3dJZGVudGlmaWVyfHwoZS53aW5kb3dJZGVudGlmaWVyPW4pLHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiTGF1bmNoZXIuZ2V0TW9uaXRvckluZm9cIixlLChlLG4pPT57dCYmdChlLG4uZGF0YSl9KX0pfWZpdFRvRE9NKGUsdCl7bGV0IG49ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCxpPXRoaXMub3B0aW9ucy53aWR0aDtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodD1lLGU9bnVsbCksZSYmZS5wYWRkaW5nJiYoZS5wYWRkaW5nLmhlaWdodCYmKG4rPWUucGFkZGluZy5oZWlnaHQpLGUucGFkZGluZy53aWR0aCYmKGkrPWUucGFkZGluZy53aWR0aCkpLGUmJmUubWF4SGVpZ2h0JiZuPmUubWF4SGVpZ2h0JiYobj1lLm1heEhlaWdodCksaC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldpbmRvd0NsaWVudC5GaXRUb0RPTTpuZXdIZWlnaHRcIixuLGUpLHRoaXMuZ2V0TW9uaXRvckluZm8oe30sKGUscik9PntyJiYobj49ci5hdmFpbGFibGVSZWN0LmhlaWdodCYmKG49ci5hdmFpbGFibGVSZWN0LmhlaWdodCksaT49ci5hdmFpbGFibGVSZWN0LndpZHRoJiYoaT1yLmF2YWlsYWJsZVJlY3Qud2lkdGgpKSxoLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV2luZG93Q2xpZW50LkZpdFRvRE9NOmZpeEJvdW5kc1wiLG4saSksQy5nZXRCb3VuZHMoKGUscik9PntyLndpZHRoIT1pfHxyLmhlaWdodCE9bj8oci53aWR0aD1pLHIuaGVpZ2h0PW4sQy5zZXRCb3VuZHMoe2JvdW5kczpyfSx0KSk6XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdCgpfSl9KX1fc2V0SGVhZGVySGVpZ2h0KGUpe2xldCB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJmc2JsLWhlYWRlclwiKVswXTtpZighdClyZXR1cm4gc2V0VGltZW91dCgoKT0+e3RoaXMuX3NldEhlYWRlckhlaWdodChlKX0sMTAwKTtsZXQgbj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpLmdldFByb3BlcnR5VmFsdWUoXCJoZWlnaHRcIik7ZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW5Ub3A9bixlLmJ1bXBFbGVtZW50cyYmXCJhdXRvXCI9PT1lLmJ1bXBFbGVtZW50cy5idW1wQnkmJihlLmJ1bXBFbGVtZW50cy5idW1wQnk9biksdGhpcy5idW1wRml4ZWRFbGVtZW50cyhlLmJ1bXBFbGVtZW50cyl9YXN5bmMgc3RhcnQoZT1GdW5jdGlvbi5wcm90b3R5cGUpe2lmKHAuZGVmYXVsdC5hcmdzKGUsXCJmdW5jdGlvblwiKSx2LmlBbUFTZXJ2aWNlV2luZG93KCkpcmV0dXJuIHRoaXMuaXNJbkFTZXJ2aWNlPSEwLGUoKTtjb25zdCB0PXRoaXM7YXdhaXQgYi5kZWZhdWx0LmdldFZhbHVlKFwiZmluc2VtYmxlXCIpO2xldCBuPW51bGwsaT0hMSxyPSExLG89ITE7dGhpcy5jb21wb25lbnRTdGF0ZT17fTsoZT0+e2cuRmluc2VtYmxlV2luZG93LmdldEluc3RhbmNlKHtuYW1lOnRoaXMuZmluV2luZG93Lm5hbWUsdXVpZDp0aGlzLmZpbldpbmRvdy51dWlkfSwodCxuKT0+e2lmKGguZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJGaW5zZW1ibGVXaW5kb3cuZ2V0SW5zdGFuY2UgXCIrdGhpcy5maW5XaW5kb3cubmFtZSksXCJDYW5ub3QgV3JhcCBTZXJ2aWNlIE1hbmFnZXIgb3IgU2VydmljZXNcIj09dClyZXR1cm4gdGhpcy5pc0luQVNlcnZpY2U9ITAsdGhpcy53aW5kb3dIYXNoPWwuY2FtZWxDYXNlKFwiYWN0aXZlV29ya3NwYWNlXCIsd2luZG93Lm5hbWUpLGUoKTshdCYmbnx8aC5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIndyYXAgZmFpbHVyZVwiLHQpLHRoaXMuZmluc2VtYmxlV2luZG93PW4sKHtmaW5zZW1ibGVXaW5kb3c6Q309dGhpcyksdGhpcy53aW5kb3dIYXNoPWwuY2FtZWxDYXNlKFwiYWN0aXZlV29ya3NwYWNlXCIsQy5uYW1lKSx0aGlzLmFkZExpc3RlbmVycygpLHRoaXMucm91dGVyQ2xpZW50LnN1YnNjcmliZShcIkZpbnNlbWJsZS5Xb3Jrc3BhY2VTZXJ2aWNlLmdyb3VwVXBkYXRlXCIsKGUsdCk9PnRoaXMuZ3JvdXBVcGRhdGVIYW5kbGVyKGUsdCkpLGUoKX0pfSkoKCk9Pnt0aGlzLnJldHJpZXZlTW9uaXRvckRpbWVuc2lvbnMoKSx0aGlzLmdldEluaXRpYWxPcHRpb25zKCgpPT57aWYoIUN8fCFDLndpbmRvd09wdGlvbnMpcmV0dXJuIHRoaXMuaXNJbkFTZXJ2aWNlfHxoLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3JvbmcgYXR0ZW1wdGluZyB0byBnZXQgdGhlIGN1cnJlbnQgd2luZG93LlwiKSxlKCk7KHtjdXN0b21EYXRhOm59PUMud2luZG93T3B0aW9ucyksaC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcImdldEluaXRpYWxPcHRpb25zXCIsbiksbiYmKGk9UyhuLFwid2luZG93LmNvbXBvdW5kXCIsITEpLG4uY3NzT3ZlcnJpZGUmJihoLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV2luZG93IGhhcyBjc3NPdmVycmlkZS4gU2VlIGxvY2FsIHdpbmRvdyB0byBpbnNwZWN0IG9iamVjdFwiKSxyPSEwKSxvPSFpJiZTKG4sW1wiZm9yZWlnblwiLFwiY29tcG9uZW50c1wiLFwiV2luZG93IE1hbmFnZXJcIixcIkZTQkxIZWFkZXJcIl0sITEpKSxhLnBhcmFsbGVsKFtmdW5jdGlvbihlKXtyJiZ0LmluamVjdFN0eWxlc2hlZXRPdmVycmlkZSgpLGUoKX0sZnVuY3Rpb24oZSl7Yi5kZWZhdWx0LmdldFZhbHVlKFwiZmluc2VtYmxlXCIsKG4saSk9PntuJiZoLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiRXJyb3IgcmVhZGluZyB3aW5kb3dTZXJ2aWNlIGNvbmZpZyBmcm9tIGZpbnNlbWJsZVwiKTtjb25zdCByPWkuc2VydmljZXMud2luZG93U2VydmljZS5jb25maWcuZW5hYmxlV2luZG93c0Flcm9TbmFwO3QuZW5hYmxlV2luZG93c0Flcm9TbmFwPW0uQ29uZmlnVXRpbEluc3RhbmNlLmdldERlZmF1bHQoaSxcImNvbmZpZy5zZXJ2aWNlc0NvbmZpZy5kb2NraW5nLmVuYWJsZVdpbmRvd3NBZXJvU25hcFwiLHIpLGUoKX0pfSxmdW5jdGlvbihlKXtpZihkLlN5c3RlbS5pc0Jyb3dzZXJWaWV3KCkpZSgpO2Vsc2V7aWYoIW58fCFuLmNvbXBvbmVudHx8di5pQW1BU2VydmljZVdpbmRvdygpKXJldHVybiBlKCk7e2xldCBpPW0uQ29uZmlnVXRpbEluc3RhbmNlLmdldERlZmF1bHQobixcImN1c3RvbURhdGEuZm9yZWlnbi5zZXJ2aWNlcy53aW5kb3dTZXJ2aWNlLm1hbmFnZVdpbmRvd01vdmVtZW50XCIsITEpO2l8fChpPW0uQ29uZmlnVXRpbEluc3RhbmNlLmdldERlZmF1bHQobixcImN1c3RvbURhdGEuZm9yZWlnbi5zZXJ2aWNlcy5kb2NraW5nU2VydmljZS5tYW5hZ2VXaW5kb3dNb3ZlbWVudFwiLCExKSk7Y29uc3Qgcj1tLkNvbmZpZ1V0aWxJbnN0YW5jZS5nZXREZWZhdWx0KG4sXCJjdXN0b21EYXRhLmZvcmVpZ24uY29tcG9uZW50cy5XaW5kb3cgTWFuYWdlci5GU0JMSGVhZGVyXCIsITEpLG89bS5Db25maWdVdGlsSW5zdGFuY2UuZ2V0RGVmYXVsdChuLFwiY3VzdG9tRGF0YS53aW5kb3cuZG9ja2FibGVcIiwhMSk7aT1pfHxyfHxvO2xldCBzPXYuY2hlY2tEZXByZWNhdGVkQ29uZmlncyhuLHtiYXNlU3RyaW5nOlwiY3VzdG9tRGF0YS5mb3JlaWduLnNlcnZpY2VzXCIsbmV3UGF0aDpcIndpbmRvd1NlcnZpY2VcIixvbGRQYXRoOlwiZG9ja2luZ1NlcnZpY2VcIixuZXdWYWx1ZTpcImFsbG93QXV0b0FycmFuZ2VcIixvbGRWYWx1ZTpcImlzQXJyYW5nYWJsZVwifSxudWxsKTtudWxsPT09cyYmKHM9di5jaGVja0RlcHJlY2F0ZWRDb25maWdzKG4se2Jhc2VTdHJpbmc6XCJjdXN0b21EYXRhLmZvcmVpZ24uc2VydmljZXNcIixuZXdQYXRoOlwid2luZG93U2VydmljZVwiLG9sZFBhdGg6XCJkb2NraW5nU2VydmljZVwiLG5ld1ZhbHVlOlwiYWxsb3dBdXRvQXJyYW5nZVwiLG9sZFZhbHVlOlwiaXNBcnJhbmdlYWJsZVwifSxpKSk7aWYoIShpfHxzKSlyZXR1cm4gZSgpO2lmKG4ud2luZG93LmFsbG93QXV0b0FycmFuZ2U9cyxuLndpbmRvdy5zbmFwcGluZz12LmNoZWNrRGVwcmVjYXRlZENvbmZpZ3Mobix7YmFzZVN0cmluZzpcImN1c3RvbURhdGEuZm9yZWlnbi5zZXJ2aWNlc1wiLG5ld1BhdGg6XCJ3aW5kb3dTZXJ2aWNlXCIsb2xkUGF0aDpcImRvY2tpbmdTZXJ2aWNlXCIsbmV3VmFsdWU6XCJhbGxvd1NuYXBwaW5nXCIsb2xkVmFsdWU6XCJpZ25vcmVTbmFwcGluZ1JlcXVlc3RzXCJ9LGkpLG4mJm4uZm9yZWlnbiYmbi5mb3JlaWduLnNlcnZpY2VzKXtjb25zdCBlPXZvaWQgMCE9PW4uZm9yZWlnbi5zZXJ2aWNlcy53aW5kb3dTZXJ2aWNlP1wid2luZG93U2VydmljZVwiOlwiZG9ja2luZ1NlcnZpY2VcIjt2b2lkIDAhPT1uLmZvcmVpZ24uc2VydmljZXNbZV0uaWdub3JlU25hcHBpbmdSZXF1ZXN0cyYmKG4ud2luZG93LnNuYXBwaW5nPSFuLmZvcmVpZ24uc2VydmljZXNbZV0uaWdub3JlU25hcHBpbmdSZXF1ZXN0cyl9aWYobS5Db25maWdVdGlsSW5zdGFuY2UuZ2V0RGVmYXVsdChuLFwiY3VzdG9tRGF0YS53aW5kb3cuZXBoZW1lcmFsXCIsITEpJiYhbi53aW5kb3cuc25hcHBpbmcmJihuLndpbmRvdy5zbmFwcGluZz0hMSksbi53aW5kb3cudGlsaW5nPXYuY2hlY2tEZXByZWNhdGVkQ29uZmlncyhuLHtiYXNlU3RyaW5nOlwiY3VzdG9tRGF0YS5mb3JlaWduLnNlcnZpY2VzXCIsbmV3UGF0aDpcIndpbmRvd1NlcnZpY2VcIixvbGRQYXRoOlwiZG9ja2luZ1NlcnZpY2VcIixuZXdWYWx1ZTpcImFsbG93VGlsaW5nXCIsb2xkVmFsdWU6XCJpZ25vcmVUaWxpbmdBbmRUYWJiaW5nUmVxdWVzdHNcIn0saSksbi53aW5kb3cudGFiYmluZz12LmNoZWNrRGVwcmVjYXRlZENvbmZpZ3Mobix7YmFzZVN0cmluZzpcImN1c3RvbURhdGEuZm9yZWlnbi5zZXJ2aWNlc1wiLG5ld1BhdGg6XCJ3aW5kb3dTZXJ2aWNlXCIsb2xkUGF0aDpcImRvY2tpbmdTZXJ2aWNlXCIsbmV3VmFsdWU6XCJhbGxvd1RhYmJpbmdcIixvbGRWYWx1ZTpcImlnbm9yZVRpbGluZ0FuZFRhYmJpbmdSZXF1ZXN0c1wifSxpKSxuJiZuLmZvcmVpZ24mJm4uZm9yZWlnbi5zZXJ2aWNlcyl7Y29uc3QgZT12b2lkIDAhPT1uLmZvcmVpZ24uc2VydmljZXMud2luZG93U2VydmljZT9cIndpbmRvd1NlcnZpY2VcIjpcImRvY2tpbmdTZXJ2aWNlXCI7dm9pZCAwIT09bi5mb3JlaWduLnNlcnZpY2VzW2VdLmlnbm9yZVRpbGluZ0FuZFRhYmJpbmdSZXF1ZXN0cyYmKG4ud2luZG93LnRpbGluZz0hbi53aW5kb3cudGlsaW5nLG4ud2luZG93LnRhYmJpbmc9IW4ud2luZG93LnRhYmJpbmcpfW4ud2luZG93LmNhbkdyb3VwPXYuY2hlY2tEZXByZWNhdGVkQ29uZmlncyhuLHtiYXNlU3RyaW5nOlwiY3VzdG9tRGF0YS5mb3JlaWduLnNlcnZpY2VzXCIsbmV3UGF0aDpcIndpbmRvd1NlcnZpY2VcIixvbGRQYXRoOlwiZG9ja2luZ1NlcnZpY2VcIixuZXdWYWx1ZTpcImFsbG93R3JvdXBpbmdcIixvbGRWYWx1ZTpcImNhbkdyb3VwXCJ9LGkpLG4ud2luZG93LmNhbk1pbmltaXplPXYuY2hlY2tEZXByZWNhdGVkQ29uZmlncyhuLHtiYXNlU3RyaW5nOlwiY3VzdG9tRGF0YS5mb3JlaWduLnNlcnZpY2VzXCIsbmV3UGF0aDpcIndpbmRvd1NlcnZpY2VcIixvbGRQYXRoOlwiZG9ja2luZ1NlcnZpY2VcIixuZXdWYWx1ZTpcImFsbG93TWluaW1pemVcIixvbGRWYWx1ZTpcImNhbk1pbmltaXplXCJ9LHZvaWQgMCksdm9pZCAwPT09bi53aW5kb3cuY2FuTWluaW1pemUmJihuLndpbmRvdy5jYW5NaW5pbWl6ZT1uLmNvbXBvbmVudC5jYW5NaW5pbWl6ZSx2b2lkIDA9PT1uLndpbmRvdy5jYW5NaW5pbWl6ZSYmKG4ud2luZG93LmNhbk1pbmltaXplPWkpKSx2b2lkIDA9PT1uLndpbmRvdy5jYW5NYXhpbWl6ZSYmKG4ud2luZG93LmNhbk1heGltaXplPW4uY29tcG9uZW50LmNhbk1heGltaXplLHZvaWQgMD09PW4ud2luZG93LmNhbk1heGltaXplJiYobi53aW5kb3cuY2FuTWF4aW1pemU9aSkpLG4ud2luZG93Lm92ZXJ3cml0ZVN0YXJ0RG9ja2VkPW0uQ29uZmlnVXRpbEluc3RhbmNlLmdldERlZmF1bHQobixcImN1c3RvbURhdGEuZm9yZWlnbi5zZXJ2aWNlcy53b3Jrc3BhY2VTZXJ2aWNlLmdsb2JhbFwiLCExKSx0LnJlZ2lzdGVyV2l0aERvY2tpbmdNYW5hZ2VyKG4ud2luZG93LCgpPT57dC5jYWNoZUluaXRpYWxCb3VuZHMoZSl9KX19fV0sKHQsbik9PmUodCxuKSl9KX0pfX12YXIgRT1uZXcgVCh7c3RhcnR1cERlcGVuZGVuY2llczp7Y2xpZW50czpbXCJzdG9yYWdlQ2xpZW50XCJdfSxvblJlYWR5KGUpe0Uuc3RhcnQoZSl9LG5hbWU6XCJ3aW5kb3dDbGllbnRcIn0pO3QuZGVmYXVsdD1FfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSl9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLHI9dGhpcyYmdGhpcy5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pfTpmdW5jdGlvbihlLHQpe2UuZGVmYXVsdD10fSksbz10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmaSh0LGUsbik7cmV0dXJuIHIodCxlKSx0fSxzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRmluc2VtYmxlV2luZG93PXZvaWQgMDtjb25zdCBhPXMobig3KSksdT1zKG4oMCkpLGM9cyhuKDE3KSksbD1zKG4oMjcpKSxkPW8obigxMSkpLGY9cyhuKDQwKSksaD1vKG4oMTMpKSxwPW4oOSksZz1uKDIpLG09big3MCkseT1uKDcxKTtjLmRlZmF1bHQuaW5pdGlhbGl6ZSgpLGwuZGVmYXVsdC5pbml0aWFsaXplKCksd2luZG93Ll9GU0JMQ2FjaGV8fCh3aW5kb3cuX0ZTQkxDYWNoZT17c3RvcmVDbGllbnRSZWFkeTohMSx3aW5kb3dzOnt9LGdldHRpbmdXaW5kb3c6W10sd2luZG93QXR0ZW1wdHM6e319KTtsZXQgdz0oKCk9PntjbGFzcyBlIGV4dGVuZHMgZi5kZWZhdWx0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKHtuYW1lOnQubmFtZSxzb3VyY2VUeXBlOlwiV2luZG93XCJ9KSx0aGlzLnR5cGVzPXt9LHRoaXMud3JhcFN0YXRlPXQud3JhcFN0YXRlfHxcImluaXRpYWxpemluZ1wiLHRoaXMuY29tcG9uZW50U3RhdGU9e30sdGhpcy53aW5kb3dTdGF0ZT1lLldJTkRPV1NUQVRFLk5PUk1BTCx0aGlzLnR5cGU9bnVsbCx0aGlzLndpbmRvd1R5cGU9bnVsbCx0aGlzLmJvdW5kcz17fSx0aGlzLmd1aWQ9YCR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpfWAsdGhpcy5XSU5ET1dTVEFURT1oLldJTkRPV1NUQVRFLHRoaXMud2luZG93T3B0aW9ucz17fSx0aGlzLmRvQ29uc3RydWN0aW9uKHQpLHRoaXMuVElUTEVfQ0hBTkdFRF9DSEFOTkVMPWBGaW5zZW1ibGUuJHt0aGlzLm5hbWV9LnRpdGxlQ2hhbmdlZGAsdGhpcy5jb21wb25lbnRLZXk9ZC5jYW1lbENhc2UoXCJhY3RpdmVXb3Jrc3BhY2VcIix0aGlzLm5hbWUsdGhpcy5uYW1lKSx0aGlzLndpbmRvd0tleT1kLmNhbWVsQ2FzZShcImFjdGl2ZVdvcmtzcGFjZVwiLHRoaXMubmFtZSksZS5iaW5kRnVuY3Rpb25zKHRoaXMpfXN0YW5kYXJkaXplRXZlbnROYW1lKGUpe3N3aXRjaChlKXtjYXNlXCJib3VuZHMtc2V0XCI6Y2FzZVwic3RvcHBlZE1vdmluZ1wiOnJldHVyblwiYm91bmRzLWNoYW5nZS1lbmRcIjtjYXNlXCJzdGFydGVkTW92aW5nXCI6cmV0dXJuXCJib3VuZHMtY2hhbmdlLXN0YXJ0XCI7Y2FzZVwiYnJpbmdUb0Zyb250XCI6cmV0dXJuXCJicm91Z2h0VG9Gcm9udFwiO2Nhc2VcInNldFBhcmVudFwiOnJldHVyblwicGFyZW50LXNldFwiO2Nhc2VcImNsZWFyUGFyZW50XCI6cmV0dXJuXCJwYXJlbnQtdW5zZXRcIjtkZWZhdWx0OnJldHVybiBlfX1hZGRFdmVudExpc3RlbmVyKGUsdCl7cmV0dXJuIGU9dGhpcy5zdGFuZGFyZGl6ZUV2ZW50TmFtZShlKSxzdXBlci5hZGRFdmVudExpc3RlbmVyKGUsdCl9cmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQpe2lmKFwiY2xvc2VkXCIhPT1lfHwhd2luZG93LmZpbnNlbWJsZVdpbmRvd3x8dGhpcy5uYW1lIT09Zmluc2VtYmxlV2luZG93Lm5hbWUpcmV0dXJuIGU9dGhpcy5zdGFuZGFyZGl6ZUV2ZW50TmFtZShlKSxzdXBlci5yZW1vdmVFdmVudExpc3RlbmVyKGUsdCl9d2luZG93U2VydmljZUNoYW5uZWxOYW1lKGUpe3JldHVyblwiV2luZG93U2VydmljZS1SZXF1ZXN0LVwiK2V9ZXZlbnRDaGFubmVsTmFtZShlKXtyZXR1cm5gV2luZG93U2VydmljZS1FdmVudC0ke3RoaXMubmFtZXx8dGhpcy53aW5kb3dOYW1lfS0ke2V9YH1kb0NvbnN0cnVjdGlvbih0KXtpZih0LnNldFdpbmRvd1R5cGV8fHQud2luZG93VHlwZXx8KHQud2luZG93VHlwZT1cIldlYldpbmRvd1wiKSx0LndpbmRvd1R5cGUpe3Quc2V0V2luZG93VHlwZT10LndpbmRvd1R5cGUsZGVsZXRlIHQud2luZG93VHlwZTtyZXR1cm4gbmV3IGUodCl9aWYodClmb3IoY29uc3QgZSBpbiB0KXRoaXNbZV09dFtlXTt0aGlzLm5hbWV8fCh0aGlzLm5hbWU9dC53aW5kb3dOYW1lKSx0aGlzLndpbmRvd1R5cGU9dGhpcy5zZXRXaW5kb3dUeXBlfXN0YXRpYyByZWdpc3RlclR5cGUodCxuKXtjb25zdCBpPWU7aS50eXBlc3x8KGkudHlwZXM9e30pLGkudHlwZXNbdF09bn1zdGF0aWMgYmluZEZ1bmN0aW9ucyhlKXtlLnNldFBhcmVudD1lLnNldFBhcmVudC5iaW5kKGUpLGUuZ2V0UGFyZW50PWUuZ2V0UGFyZW50LmJpbmQoZSksZS5ldmVudENoYW5uZWxOYW1lPWUuZXZlbnRDaGFubmVsTmFtZS5iaW5kKGUpLGUud2luZG93U2VydmljZUNoYW5uZWxOYW1lPWUud2luZG93U2VydmljZUNoYW5uZWxOYW1lLmJpbmQoZSksZS5oYW5kbGVXcmFwUmVtb3ZlUmVxdWVzdD1lLmhhbmRsZVdyYXBSZW1vdmVSZXF1ZXN0LmJpbmQoZSl9c3RhdGljIGdldEluc3RhbmNlKHQsbj1GdW5jdGlvbi5wcm90b3R5cGUpe2NvbnN0IGk9Zy5TeXN0ZW0uV2luZG93LmdldEN1cnJlbnQoKS5uYW1lO2lmKHQmJnQud2luZG93TmFtZSYmKHQubmFtZT10LndpbmRvd05hbWUpLCEodD1tKHQpKXx8IXQubmFtZSlyZXR1cm4gbihcIm5hbWUgaXMgcmVxdWlyZWRcIik7cmV0dXJuIHQud2luZG93TmFtZT10Lm5hbWUsbmV3IFByb21pc2UoKGFzeW5jIGZ1bmN0aW9uKHIsbyl7aWYod2luZG93Ll9GU0JMQ2FjaGUud2luZG93c1t0Lm5hbWVdKXt1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV1JBUCBMSUZFQ1lDTEU6XCIsdC5uYW1lLFwiV2luZG93IGZvdW5kIGluIHRoZSBjYWNoZSwgcmV0dXJuaW5nIHdpdGhvdXQgZ29pbmcgdG8gdGhlIExhdW5jaGVyXCIpO2NvbnN0IGU9d2luZG93Ll9GU0JMQ2FjaGUud2luZG93c1t0Lm5hbWVdO3JldHVybiByKHt3cmFwOmV9KSxuKG51bGwsZSl9aWYodC51dWlkJiZ0Lm5hbWUpe2lmKHQud2luZG93SWRlbnRpZmllcnx8KHQud2luZG93SWRlbnRpZmllcj17dXVpZDp0LnV1aWQsbmFtZTp0Lm5hbWUsd2luZG93TmFtZTp0Lm5hbWUsd2luZG93VHlwZTp0LndpbmRvd1R5cGV9KSwhMSE9PXQud2FpdEZvclJlYWR5KXRyeXthd2FpdCBlLl93aW5kb3dSZWFkeSh0LndpbmRvd05hbWUpLHQud3JhcFN0YXRlPVwicmVhZHlcIn1jYXRjaChlKXtyZXR1cm4gbyhlKSxuKGUsbnVsbCl9aWYodS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldSQVAgTElGRUNZQ0xFOlwiLHQubmFtZSxcIkFsbCBpbmZvcm1hdGlvbiBmb3Igd3JhcCBwYXNzZWQgaW4sIGNyZWF0aW5nIHdyYXAgbG9jYWxseVwiKSx3aW5kb3cuX0ZTQkxDYWNoZS53aW5kb3dzW3QubmFtZV0pe3UuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJXUkFQIExJRkVDWUNMRTpcIix0Lm5hbWUsXCJXaW5kb3cgZm91bmQgaW4gdGhlIGNhY2hlLCByZXR1cm5pbmcgd2l0aG91dCBnb2luZyB0byB0aGUgTGF1bmNoZXJcIik7Y29uc3QgZT13aW5kb3cuX0ZTQkxDYWNoZS53aW5kb3dzW3QubmFtZV07cmV0dXJuIHIoe3dyYXA6ZX0pLG4obnVsbCxlKX1jb25zdHt3cmFwOml9PWF3YWl0IGUuX2NyZWF0ZVdyYXAodCk7cmV0dXJuIHIoe3dyYXA6aX0pLG4obnVsbCxpKX1pZighMSE9PXQud2FpdEZvclJlYWR5KXRyeXthd2FpdCBlLl93aW5kb3dSZWFkeSh0LndpbmRvd05hbWUpLHQud3JhcFN0YXRlPVwicmVhZHlcIn1jYXRjaChlKXtyZXR1cm4gbyhlKSxuKGUsbnVsbCl9YS5kZWZhdWx0LnF1ZXJ5KFwiV2luZG93U2VydmljZS1SZXF1ZXN0LWdldFdpbmRvd0lkZW50aWZpZXJcIix7d2luZG93TmFtZTp0Lm5hbWUscmVxdWVzdGVyOml9LGFzeW5jKGkscyk9PntpZihpKXJldHVybiB1LmRlZmF1bHQuc3lzdGVtLmVycm9yKGkpLG8oaSksbihpLG51bGwpO2lmKHdpbmRvdy5fRlNCTENhY2hlLndpbmRvd3NbdC5uYW1lXSl7Y29uc3QgZT13aW5kb3cuX0ZTQkxDYWNoZS53aW5kb3dzW3QubmFtZV07cmV0dXJuIHUuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJXUkFQIExJRkVDWUNMRTpcIix0Lm5hbWUsXCJJbmZvcm1hdGlvbiByZWNlaXZlZCBmcm9tIGxhdW5jaGVyLCBidXQgd3JhcCBleGlzdHMgaW4gY2FjaGUuIFJldHVybmluZyBjYWNoZWQgd3JhcC5cIikscih7d3JhcDplfSksbihudWxsLGUpfWNvbnN0e2lkZW50aWZpZXI6YX09cy5kYXRhO2Eud2luZG93TmFtZSYmKGEubmFtZT1hLndpbmRvd05hbWUpLHUuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJXUkFQIExJRkVDWUNMRTpcIix0Lm5hbWUsXCJJbmZvcm1hdGlvbiByZWNlaXZlZCBmcm9tIGxhdW5jaGVyLiBDcmVhdGluZyB3cmFwLlwiKSx0LnJldHJpZXZlZElkZW50aWZpZXI9YTtjb25zdHt3cmFwOmN9PWF3YWl0IGUuX2NyZWF0ZVdyYXAodCk7cy5kYXRhLmRlc2NyaXB0b3ImJihjLmRlc2NyaXB0b3I9cy5kYXRhLmRlc2NyaXB0b3IpLHIoe3dyYXA6Y30pLG4obnVsbCxjKX0pfSkpfXN0YXRpYyBfY3JlYXRlV3JhcCh0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe2NvbnN0IGk9dC5yZXRyaWV2ZWRJZGVudGlmaWVyfHx0LndpbmRvd0lkZW50aWZpZXI7bGV0IHI9bnVsbDt2b2lkIDA9PT13aW5kb3cuX0ZTQkxDYWNoZS53aW5kb3dBdHRlbXB0c1t0Lm5hbWVdJiYod2luZG93Ll9GU0JMQ2FjaGUud2luZG93QXR0ZW1wdHNbdC5uYW1lXT0wKSwodC5zZXRXaW5kb3dUeXBlfHxpLndpbmRvd1R5cGUpJiZcIldlYkFwcGxpY2F0aW9uXCIhPT1pLndpbmRvd1R5cGV8fChpLndpbmRvd1R5cGU9XCJXZWJXaW5kb3dcIik7bGV0IG89T2JqZWN0LmFzc2lnbih7fSxpKTtvPU9iamVjdC5hc3NpZ24obyx0KSxvLnNldFdpbmRvd1R5cGU9by53aW5kb3dUeXBlLGRlbGV0ZSBvLndpbmRvd1R5cGUsdS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldSQVAgTElGRUNZQ0xFOiBQbGFjaW5nIHdyYXAgaW50byB0aGUgbG9jYWwgY2FjaGUuXCIsaS53aW5kb3dOYW1lKTtjb25zdCBzPWU7d2luZG93Ll9GU0JMQ2FjaGUud2luZG93c1tpLndpbmRvd05hbWVdPW5ldyBzKG8pLHI9d2luZG93Ll9GU0JMQ2FjaGUud2luZG93c1tpLndpbmRvd05hbWVdLHIud2luZG93VHlwZT1pLndpbmRvd1R5cGUsci5pZGVudGlmaWVyPWksci5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VkXCIsci5oYW5kbGVXcmFwUmVtb3ZlUmVxdWVzdCksci5hZGRFdmVudExpc3RlbmVyKFwibWF4aW1pemVkXCIsKCk9PntyLndpbmRvd1N0YXRlPWUuV0lORE9XU1RBVEUuTUFYSU1JWkVEfSksci5hZGRFdmVudExpc3RlbmVyKFwibWluaW1pemVkXCIsKCk9PntyLndpbmRvd1N0YXRlPWUuV0lORE9XU1RBVEUuTUlOSU1JWkVEfSksci5hZGRFdmVudExpc3RlbmVyKFwicmVzdG9yZWRcIiwoKT0+e3Iud2luZG93U3RhdGU9ZS5XSU5ET1dTVEFURS5OT1JNQUx9KTtjb25zdCBjPWEuZGVmYXVsdC5zdWJzY3JpYmUoXCJGaW5zZW1ibGUuQ29tcG9uZW50LlN0YXRlLlwiK2kud2luZG93TmFtZSwoZSx0KT0+e2lmKGUpdS5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIkZpbnNlbWJsZSBjb21wb25lbnQgc3RhdGUgY2hhbmdlIGVycm9yXCIsZSk7ZWxzZXtjb25zdHtzdGF0ZTplfT10LmRhdGE7ci53cmFwU3RhdGU9ZSxhLmRlZmF1bHQudW5zdWJzY3JpYmUoYyl9fSk7ci5wYXJlbnRTdWJzY3JpYmVJRD1hLmRlZmF1bHQuc3Vic2NyaWJlKFwiRmluc2VtYmxlLnBhcmVudENoYW5nZS5cIitpLndpbmRvd05hbWUsKGUsdCk9PntpZihlKXUuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoXCJGaW5zZW1ibGVXaW5kb3cgcGFyZW50IGNoYW5nZSBub3RpZmljYXRpb24gZXJyb3JcIixlKSxuKHt3cmFwOnJ9KTtlbHNle2NvbnN0IGU9dC5kYXRhfHx7fTtcIkFkZGVkXCI9PT1lLnR5cGU/KHUuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJGaW5zZW1ibGVXaW5kb3cgUGFyZW50IE5vdGlmaWNhdGlvbjogd2luZG93LmFkZGVkVG9TdGFjayBsaXN0ZW5lclwiLGUpLHIuc2V0UGFyZW50KGUuc3RhY2tlZFdpbmRvd0lkZW50aWZpZXIsKCk9PntuKHt3cmFwOnJ9KX0pKTpcIkV4aXN0c1wiPT09ZS50eXBlPyh1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiRmluc2VtYmxlV2luZG93IFBhcmVudCBOb3RpZmljYXRpb246IFBhcmVudCBhbHJlYWR5IGV4aXN0cywgY2hlY2tpbmcgaWYgYWRkZWQgdG8gd3JhcFwiLGUpLHIuc2V0UGFyZW50T25XcmFwKGUuc3RhY2tlZFdpbmRvd0lkZW50aWZpZXIsKCk9PntuKHt3cmFwOnJ9KX0pKTpcIlJlbW92ZWRcIj09PWUudHlwZT8odS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkZpbnNlbWJsZVdpbmRvdyBQYXJlbnQgTm90aWZpY2F0aW9uOiB3aW5kb3cucmVtb3ZlZEZyb21TdGFjayBsaXN0ZW5lclwiLGUpLHIuY2xlYXJQYXJlbnQoKSxuKHt3cmFwOnJ9KSk6ZS50eXBlPyh1LmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiRmluc2VtYmxlV2luZG93IFBhcmVudCBOb3RpZmljYXRpb246IHVua25vd24gdHlwZVwiLGUpLG4oe3dyYXA6cn0pKTpuKHt3cmFwOnJ9KX19KX0pKX1zdGF0aWMgX2dldFJlbW92ZVdyYXBDaGFubmVsKGUpe3JldHVybmAke2cuU3lzdGVtLldpbmRvdy5nZXRDdXJyZW50KCkubmFtZX0ucmVtb3ZlV3JhcC4ke2V9YH1hc3luYyBoYW5kbGVXcmFwUmVtb3ZlUmVxdWVzdChlKXtlJiZlLndhaXQoKSx1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV1JBUCBEZXN0cnVjdG9yLiBSZW1vdmluZyBjYWNoZWQgd2luZG93XCIsdGhpcy5uYW1lLFwiaW4gXCIsd2luZG93Lm5hbWUpLHRoaXMucmVtb3ZlTGlzdGVuZXJzJiZ0aGlzLnJlbW92ZUxpc3RlbmVycygpLHRoaXMuY2xlYW51cFJvdXRlcigpLHRoaXMuY2xlYW51cCgpLHRoaXMubmFtZSE9PXdpbmRvdy5uYW1lJiYoZGVsZXRlIHdpbmRvdy5fRlNCTENhY2hlLndpbmRvd3NbdGhpcy5uYW1lXSxkZWxldGUgd2luZG93Ll9GU0JMQ2FjaGUud2luZG93QXR0ZW1wdHNbdGhpcy5uYW1lXSksZSYmZS5kb25lKCl9Y2xlYW51cFJvdXRlcigpe2NvbnN0IHQ9ZS5fZ2V0UmVtb3ZlV3JhcENoYW5uZWwodGhpcy5uYW1lKTthLmRlZmF1bHQucmVtb3ZlUmVzcG9uZGVyKHQpLHRoaXMuVElUTEVfQ0hBTkdFRF9TVUJTQ1JJUFRJT04mJmEuZGVmYXVsdC51bnN1YnNjcmliZSh0aGlzLlRJVExFX0NIQU5HRURfU1VCU0NSSVBUSU9OKSxhLmRlZmF1bHQudW5zdWJzY3JpYmUodGhpcy5wYXJlbnRTdWJzY3JpYmVJRCl9b25SZWFkeShlKXtpZihcInJlYWR5XCI9PT10aGlzLndyYXBTdGF0ZSlyZXR1cm4gZSgpO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5XCIsZSl9cXVlcnlXaW5kb3dTZXJ2aWNlKGUsdCxuPUZ1bmN0aW9uLnByb3RvdHlwZSl7aWYoXCJjbG9zZVwiIT09ZSYmXCJzZXRQYXJlbnRcIiE9PWUmJlwicmVhZHlcIiE9PXRoaXMud3JhcFN0YXRlKXJldHVybiB2b2lkIHRoaXMub25SZWFkeSgoKT0+e3RoaXMud3JhcFN0YXRlPVwicmVhZHlcIix0aGlzLnF1ZXJ5V2luZG93U2VydmljZShlLHQsbil9KTtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMoaSxyKT0+e1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihuPXQsdD17fSksKHQ9dHx8e30pLndpbmRvd0lkZW50aWZpZXI9dGhpcy5pZGVudGlmaWVyLHUuZGVmYXVsdC5zZXR0aW5nKCkuc3lzdGVtLkRlYnVnJiYodC5jYWxsc3RhY2s9dS5kZWZhdWx0LmNhbGxTdGFjaygpKSx1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiRmluc2VtYmxlV2luZG93LnF1ZXJ5V2luZG93U2VydmljZVwiLHRoaXMud2luZG93U2VydmljZUNoYW5uZWxOYW1lKGUpLHQpO2xldCBvPW51bGw7YS5kZWZhdWx0LnF1ZXJ5KHRoaXMud2luZG93U2VydmljZUNoYW5uZWxOYW1lKGUpLHQsKHQscyk9Pnt0Pyh1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKGBXaW5kb3dTZXJ2aWNlLiR7ZX06IGZhaWxlZGAsdCksY29uc29sZS5kZWJ1ZyhgV2luZG93U2VydmljZS4ke2V9OiBmYWlsZWRgLHQpLFwiZ2V0Q29tcG9uZW50U3RhdGVcIiE9PWUmJlwiTm90IGZvdW5kXCIhPT10JiZyKHQpKToobz1zLmRhdGEsdS5kZWZhdWx0LnN5c3RlbS5kZWJ1Zyh0aGlzLndpbmRvd1NlcnZpY2VDaGFubmVsTmFtZShlKStcIiBzdWNjZXNzZnVsXCIsbyksY29uc29sZS5kZWJ1Zyh0aGlzLndpbmRvd1NlcnZpY2VDaGFubmVsTmFtZShlKStcIiBzdWNjZXNzZnVsXCIsbykpLGkobyksbih0LG8pfSl9KX1taW5pbWl6ZShlPW51bGwsdD1GdW5jdGlvbi5wcm90b3R5cGUpe3RoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwibWluaW1pemVcIixlLHQpfW1heGltaXplKGU9bnVsbCx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJtYXhpbWl6ZVwiLGUsdCl9cmVzdG9yZShlPW51bGwsdD1GdW5jdGlvbi5wcm90b3R5cGUpe3RoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwicmVzdG9yZVwiLGUsdCl9Ymx1cihlPW51bGwsdD1GdW5jdGlvbi5wcm90b3R5cGUpe3RoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwiYmx1clwiLGUsdCl9Zm9jdXMoZT1udWxsLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXt0aGlzLnF1ZXJ5V2luZG93U2VydmljZShcImZvY3VzXCIsZSx0KX1icmluZ1RvRnJvbnQoZT1udWxsLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXt0aGlzLnF1ZXJ5V2luZG93U2VydmljZShcImJyaW5nVG9Gcm9udFwiLGUsdCl9c2V0QWx3YXlzT25Ub3AoZT17YWx3YXlzT25Ub3A6ITB9LHQ9RnVuY3Rpb24ucHJvdG90eXBlKXt0aGlzLnF1ZXJ5V2luZG93U2VydmljZShcInNldEFsd2F5c09uVG9wXCIsZSx0KX1pc0Fsd2F5c09uVG9wKGU9e30sdCl7dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJpc0Fsd2F5c09uVG9wXCIse30sdCl9aXNTaG93aW5nKGU9e30sdCl7dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJpc1Nob3dpbmdcIixlLHQpfXNldElnbm9yZU1vdXNlRXZlbnRzKGUsdCxuPUZ1bmN0aW9uLnByb3RvdHlwZSl7Y29uc3QgaT17aWdub3JlOm5ldyBCb29sZWFuKGUpLnZhbHVlT2YoKSxvcHRpb25zOm5ldyBCb29sZWFuKHQpLnZhbHVlT2YoKT90Ontmb3J3YXJkOiExfX07dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJzZXRJZ25vcmVNb3VzZUV2ZW50c1wiLGksbil9c2V0U2hhcGUoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJzZXRTaGFwZVwiLGUsdCl9YXN5bmMgYWRkQnJvd3NlclZpZXcoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7Y29uc3Qgbj1hd2FpdCB0aGlzLnF1ZXJ5V2luZG93U2VydmljZShcImFkZEJyb3dzZXJWaWV3XCIsZSx0KTtyZXR1cm4gbmV3IHkuRmluc2VtYmxlVmlldyh7aWQ6bix3aW46dGhpc30pfWFzeW5jIHJlbW92ZUJyb3dzZXJWaWV3KGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2F3YWl0IHRoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwicmVtb3ZlQnJvd3NlclZpZXdcIix7dmlld0lkOmUuaWR9LHQpfWFzeW5jIGJyaW5nVmlld1RvRnJvbnQoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7YXdhaXQgdGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJicmluZ1ZpZXdUb0Zyb250XCIse3ZpZXdJZDplLmlkfSx0KX1hc3luYyBzZXRWaWV3Qm91bmRzKGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2F3YWl0IHRoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwic2V0Vmlld0JvdW5kc1wiLHt2aWV3SWQ6ZS52aWV3LmlkLGJvdW5kczplLmJvdW5kc30sdCl9c2V0Qm91bmRzKGU9e2JvdW5kczp7fX0sdD1GdW5jdGlvbi5wcm90b3R5cGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJiFlLmJvdW5kcyl7ZT17Ym91bmRzOmV9fXRoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwic2V0Qm91bmRzXCIsZSx0KX1nZXRCb3VuZHMoZT17fSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7cmV0dXJuIG5ldyBQcm9taXNlKG49Pnt0aGlzLnF1ZXJ5V2luZG93U2VydmljZShcImdldEJvdW5kc1wiLGUsKGUsaSk9PntuKHtlcnI6ZSxkYXRhOml9KSx0KGUsaSl9KX0pfXVwZGF0ZU9wdGlvbnMoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJ1cGRhdGVPcHRpb25zXCIsZSx0KX1oaWRlKGU9e30sdD1GdW5jdGlvbi5wcm90b3R5cGUpe3RoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwiaGlkZVwiLGUsdCl9c2hvdyhlPXt9LHQ9RnVuY3Rpb24ucHJvdG90eXBlKXt0aGlzLnF1ZXJ5V2luZG93U2VydmljZShcInNob3dcIixlLHQpfXNob3dBdChlPXt9LHQ9RnVuY3Rpb24ucHJvdG90eXBlKXt0aGlzLnF1ZXJ5V2luZG93U2VydmljZShcInNob3dBdFwiLGUsdCl9Y2xvc2UoZT17fSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7dS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldSQVAgQ0xPU0UuIFB1YmxpYyBjbG9zZSBpbml0aWF0ZWQgZm9yXCIsdGhpcy5uYW1lLGUpLHRoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwiY2xvc2VcIixlLCgpPT57dS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldSQVAgQ0xPU0UuIFB1YmxpYyBjbG9zZSBpbml0aWF0ZWQgZm9yXCIsdGhpcy5uYW1lKSx0KCl9KX1hbmltYXRlKGU9e30sdD1GdW5jdGlvbi5wcm90b3R5cGUpe3RoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwiYW5pbWF0ZVwiLGUsdCl9cmVnaXN0ZXJXaXRoRG9ja2luZyhlPXt9LHQpe3RoaXMub25SZWFkeSgoKT0+e2EuZGVmYXVsdC5xdWVyeShcIkRvY2tpbmdTZXJ2aWNlLnJlZ2lzdGVyV2luZG93XCIse3R5cGU6dGhpcy50eXBlLHdpbmRvd1R5cGU6dGhpcy53aW5kb3dUeXBlLHdpbmRvd01zZzplLG5hbWU6dGhpcy53aW5kb3dOYW1lfSx0KX0pfXVuUmVnaXN0ZXJXaXRoRG9ja2luZygpe2EuZGVmYXVsdC50cmFuc21pdChcIkRvY2tpbmdTZXJ2aWNlLmRlcmVnaXN0ZXJXaW5kb3dcIix7bmFtZTp0aGlzLndpbmRvd05hbWV9KX1pbml0aWFsaXplV2luZG93KHttYW5hZ2VXaW5kb3dNb3ZlbWVudDplLGlkZW50aWZpZXI6dH0sbj1GdW5jdGlvbi5wcm90b3R5cGUpe2NvbnN0IGk9KCk9PnthLmRlZmF1bHQucHVibGlzaChgRmluc2VtYmxlLiR7dGhpcy53aW5kb3dOYW1lfS5jb21wb25lbnRSZWFkeWAse25hbWU6dGhpcy53aW5kb3dOYW1lfSksbigpfTtlP3RoaXMucmVnaXN0ZXJXaXRoRG9ja2luZyh0LGkpOmkoKX13cmFwUmVhZHkoKXthLmRlZmF1bHQucHVibGlzaChgRmluc2VtYmxlLiR7dGhpcy53aW5kb3dOYW1lfS53cmFwUmVhZHlgLHtuYW1lOnRoaXMud2luZG93TmFtZSxzdGF0ZTpcIm9wZW5cIn0pfXNldE9wYWNpdHkoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJzZXRPcGFjaXR5XCIsZSx0KX1zdGFydFRhYlRpbGVNb25pdG9yaW5nKGU9e30pe3UuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJGaW5zZW1ibGVXaW5kb3cuc3RhcnRUYWJUaWxlTW9uaXRvcmluZ1wiLGUpLGEuZGVmYXVsdC50cmFuc21pdChcIlRhYlRpbGUuc3RhcnRUYWJUaWxlXCIse3BhcmFtczplfSl9c3RvcFRhYlRpbGVNb25pdG9yaW5nKGU9e30sdD1GdW5jdGlvbi5wcm90b3R5cGUpe3UuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJGaW5zZW1ibGVXaW5kb3cuc3RvcFRhYlRpbGVNb25pdG9yaW5nXCIsZSksYS5kZWZhdWx0LnF1ZXJ5KFwiVGFiVGlsZS5zdG9wVGFiVGlsZVwiLHtwYXJhbXM6ZX0sKGZ1bmN0aW9uKGUsbil7ZT91LmRlZmF1bHQuc3lzdGVtLndhcm4oXCJUYWJUaWxlLnN0b3BUYWJUaWxlOiBxdWVyeSBmYWlsZWRcIixlKTp1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiVGFiVGlsZS5zdG9wVGFiVGlsZSByZXN1bHRzXCIsbi5kYXRhKTtjb25zdCBpPW4uZGF0YTt0P3QoZSxpLHRoaXMuZGVmYXVsdFN0b3BUcmFja2luZ0FjdGlvbik6dGhpcy5kZWZhdWx0VGFiVGlsZUFjdGlvbihpKX0pKX1kZWZhdWx0VGFiVGlsZUFjdGlvbihlKXtjb25zdCB0PXRoaXM7c3dpdGNoKHUuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJGaW5zZW1ibGVXaW5kb3cuZGVmYXVsdFRhYlRpbGVBY3Rpb25cIixlKSxlLnN0b3BwZWRMb2NhdGlvbil7Y2FzZVwiT3V0c2lkZVdpbmRvd1wiOmNhc2VcIlRhYlNlY3Rpb25cIjpicmVhaztjYXNlXCJJbnNpZGVXaW5kb3dcIjplLnRpbGVHcm91cElkP3QuR3JvdXAuYWRkV2luZG93KHRoaXMuaWRlbnRpZmllcixlLnRpbGVHcm91cElkLGUuZHJvcENvb3JkaW5hdGVzKTp0Lkdyb3VwLmNyZWF0ZUdyb3VwKChmdW5jdGlvbihuKXt0Lkdyb3VwLmFkZFdpbmRvdyh0aGlzLmlkZW50aWZpZXIsbixlLmRyb3BDb29yZGluYXRlcyx7c3RhcnRpbmdXaW5kb3dJZGVudGlmaWVyOmUuZHJvcHBlZE9uV2luZG93SWRlbnRpZmllcn0pfSkpO2JyZWFrO2RlZmF1bHQ6dS5kZWZhdWx0LnN5c3RlbS5lcnJvcihcInN0b3BUcmFja2luZyByZXR1cm5lZCBhbiB1bmtub3duIHN0b3BwZWRMb2NhdGlvbiByZXN1bHRcIixlKX19bWVyZ2VCb3VuZHMoZSl7ZS5yaWdodD1lLmxlZnQrZS53aWR0aDtjb25zdCB0PXtsZWZ0OmUubGVmdCxyaWdodDplLnJpZ2h0LHdpZHRoOmUud2lkdGgsdG9wOmUudG9wLGJvdHRvbTplLnRvcCtlLmhlaWdodCxoZWlnaHQ6ZS5oZWlnaHR9LG49e2RlZmF1bHRMZWZ0OmUubGVmdCxkZWZhdWx0V2lkdGg6ZS53aWR0aCxkZWZhdWx0VG9wOmUudG9wLGRlZmF1bHRIZWlnaHQ6ZS5oZWlnaHR9O09iamVjdC5hc3NpZ24odGhpcy53aW5kb3dPcHRpb25zLHQpLE9iamVjdC5hc3NpZ24odGhpcy53aW5kb3dPcHRpb25zLG4pLHRoaXMud2luZG93T3B0aW9ucy5ib3VuZHM9dH1zdGFydE1vdmUoZT17fSl7dS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkZpbnNlbWJsZVdpbmRvdy5zdGFydE1vdmVcIixlKSxlLndpbmRvd0lkZW50aWZpZXI9dGhpcy5pZGVudGlmaWVyLGEuZGVmYXVsdC50cmFuc21pdCh0aGlzLmV2ZW50Q2hhbm5lbE5hbWUoXCJzdGFydGVkTW92aW5nXCIpLHt9KX1zdG9wTW92ZShlPXt9KXt1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiRmluc2VtYmxlV2luZG93LnN0b3BNb3ZlXCIsZSksZS53aW5kb3dJZGVudGlmaWVyPXRoaXMuaWRlbnRpZmllcixhLmRlZmF1bHQudHJhbnNtaXQodGhpcy5ldmVudENoYW5uZWxOYW1lKFwic3RvcHBlZE1vdmluZ1wiKSx7fSl9Z2V0TW9uaXRvcihlKXthLmRlZmF1bHQucXVlcnkoXCJEb2NraW5nU2VydmljZS5nZXRNb25pdG9yRm9yV2luZG93XCIse3dpbmRvd0lkZW50aWZpZXI6dGhpcy5pZGVudGlmaWVyfSwodCxuKT0+bj9lKG4uZGF0YSk6ZSgpKX1nZXRDb21wb25lbnRTdGF0ZShlLHQpe3RoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwiZ2V0Q29tcG9uZW50U3RhdGVcIixlLHQpfWdldFdpbmRvd1N0YXRlKGUsdCl7dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJnZXRXaW5kb3dTdGF0ZVwiLGUsdCl9c2V0Q29tcG9uZW50U3RhdGUoZSx0PSgoKT0+e30pKXt0aGlzLnF1ZXJ5V2luZG93U2VydmljZShcInNldENvbXBvbmVudFN0YXRlXCIsZSx0KX1yZW1vdmVDb21wb25lbnRTdGF0ZShlLHQ9KCgpPT57fSkpe3RoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwicmVtb3ZlQ29tcG9uZW50U3RhdGVcIixlLHQpfXNldFdpbmRvd1N0YXRlKGUsdD0oKCk9Pnt9KSl7dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJzZXRXaW5kb3dTdGF0ZVwiLGUsdCl9c2F2ZUNvbXBsZXRlV2luZG93U3RhdGUoZT17fSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJzYXZlQ29tcGxldGVXaW5kb3dTdGF0ZVwiLGUsdCl9Y2FuY2VsVGFiVGlsZU1vbml0b3JpbmcoZT17fSl7dS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkZpbnNlbWJsZVdpbmRvdy5jYW5jZWxUYWJUaWxlTW9uaXRvcmluZ1wiLGUpLGEuZGVmYXVsdC50cmFuc21pdChcIlRhYlRpbGUuY2FuY2VsVGFiVGlsZVwiLHtwYXJhbXM6ZX0pfWdldFBhcmVudCh0KXt0aGlzLnNldHRpbmdQYXJlbnQ/ZS5nZXRJbnN0YW5jZSh0aGlzLnNldHRpbmdQYXJlbnQsKGUsbik9Pnt0KG51bGwsbil9KTp0aGlzLnBhcmVudFdpbmRvdz90KG51bGwsdGhpcy5wYXJlbnRXaW5kb3cpOnQobnVsbCxudWxsKX1zZXRQYXJlbnQodCxuKXtpZih0aGlzLnNldHRpbmdQYXJlbnQpcmV0dXJuIHRoaXMuZ2V0UGFyZW50KG4pO3RoaXMuc2V0dGluZ1BhcmVudD10LHRoaXMucGFyZW50V2luZG93JiZ0aGlzLnBhcmVudFdpbmRvdy5uYW1lPT09dC53aW5kb3dOYW1lPyh1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiRmluc2VtYmxlV2luZG93LnNldFBhcmVudCBhbHJlYWR5IHNldFwiLHQpLHRoaXMuc2V0dGluZ1BhcmVudD0hMSxuKG51bGwsdGhpcy5wYXJlbnRXaW5kb3cpKTp0aGlzLnF1ZXJ5V2luZG93U2VydmljZShcInNldFBhcmVudFwiLHQsKCk9Pnt1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiRmluc2VtYmxlV2luZG93LnNldFBhcmVudFwiLHQpLGUuZ2V0SW5zdGFuY2UodCwoZSxpKT0+e2U/dS5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIkZpbnNlbWJsZVdpbmRvdy5zZXRQYXJlbnQgZXJyb3JcIixlKToodS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkZpbnNlbWJsZVdpbmRvdy5zZXRQYXJlbnQgd3JhcCBzdWNjZXNzXCIsdCksdGhpcy5wYXJlbnRXaW5kb3c9aSx0aGlzLnBhcmVudFdpbmRvdy53aW5kb3dUeXBlLmluY2x1ZGVzKFwiU3RhY2tlZFdpbmRvd1wiKXx8dS5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIkZpbnNlbWJsZVdpbmRvdy5zZXRQYXJlbnQgZXJyb3JcIix0aGlzLnBhcmVudFdpbmRvdy5uYW1lLHQud2luZG93TmFtZSkpLGEuZGVmYXVsdC50cmFuc21pdChoLkRPQ0tJTkcuUkVRVUVTVF9QVUJMSVNILG51bGwpLHRoaXMuc2V0dGluZ1BhcmVudD0hMTtjb25zdCByPSgpPT57dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFyZW50LXNldFwiLHIpLG4oZSxpKX07dGhpcy5hZGRFdmVudExpc3RlbmVyKFwicGFyZW50LXNldFwiLHIpfSl9KX1zZXRQYXJlbnRPbldyYXAodCxuPUZ1bmN0aW9uLnByb3RvdHlwZSl7dGhpcy5wYXJlbnRXaW5kb3cmJnRoaXMucGFyZW50V2luZG93Lm5hbWU9PT10LndpbmRvd05hbWU/KHUuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJGaW5zZW1ibGVXaW5kb3cuc2V0UGFyZW50T25XcmFwIGFscmVhZHkgc2V0XCIsdCksbihudWxsLHRoaXMucGFyZW50V2luZG93KSk6dGhpcy5xdWVyeVdpbmRvd1NlcnZpY2UoXCJzZXRQYXJlbnRcIix0LCgpPT57dS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkZpbnNlbWJsZVdpbmRvdy5zZXRQYXJlbnRPbldyYXBcIix0KSxlLmdldEluc3RhbmNlKHQsKGUsaSk9PntlP3UuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoXCJGaW5zZW1ibGVXaW5kb3cuc2V0UGFyZW50T25XcmFwIGVycm9yXCIsZSk6KHUuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJGaW5zZW1ibGVXaW5kb3cuc2V0UGFyZW50T25XcmFwIHN1Y2Nlc3MgZ2V0dGluZyB3cmFwXCIsdCksY29uc29sZS5kZWJ1ZyhcIkZpbnNlbWJsZVdpbmRvdy5zZXRQYXJlbnRPbldyYXAgc3VjY2VzcyBnZXR0aW5nIHdyYXBcIix0aGlzLGkpLHRoaXMucGFyZW50V2luZG93PWksITE9PT10aGlzLnBhcmVudFdpbmRvdy53aW5kb3dUeXBlLmluY2x1ZGVzKFwiU3RhY2tlZFdpbmRvd1wiKSYmdS5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIkZpbnNlbWJsZVdpbmRvdy5zZXRQYXJlbnRPbldyYXAgZXJyb3JcIix0aGlzLnBhcmVudFdpbmRvdy5uYW1lLHQud2luZG93TmFtZSkpLG4oZSxpKX0pfSl9Y2xlYXJQYXJlbnQoKXt1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiRmluc2VtYmxlV2luZG93LmNsZWFyUGFyZW50XCIsdGhpcy5wYXJlbnRXaW5kb3cpLHRoaXMucGFyZW50V2luZG93PW51bGx9c2V0VGl0bGUoZSl7dS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIlRpdGxlIGNoYW5nZVwiLGUpLGEuZGVmYXVsdC5wdWJsaXNoKHRoaXMuVElUTEVfQ0hBTkdFRF9DSEFOTkVMLGUpfWdldE9wdGlvbnMoZT1GdW5jdGlvbi5wcm90b3R5cGUpe3RoaXMucXVlcnlXaW5kb3dTZXJ2aWNlKFwiZ2V0T3B0aW9uc1wiLHt9LGUpfV9wcml2YXRlTWFuYWdlbWVudFByZWZhY2UoZSx0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ1LmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiU3RhY2tlZFdpbmRvd1dyYXBwZXIud3JhcFByZWZhY2UgYmFkIHBhcmFtc1wiLHQpLCh0PXR8fHt9KS5zdGFja2VkV2luZG93SWRlbnRpZmllcj17d2luZG93TmFtZTp0aGlzLmlkZW50aWZpZXIud2luZG93TmFtZSx3aW5kb3dUeXBlOnRoaXMuaWRlbnRpZmllci53aW5kb3dUeXBlfSx1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKGBTdGFja2VkV2luZG93LiR7ZX0gIF9wcml2YXRlTWFuYWdlbWVudFByZWZhY2VgLHQpLHR9YWRkV2luZG93KGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2U9dGhpcy5fcHJpdmF0ZU1hbmFnZW1lbnRQcmVmYWNlKFwiYWRkV2luZG93XCIsZSk7cmV0dXJuIG5ldyBQcm9taXNlKG49PnthLmRlZmF1bHQucXVlcnkoXCJTdGFja2VkV2luZG93LmFkZFdpbmRvd1wiLGUsKGUsaSk9Pnt1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiU3RhY2tlZFdpbmRvdy5hZGRXaW5kb3cgY2FsbGJhY2tcIixlLGkpLHQoZSxpLmRhdGEpLG4oe2VycjplLGRhdGE6aS5kYXRhfSl9KX0pfXJlbW92ZVdpbmRvdyhlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtlPXRoaXMuX3ByaXZhdGVNYW5hZ2VtZW50UHJlZmFjZShcInJlbW92ZVdpbmRvd1wiLGUpO3JldHVybiBuZXcgUHJvbWlzZShuPT57YS5kZWZhdWx0LnF1ZXJ5KFwiU3RhY2tlZFdpbmRvdy5yZW1vdmVXaW5kb3dcIixlLChlLGkpPT57dS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIlN0YWNrZWRXaW5kb3cucmVtb3ZlV2luZG93IGNhbGxiYWNrXCIsZSxpKSx0KGUsaS5kYXRhKSxuKHtlcnI6ZSxkYXRhOmkuZGF0YX0pfSl9KX1kZWxldGVXaW5kb3coZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7ZT10aGlzLl9wcml2YXRlTWFuYWdlbWVudFByZWZhY2UoXCJkZWxldGVXaW5kb3dcIixlKTtyZXR1cm4gbmV3IFByb21pc2Uobj0+e2EuZGVmYXVsdC5xdWVyeShcIlN0YWNrZWRXaW5kb3cuZGVsZXRlV2luZG93XCIsZSwoZSxpKT0+e3UuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJTdGFja2VkV2luZG93LmRlbGV0ZVdpbmRvdyBjYWxsYmFja1wiLGUsaSksdChlLGkuZGF0YSksbih7ZXJyOmUsZGF0YTppLmRhdGF9KX0pfSl9c2V0VmlzaWJsZVdpbmRvdyhlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtlPXRoaXMuX3ByaXZhdGVNYW5hZ2VtZW50UHJlZmFjZShcInNldFZpc2libGVXaW5kb3dcIixlKTtyZXR1cm4gbmV3IFByb21pc2Uobj0+e2EuZGVmYXVsdC5xdWVyeShcIlN0YWNrZWRXaW5kb3cuc2V0VmlzaWJsZVdpbmRvd1wiLGUsKGUsaSk9Pnt1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiU3RhY2tlZFdpbmRvdy5zZXRWaXNpYmxlV2luZG93IGNhbGxiYWNrXCIsZSxpKSx0KGUsaS5kYXRhKSxuKHtlcnI6ZSxkYXRhOmkuZGF0YX0pfSl9KX1yZW9yZGVyKGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2U9dGhpcy5fcHJpdmF0ZU1hbmFnZW1lbnRQcmVmYWNlKFwicmVvcmRlclwiLGUpO3JldHVybiBuZXcgUHJvbWlzZShuPT57YS5kZWZhdWx0LnF1ZXJ5KFwiU3RhY2tlZFdpbmRvdy5yZW9yZGVyXCIsZSwoZSxpKT0+e3UuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJTdGFja2VkV2luZG93LnJlb3JkZXIgY2FsbGJhY2tcIixlLGkpLHQoZSxpLmRhdGEpLG4oe2VycjplLGRhdGE6aS5kYXRhfSl9KX0pfWZvcm1Hcm91cCgpe2NvbnN0IGU9dGhpcy5wYXJlbnRXaW5kb3c/dGhpcy5wYXJlbnRXaW5kb3cubmFtZTp0aGlzLm5hbWU7YS5kZWZhdWx0LnRyYW5zbWl0KFwiRG9ja2luZ1NlcnZpY2UuZm9ybUdyb3VwXCIse3dpbmRvd05hbWU6ZX0pfWVqZWN0RnJvbUdyb3VwKCl7Y29uc3QgZT10aGlzLnBhcmVudFdpbmRvdz90aGlzLnBhcmVudFdpbmRvdy5uYW1lOnRoaXMubmFtZTthLmRlZmF1bHQucXVlcnkoXCJEb2NraW5nU2VydmljZS5sZWF2ZUdyb3VwXCIse25hbWU6ZX0sKCk9Pnt9KX19cmV0dXJuIGUuV0lORE9XU1RBVEU9e05PUk1BTDowLE1JTklNSVpFRDoxLE1BWElNSVpFRDoyLEhJRERFTjozfSxlLndyYXA9ZS5nZXRJbnN0YW5jZSxlLmlzU3RhcnR1cEFwcGxpY2F0aW9uPWFzeW5jIGZ1bmN0aW9uKGUpe2xldCB0O2NvbnN0IG49YXdhaXQgbmV3IFByb21pc2UoKGUsdCk9PntnLlN5c3RlbS5BcHBsaWNhdGlvbi5nZXRDdXJyZW50KCkuZ2V0TWFuaWZlc3QoZSx0KX0pLmNhdGNoKCgpPT57dD0hMX0pO3JldHVybiBuJiYodD1uJiZuLnN0YXJ0dXBfYXBwJiZuLnN0YXJ0dXBfYXBwLm5hbWU9PT1lKSx0fSxlLl93aW5kb3dSZWFkeT1mdW5jdGlvbih0KXtsZXQgbjt1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKGB3aW5kb3dTZXJ2aWNlUmVhZHk6ICR7dH0gc3RhcnRpbmdgKTtjb25zdCBpPVwiRmluc2VtYmxlLkNvbXBvbmVudC5TdGF0ZS5cIit0O3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhyLG8pPT57Y29uc3Qgcz0oZSxpKT0+e2NvbnN0e3N0YXRlOm99PWkuZGF0YTtzd2l0Y2godS5kZWZhdWx0LnN5c3RlbS5kZWJ1Zyhgd2luZG93U2VydmljZVJlYWR5OiAke3R9IHN0YXRlIGNoYW5nZTogJHtvfWApLGNvbnNvbGUubG9nKGB3aW5kb3dTZXJ2aWNlUmVhZHk6ICR7dH0gc3RhdGUgY2hhbmdlOiAke299YCksbyl7Y2FzZVwicmVhZHlcIjpjYXNlXCJyZWxvYWRpbmdcIjpjYXNlXCJjbG9zaW5nXCI6dS5kZWZhdWx0LnN5c3RlbS5kZWJ1Zyhgd2luZG93U2VydmljZVJlYWR5OiAke3R9ICR7b31gKSxhLmRlZmF1bHQudW5zdWJzY3JpYmUobikscigpfX07YXdhaXQgZS5pc1N0YXJ0dXBBcHBsaWNhdGlvbih0KXx8cC5pc1NlcnZpY2VJbldpbmRvdyh0KT9vKFwiQ2Fubm90IFdyYXAgU2VydmljZSBNYW5hZ2VyIG9yIFNlcnZpY2VzXCIpOih1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKGB3aW5kb3dTZXJ2aWNlUmVhZHk6ICR7dH0gd2FpdGluZ2ApLG49YS5kZWZhdWx0LnN1YnNjcmliZShpLHMpKX0pfSxlfSkoKTt0LkZpbnNlbWJsZVdpbmRvdz13fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSl9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLHI9dGhpcyYmdGhpcy5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pfTpmdW5jdGlvbihlLHQpe2UuZGVmYXVsdD10fSksbz10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmaSh0LGUsbik7cmV0dXJuIHIodCxlKSx0fSxzPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO1xuLyohXG4gKiBDb3B5cmlnaHQgMjAxNyAtIDIwMjAgYnkgQ2hhcnRJUSwgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuY29uc3QgYT1uKDQpLHU9cyhuKDE0KSksYz1vKG4oMTEpKSxsPXMobig4KSksZD1uKDIpLGY9cyhuKDApKSxoPW4oMTUpLHA9d2luZG93LGc9e307Y2xhc3MgbSBleHRlbmRzIGEuX0Jhc2VDbGllbnR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksbC5kZWZhdWx0LmFyZ3MoZSxcIm9iamVjdD1cIikmJmUmJmwuZGVmYXVsdC5hcmdzMihcInBhcmFtcy5vblJlYWR5XCIsZS5vblJlYWR5LFwiZnVuY3Rpb249XCIpLHRoaXMud2luZG93Q2xpZW50PWUuY2xpZW50cy53aW5kb3dDbGllbnR9Z2V0Q29tcG9uZW50TGlzdChlPUZ1bmN0aW9uLnByb3RvdHlwZSl7bC5kZWZhdWx0LmFyZ3MoZSxcImZ1bmN0aW9uPVwiKTtyZXR1cm4gbmV3IFByb21pc2UodD0+e3RoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiTGF1bmNoZXIuY29tcG9uZW50TGlzdFwiLHt9LChuLGkpPT57ZShuLGkuZGF0YSksdCh7ZXJyOm4sZGF0YTppLmRhdGF9KX0pfSl9Z2V0Q29tcG9uZW50RGVmYXVsdENvbmZpZyhlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtsLmRlZmF1bHQuYXJncyh0LFwiZnVuY3Rpb249XCIpO3JldHVybiBuZXcgUHJvbWlzZShuPT57dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJMYXVuY2hlci5jb21wb25lbnRMaXN0XCIse30sKGkscik9Pntjb25zdCBvPXIuZGF0YVtlXTt0KGksbyksbih7ZXJyOmksZGF0YTpvfSl9KX0pfWdldE1vbml0b3JJbmZvKGU9e30sdD1GdW5jdGlvbi5wcm90b3R5cGUpe2NvbnN0IG49dGhpcztpZihsLmRlZmF1bHQuYXJncyh0LFwiZnVuY3Rpb249XCIpLGYuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJNT05JVE9SOiBsYXVuY2hlckNsaWVudC5nZXRNb25pdG9ySW5mb1wiKSxcImFsbFwiPT09ZS5tb25pdG9yKXJldHVybiBuLmdldE1vbml0b3JJbmZvQWxsKHQpO3JldHVybiBuZXcgUHJvbWlzZShpPT57Yy5nZXRNeVdpbmRvd0lkZW50aWZpZXIocj0+e2Uud2luZG93SWRlbnRpZmllcnx8KGUud2luZG93SWRlbnRpZmllcj1yKSxuLnJvdXRlckNsaWVudC5xdWVyeShcIkxhdW5jaGVyLmdldE1vbml0b3JJbmZvXCIsZSwoZSxuKT0+e3QmJnQoZSxuLmRhdGEpLGYuZGVmYXVsdC5zeXN0ZW0ubG9nKFwiTU9OSVRPUjogbGF1bmNoZXJDbGllbnQuZ2V0TW9uaXRvckluZm8gcXVlcnkgcmVzcG9uc2UgZGF0YVwiLG4uZGF0YSksaSh7ZXJyOmUsZGF0YTpuLmRhdGF9KX0pfSl9KX1nZXRNb25pdG9ySW5mb0FsbChlPUZ1bmN0aW9uLnByb3RvdHlwZSl7bC5kZWZhdWx0LmFyZ3MoZSxcImZ1bmN0aW9uPVwiKSxmLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiTU9OSVRPUjogbGF1bmNoZXJDbGllbnQuZ2V0TW9uaXRvckluZm9BbGxcIik7cmV0dXJuIG5ldyBQcm9taXNlKCh0LG4pPT57dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJMYXVuY2hlci5nZXRNb25pdG9ySW5mb0FsbFwiLHt9LChpLHIpPT57aSYmKG4oe2VycjppfSksZShpKSksdCh7ZXJyOmksZGF0YTpyLmRhdGF9KSxlKGksci5kYXRhKX0pfSl9cmVnaXN0ZXJDb21wb25lbnQoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7cmV0dXJuIG5ldyBQcm9taXNlKG49Pnt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIkxhdW5jaGVyU2VydmljZS5yZWdpc3RlckNvbXBvbmVudFwiLGUsKGUsaSk9Pnt0JiZ0KGUsaS5kYXRhKSxuKHtlcnI6ZSxkYXRhOmkuZGF0YX0pfSl9KX11blJlZ2lzdGVyQ29tcG9uZW50KGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2lmKCFlLmNvbXBvbmVudFR5cGUpcmV0dXJuIHQoXCJObyBjb21wb25lbnRUeXBlIHByb3ZpZGVkXCIpO3JldHVybiBuZXcgUHJvbWlzZShuPT57dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJMYXVuY2hlclNlcnZpY2UudW5SZWdpc3RlckNvbXBvbmVudFwiLGUsKGUsaSk9Pnt0JiZ0KGUsaS5kYXRhKSxuKHtlcnI6ZSxkYXRhOmkuZGF0YX0pfSl9KX1sb2NhdG9yVG9JZGVudGlmaWVyKGUpe2xldCB0PXt9O3JldHVybiB0LndpbmRvd05hbWU9XCJ3aW5kb3dOYW1lXCJpbiBlP2Uud2luZG93TmFtZTpcIlwiLFwiY29tcG9uZW50VHlwZVwiaW4gZSYmKHQuY29tcG9uZW50VHlwZT1lLmNvbXBvbmVudFR5cGUpLFwidXVpZFwiaW4gZSYmKHQudXVpZD1lLnV1aWQpLHR9dG9nZ2xlV2luZG93T25DbGljayhlLHQsbil7Y29uc3QgaT10aGlzO2xldCByPXRoaXMubG9jYXRvclRvSWRlbnRpZmllcih0KSxvPWAke3Iud2luZG93TmFtZX06JHtyLnV1aWR9YDtpZihyLndpbmRvd05hbWV8fChvPXIuY29tcG9uZW50VHlwZSksITE9PT1nW29dKXJldHVybiB2b2lkKGdbb109ITApO24ucG9zaXRpb258fChuLnBvc2l0aW9uPVwiYWJzb2x1dGVcIiksdGhpcy5zaG93V2luZG93KHQsbiwoZnVuY3Rpb24odCxuKXtpZighbilyZXR1cm47Y29uc3R7ZmluV2luZG93OnJ9PW47dmFyIHM9ZnVuY3Rpb24oKXtnW29dPSEwLGkud2luZG93Q2xpZW50LmlzTW91c2VPdmVyRE9NRWxlbWVudChlLGU9PntnW29dPSFlfSksci5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1cnJlZFwiLHMpfTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVycmVkXCIscyl9KSl9c2hvd1dpbmRvdyhlLHQsbj1GdW5jdGlvbi5wcm90b3R5cGUpe2wuZGVmYXVsdC5hcmdzKGUsXCJvYmplY3RcIix0LFwib2JqZWN0PVwiLG4sXCJmdW5jdGlvbj1cIik7Y29uc3QgaT10aGlzO3R8fCh0PXt9KSwodD1jLmNsb25lKHQpKS5zdGFnZ2VyUGl4ZWxzfHwwPT09dC5zdGFnZ2VyUGl4ZWxzfHwodC5zdGFnZ2VyUGl4ZWxzPTEwMCksdC53aW5kb3dJZGVudGlmaWVyPXRoaXMubG9jYXRvclRvSWRlbnRpZmllcihlKTtyZXR1cm4gbmV3IFByb21pc2UoZT0+e2MuZ2V0TXlXaW5kb3dJZGVudGlmaWVyKHI9Pnt0LnJlbGF0aXZlV2luZG93fHwodC5yZWxhdGl2ZVdpbmRvdz1yKSxpLnJvdXRlckNsaWVudC5xdWVyeShcIkxhdW5jaGVyLnNob3dXaW5kb3dcIix0LGFzeW5jKHQsaSk9PntpZih0KXJldHVybiBlKHtlcnI6dH0pLG4odCk7Y29uc3Qgcj1pLmRhdGEud2luZG93SWRlbnRpZmllcjtpLmRhdGEud2luZG93SWRlbnRpZmllci5uYW1lPWkuZGF0YS53aW5kb3dJZGVudGlmaWVyLndpbmRvd05hbWU7Y29uc3R7d3JhcDpvfT1hd2FpdCBoLkZpbnNlbWJsZVdpbmRvdy5nZXRJbnN0YW5jZSh7bmFtZTpyLndpbmRvd05hbWV9KTtpLmRhdGEuZmluV2luZG93PW8sZSh7ZXJyOnQsZGF0YTppLmRhdGF9KSxuKHQsaS5kYXRhKX0pfSl9KX1zcGF3bihlLHQsbj1GdW5jdGlvbi5wcm90b3R5cGUpe2NvbnN0IGk9dGhpcztsLmRlZmF1bHQuYXJncyhlLFwic3RyaW5nXCIsdCxcIm9iamVjdD1cIixuLFwiZnVuY3Rpb249XCIpLHR8fCh0PXt9KSwodD1jLmNsb25lKHQpKS5jb21wb25lbnQ9ZSx0Lm9wdGlvbnN8fCh0Lm9wdGlvbnM9e30pLHQub3B0aW9ucy5jdXN0b21EYXRhfHwodC5vcHRpb25zLmN1c3RvbURhdGE9e30pLHQuc3RhZ2dlclBpeGVsc3x8MD09PXQuc3RhZ2dlclBpeGVsc3x8KHQuc3RhZ2dlclBpeGVscz01MCksZi5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkxhdW5jaGVyQ2xpZW50LnNwYXduIHN0YXJ0aW5nIGZvciBjb21wb25lbnRUeXBlOlwiK2UpO3JldHVybiBuZXcgUHJvbWlzZShyPT57Yy5nZXRNeVdpbmRvd0lkZW50aWZpZXIobz0+e3QubGF1bmNoaW5nV2luZG93PW8saS5jYWxsU3Bhd24odCwodCxpKT0+e2YuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJMYXVuY2hlckNsaWVudC5zcGF3biBjb21wbGV0aW5nIGZvciBjb21wb25lbnRUeXBlOlwiK2UsdCkscih7ZXJyOnQscmVzcG9uc2U6aX0pLG4odCxpKX0pfSl9KX1jYWxsU3Bhd24oZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7Y29uc3Qgbj10aGlzO2wuZGVmYXVsdC5hcmdzKHQsXCJmdW5jdGlvbj1cIiksZi5kZWZhdWx0LnBlcmYuZGVidWcoXCJDYWxsU3Bhd25cIixcInN0YXJ0XCIsXCJmcm9tIHNwYXduIHRvIGNhbGxiYWNrXCIsZSk7cmV0dXJuIG5ldyBQcm9taXNlKGk9PntmdW5jdGlvbiByKGUsbil7dChlLG4pLGkoe2VycjplLGRhdGE6bn0pfW4ucm91dGVyQ2xpZW50LnF1ZXJ5KFwiTGF1bmNoZXIuc3Bhd25cIixlLGFzeW5jKGUsdCk9PntpZihmLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiQ2FsbFNwYXduXCIsXCJJbml0aWFsIGxhdW5jaGVyIGNhbGxiYWNrIHBhcmFtc1wiLGUsdCksZi5kZWZhdWx0LnBlcmYuZGVidWcoXCJDYWxsU3Bhd25cIixcIkluaXRpYWwgbGF1bmNoZXIgY2FsbGJhY2tcIix0KSxlKXJldHVybiByKGUsdC5kYXRhKSxmLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiTGF1bmNoZXJDbGllbnQuY2FsbFNwYXduXCIsZSk7dC5kYXRhLndpbmRvd0lkZW50aWZpZXIubmFtZT10LmRhdGEud2luZG93SWRlbnRpZmllci53aW5kb3dOYW1lO3ZhciBpPXQuZGF0YTtpZihpLndpbmRvd0Rlc2NyaXB0b3IubmF0aXZlKXJldHVybiByKGUsaSk7Y29uc3Qgbz1pLndpbmRvd0lkZW50aWZpZXIse3dyYXA6c309YXdhaXQgaC5GaW5zZW1ibGVXaW5kb3cuZ2V0SW5zdGFuY2Uoe25hbWU6by53aW5kb3dOYW1lfSk7aS5maW5XaW5kb3c9cztjb25zdCBhPWBGaW5zZW1ibGUuJHtpLndpbmRvd0lkZW50aWZpZXIud2luZG93TmFtZX0uY29tcG9uZW50UmVhZHlgLHU9bi5yb3V0ZXJDbGllbnQuc3Vic2NyaWJlKGEsKHQsbyk9PntpZih0KXJldHVybiBmLmRlZmF1bHQuc3lzdGVtLmVycm9yKHQpO28mJjA9PT1PYmplY3Qua2V5cyhvLmRhdGEpLmxlbmd0aHx8KGYuZGVmYXVsdC5wZXJmLmRlYnVnKFwiQ2FsbFNwYXduXCIsXCJzdG9wXCIpLHIoZSxpKSxuLnJvdXRlckNsaWVudC51bnN1YnNjcmliZSh1KSl9KX0pfSl9Z2V0TW9uaXRvcihlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtmLmRlZmF1bHQuc3lzdGVtLndhcm4oXCJUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZS4gTWV0aG9kIGdldE1vbml0b3JJbmZvIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXCIpO3JldHVybiBsLmRlZmF1bHQuYXJncyh0LFwiZnVuY3Rpb249XCIpLHRoaXMuZ2V0TW9uaXRvckluZm8oe3dpbmRvd0lkZW50aWZpZXI6ZX0sdCl9Z2V0TXlXaW5kb3dJZGVudGlmaWVyKGU9RnVuY3Rpb24ucHJvdG90eXBlKXtsLmRlZmF1bHQuYXJncyhlLFwiZnVuY3Rpb249XCIpO3JldHVybiBuZXcgUHJvbWlzZSh0PT57Yy5nZXRNeVdpbmRvd0lkZW50aWZpZXIobj0+e2UobiksdChuKX0pfSl9Z2V0QWN0aXZlRGVzY3JpcHRvcnMoZT1GdW5jdGlvbi5wcm90b3R5cGUpe2wuZGVmYXVsdC5hcmdzKGUsXCJmdW5jdGlvbj1cIik7cmV0dXJuIG5ldyBQcm9taXNlKHQ9Pnt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIkxhdW5jaGVyLmdldEFjdGl2ZURlc2NyaXB0b3JzXCIse30sKG4saSk9PntuJiZmLmRlZmF1bHQuc3lzdGVtLmVycm9yKG4pLGUobixpLmRhdGEpLHQoe2VycjpuLGRhdGE6aS5kYXRhfSl9KX0pfWdldEFjdGl2ZUFuZFBlbmRpbmdXaW5kb3dOYW1lcyhlPUZ1bmN0aW9uLnByb3RvdHlwZSl7cmV0dXJuIG5ldyBQcm9taXNlKHQ9Pnt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIkxhdW5jaGVyLmdldEFjdGl2ZUFuZFBlbmRpbmdXaW5kb3dOYW1lc1wiLHt9LChuLGkpPT57biYmZi5kZWZhdWx0LnN5c3RlbS5lcnJvcihuKSxlKG4saS5kYXRhKSx0KHtlcnI6bixkYXRhOmkuZGF0YX0pfSl9KX1hc3luYyBnZXRQZW5kaW5nV2luZG93cygpe2NvbnN0e2VycjplLHJlc3BvbnNlOnR9PWF3YWl0IHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiTGF1bmNoZXIuZ2V0UGVuZGluZ1dpbmRvd3NcIix7fSk7cmV0dXJuIGUmJmYuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIHBlbmRpbmcgd2luZG93czpcIixlKSx7ZXJyOmUsZGF0YTp0LmRhdGF9fWFkZFVzZXJEZWZpbmVkQ29tcG9uZW50KGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2wuZGVmYXVsdC5hcmdzKHQsXCJmdW5jdGlvbj1cIik7cmV0dXJuIG5ldyBQcm9taXNlKG49Pnt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIkxhdW5jaGVyLnVzZXJEZWZpbmVkQ29tcG9uZW50VXBkYXRlXCIse3R5cGU6XCJhZGRcIixuYW1lOmUubmFtZSx1cmw6ZS51cmx9LChlLGkpPT57dChlLGkuZGF0YSksbih7ZXJyOmUsZGF0YTppLmRhdGF9KX0pfSl9cmVtb3ZlVXNlckRlZmluZWRDb21wb25lbnQoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7bC5kZWZhdWx0LmFyZ3ModCxcImZ1bmN0aW9uPVwiKTtyZXR1cm4gbmV3IFByb21pc2Uobj0+e3RoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiTGF1bmNoZXIudXNlckRlZmluZWRDb21wb25lbnRVcGRhdGVcIix7dHlwZTpcInJlbW92ZVwiLG5hbWU6ZS5uYW1lLHVybDplLnVybH0sKGUsaSk9Pnt0KGUsaS5kYXRhKSxuKHtlcnI6ZSxkYXRhOmkuZGF0YX0pfSl9KX1nZXRDb21wb25lbnRzVGhhdENhblJlY2VpdmVEYXRhVHlwZXMoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7bC5kZWZhdWx0LmFyZ3ModCxcImZ1bmN0aW9uPVwiKTtyZXR1cm4gbmV3IFByb21pc2Uobj0+e2lmKCFlfHwhZS5kYXRhVHlwZXMpe2NvbnN0IGU9XCJJbnZhbGlkIHBhcmFtcy4gRXhwZWN0ZWQ6IHtkYXRhVHlwZXM6IHN0cmluZ1tdfVwiO3JldHVybiB0KGUpLG4oe2VycjplfSl9QXJyYXkuaXNBcnJheShlLmRhdGFUeXBlcyl8fChlLmRhdGFUeXBlcz1bZS5kYXRhVHlwZXNdKSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIkxhdW5jaGVyU2VydmljZS5nZXRDb21wb25lbnRzVGhhdENhblJlY2VpdmVEYXRhVHlwZXNcIixlLChlLGkpPT57dChlLGkuZGF0YSksbih7ZXJyOmUsZGF0YTppLmRhdGF9KX0pfSl9YnJpbmdXaW5kb3dzVG9Gcm9udChlPXt9LHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtyZXR1cm4gbC5kZWZhdWx0LmFyZ3ModCxcImZ1bmN0aW9uPVwiKSxlLndpbmRvd0xpc3QmJiFBcnJheS5pc0FycmF5KGUud2luZG93TGlzdCkmJihlLndpbmRvd0xpc3Q9W2Uud2luZG93TGlzdF0pLGUuZ3JvdXBOYW1lJiZsLmRlZmF1bHQuYXJncyhlLmdyb3VwTmFtZSxcInN0cmluZ1wiKSxlLmNvbXBvbmVudFR5cGUmJmwuZGVmYXVsdC5hcmdzKGUuY29tcG9uZW50VHlwZSxcInN0cmluZ1wiKSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIkxhdW5jaGVyU2VydmljZS5icmluZ1dpbmRvd3NUb0Zyb250XCIsZSwoZSxuKT0+e3QoZSxuKX0pLFByb21pc2UucmVzb2x2ZSgpfWh5cGVyRm9jdXMoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7cmV0dXJuIGYuZGVmYXVsdC5zeXN0ZW0ud2FybihcImh5cGVyRm9jdXMgaXMgZGVwcmVjYXRlZCBhcyBvZiB2ZXJzaW9uIDQuMC4wLiBUaGlzIGZ1bmN0aW9uYWxpdHkgbWF5IGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZVwiKSxjb25zb2xlLndhcm4oXCJoeXBlckZvY3VzIGlzIGRlcHJlY2F0ZWQgYXMgb2YgdmVyc2lvbiA0LjAuMC4gVGhpcyBmdW5jdGlvbmFsaXR5IG1heSBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHJlbGVhc2VcIiksbC5kZWZhdWx0LmFyZ3ModCxcImZ1bmN0aW9uPVwiKSxlLndpbmRvd0xpc3QmJiFBcnJheS5pc0FycmF5KGUud2luZG93TGlzdCkmJihlLndpbmRvd0xpc3Q9W2Uud2luZG93TGlzdF0pLGUud2luZG93TGlzdHx8ZS5ncm91cE5hbWV8fGUuY29tcG9uZW50VHlwZXx8KGUud2luZG93TGlzdD1bdGhpcy5teVdpbmRvd0lkZW50aWZpZXJdKSxlLmdyb3VwTmFtZSYmbC5kZWZhdWx0LmFyZ3MoZS5ncm91cE5hbWUsXCJzdHJpbmdcIiksZS5jb21wb25lbnRUeXBlJiZsLmRlZmF1bHQuYXJncyhlLmNvbXBvbmVudFR5cGUsXCJzdHJpbmdcIiksdGhpcy5yb3V0ZXJDbGllbnQudHJhbnNtaXQoXCJMYXVuY2hlclNlcnZpY2UuaHlwZXJGb2N1c1wiLGUpLHQoKSxQcm9taXNlLnJlc29sdmUoKX1taW5pbWl6ZVdpbmRvd3MoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7cmV0dXJuIGwuZGVmYXVsdC5hcmdzKHQsXCJmdW5jdGlvbj1cIiksZS53aW5kb3dMaXN0JiYhQXJyYXkuaXNBcnJheShlLndpbmRvd0xpc3QpJiYoZS53aW5kb3dMaXN0PVtlLndpbmRvd0xpc3RdKSxlLmdyb3VwTmFtZSYmbC5kZWZhdWx0LmFyZ3MoZS5ncm91cE5hbWUsXCJzdHJpbmdcIiksZS5jb21wb25lbnRUeXBlJiZsLmRlZmF1bHQuYXJncyhlLmNvbXBvbmVudFR5cGUsXCJzdHJpbmdcIiksdGhpcy5yb3V0ZXJDbGllbnQudHJhbnNtaXQoXCJMYXVuY2hlclNlcnZpY2UubWluaW1pemVXaW5kb3dzXCIsZSksdCgpLFByb21pc2UucmVzb2x2ZSgpfWNyZWF0ZVdpbmRvd0dyb3VwKGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2wuZGVmYXVsdC5hcmdzKHQsXCJmdW5jdGlvbj1cIiksZS53aW5kb3dMaXN0JiYhQXJyYXkuaXNBcnJheShlLndpbmRvd0xpc3QpJiYoZS53aW5kb3dMaXN0PVtlLndpbmRvd0xpc3RdLGRlbGV0ZSBlLmdyb3VwTmFtZSksbC5kZWZhdWx0LmFyZ3MoZS5ncm91cE5hbWUsXCJzdHJpbmdcIik7cmV0dXJuIG5ldyBQcm9taXNlKG49PntpZighZS5ncm91cE5hbWUpe2NvbnN0IGU9XCJJbnZhbGlkIFBhcmFtZXRlcnNcIjtyZXR1cm4gbih7ZXJyOmV9KSx2b2lkIHQoZSl9dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJMYXVuY2hlclNlcnZpY2UuY3JlYXRlV2luZG93R3JvdXBcIixlLChlLGkpPT57dChlLGkpLG4oe2VycjplLGRhdGE6aX0pfSl9KX1hZGRXaW5kb3dzVG9Hcm91cChlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtsLmRlZmF1bHQuYXJncyh0LFwiZnVuY3Rpb249XCIpO3JldHVybiBuZXcgUHJvbWlzZShuPT57aWYoIWUuZ3JvdXBOYW1lfHwhZS53aW5kb3dMaXN0KXtjb25zdCBlPVwiSW52YWxpZCBQYXJhbWV0ZXJzXCI7cmV0dXJuIG4oe2VycjplfSksdm9pZCB0KGUpfWUud2luZG93TGlzdCYmIUFycmF5LmlzQXJyYXkoZS53aW5kb3dMaXN0KSYmKGUud2luZG93TGlzdD1bZS53aW5kb3dMaXN0XSksbC5kZWZhdWx0LmFyZ3MoZS5ncm91cE5hbWUsXCJzdHJpbmdcIiksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJMYXVuY2hlclNlcnZpY2UuYWRkV2luZG93c1RvR3JvdXBcIixlLChlLGkpPT57dChlLGkpLG4oe2VycjplLGRhdGE6aX0pfSl9KX1yZW1vdmVXaW5kb3dzRnJvbUdyb3VwKGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2wuZGVmYXVsdC5hcmdzKHQsXCJmdW5jdGlvbj1cIik7cmV0dXJuIG5ldyBQcm9taXNlKG49PntpZighZS5ncm91cE5hbWV8fCFlLndpbmRvd0xpc3Qpe2NvbnN0IGU9XCJJbnZhbGlkIFBhcmFtZXRlcnNcIjtyZXR1cm4gbih7ZXJyOmV9KSx2b2lkIHQoZSl9ZS53aW5kb3dMaXN0JiYhQXJyYXkuaXNBcnJheShlLndpbmRvd0xpc3QpJiYoZS53aW5kb3dMaXN0PVtlLndpbmRvd0xpc3RdKSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIkxhdW5jaGVyU2VydmljZS5yZW1vdmVXaW5kb3dzRnJvbUdyb3VwXCIsZSwoZSxpKT0+e3QoZSxpKSxuKHtlcnI6ZSxkYXRhOml9KX0pfSl9Z2V0R3JvdXBzRm9yV2luZG93KGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2wuZGVmYXVsdC5hcmdzKHQsXCJmdW5jdGlvbj1cIiksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHQ9ZSxlPW51bGwpO3JldHVybiBuZXcgUHJvbWlzZShuPT57ZSYmZS53aW5kb3dJZGVudGlmaWVyP3RoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiTGF1bmNoZXJTZXJ2aWNlLmdldEdyb3Vwc0ZvcldpbmRvd1wiLGUsKGUsaSk9PntuKHtlcnI6ZSxkYXRhOmkuZGF0YX0pLHQoZSxpLmRhdGEpfSk6dGhpcy53aW5kb3dDbGllbnQuZ2V0Q29tcG9uZW50U3RhdGUoe2ZpZWxkOlwiZmluc2VtYmxlOndpbmRvd0dyb3Vwc1wifSwoZSxpKT0+e24oe2VycjplLGRhdGE6aX0pLHQoZSxpKX0pfSl9YWRkVG9Hcm91cHMoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7bC5kZWZhdWx0LmFyZ3ModCxcImZ1bmN0aW9uPVwiKSxsLmRlZmF1bHQuYXJncyhlLmdyb3VwTmFtZXMsXCJhcnJheVwiKSxlLndpbmRvd0lkZW50aWZpZXJ8fChlLndpbmRvd0lkZW50aWZpZXI9dGhpcy5teVdpbmRvd0lkZW50aWZpZXIpO3JldHVybiBuZXcgUHJvbWlzZShuPT57dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJMYXVuY2hlclNlcnZpY2UuYWRkV2luZG93VG9Hcm91cHNcIixlLChlLGkpPT57dChlLGkpLG4oe2VycjplLGRhdGE6aX0pfSl9KX1fY3JlYXRlV3JhcChlLHQpe3RoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiTGF1bmNoZXJTZXJ2aWNlLmNyZWF0ZVdyYXBcIixlLHQpfXN0YXJ0KGUpe2NvbnN0IHQ9dGhpcztpZih2b2lkIDAhPT1wLkZTQkwpe2Z1bmN0aW9uIG4oKXt0LnJvdXRlckNsaWVudC5zdWJzY3JpYmUoXCJGaW5zZW1ibGUuTGF1bmNoZXJTZXJ2aWNlLnVwZGF0ZUdyb3Vwcy5cIit0LndpbmRvd05hbWUsKGUsbik9PntBcnJheS5pc0FycmF5KG4uZGF0YSkmJnQud2luZG93Q2xpZW50LnNldENvbXBvbmVudFN0YXRlKHtmaWVsZDpcImZpbnNlbWJsZTp3aW5kb3dHcm91cHNcIix2YWx1ZTpuLmRhdGF9KX0pfXAuRlNCTC5hZGRFdmVudExpc3RlbmVyKFwib25SZWFkeVwiLCgpPT57dC53aW5kb3dDbGllbnQub25SZWFkeSgoKT0+e3Qud2luZG93Q2xpZW50LmdldENvbXBvbmVudFN0YXRlKHtmaWVsZDpcImZpbnNlbWJsZTp3aW5kb3dHcm91cHNcIn0sKGUsaSk9PntpZighZSYmaSlyZXR1cm4gdC5hZGRUb0dyb3Vwcyh7Z3JvdXBOYW1lczppfSxuKTtuKCl9KX0pfSl9c2V0SW50ZXJ2YWwoKCk9Pnt0LnJvdXRlckNsaWVudC50cmFuc21pdChcIkZpbnNlbWJsZS5oZWFydGJlYXRcIix7dHlwZTpcImNvbXBvbmVudFwiLHdpbmRvd05hbWU6dC53aW5kb3dOYW1lLGNvbXBvbmVudFR5cGU6XCJmaW5zZW1ibGVcIixpc0Jyb3dzZXJWaWV3OmQuU3lzdGVtLmlzQnJvd3NlclZpZXcoKX0pfSwxZTMpLHRoaXMuZ2V0TXlXaW5kb3dJZGVudGlmaWVyKG49Pnt0Lm15V2luZG93SWRlbnRpZmllcj1uLGUmJmUoKX0pfX1sZXQgeTtmdW5jdGlvbiB3KGUpe3JldHVybihlPWV8fHt9KS53aW5kb3dDbGllbnR8fChlLndpbmRvd0NsaWVudD11LmRlZmF1bHQpLG5ldyBtKHtjbGllbnRzOmUsb25SZWFkeShlKXtmLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwibGF1bmNoZXJDbGllbnQgcmVhZHlcIix3aW5kb3cubmFtZSksZi5kZWZhdWx0LnBlcmYuZGVidWcoXCJMYXVuY2hlckNsaWVudFJlYWR5VGltZVwiLFwic3RvcFwiKSx5LnN0YXJ0KGUpfSxuYW1lOlwibGF1bmNoZXJDbGllbnRcIn0pfXk9dygpLHkuY29uc3RydWN0SW5zdGFuY2U9dyx0LmRlZmF1bHQ9eX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO1xuLyohXG4gKiBDb3B5cmlnaHQgMjAxNyAtIDIwMjAgYnkgQ2hhcnRJUSwgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuY29uc3Qgcj1uKDQpLG89aShuKDY4KSk7bGV0IHM7Y29uc3QgYT13aW5kb3c7bGV0IHU7Y29uc3QgYz17fTtmdW5jdGlvbiBsKGUsdCl7cmV0dXJuIHUucm91dGVyQ2xpZW50LnF1ZXJ5KFwic3RvcmVTZXJ2aWNlLmdldFN0b3JlXCIsZSwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZT90KGUpOnQoZSxuZXcgcyhuLmRhdGEsdS5yb3V0ZXJDbGllbnQpKX0pKX1mdW5jdGlvbiBkKGUsdCl7dS5yb3V0ZXJDbGllbnQucXVlcnkoXCJzdG9yZVNlcnZpY2UucmVtb3ZlU3RvcmVcIixlLChlLG4pPT50KGUsIWUmJm4uZGF0YSkpfWNsYXNzIGYgZXh0ZW5kcyByLl9CYXNlQ2xpZW50e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMubG9hZD1mdW5jdGlvbihlKXtlKCl9LHU9dGhpcyx0aGlzLmxzPWN9Z2V0U3RvcmUoZSx0KXtyZXR1cm4gZS5nbG9iYWw/bChlLHQpOmNbZS5zdG9yZV0/dChudWxsLGNbZS5zdG9yZV0pOmwoZSx0KX1jcmVhdGVTdG9yZShlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtyZXR1cm4gbmV3IFByb21pc2UoKG4saSk9PntpZihlLmdsb2JhbClyZXR1cm4gdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJzdG9yZVNlcnZpY2UuY3JlYXRlU3RvcmVcIixlLChlLHIpPT57aWYoZSlyZXR1cm4gaShlKSx0KGUpO2NvbnN0IG89bmV3IHMoci5kYXRhLHUucm91dGVyQ2xpZW50KTtyZXR1cm4gbih7ZXJyOmUsZGF0YTpvfSksdChlLG8pfSk7aWYoY1tlLnN0b3JlXSlyZXR1cm4gbih7ZXJyOm51bGwsZGF0YTpjW2Uuc3RvcmVdfSksdChudWxsLGNbZS5zdG9yZV0pO2NvbnN0IHI9bmV3IHMoZSx1LnJvdXRlckNsaWVudCk7cmV0dXJuIGNbci5uYW1lXT1yLG4oe2VycjpudWxsLGRhdGE6cn0pLHQobnVsbCxyKX0pfXJlbW92ZVN0b3JlKGUsdCl7cmV0dXJuIGUuZ2xvYmFsP2QoZSx0KTpjW2Uuc3RvcmVdPyhkZWxldGUgY1tlLnN0b3JlXSx0KG51bGwsITApKTp2b2lkIGQoZSx0KX19dmFyIGg9bmV3IGYoe3N0YXJ0dXBEZXBlbmRlbmNpZXM6e30sb25SZWFkeShlKXtzPW8uZGVmYXVsdCxoLmxvYWQoZSl9LG5hbWU6XCJkaXN0cmlidXRlZFN0b3JlQ2xpZW50XCJ9KTthLmRpc3RyaWJ1dGVkU3RvcmVDbGllbnQ9aCx0LmRlZmF1bHQ9aH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO1xuLyohXG4gKiBDb3B5cmlnaHQgMjAxNyAtIDIwMjAgYnkgQ2hhcnRJUSwgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL3ZhciBpPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHI9aShuKDcpKSxvPWkobigwKSkscz1uKDYyKSxhPW4oMzkpLHU9big2Myk7Y29uc3QgYz1uZXcgY2xhc3N7cHVibGlzaEJvb3RTdGF0dXMoZSx0LG4pe2NvbnNvbGUubG9nKFwicHVibGlzaFN0YXJ0aW5nU3RhdHVzXCIsZSxuKSxvLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwicHVibGlzaEJvb3RTdGF0dXNcIixlLHQsbiksci5kZWZhdWx0LnB1Ymxpc2godS5zdGF0dXNDaGFubmVsKGUpLHtuYW1lOmUsdHlwZTp0LHN0YXRlOm59KX13YWl0Rm9yQm9vdFN0YWdlKGUsdCxuPUZ1bmN0aW9uLnByb3RvdHlwZSl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHUpPT57by5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIlN5c3RlbU1hbmFnZXJDbGllbnQud2FpdEZvckJvb3RTdGFnZSBlbnRyeVwiLGUsdCk7Y29uc3QgYz1zLkFMTF9CT09UX1NUQUdFUy5pbmRleE9mKGUpO1wibWljcm9rZXJuZWxcIj09PWUmJlwic3RhZ2VFbnRlcmVkXCI9PT10JiZvLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiQ2Fubm90IHdhaXQgb24gYHN0YWdlRW50ZXJlZGAgZm9yIG1pY3Jva2VybmVsIGJlY2F1c2Ugcm91dGVyIGlzbid0IHVwIHlldC4gU28gd2lsbCBpbnN0ZWFkIHdhaXQgZm9yIG1pY3Jva2VybmFsIHN0YWdlIGNvbXBsZXRlLlwiKTtjb25zdCBsPXIuZGVmYXVsdC5zdWJzY3JpYmUoYS5TVEFHRV9DSEFOTkVMLChhLGQpPT57aWYoby5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIlN5c3RlbU1hbmFnZXJDbGllbnQud2FpdEZvckJvb3RTdGFnZSBuZXcgc3RhZ2VcIixkLmRhdGEuc3RhZ2UsbCksYSlvLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiU3lzdGVtTWFuYWdlckNsaWVudC53YWl0Rm9yQm9vdFN0YWdlIHN1YnNjcmliZSBlcnJvclwiLGEpLG4oYSksdShhKTtlbHNlIGlmKC0xPT09YylhPVwiaWxsZWdhbCBzdGFnZSBhcmd1bWVudFwiLG8uZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJTeXN0ZW1NYW5hZ2VyQ2xpZW50LndhaXRGb3JCb290U3RhZ2Ugc3Vic2NyaWJlIGVycm9yXCIsYSxlKSxuKGEpLHUoYSk7ZWxzZXtjb25zdCBhPXMuQUxMX0JPT1RfU1RBR0VTLmluZGV4T2YoZC5kYXRhLnN0YWdlKTtvLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiU3lzdGVtTWFuYWdlckNsaWVudC53YWl0Rm9yQm9vdFN0YWdlIG5ldyBzdGFnZVwiLGQuZGF0YSxsKSxcInN0YWdlRW50ZXJlZFwiPT09dCYmYSsxPj1jPyhvLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiU3lzdGVtTWFuYWdlckNsaWVudC53YWl0Rm9yQm9vdFN0YWdlIHN0YWdlRW50ZXJlZFwiLGUsbCxuLm5hbWUpLG4oKSxpKCksci5kZWZhdWx0LnVuc3Vic2NyaWJlKGwpKTpcInN0YWdlQ29tcGxldGVkXCI9PT10JiZhPj1jPyhvLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiU3lzdGVtTWFuYWdlckNsaWVudC53YWl0Rm9yQm9vdFN0YWdlIGNvbXBsZXRlZFwiLGUsbCksbigpLGkoKSxyLmRlZmF1bHQudW5zdWJzY3JpYmUobCkpOm8uZGVmYXVsdC5zeXN0ZW0uZGVidWcoYFN5c3RlbU1hbmFnZXJDbGllbnQud2FpdEZvckJvb3RTdGFnZSBlbHNlIGN1cnJlbnRTdGFnZUluZGV4PSR7YX0gc3RhZ2VJbmRleD0ke2N9IGAsYSxjLGUsbCl9fSl9KX13YWl0Rm9yU3RhcnR1cChlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtyZXR1cm4gbmV3IFByb21pc2UoKG4saSk9PntvLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiU3lzdGVtTWFuYWdlckNsaWVudC53YWl0Rm9yU3RhcnR1cC5cIitlLGUpO2NvbnN0IHM9ci5kZWZhdWx0LnN1YnNjcmliZSh1LnN0YXR1c0NoYW5uZWwoZSksKGEsdSk9PntvLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiU3lzdGVtTWFuYWdlckNsaWVudC53YWl0Rm9yU3RhcnR1cCBzdWJzY3JpYmVcIixlLGEsdSksYT8oby5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIlN5c3RlbU1hbmFnZXJDbGllbnQud2FpdEZvclN0YXJ0dXAgc3Vic2NyaWJlIGVycm9yXCIsYSksdChhKSxpKCkpOnUuZGF0YS5uYW1lPT09ZSYmXCJjb21wbGV0ZWRcIj09PXUuZGF0YS5zdGF0ZSYmKG8uZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJTeXN0ZW1NYW5hZ2VyQ2xpZW50LndhaXRGb3JTdGFydHVwIGNvbXBsZXRlZFwiLGUpLHQoKSxuKCksci5kZWZhdWx0LnVuc3Vic2NyaWJlKHMpKX0pfSl9cHVibGlzaENoZWNrcG9pbnRTdGF0ZShlLHQsbil7Y29uc29sZS5sb2coXCJwdWJsaXNoQ2hlY2twb2ludFwiLGUsdCxuLHUuY2hlY2twb2ludENoYW5uZWwoZSx0KSksby5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcInB1Ymxpc2hDaGVja3BvaW50XCIsZSx0LG4sdS5jaGVja3BvaW50Q2hhbm5lbChlLHQpKSxyLmRlZmF1bHQucHVibGlzaCh1LmNoZWNrcG9pbnRDaGFubmVsKGUsdCkse3dpbmRvd05hbWU6ZSxjaGVja3BvaW50TmFtZTp0LHN0YXRlOm59KX1zaG93U3lzdGVtTG9nKCl7by5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIlN5c3RlbU1hbmFnZXJDbGllbnQuc2hvd1N5c3RlbUxvZ1wiKSxyLmRlZmF1bHQudHJhbnNtaXQoYS5TSE9XX1NZU0xPR19DSEFOTkVMLCEwKX1zeXN0ZW1Mb2coZSx0KXtvLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiU3lzdGVtTWFuYWdlckNsaWVudC5zeXN0ZW1Mb2dcIixlLHQpLHIuZGVmYXVsdC50cmFuc21pdChhLlNZU0xPR19DSEFOTkVMLHtwYXJhbXM6ZSxsb2dNZXNzYWdlOnR9KX19O3QuZGVmYXVsdD1jfSxmdW5jdGlvbihlLHQpe3ZhciBuLGkscj1lLmV4cG9ydHM9e307ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcygpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBhKGUpe2lmKG49PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKG49PT1vfHwhbikmJnNldFRpbWVvdXQpcmV0dXJuIG49c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiBuKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiBuLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e249XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om99Y2F0Y2goZSl7bj1vfXRyeXtpPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6c31jYXRjaChlKXtpPXN9fSgpO3ZhciB1LGM9W10sbD0hMSxkPS0xO2Z1bmN0aW9uIGYoKXtsJiZ1JiYobD0hMSx1Lmxlbmd0aD9jPXUuY29uY2F0KGMpOmQ9LTEsYy5sZW5ndGgmJmgoKSl9ZnVuY3Rpb24gaCgpe2lmKCFsKXt2YXIgZT1hKGYpO2w9ITA7Zm9yKHZhciB0PWMubGVuZ3RoO3Q7KXtmb3IodT1jLGM9W107KytkPHQ7KXUmJnVbZF0ucnVuKCk7ZD0tMSx0PWMubGVuZ3RofXU9bnVsbCxsPSExLGZ1bmN0aW9uKGUpe2lmKGk9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigoaT09PXN8fCFpKSYmY2xlYXJUaW1lb3V0KXJldHVybiBpPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e2koZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBpLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gaS5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIHAoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBnKCl7fXIubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtjLnB1c2gobmV3IHAoZSx0KSksMSE9PWMubGVuZ3RofHxsfHxhKGgpfSxwLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxyLnRpdGxlPVwiYnJvd3NlclwiLHIuYnJvd3Nlcj0hMCxyLmVudj17fSxyLmFyZ3Y9W10sci52ZXJzaW9uPVwiXCIsci52ZXJzaW9ucz17fSxyLm9uPWcsci5hZGRMaXN0ZW5lcj1nLHIub25jZT1nLHIub2ZmPWcsci5yZW1vdmVMaXN0ZW5lcj1nLHIucmVtb3ZlQWxsTGlzdGVuZXJzPWcsci5lbWl0PWcsci5wcmVwZW5kTGlzdGVuZXI9ZyxyLnByZXBlbmRPbmNlTGlzdGVuZXI9ZyxyLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0sci5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxyLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxyLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sci51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUud2VicGFja1BvbHlmaWxsfHwoZS5kZXByZWNhdGU9ZnVuY3Rpb24oKXt9LGUucGF0aHM9W10sZS5jaGlsZHJlbnx8KGUuY2hpbGRyZW49W10pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwibG9hZGVkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUubH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImlkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuaX19KSxlLndlYnBhY2tQb2x5ZmlsbD0xKSxlfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO1xuLyohXG4gKiBDb3B5cmlnaHQgMjAxNyAtIDIwMjAgYnkgQ2hhcnRJUSwgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL3ZhciBpPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IHI9bigxMiksbz1pKG4oOCkpLHM9big0KSxhPWkobigxOCkpLHU9aShuKDApKTtjbGFzcyBjIGV4dGVuZHMgcy5fQmFzZUNsaWVudHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmxpc3RlbmVycz1bXSx0aGlzLmNoYW5nZVN1Yj1lPT57dGhpcy5zdWJzfHwodGhpcy5zdWJzPXt9KSx0aGlzLnN1YnNbZV18fCh0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcImNvbmZpZ1NlcnZpY2UuYWRkTGlzdGVuZXJcIixlLHQ9Pnt0JiZ1LmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiRXJyb3IgYWRkaW5nIGxpc3RlbmVyIHRvIGNvbmZpZyBzZXJ2aWNlXCIsdCksdGhpcy5yb3V0ZXJDbGllbnQuc3Vic2NyaWJlKGUsdGhpcy5oYW5kbGVDaGFuZ2VzKX0pLHRoaXMuc3Vic1tlXT0hMCl9LHRoaXMuaGFuZGxlQ2hhbmdlcz0oZSx0KT0+e2UmJnUuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoZSksdC5kYXRhLmZpZWxkfHwodC5kYXRhLmZpZWxkPW51bGwpO2NvbnN0IG49dC5kYXRhLnN0b3JlRGF0YT90LmRhdGEuc3RvcmVEYXRhOnQuZGF0YS52YWx1ZTt0aGlzLnRyaWdnZXJMaXN0ZW5lcnModC5kYXRhLmZpZWxkP3QuZGF0YS5maWVsZDpcImNvbmZpZ1NlcnZpY2VcIixuKX0sdGhpcy50cmlnZ2VyTGlzdGVuZXJzPShlLHQpPT57aWYodGhpcy5saXN0ZW5lcnNbZV0pZm9yKGxldCBuPTA7bjx0aGlzLmxpc3RlbmVyc1tlXS5sZW5ndGg7bisrKVwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMubGlzdGVuZXJzW2VdW25dP3RoaXMubGlzdGVuZXJzW2VdW25dKG51bGwse2ZpZWxkOmUsdmFsdWU6dH0pOnUuZGVmYXVsdC5zeXN0ZW0ud2FybihcIkNvbmZpZ0NsaWVudDp0cmlnZ2VyTGlzdGVuZXJzOiBsaXN0ZW5lciBpcyBub3QgYSBmdW5jdGlvblwiLGUpfSx0aGlzLnNldD0oZSx0KT0+e3UuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJDb25maWdDbGllbnQuU2V0XCIsZSksXCJmdW5jdGlvblwiPT10eXBlb2YgZT8odD1lLG8uZGVmYXVsdC5hcmdzKHQsXCJmdW5jdGlvblwiKSxlPXt9KTpvLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uXCIpLHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiY29uZmlnLnNldFwiLGUsKGUsbik9Pnt0KGUsbj9uLmRhdGE6bnVsbCl9KX0sdGhpcy5wcm9jZXNzQW5kU2V0PXRoaXMucHJvY2Vzc0FuZFNldC5iaW5kKHRoaXMpLHRoaXMuZ2V0VmFsdWU9dGhpcy5nZXRWYWx1ZS5iaW5kKHRoaXMpLHRoaXMuZ2V0VmFsdWVzPXRoaXMuZ2V0VmFsdWVzLmJpbmQodGhpcyksdGhpcy5zZXRWYWx1ZT10aGlzLnNldFZhbHVlLmJpbmQodGhpcyksdGhpcy5zZXRWYWx1ZXM9dGhpcy5zZXRWYWx1ZXMuYmluZCh0aGlzKSx0aGlzLnJlbW92ZVZhbHVlPXRoaXMucmVtb3ZlVmFsdWUuYmluZCh0aGlzKSx0aGlzLnJlbW92ZVZhbHVlcz10aGlzLnJlbW92ZVZhbHVlcy5iaW5kKHRoaXMpLHRoaXMuYWRkTGlzdGVuZXI9dGhpcy5hZGRMaXN0ZW5lci5iaW5kKHRoaXMpLHRoaXMuYWRkTGlzdGVuZXJzPXRoaXMuYWRkTGlzdGVuZXJzLmJpbmQodGhpcyksdGhpcy5yZW1vdmVMaXN0ZW5lcj10aGlzLnJlbW92ZUxpc3RlbmVyLmJpbmQodGhpcyksdGhpcy5yZW1vdmVMaXN0ZW5lcnM9dGhpcy5yZW1vdmVMaXN0ZW5lcnMuYmluZCh0aGlzKSx0aGlzLnNldFByZWZlcmVuY2U9dGhpcy5zZXRQcmVmZXJlbmNlLmJpbmQodGhpcyksdGhpcy5nZXRQcmVmZXJlbmNlcz10aGlzLmdldFByZWZlcmVuY2VzLmJpbmQodGhpcyl9Z2V0VmFsdWUoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXtmaWVsZDplfSk7cmV0dXJuIG5ldyBQcm9taXNlKChuLGkpPT57aWYoIWUuZmllbGQpe2NvbnN0IGU9XCJubyBmaWVsZCBwcm92aWRlZFwiO3JldHVybiBpKGUpLHQoZSl9dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJjb25maWdTZXJ2aWNlLmdldFZhbHVlXCIse2ZpZWxkOmUuZmllbGR9LChlLHIpPT5lPyhpKGUpLHQoZSkpOihuKHtlcnI6ZSxkYXRhOnIuZGF0YX0pLHQoZSxyLmRhdGEpKSl9KX1nZXRWYWx1ZXMoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHQ9ZSxlPW51bGwpLGUmJiFBcnJheS5pc0FycmF5KGUpKXJldHVybiB0aGlzLmdldFZhbHVlKGUsdCk7cmV0dXJuIG5ldyBQcm9taXNlKG49Pnt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcImNvbmZpZ1NlcnZpY2UuZ2V0VmFsdWVzXCIse2ZpZWxkczplfSwoZSxpKT0+ZT90KGUpOihuKHtlcnI6ZSxkYXRhOmkuZGF0YX0pLHQoZSxpLmRhdGEpKSl9KX1zZXRWYWx1ZShlLHQpe2NvbnN0IG49e2ZpZWxkOmUuZmllbGQsdmFsdWU6ZS52YWx1ZX07cmV0dXJuIHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiY29uZmlnU2VydmljZS5zZXRWYWx1ZVwiLG4sZT0+dD90KGUpOm51bGwpfXNldFZhbHVlcyhlLHQpe3JldHVybiBlP0FycmF5LmlzQXJyYXkoZSk/dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJjb25maWdTZXJ2aWNlLnNldFZhbHVlc1wiLGUsZT0+dD90KGUpOm51bGwpOnUuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoXCJDb25maWdDbGllbnQuU2V0VmFsdWVzLiBQYXJhbXMgbXVzdCBiZSBhbiBhcnJheVwiKTp1LmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiQ29uZmlnQ2xpZW50LlNldFZhbHVlcy4gTm8gcGFyYW1zIGdpdmVuXCIpfXJlbW92ZVZhbHVlKGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2lmKHZvaWQgMCE9PWUpe2lmKGUuZmllbGR8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiB0KFwibm8gZmllbGQgcHJvdmlkZWRcIik7ZT17ZmllbGQ6ZX19cmV0dXJuIGUudmFsdWU9bnVsbCx0aGlzLnNldFZhbHVlKGUsdCl9cmVtb3ZlVmFsdWVzKGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiB0KFwiVGhlIHBhc3NlZCBpbiBwYXJhbWV0ZXIgbmVlZHMgdG8gYmUgYW4gYXJyYXlcIik7ci5tYXAoZSx0aGlzLnJlbW92ZVZhbHVlLChlLG4pPT50KGUsbikpfWFkZExpc3RlbmVyKGUsdCxuKXtsZXQgaT1udWxsO1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PWUsZT17ZmllbGQ6aX0pLCh7ZmllbGQ6aX09ZSk7Y29uc3Qgcj1cImNvbmZpZ1NlcnZpY2VcIisoaT9cIi5cIitpOlwiXCIpO3JldHVybiB0aGlzLmxpc3RlbmVyc1tyXT90aGlzLmxpc3RlbmVyc1tyXS5wdXNoKHQpOnRoaXMubGlzdGVuZXJzW3JdPVt0XSx0aGlzLmNoYW5nZVN1YihyKSxuP24oKTpudWxsfWFkZExpc3RlbmVycyhlLHQsbil7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIoe2ZpZWxkOmUuZmllbGR9LHQsbik7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2xldCByPW51bGw7Y29uc3Qgbz1lW25dO3ZhciBpO1wic3RyaW5nXCI9PXR5cGVvZiBvP3I9bzpvLmZpZWxkJiYoKHtmaWVsZDpyfT1vKSxpPW8ubGlzdGVuZXIpO2NvbnN0IHM9XCJjb25maWdTZXJ2aWNlXCIrKHI/XCIuXCIrcjpcIlwiKTtpfHx0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYoaT10KSx0aGlzLmxpc3RlbmVyc1tzXT90aGlzLmxpc3RlbmVyc1tzXS5wdXNoKGkpOnRoaXMubGlzdGVuZXJzW3NdPVtpXSx0aGlzLmNoYW5nZVN1YihzKX1yZXR1cm4gbj9uKCk6bnVsbH1yZW1vdmVMaXN0ZW5lcihlLHQsbil7bGV0IGk9bnVsbDtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYobj10LHQ9ZSxlPXtmaWVsZDppfSksKHtmaWVsZDppfT1lKTtjb25zdCByPXRoaXMubmFtZSsoaT9cIi5cIitpOlwiXCIpO2lmKHRoaXMubGlzdGVuZXJzW3JdKWZvcihsZXQgZT0wO2U8dGhpcy5saXN0ZW5lcnNbcl0ubGVuZ3RoO2UrKylpZih0aGlzLmxpc3RlbmVyc1tyXVtlXT09PXQpcmV0dXJuIHRoaXMubGlzdGVuZXJzW3JdLnBvcChlKSxuP24obnVsbCwhMCk6bnVsbDtyZXR1cm4gbj9uKG51bGwsITEpOm51bGx9cmVtb3ZlTGlzdGVuZXJzKGUsdCxuKXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3RoaXMucmVtb3ZlTGlzdGVuZXIoe30sZSxuKTplLmZpZWxkJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdCxuKSxuKFwibWlzc2luZyBmaWVsZHNcIik7bGV0IGk9MDtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7bGV0IG89bnVsbDtjb25zdCBzPWVbbl07dmFyIHI7XCJzdHJpbmdcIj09dHlwZW9mIHM/bz1zOnMuZmllbGQmJigoe2ZpZWxkOm99PXMpLHI9ZVtuXS5saXN0ZW5lcik7Y29uc3QgYT1cImNvbmZpZ1NlcnZpY2VcIisobz9cIi5cIitvOlwiXCIpO2lmKCFyKXtpZighdHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdCljb250aW51ZTtyPXR9Zm9yKGxldCBlPTA7ZTx0aGlzLmxpc3RlbmVyc1thXS5sZW5ndGg7ZSsrKXRoaXMubGlzdGVuZXJzW2FdW2VdPT09ciYmKHRoaXMubGlzdGVuZXJzW2FdLnBvcChuKSxpKyspfXJldHVybiBpPGUubGVuZ3RoP24oXCJBbGwgbGlzdGVuZXJzIGNvdWxkIG5vdCBiZSBmb3VuZFwiLCExKTpuP24obnVsbCwhMCk6bnVsbH1nZXQoZSx0KXt1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiQ29uZmlnQ2xpZW50LkdldFwiLGUpLHUuZGVmYXVsdC5zeXN0ZW0ud2FybihcIlRoaXMgZnVuY3Rpb25hbGl0eSBoYXMgYmVlbiBkZXByZWNhdGVkLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gRmluc2VtYmxlIHZlcnNpb24gMy4wLiBVc2UgZ2V0VmFsdWUgaW5zdGVhZC5cIixlKSwxPT09YXJndW1lbnRzLmxlbmd0aD8odD1lLG8uZGVmYXVsdC5hcmdzKHQsXCJmdW5jdGlvblwiKSxlPXt9KTpvLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uXCIpLHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiY29uZmlnLmdldFwiLGUsKGUsbik9Pnt0KGUsbj9uLmRhdGE6bnVsbCl9KX1wcm9jZXNzQW5kU2V0KGUsdCl7aWYodS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkNvbmZpZ0NsaWVudC5wcm9jZXNzQW5kU2V0XCIsZSksby5kZWZhdWx0LmFyZ3MoZSxcIm9iamVjdFwiLHQsXCJmdW5jdGlvbj1cIikmJm8uZGVmYXVsdC5hcmdzMihcInBhcmFtcy5uZXdDb25maWdcIixlLm5ld0NvbmZpZyxcIm9iamVjdFwiLFwicGFyYW1zLm92ZXJ3cml0ZVwiLGUub3ZlcndyaXRlLFwiYm9vbGVhbj1cIixcInBhcmFtcy5yZXBsYWNlXCIsZS5yZXBsYWNlLFwiYm9vbGVhbj1cIiksIWUub3ZlcndyaXRlJiZlLnJlcGxhY2Upe2NvbnN0IGU9XCJjYW5ub3QgdXNlIHJlcGxhY2Ugb3B0aW9uIHVubGVzcyBvdmVyd3JpdGUgaXMgYWxzbyB0cnVlXCI7dS5kZWZhdWx0LnN5c3RlbS53YXJuKFwiQ29uZmlnQ2xpZW50LnByb2Nlc3NBbmRTZXQ6XCIsZSksdCYmdChlLG51bGwpfWVsc2UgdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJjb25maWcucHJvY2Vzc0FuZFNldFwiLGUsKGUsbik9Pnt0JiZ0KGUsbj9uLmRhdGE6bnVsbCl9KX1zZXRQcmVmZXJlbmNlKGUsdCl7dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJQcmVmZXJlbmNlc1NlcnZpY2Uuc2V0UHJlZmVyZW5jZVwiLGUsKGUsbik9Pnt0JiZ0KGUsbj9uLmRhdGE6bnVsbCl9KX1hc3luYyBnZXRQcmVmZXJlbmNlcyhlLHQpe3UuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJDb25maWdDbGllbnQuZ2V0UHJlZmVyZW5jZXNcIixlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodD1lLGU9bnVsbCksYXdhaXQgYS5kZWZhdWx0LndhaXRGb3JTdGFydHVwKFwicHJlZmVyZW5jZXNTZXJ2aWNlXCIpLHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiUHJlZmVyZW5jZXNTZXJ2aWNlLmdldFByZWZlcmVuY2VzXCIsZSwoZSxuKT0+e3UuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJDb25maWdDbGllbnQuZ2V0UHJlZmVyZW5jZXMgcmVzcG9uc2VcIixuKSx0JiZ0KGUsbj9uLmRhdGE6bnVsbCl9KX19Y29uc3QgbD1uZXcgYyh7c3RhcnR1cERlcGVuZGVuY2llczp7c2VydmljZXM6W1wiY29uZmlnU2VydmljZVwiXX0sb25SZWFkeShlKXtlJiZlKCl9LG5hbWU6XCJjb25maWdDbGllbnRcIn0pO3QuZGVmYXVsdD1sfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj1cIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdD9SZWZsZWN0Om51bGwsbz1yJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLmFwcGx5P3IuYXBwbHk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChlLHQsbil9O2k9ciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5vd25LZXlzP3Iub3duS2V5czpPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP2Z1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKSl9OmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKX07dmFyIHM9TnVtYmVyLmlzTmFOfHxmdW5jdGlvbihlKXtyZXR1cm4gZSE9ZX07ZnVuY3Rpb24gYSgpe2EuaW5pdC5jYWxsKHRoaXMpfWUuZXhwb3J0cz1hLGUuZXhwb3J0cy5vbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe2Z1bmN0aW9uIHIoKXt2b2lkIDAhPT1vJiZlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixvKSxuKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9dmFyIG87XCJlcnJvclwiIT09dCYmKG89ZnVuY3Rpb24obil7ZS5yZW1vdmVMaXN0ZW5lcih0LHIpLGkobil9LGUub25jZShcImVycm9yXCIsbykpLGUub25jZSh0LHIpfSkpfSxhLkV2ZW50RW1pdHRlcj1hLGEucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLGEucHJvdG90eXBlLl9ldmVudHNDb3VudD0wLGEucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwO3ZhciB1PTEwO2Z1bmN0aW9uIGMoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKX1mdW5jdGlvbiBsKGUpe3JldHVybiB2b2lkIDA9PT1lLl9tYXhMaXN0ZW5lcnM/YS5kZWZhdWx0TWF4TGlzdGVuZXJzOmUuX21heExpc3RlbmVyc31mdW5jdGlvbiBkKGUsdCxuLGkpe3ZhciByLG8scyxhO2lmKGMobiksdm9pZCAwPT09KG89ZS5fZXZlbnRzKT8obz1lLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSxlLl9ldmVudHNDb3VudD0wKToodm9pZCAwIT09by5uZXdMaXN0ZW5lciYmKGUuZW1pdChcIm5ld0xpc3RlbmVyXCIsdCxuLmxpc3RlbmVyP24ubGlzdGVuZXI6biksbz1lLl9ldmVudHMpLHM9b1t0XSksdm9pZCAwPT09cylzPW9bdF09biwrK2UuX2V2ZW50c0NvdW50O2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcz9zPW9bdF09aT9bbixzXTpbcyxuXTppP3MudW5zaGlmdChuKTpzLnB1c2gobiksKHI9bChlKSk+MCYmcy5sZW5ndGg+ciYmIXMud2FybmVkKXtzLndhcm5lZD0hMDt2YXIgdT1uZXcgRXJyb3IoXCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuIFwiK3MubGVuZ3RoK1wiIFwiK1N0cmluZyh0KStcIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0XCIpO3UubmFtZT1cIk1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZ1wiLHUuZW1pdHRlcj1lLHUudHlwZT10LHUuY291bnQ9cy5sZW5ndGgsYT11LGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKGEpfXJldHVybiBlfWZ1bmN0aW9uIGYoKXtpZighdGhpcy5maXJlZClyZXR1cm4gdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLHRoaXMud3JhcEZuKSx0aGlzLmZpcmVkPSEwLDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk6dGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCxhcmd1bWVudHMpfWZ1bmN0aW9uIGgoZSx0LG4pe3ZhciBpPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDplLHR5cGU6dCxsaXN0ZW5lcjpufSxyPWYuYmluZChpKTtyZXR1cm4gci5saXN0ZW5lcj1uLGkud3JhcEZuPXIscn1mdW5jdGlvbiBwKGUsdCxuKXt2YXIgaT1lLl9ldmVudHM7aWYodm9pZCAwPT09aSlyZXR1cm5bXTt2YXIgcj1pW3RdO3JldHVybiB2b2lkIDA9PT1yP1tdOlwiZnVuY3Rpb25cIj09dHlwZW9mIHI/bj9bci5saXN0ZW5lcnx8cl06W3JdOm4/ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248dC5sZW5ndGg7KytuKXRbbl09ZVtuXS5saXN0ZW5lcnx8ZVtuXTtyZXR1cm4gdH0ocik6bShyLHIubGVuZ3RoKX1mdW5jdGlvbiBnKGUpe3ZhciB0PXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT10KXt2YXIgbj10W2VdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pcmV0dXJuIDE7aWYodm9pZCAwIT09bilyZXR1cm4gbi5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gbShlLHQpe2Zvcih2YXIgbj1uZXcgQXJyYXkodCksaT0wO2k8dDsrK2kpbltpXT1lW2ldO3JldHVybiBufU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiZGVmYXVsdE1heExpc3RlbmVyc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1fSxzZXQ6ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8cyhlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZStcIi5cIik7dT1lfX0pLGEuaW5pdD1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9LGEucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxzKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytlK1wiLlwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sYS5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIGwodGhpcyl9LGEucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQucHVzaChhcmd1bWVudHNbbl0pO3ZhciBpPVwiZXJyb3JcIj09PWUscj10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09cilpPWkmJnZvaWQgMD09PXIuZXJyb3I7ZWxzZSBpZighaSlyZXR1cm4hMTtpZihpKXt2YXIgcztpZih0Lmxlbmd0aD4wJiYocz10WzBdKSxzIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgczt2YXIgYT1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKHM/XCIgKFwiK3MubWVzc2FnZStcIilcIjpcIlwiKSk7dGhyb3cgYS5jb250ZXh0PXMsYX12YXIgdT1yW2VdO2lmKHZvaWQgMD09PXUpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdSlvKHUsdGhpcyx0KTtlbHNle3ZhciBjPXUubGVuZ3RoLGw9bSh1LGMpO2ZvcihuPTA7bjxjOysrbilvKGxbbl0sdGhpcyx0KX1yZXR1cm4hMH0sYS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZCh0aGlzLGUsdCwhMSl9LGEucHJvdG90eXBlLm9uPWEucHJvdG90eXBlLmFkZExpc3RlbmVyLGEucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBkKHRoaXMsZSx0LCEwKX0sYS5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe3JldHVybiBjKHQpLHRoaXMub24oZSxoKHRoaXMsZSx0KSksdGhpc30sYS5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBjKHQpLHRoaXMucHJlcGVuZExpc3RlbmVyKGUsaCh0aGlzLGUsdCkpLHRoaXN9LGEucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLG8scztpZihjKHQpLHZvaWQgMD09PShpPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09KG49aVtlXSkpcmV0dXJuIHRoaXM7aWYobj09PXR8fG4ubGlzdGVuZXI9PT10KTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBpW2VdLGkucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxuLmxpc3RlbmVyfHx0KSk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXtmb3Iocj0tMSxvPW4ubGVuZ3RoLTE7bz49MDtvLS0paWYobltvXT09PXR8fG5bb10ubGlzdGVuZXI9PT10KXtzPW5bb10ubGlzdGVuZXIscj1vO2JyZWFrfWlmKHI8MClyZXR1cm4gdGhpczswPT09cj9uLnNoaWZ0KCk6ZnVuY3Rpb24oZSx0KXtmb3IoO3QrMTxlLmxlbmd0aDt0KyspZVt0XT1lW3QrMV07ZS5wb3AoKX0obixyKSwxPT09bi5sZW5ndGgmJihpW2VdPW5bMF0pLHZvaWQgMCE9PWkucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxzfHx0KX1yZXR1cm4gdGhpc30sYS5wcm90b3R5cGUub2ZmPWEucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLGEucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuLGk7aWYodm9pZCAwPT09KG49dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT1uLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09bltlXSYmKDA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6ZGVsZXRlIG5bZV0pLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByLG89T2JqZWN0LmtleXMobik7Zm9yKGk9MDtpPG8ubGVuZ3RoOysraSlcInJlbW92ZUxpc3RlbmVyXCIhPT0ocj1vW2ldKSYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMocik7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9bltlXSkpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHQpO2Vsc2UgaWYodm9pZCAwIT09dClmb3IoaT10Lmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0W2ldKTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBwKHRoaXMsZSwhMCl9LGEucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gcCh0aGlzLGUsITEpfSxhLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmxpc3RlbmVyQ291bnQ/ZS5saXN0ZW5lckNvdW50KHQpOmcuY2FsbChlLHQpfSxhLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWcsYS5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHNDb3VudD4wP2kodGhpcy5fZXZlbnRzKTpbXX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDI0KSxyPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixvPWkuYXx8cnx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO3QuYT1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLk9iamVjdD09PU9iamVjdCYmZTt0LmE9bn0pLmNhbGwodGhpcyxuKDUpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRlNCTERlcGVuZGVuY3lNYW5hZ2VyU2luZ2xldG9uPXQuRlNCTERlcGVuZGVuY3lNYW5hZ2VyPXZvaWQgMDtjb25zdCByPW4oMjIpLG89aShuKDcpKSxzPW4oMTMpLGE9aShuKDE4KSksdT1pKG4oMCkpO2NsYXNzIGMgZXh0ZW5kcyByLkV2ZW50RW1pdHRlcntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY2FsbGJhY2s9ZS5jYWxsYmFjayx0aGlzLmRlcGVuZGVuY2llcz1lLmRlcGVuZGVuY2llcyx0aGlzLnN0YXJ0dXBUaW1lcj1udWxsLHRoaXMuc2V0U3RhcnR1cFRpbWVyPXRoaXMuc2V0U3RhcnR1cFRpbWVyLmJpbmQodGhpcyksdGhpcy5jbGVhclN0YXJ0dXBUaW1lcj10aGlzLmNsZWFyU3RhcnR1cFRpbWVyLmJpbmQodGhpcyksdGhpcy5zZXRTdGFydHVwVGltZXIoKX1jbGVhclN0YXJ0dXBUaW1lcigpe2NsZWFyVGltZW91dCh0aGlzLnN0YXJ0dXBUaW1lciksZGVsZXRlIHRoaXMuc3RhcnR1cFRpbWVyfXNldFN0YXJ0dXBUaW1lcigpe2NvbnN0IGU9dGhpczt0aGlzLnN0YXJ0dXBUaW1lcj0rc2V0VGltZW91dCgoKT0+e2UuZW1pdChcInRpbWVvdXRcIil9LDFlNCl9fWZ1bmN0aW9uIGwoKXtyZXR1cm5cInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZyxlPT57Y29uc3QgdD0xNipNYXRoLnJhbmRvbSgpfDA7cmV0dXJuKFwieFwiPT09ZT90OjMmdHw4KS50b1N0cmluZygxNil9KX1jbGFzcyBke2NvbnN0cnVjdG9yKCl7dGhpcy5zZXJ2aWNlc0FyZUFsbE9ubGluZT17fSx0aGlzLmNsaWVudHNBcmVBbGxPbmxpbmU9e30sdGhpcy5vbmxpbmVDbGllbnRzPVtdLHRoaXMuZGVwZW5kZW5jaWVzPXt9LHRoaXMuc3RhcnR1cFRpbWVycz17fSx0aGlzLnN0YXJ0dXBUaW1lckZpcmVkPSExLHRoaXMuYmluZENvcnJlY3RDb250ZXh0KCl9d2FpdEZvcihlLHQpe2NvbnN0IG49bCgpO2UuY2xpZW50c3x8KGUuY2xpZW50cz1bXSksZS5jbGllbnRzLmxlbmd0aCYmKGUuY2xpZW50cz1lLmNsaWVudHMubWFwKGU9PmUuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrZS5zbGljZSgxKSkpO2NvbnN0IGk9bmV3IGMoe2RlcGVuZGVuY2llczplLGNhbGxiYWNrOnR9KTtyZXR1cm4gaS5vbihcInRpbWVvdXRcIiwoKT0+e3RoaXMub25EZXBlbmRlbmN5VGltZW91dChpKX0pLHRoaXMuZGVwZW5kZW5jaWVzW25dPWksdGhpcy5jaGVja0RlcGVuZGVuY2llcygpLGl9b25EZXBlbmRlbmN5VGltZW91dChlKXtjb25zdCB0PXRoaXMuZ2V0T2ZmbGluZUNsaWVudHMoKTtsZXQgbj1cIkFQUExJQ0FUSU9OIExJRkVDWUNMRTpTVEFSVFVQOkRlcGVuZGVuY3kgbm90IG9ubGluZSBhZnRlciAxMCBzZWNvbmRzLlwiO3QubGVuZ3RoJiYobj1gJHtufSBXYWl0aW5nIGZvciB0aGVzZSBjbGllbnRzOiAke3Quam9pbihcIiwgXCIpfS5gKSxlLmVtaXQoXCJlcnJcIixuKX1jaGVja0RlcGVuZGVuY2llcygpe2Zvcihjb25zdCBlIGluIHRoaXMuZGVwZW5kZW5jaWVzKXtjb25zdCB0PXRoaXMuZGVwZW5kZW5jaWVzW2VdLHtkZXBlbmRlbmNpZXM6bixjYWxsYmFjazppfT10Oyghbi5jbGllbnRzLmxlbmd0aHx8dGhpcy5jbGllbnRzQXJlQWxsT25saW5lW2VdfHwodGhpcy5jbGllbnRzQXJlQWxsT25saW5lW2VdPXRoaXMuY2hlY2tDbGllbnRzKG4uY2xpZW50cyksdGhpcy5jbGllbnRzQXJlQWxsT25saW5lW2VdKSkmJihkZWxldGUgdGhpcy5kZXBlbmRlbmNpZXNbZV0sdC5jbGVhclN0YXJ0dXBUaW1lcigpLGkmJmkoKSl9fWdldE9mZmxpbmVDbGllbnRzKCl7bGV0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5kZXBlbmRlbmNpZXMpe2NvbnN0e2RlcGVuZGVuY2llczpufT10aGlzLmRlcGVuZGVuY2llc1t0XTtlPWUuY29uY2F0KG4uY2xpZW50cy5maWx0ZXIoZT0+IXRoaXMub25saW5lQ2xpZW50cy5pbmNsdWRlcyhlKSkpfXJldHVybiBlLmZpbHRlcigodCxuKT0+ZS5pbmRleE9mKHQpPT09bil9Y2hlY2tDbGllbnRzKGUpe3JldHVybiBlLmV2ZXJ5KGU9PnRoaXMub25saW5lQ2xpZW50cy5pbmNsdWRlcyhlKSl9c2V0Q2xpZW50T25saW5lKGUpe3RoaXMub25saW5lQ2xpZW50cy5pbmNsdWRlcyhlKXx8KHRoaXMub25saW5lQ2xpZW50cy5wdXNoKGUpLHRoaXMuY2hlY2tEZXBlbmRlbmNpZXMoKSl9Z2V0T25saW5lQ2xpZW50cygpe3JldHVybiB0aGlzLm9ubGluZUNsaWVudHN9YmluZENvcnJlY3RDb250ZXh0KCl7dGhpcy5jaGVja0RlcGVuZGVuY2llcz10aGlzLmNoZWNrRGVwZW5kZW5jaWVzLmJpbmQodGhpcyksdGhpcy5jaGVja0NsaWVudHM9dGhpcy5jaGVja0NsaWVudHMuYmluZCh0aGlzKSx0aGlzLmdldE9mZmxpbmVDbGllbnRzPXRoaXMuZ2V0T2ZmbGluZUNsaWVudHMuYmluZCh0aGlzKSx0aGlzLm9uRGVwZW5kZW5jeVRpbWVvdXQ9dGhpcy5vbkRlcGVuZGVuY3lUaW1lb3V0LmJpbmQodGhpcyksdGhpcy53YWl0Rm9yPXRoaXMud2FpdEZvci5iaW5kKHRoaXMpfX1jbGFzcyBme2NvbnN0cnVjdG9yKCl7dGhpcy5vZmZsaW5lU2VydmljZXM9W10sdGhpcy5kZXBlbmRlbmNpZXM9e30sdGhpcy5jaGVja0RlcGVuZGVuY2llcz10aGlzLmNoZWNrRGVwZW5kZW5jaWVzLmJpbmQodGhpcyl9d2FpdEZvcihlLHQpe3UuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJEZXBlbmRlbmN5TWFuYWdlcjp3YWl0Rm9yXCIsZSksZS5zZXJ2aWNlc3x8KGUuc2VydmljZXM9W10pO2NvbnN0IG49bCgpO3RoaXMuZGVwZW5kZW5jaWVzW25dPXtkZXBlbmRlbmNpZXM6ZSxjYWxsYmFjazp0fX1jaGVja0RlcGVuZGVuY2llcygpe2lmKGNvbnNvbGUuZGVidWcoXCJjaGVja0RlcGVuZGVuY2llc1wiLHRoaXMuZGVwZW5kZW5jaWVzKSxPYmplY3Qua2V5cyh0aGlzLmRlcGVuZGVuY2llcykpZm9yKGNvbnN0IGUgaW4gdGhpcy5kZXBlbmRlbmNpZXMpe2NvbnN0e2RlcGVuZGVuY2llczp0LGNhbGxiYWNrOm59PXRoaXMuZGVwZW5kZW5jaWVzW2VdO2lmKHUuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJEZXBlbmRlbmN5TWFuYWdlcjpjaGVja0RlcGVuZGVuY3lcIix0LnNlcnZpY2VzLHRoaXMub2ZmbGluZVNlcnZpY2VzKSx0LnNlcnZpY2VzLmxlbmd0aCl7aWYoIXRoaXMuY2hlY2tTZXJ2aWNlcyh0LnNlcnZpY2VzKSljb250aW51ZX1jb25zb2xlLmRlYnVnKFwiY2hlY2tEZXBlbmRlbmNpZXMgY2FsbGJhY2tcIiksZGVsZXRlIHRoaXMuZGVwZW5kZW5jaWVzW2VdLG4mJm4oKX19Y2hlY2tTZXJ2aWNlcyhlKXtyZXR1cm4gZS5ldmVyeShlPT50aGlzLm9mZmxpbmVTZXJ2aWNlcy5pbmNsdWRlcyhlKSl9c2V0U2VydmljZU9mZmxpbmUoZSl7dS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcInNldFNlcnZpY2VPZmZsaW5lXCIsZSksY29uc29sZS5kZWJ1ZyhcInNldFNlcnZpY2VPZmZsaW5lXCIsZSksdGhpcy5vZmZsaW5lU2VydmljZXMucHVzaChlKSx0aGlzLmNoZWNrRGVwZW5kZW5jaWVzKCl9fWNsYXNzIGggZXh0ZW5kcyByLkV2ZW50RW1pdHRlcntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zdGFydHVwPW5ldyBkLHRoaXMuc2h1dGRvd249bmV3IGYsdGhpcy5Sb3V0ZXJDbGllbnQ9by5kZWZhdWx0LHRoaXMuQXV0aG9yaXphdGlvbkNvbXBsZXRlZD0hMSx0aGlzLmJpbmRDb3JyZWN0Q29udGV4dCgpLHRoaXMub25BdXRob3JpemF0aW9uQ29tcGxldGVkKHRoaXMuc3RhcnR1cC5jaGVja0RlcGVuZGVuY2llcyksby5kZWZhdWx0Lm9uUmVhZHkodGhpcy5saXN0ZW5Gb3JTZXJ2aWNlcyl9YmluZENvcnJlY3RDb250ZXh0KCl7dGhpcy5saXN0ZW5Gb3JTZXJ2aWNlcz10aGlzLmxpc3RlbkZvclNlcnZpY2VzLmJpbmQodGhpcyksdGhpcy5vbkF1dGhvcml6YXRpb25Db21wbGV0ZWQ9dGhpcy5vbkF1dGhvcml6YXRpb25Db21wbGV0ZWQuYmluZCh0aGlzKX1zZXRDbGllbnRPbmxpbmUoZSl7dGhpcy5zdGFydHVwLnNldENsaWVudE9ubGluZShlKX1vblNlcnZpY2VTdGF0ZUNoYW5nZShlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKHQ9Pntjb25zdHtzdGF0ZTpufT1lW3RdO1wiY2xvc2VkXCI9PT1uJiZ0aGlzLnNodXRkb3duLnNldFNlcnZpY2VPZmZsaW5lKHQpfSl9bGlzdGVuRm9yU2VydmljZXMoKXt1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiRGVwZW5kZW5jeU1hbmFnZXI6bGlzdGVuRm9yU2VydmljZXMgYmVmb3JlIHdhaXRcIiksYS5kZWZhdWx0LndhaXRGb3JCb290U3RhZ2UoXCJrZXJuZWxcIixcInN0YWdlRW50ZXJlZFwiLCgpPT57dS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkRlcGVuZGVuY3lNYW5hZ2VyOmxpc3RlbkZvclNlcnZpY2VzIGFmdGVyIHdhaXRcIiksdGhpcy5Sb3V0ZXJDbGllbnQuc3Vic2NyaWJlKHMuU0VSVklDRVNfU1RBVEVfQ0hBTk5FTCwoZSx0KT0+e3UuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJEZXBlbmRlbmN5TWFuYWdlcjpsaXN0ZW5Gb3JTZXJ2aWNlcyBTRVJWSUNFU19TVEFURV9DSEFOTkVMXCIsdC5kYXRhKSx0aGlzLm9uU2VydmljZVN0YXRlQ2hhbmdlKHQuZGF0YSl9KSx0aGlzLlJvdXRlckNsaWVudC5hZGRMaXN0ZW5lcihzLlNFUlZJQ0VfQ0xPU0VEX0NIQU5ORUwsKGUsdCk9Pnt1LmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiRGVwZW5kZW5jeU1hbmFnZXI6bGlzdGVuRm9yU2VydmljZXMgU0VSVklDRV9DTE9TRURfQ0hBTk5FTFwiLHQuZGF0YSk7Y29uc3Qgbj17fTtuW3QuZGF0YS5uYW1lXT17c3RhdGU6XCJjbG9zZWRcIn0sdGhpcy5vblNlcnZpY2VTdGF0ZUNoYW5nZShuKX0pLHRoaXMuUm91dGVyQ2xpZW50LnN1YnNjcmliZShzLkFQUExJQ0FUSU9OX1NUQVRFX0NIQU5ORUwsKGUsdCk9Pntzd2l0Y2godC5kYXRhLnN0YXRlKXtjYXNlXCJhdXRoZW50aWNhdGVkXCI6Y2FzZVwicmVhZHlcIjpicmVhaztjYXNlXCJjbG9zaW5nXCI6dGhpcy5zaHV0ZG93bi5jaGVja0RlcGVuZGVuY2llcygpfX0pfSl9b25BdXRob3JpemF0aW9uQ29tcGxldGVkKGUpe3RoaXMuQXV0aG9yaXphdGlvbkNvbXBsZXRlZD9lKCk6dGhpcy5hZGRMaXN0ZW5lcihcIkF1dGhvcml6YXRpb25Db21wbGV0ZWRcIixlKX19dC5GU0JMRGVwZW5kZW5jeU1hbmFnZXI9aCx0LkZTQkxEZXBlbmRlbmN5TWFuYWdlclNpbmdsZXRvbj1uZXcgaCx0LmRlZmF1bHQ9dC5GU0JMRGVwZW5kZW5jeU1hbmFnZXJTaW5nbGV0b259LGZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSxuKXt2YXIgaT1cIltvYmplY3QgQXJndW1lbnRzXVwiLHI9XCJbb2JqZWN0IE1hcF1cIixvPVwiW29iamVjdCBPYmplY3RdXCIscz1cIltvYmplY3QgU2V0XVwiLGE9L15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLyx1PS9eKD86MHxbMS05XVxcZCopJC8sYz17fTtjW1wiW29iamVjdCBGbG9hdDMyQXJyYXldXCJdPWNbXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIl09Y1tcIltvYmplY3QgSW50OEFycmF5XVwiXT1jW1wiW29iamVjdCBJbnQxNkFycmF5XVwiXT1jW1wiW29iamVjdCBJbnQzMkFycmF5XVwiXT1jW1wiW29iamVjdCBVaW50OEFycmF5XVwiXT1jW1wiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIl09Y1tcIltvYmplY3QgVWludDE2QXJyYXldXCJdPWNbXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXT0hMCxjW2ldPWNbXCJbb2JqZWN0IEFycmF5XVwiXT1jW1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09Y1tcIltvYmplY3QgQm9vbGVhbl1cIl09Y1tcIltvYmplY3QgRGF0YVZpZXddXCJdPWNbXCJbb2JqZWN0IERhdGVdXCJdPWNbXCJbb2JqZWN0IEVycm9yXVwiXT1jW1wiW29iamVjdCBGdW5jdGlvbl1cIl09Y1tyXT1jW1wiW29iamVjdCBOdW1iZXJdXCJdPWNbb109Y1tcIltvYmplY3QgUmVnRXhwXVwiXT1jW3NdPWNbXCJbb2JqZWN0IFN0cmluZ11cIl09Y1tcIltvYmplY3QgV2Vha01hcF1cIl09ITE7dmFyIGw9XCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuT2JqZWN0PT09T2JqZWN0JiZlLGQ9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGY9bHx8ZHx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGg9dCYmIXQubm9kZVR5cGUmJnQscD1oJiZcIm9iamVjdFwiPT10eXBlb2YgbiYmbiYmIW4ubm9kZVR5cGUmJm4sZz1wJiZwLmV4cG9ydHM9PT1oLG09ZyYmbC5wcm9jZXNzLHk9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG0mJm0uYmluZGluZyYmbS5iaW5kaW5nKFwidXRpbFwiKX1jYXRjaChlKXt9fSgpLHc9eSYmeS5pc1R5cGVkQXJyYXk7ZnVuY3Rpb24gYihlLHQpe2Zvcih2YXIgbj0tMSxpPW51bGw9PWU/MDplLmxlbmd0aDsrK248aTspaWYodChlW25dLG4sZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdihlKXt2YXIgdD0tMSxuPUFycmF5KGUuc2l6ZSk7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXtuWysrdF09W2ksZV19KSksbn1mdW5jdGlvbiBTKGUpe3ZhciB0PS0xLG49QXJyYXkoZS5zaXplKTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtuWysrdF09ZX0pKSxufXZhciBDLF8sVCxFPUFycmF5LnByb3RvdHlwZSxBPUZ1bmN0aW9uLnByb3RvdHlwZSxJPU9iamVjdC5wcm90b3R5cGUsTz1mW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdLEw9QS50b1N0cmluZyxNPUkuaGFzT3duUHJvcGVydHksRD0oQz0vW14uXSskLy5leGVjKE8mJk8ua2V5cyYmTy5rZXlzLklFX1BST1RPfHxcIlwiKSk/XCJTeW1ib2woc3JjKV8xLlwiK0M6XCJcIixrPUkudG9TdHJpbmcsTj1SZWdFeHAoXCJeXCIrTC5jYWxsKE0pLnJlcGxhY2UoL1tcXFxcXiQuKis/KClbXFxde318XS9nLFwiXFxcXCQmXCIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csXCIkMS4qP1wiKStcIiRcIiksaj1nP2YuQnVmZmVyOnZvaWQgMCxXPWYuU3ltYm9sLFI9Zi5VaW50OEFycmF5LFA9SS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxGPUUuc3BsaWNlLHg9Vz9XLnRvU3RyaW5nVGFnOnZvaWQgMCxCPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsVT1qP2ouaXNCdWZmZXI6dm9pZCAwLHo9KF89T2JqZWN0LmtleXMsVD1PYmplY3QsZnVuY3Rpb24oZSl7cmV0dXJuIF8oVChlKSl9KSxIPXllKGYsXCJEYXRhVmlld1wiKSxWPXllKGYsXCJNYXBcIikscT15ZShmLFwiUHJvbWlzZVwiKSwkPXllKGYsXCJTZXRcIiksRz15ZShmLFwiV2Vha01hcFwiKSxZPXllKE9iamVjdCxcImNyZWF0ZVwiKSxRPVNlKEgpLEs9U2UoViksWj1TZShxKSxKPVNlKCQpLFg9U2UoRyksZWU9Vz9XLnByb3RvdHlwZTp2b2lkIDAsdGU9ZWU/ZWUudmFsdWVPZjp2b2lkIDA7ZnVuY3Rpb24gbmUoZSl7dmFyIHQ9LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8bjspe3ZhciBpPWVbdF07dGhpcy5zZXQoaVswXSxpWzFdKX19ZnVuY3Rpb24gaWUoZSl7dmFyIHQ9LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8bjspe3ZhciBpPWVbdF07dGhpcy5zZXQoaVswXSxpWzFdKX19ZnVuY3Rpb24gcmUoZSl7dmFyIHQ9LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8bjspe3ZhciBpPWVbdF07dGhpcy5zZXQoaVswXSxpWzFdKX19ZnVuY3Rpb24gb2UoZSl7dmFyIHQ9LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuX19kYXRhX189bmV3IHJlOysrdDxuOyl0aGlzLmFkZChlW3RdKX1mdW5jdGlvbiBzZShlKXt2YXIgdD10aGlzLl9fZGF0YV9fPW5ldyBpZShlKTt0aGlzLnNpemU9dC5zaXplfWZ1bmN0aW9uIGFlKGUsdCl7dmFyIG49VGUoZSksaT0hbiYmX2UoZSkscj0hbiYmIWkmJkVlKGUpLG89IW4mJiFpJiYhciYmTWUoZSkscz1ufHxpfHxyfHxvLGE9cz9mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxpPUFycmF5KGUpOysrbjxlOylpW25dPXQobik7cmV0dXJuIGl9KGUubGVuZ3RoLFN0cmluZyk6W10sdT1hLmxlbmd0aDtmb3IodmFyIGMgaW4gZSkhdCYmIU0uY2FsbChlLGMpfHxzJiYoXCJsZW5ndGhcIj09Y3x8ciYmKFwib2Zmc2V0XCI9PWN8fFwicGFyZW50XCI9PWMpfHxvJiYoXCJidWZmZXJcIj09Y3x8XCJieXRlTGVuZ3RoXCI9PWN8fFwiYnl0ZU9mZnNldFwiPT1jKXx8dmUoYyx1KSl8fGEucHVzaChjKTtyZXR1cm4gYX1mdW5jdGlvbiB1ZShlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWlmKENlKGVbbl1bMF0sdCkpcmV0dXJuIG47cmV0dXJuLTF9ZnVuY3Rpb24gY2UoZSl7cmV0dXJuIG51bGw9PWU/dm9pZCAwPT09ZT9cIltvYmplY3QgVW5kZWZpbmVkXVwiOlwiW29iamVjdCBOdWxsXVwiOngmJnggaW4gT2JqZWN0KGUpP2Z1bmN0aW9uKGUpe3ZhciB0PU0uY2FsbChlLHgpLG49ZVt4XTt0cnl7ZVt4XT12b2lkIDA7dmFyIGk9ITB9Y2F0Y2goZSl7fXZhciByPWsuY2FsbChlKTtpJiYodD9lW3hdPW46ZGVsZXRlIGVbeF0pO3JldHVybiByfShlKTpmdW5jdGlvbihlKXtyZXR1cm4gay5jYWxsKGUpfShlKX1mdW5jdGlvbiBsZShlKXtyZXR1cm4gTGUoZSkmJmNlKGUpPT1pfWZ1bmN0aW9uIGRlKGUsdCxuLGEsdSl7cmV0dXJuIGU9PT10fHwobnVsbD09ZXx8bnVsbD09dHx8IUxlKGUpJiYhTGUodCk/ZSE9ZSYmdCE9dDpmdW5jdGlvbihlLHQsbixhLHUsYyl7dmFyIGw9VGUoZSksZD1UZSh0KSxmPWw/XCJbb2JqZWN0IEFycmF5XVwiOmJlKGUpLGg9ZD9cIltvYmplY3QgQXJyYXldXCI6YmUodCkscD0oZj1mPT1pP286Zik9PW8sZz0oaD1oPT1pP286aCk9PW8sbT1mPT1oO2lmKG0mJkVlKGUpKXtpZighRWUodCkpcmV0dXJuITE7bD0hMCxwPSExfWlmKG0mJiFwKXJldHVybiBjfHwoYz1uZXcgc2UpLGx8fE1lKGUpP3BlKGUsdCxuLGEsdSxjKTpmdW5jdGlvbihlLHQsbixpLG8sYSx1KXtzd2l0Y2gobil7Y2FzZVwiW29iamVjdCBEYXRhVmlld11cIjppZihlLmJ5dGVMZW5ndGghPXQuYnl0ZUxlbmd0aHx8ZS5ieXRlT2Zmc2V0IT10LmJ5dGVPZmZzZXQpcmV0dXJuITE7ZT1lLmJ1ZmZlcix0PXQuYnVmZmVyO2Nhc2VcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI6cmV0dXJuIShlLmJ5dGVMZW5ndGghPXQuYnl0ZUxlbmd0aHx8IWEobmV3IFIoZSksbmV3IFIodCkpKTtjYXNlXCJbb2JqZWN0IEJvb2xlYW5dXCI6Y2FzZVwiW29iamVjdCBEYXRlXVwiOmNhc2VcIltvYmplY3QgTnVtYmVyXVwiOnJldHVybiBDZSgrZSwrdCk7Y2FzZVwiW29iamVjdCBFcnJvcl1cIjpyZXR1cm4gZS5uYW1lPT10Lm5hbWUmJmUubWVzc2FnZT09dC5tZXNzYWdlO2Nhc2VcIltvYmplY3QgUmVnRXhwXVwiOmNhc2VcIltvYmplY3QgU3RyaW5nXVwiOnJldHVybiBlPT10K1wiXCI7Y2FzZSByOnZhciBjPXY7Y2FzZSBzOnZhciBsPTEmaTtpZihjfHwoYz1TKSxlLnNpemUhPXQuc2l6ZSYmIWwpcmV0dXJuITE7dmFyIGQ9dS5nZXQoZSk7aWYoZClyZXR1cm4gZD09dDtpfD0yLHUuc2V0KGUsdCk7dmFyIGY9cGUoYyhlKSxjKHQpLGksbyxhLHUpO3JldHVybiB1LmRlbGV0ZShlKSxmO2Nhc2VcIltvYmplY3QgU3ltYm9sXVwiOmlmKHRlKXJldHVybiB0ZS5jYWxsKGUpPT10ZS5jYWxsKHQpfXJldHVybiExfShlLHQsZixuLGEsdSxjKTtpZighKDEmbikpe3ZhciB5PXAmJk0uY2FsbChlLFwiX193cmFwcGVkX19cIiksdz1nJiZNLmNhbGwodCxcIl9fd3JhcHBlZF9fXCIpO2lmKHl8fHcpe3ZhciBiPXk/ZS52YWx1ZSgpOmUsQz13P3QudmFsdWUoKTp0O3JldHVybiBjfHwoYz1uZXcgc2UpLHUoYixDLG4sYSxjKX19aWYoIW0pcmV0dXJuITE7cmV0dXJuIGN8fChjPW5ldyBzZSksZnVuY3Rpb24oZSx0LG4saSxyLG8pe3ZhciBzPTEmbixhPWdlKGUpLHU9YS5sZW5ndGgsYz1nZSh0KS5sZW5ndGg7aWYodSE9YyYmIXMpcmV0dXJuITE7dmFyIGw9dTtmb3IoO2wtLTspe3ZhciBkPWFbbF07aWYoIShzP2QgaW4gdDpNLmNhbGwodCxkKSkpcmV0dXJuITF9dmFyIGY9by5nZXQoZSk7aWYoZiYmby5nZXQodCkpcmV0dXJuIGY9PXQ7dmFyIGg9ITA7by5zZXQoZSx0KSxvLnNldCh0LGUpO3ZhciBwPXM7Zm9yKDsrK2w8dTspe2Q9YVtsXTt2YXIgZz1lW2RdLG09dFtkXTtpZihpKXZhciB5PXM/aShtLGcsZCx0LGUsbyk6aShnLG0sZCxlLHQsbyk7aWYoISh2b2lkIDA9PT15P2c9PT1tfHxyKGcsbSxuLGksbyk6eSkpe2g9ITE7YnJlYWt9cHx8KHA9XCJjb25zdHJ1Y3RvclwiPT1kKX1pZihoJiYhcCl7dmFyIHc9ZS5jb25zdHJ1Y3RvcixiPXQuY29uc3RydWN0b3I7dz09Ynx8IShcImNvbnN0cnVjdG9yXCJpbiBlKXx8IShcImNvbnN0cnVjdG9yXCJpbiB0KXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdyYmdyBpbnN0YW5jZW9mIHcmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGImJmIgaW5zdGFuY2VvZiBifHwoaD0hMSl9cmV0dXJuIG8uZGVsZXRlKGUpLG8uZGVsZXRlKHQpLGh9KGUsdCxuLGEsdSxjKX0oZSx0LG4sYSxkZSx1KSl9ZnVuY3Rpb24gZmUoZSl7cmV0dXJuISghT2UoZSl8fGZ1bmN0aW9uKGUpe3JldHVybiEhRCYmRCBpbiBlfShlKSkmJihBZShlKT9OOmEpLnRlc3QoU2UoZSkpfWZ1bmN0aW9uIGhlKGUpe2lmKG49KHQ9ZSkmJnQuY29uc3RydWN0b3IsaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuLnByb3RvdHlwZXx8SSx0IT09aSlyZXR1cm4geihlKTt2YXIgdCxuLGkscj1bXTtmb3IodmFyIG8gaW4gT2JqZWN0KGUpKU0uY2FsbChlLG8pJiZcImNvbnN0cnVjdG9yXCIhPW8mJnIucHVzaChvKTtyZXR1cm4gcn1mdW5jdGlvbiBwZShlLHQsbixpLHIsbyl7dmFyIHM9MSZuLGE9ZS5sZW5ndGgsdT10Lmxlbmd0aDtpZihhIT11JiYhKHMmJnU+YSkpcmV0dXJuITE7dmFyIGM9by5nZXQoZSk7aWYoYyYmby5nZXQodCkpcmV0dXJuIGM9PXQ7dmFyIGw9LTEsZD0hMCxmPTImbj9uZXcgb2U6dm9pZCAwO2ZvcihvLnNldChlLHQpLG8uc2V0KHQsZSk7KytsPGE7KXt2YXIgaD1lW2xdLHA9dFtsXTtpZihpKXZhciBnPXM/aShwLGgsbCx0LGUsbyk6aShoLHAsbCxlLHQsbyk7aWYodm9pZCAwIT09Zyl7aWYoZyljb250aW51ZTtkPSExO2JyZWFrfWlmKGYpe2lmKCFiKHQsKGZ1bmN0aW9uKGUsdCl7aWYocz10LCFmLmhhcyhzKSYmKGg9PT1lfHxyKGgsZSxuLGksbykpKXJldHVybiBmLnB1c2godCk7dmFyIHN9KSkpe2Q9ITE7YnJlYWt9fWVsc2UgaWYoaCE9PXAmJiFyKGgscCxuLGksbykpe2Q9ITE7YnJlYWt9fXJldHVybiBvLmRlbGV0ZShlKSxvLmRlbGV0ZSh0KSxkfWZ1bmN0aW9uIGdlKGUpe3JldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIGk9dChlKTtyZXR1cm4gVGUoZSk/aTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxpPXQubGVuZ3RoLHI9ZS5sZW5ndGg7KytuPGk7KWVbcituXT10W25dO3JldHVybiBlfShpLG4oZSkpfShlLERlLHdlKX1mdW5jdGlvbiBtZShlLHQpe3ZhciBuLGkscj1lLl9fZGF0YV9fO3JldHVybihcInN0cmluZ1wiPT0oaT10eXBlb2Yobj10KSl8fFwibnVtYmVyXCI9PWl8fFwic3ltYm9sXCI9PWl8fFwiYm9vbGVhblwiPT1pP1wiX19wcm90b19fXCIhPT1uOm51bGw9PT1uKT9yW1wic3RyaW5nXCI9PXR5cGVvZiB0P1wic3RyaW5nXCI6XCJoYXNoXCJdOnIubWFwfWZ1bmN0aW9uIHllKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6ZVt0XX0oZSx0KTtyZXR1cm4gZmUobik/bjp2b2lkIDB9bmUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1ZP1kobnVsbCk6e30sdGhpcy5zaXplPTB9LG5lLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oYXMoZSkmJmRlbGV0ZSB0aGlzLl9fZGF0YV9fW2VdO3JldHVybiB0aGlzLnNpemUtPXQ/MTowLHR9LG5lLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXztpZihZKXt2YXIgbj10W2VdO3JldHVyblwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiPT09bj92b2lkIDA6bn1yZXR1cm4gTS5jYWxsKHQsZSk/dFtlXTp2b2lkIDB9LG5lLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXztyZXR1cm4gWT92b2lkIDAhPT10W2VdOk0uY2FsbCh0LGUpfSxuZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fX2RhdGFfXztyZXR1cm4gdGhpcy5zaXplKz10aGlzLmhhcyhlKT8wOjEsbltlXT1ZJiZ2b2lkIDA9PT10P1wiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiOnQsdGhpc30saWUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXSx0aGlzLnNpemU9MH0saWUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLG49dWUodCxlKTtyZXR1cm4hKG48MCkmJihuPT10Lmxlbmd0aC0xP3QucG9wKCk6Ri5jYWxsKHQsbiwxKSwtLXRoaXMuc2l6ZSwhMCl9LGllLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXyxuPXVlKHQsZSk7cmV0dXJuIG48MD92b2lkIDA6dFtuXVsxXX0saWUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdWUodGhpcy5fX2RhdGFfXyxlKT4tMX0saWUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX19kYXRhX18saT11ZShuLGUpO3JldHVybiBpPDA/KCsrdGhpcy5zaXplLG4ucHVzaChbZSx0XSkpOm5baV1bMV09dCx0aGlzfSxyZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBuZSxtYXA6bmV3KFZ8fGllKSxzdHJpbmc6bmV3IG5lfX0scmUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD1tZSh0aGlzLGUpLmRlbGV0ZShlKTtyZXR1cm4gdGhpcy5zaXplLT10PzE6MCx0fSxyZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBtZSh0aGlzLGUpLmdldChlKX0scmUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gbWUodGhpcyxlKS5oYXMoZSl9LHJlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1tZSh0aGlzLGUpLGk9bi5zaXplO3JldHVybiBuLnNldChlLHQpLHRoaXMuc2l6ZSs9bi5zaXplPT1pPzA6MSx0aGlzfSxvZS5wcm90b3R5cGUuYWRkPW9lLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLnNldChlLFwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiKSx0aGlzfSxvZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKX0sc2UucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1uZXcgaWUsdGhpcy5zaXplPTB9LHNlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXyxuPXQuZGVsZXRlKGUpO3JldHVybiB0aGlzLnNpemU9dC5zaXplLG59LHNlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGUpfSxzZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKX0sc2UucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX19kYXRhX187aWYobiBpbnN0YW5jZW9mIGllKXt2YXIgaT1uLl9fZGF0YV9fO2lmKCFWfHxpLmxlbmd0aDwxOTkpcmV0dXJuIGkucHVzaChbZSx0XSksdGhpcy5zaXplPSsrbi5zaXplLHRoaXM7bj10aGlzLl9fZGF0YV9fPW5ldyByZShpKX1yZXR1cm4gbi5zZXQoZSx0KSx0aGlzLnNpemU9bi5zaXplLHRoaXN9O3ZhciB3ZT1CP2Z1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1tdOihlPU9iamVjdChlKSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxpPW51bGw9PWU/MDplLmxlbmd0aCxyPTAsbz1bXTsrK248aTspe3ZhciBzPWVbbl07dChzLG4sZSkmJihvW3IrK109cyl9cmV0dXJuIG99KEIoZSksKGZ1bmN0aW9uKHQpe3JldHVybiBQLmNhbGwoZSx0KX0pKSl9OmZ1bmN0aW9uKCl7cmV0dXJuW119LGJlPWNlO2Z1bmN0aW9uIHZlKGUsdCl7cmV0dXJuISEodD1udWxsPT10PzkwMDcxOTkyNTQ3NDA5OTE6dCkmJihcIm51bWJlclwiPT10eXBlb2YgZXx8dS50ZXN0KGUpKSYmZT4tMSYmZSUxPT0wJiZlPHR9ZnVuY3Rpb24gU2UoZSl7aWYobnVsbCE9ZSl7dHJ5e3JldHVybiBMLmNhbGwoZSl9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gZStcIlwifWNhdGNoKGUpe319cmV0dXJuXCJcIn1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09dHx8ZSE9ZSYmdCE9dH0oSCYmXCJbb2JqZWN0IERhdGFWaWV3XVwiIT1iZShuZXcgSChuZXcgQXJyYXlCdWZmZXIoMSkpKXx8ViYmYmUobmV3IFYpIT1yfHxxJiZcIltvYmplY3QgUHJvbWlzZV1cIiE9YmUocS5yZXNvbHZlKCkpfHwkJiZiZShuZXcgJCkhPXN8fEcmJlwiW29iamVjdCBXZWFrTWFwXVwiIT1iZShuZXcgRykpJiYoYmU9ZnVuY3Rpb24oZSl7dmFyIHQ9Y2UoZSksbj10PT1vP2UuY29uc3RydWN0b3I6dm9pZCAwLGk9bj9TZShuKTpcIlwiO2lmKGkpc3dpdGNoKGkpe2Nhc2UgUTpyZXR1cm5cIltvYmplY3QgRGF0YVZpZXddXCI7Y2FzZSBLOnJldHVybiByO2Nhc2UgWjpyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIjtjYXNlIEo6cmV0dXJuIHM7Y2FzZSBYOnJldHVyblwiW29iamVjdCBXZWFrTWFwXVwifXJldHVybiB0fSk7dmFyIF9lPWxlKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk/bGU6ZnVuY3Rpb24oZSl7cmV0dXJuIExlKGUpJiZNLmNhbGwoZSxcImNhbGxlZVwiKSYmIVAuY2FsbChlLFwiY2FsbGVlXCIpfSxUZT1BcnJheS5pc0FycmF5O3ZhciBFZT1VfHxmdW5jdGlvbigpe3JldHVybiExfTtmdW5jdGlvbiBBZShlKXtpZighT2UoZSkpcmV0dXJuITE7dmFyIHQ9Y2UoZSk7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT10fHxcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCI9PXR8fFwiW29iamVjdCBBc3luY0Z1bmN0aW9uXVwiPT10fHxcIltvYmplY3QgUHJveHldXCI9PXR9ZnVuY3Rpb24gSWUoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmU+LTEmJmUlMT09MCYmZTw9OTAwNzE5OTI1NDc0MDk5MX1mdW5jdGlvbiBPZShlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4gbnVsbCE9ZSYmKFwib2JqZWN0XCI9PXR8fFwiZnVuY3Rpb25cIj09dCl9ZnVuY3Rpb24gTGUoZSl7cmV0dXJuIG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfXZhciBNZT13P2Z1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX19KHcpOmZ1bmN0aW9uKGUpe3JldHVybiBMZShlKSYmSWUoZS5sZW5ndGgpJiYhIWNbY2UoZSldfTtmdW5jdGlvbiBEZShlKXtyZXR1cm4gbnVsbCE9KHQ9ZSkmJkllKHQubGVuZ3RoKSYmIUFlKHQpP2FlKGUpOmhlKGUpO3ZhciB0fW4uZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBkZShlLHQpfX0pLmNhbGwodGhpcyxuKDUpLG4oMjApKGUpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO1xuLyohXG4gKiBDb3B5cmlnaHQgMjAxNyAtIDIwMjAgYnkgQ2hhcnRJUSwgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL3ZhciBpPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuU3RvcmFnZUNsaWVudD12b2lkIDA7Y29uc3Qgcj1pKG4oNjUpKSxvPWkobig4KSkscz1pKG4oMCkpLGE9big0KSx1PW4oOSksYz1yLmRlZmF1bHQoMSk7Y2xhc3MgbCBleHRlbmRzIGEuX0Jhc2VDbGllbnR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuY2xpZW50UmVhZHk9ITEsdGhpcy5kZWxldGU9dGhpcy5yZW1vdmV9c2V0VXNlcihlLHQpe3RoaXMuY2xpZW50UmVhZHl8fHMuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoXCJzdG9yYWdlQ2xpZW50IGludm9rZWQgYmVmb3JlIHJlYWR5XCIpLG8uZGVmYXVsdC5hcmdzKGUudXNlcixcInN0cmluZ1wiLHQsXCJmdW5jdGlvbj1cIiksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJTdG9yYWdlLnNldFVzZXJcIix7dXNlcjplLnVzZXJ9LChuLGkpPT57KG4/cy5kZWZhdWx0LnN5c3RlbS5lcnJvcjpzLmRlZmF1bHQuc3lzdGVtLmluZm8pKFwiQVBQTElDQVRJT04gTElGRUNZQ0xFOlN0b3JhZ2VDbGllbnQuc2V0VXNlclwiLGUsbixpKSx0JiZ0KG4saS5kYXRhKX0pfXNldFN0b3JlKGUsdCl7dGhpcy5jbGllbnRSZWFkeXx8cy5kZWZhdWx0LnN5c3RlbS5lcnJvcihcInN0b3JhZ2VDbGllbnQgaW52b2tlZCBiZWZvcmUgcmVhZHlcIiksby5kZWZhdWx0LmFyZ3MoZS50b3BpYyxcInN0cmluZ1wiLGUuZGF0YVN0b3JlLFwic3RyaW5nPVwiLHQsXCJmdW5jdGlvbj1cIikscy5kZWZhdWx0LnN5c3RlbS5sb2coXCJBUFBMSUNBVElPTiBMSUZFQ1lDTEU6U3RvcmFnZUNsaWVudC5zZXRTdG9yZVwiLGUsdCksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJTdG9yYWdlLnNldFN0b3JlXCIsZSwoZSxuKT0+eyhlP3MuZGVmYXVsdC5zeXN0ZW0uZXJyb3I6cy5kZWZhdWx0LnN5c3RlbS5pbmZvKShcIlN0b3JhZ2Uuc2V0U3RvcmVcIixlLG4pLHQmJnQoZSxuLmRhdGEpfSl9c2F2ZShlLHQpe2lmKHRoaXMuY2xpZW50UmVhZHl8fHMuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoXCJzdG9yYWdlQ2xpZW50IGludm9rZWQgYmVmb3JlIHJlYWR5XCIpLFwic3RyaW5nXCIhPXR5cGVvZiBlLmtleXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUudG9waWMpdGhyb3cgbmV3IEVycm9yKFwiVmFsdWVzIGZvciBrZXkgYW5kIHRvcGljIG11c3QgYmUgc3RyaW5ncy5cIik7cmV0dXJuIG5ldyBQcm9taXNlKChuLGkpPT57by5kZWZhdWx0LmFyZ3MoZS50b3BpYyxcInN0cmluZ1wiLGUua2V5LFwic3RyaW5nXCIsZS52YWx1ZSxcImFueVwiLHQsXCJmdW5jdGlvbj1cIiksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJTdG9yYWdlLnNhdmVcIixlLChlLHIpPT57KGU/cy5kZWZhdWx0LnN5c3RlbS5lcnJvcjpzLmRlZmF1bHQuc3lzdGVtLmluZm8pKFwiU3RvcmFnZS5zYXZlXCIsZSxyKSx0JiZ0KGUsci5kYXRhKSxlP2koe2VycjplLGRhdGE6bnVsbH0pOm4oe2VycjplLGRhdGE6ci5kYXRhfSl9KX0pfXNhdmUxKGUpe3JldHVybiBjKCgpPT50aGlzLnNhdmUoZSkpfWdldChlLHQpe2lmKHRoaXMuY2xpZW50UmVhZHl8fHMuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoXCJzdG9yYWdlQ2xpZW50IGludm9rZWQgYmVmb3JlIHJlYWR5XCIpLFwic3RyaW5nXCIhPXR5cGVvZiBlLmtleXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUudG9waWMpdGhyb3cgbmV3IEVycm9yKFwiVmFsdWVzIGZvciBrZXkgYW5kIHRvcGljIG11c3QgYmUgc3RyaW5ncy5cIik7cmV0dXJuIG5ldyBQcm9taXNlKChuLGkpPT57by5kZWZhdWx0LmFyZ3MoZS50b3BpYyxcInN0cmluZ1wiLGUua2V5LFwic3RyaW5nXCIsdCxcImZ1bmN0aW9uPVwiKSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIlN0b3JhZ2UuZ2V0XCIsZSwoZSxyKT0+e2lmKGUpcmV0dXJuIHMuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoXCJTdG9yYWdlLmdldFwiLGUsciksdCYmdChlLHI/ci5kYXRhOm51bGwpLGkoZSxyP3IuZGF0YTpudWxsKTtzLmRlZmF1bHQuc3lzdGVtLmluZm8oXCJTdG9yYWdlLmdldFwiLGUsciksdCYmdChlLHIuZGF0YSksbihyLmRhdGEpfSl9KX1nZXQxKGUsdCl7cmV0dXJuIGMoKCk9PnRoaXMuZ2V0KGUsdCkpfWFzeW5jIHVwZGF0ZVN0b3JhZ2UoZSl7Y29uc3R7dG9waWM6dCxrZXk6bix1cGRhdGVGbjppfT1lLHI9YXdhaXQgdGhpcy5nZXQoe3RvcGljOnQsa2V5Om59KTtyZXR1cm4gYXdhaXQgdGhpcy5zYXZlKHt0b3BpYzp0LGtleTpuLHZhbHVlOmkocil9KX11cGRhdGVTdG9yYWdlMShlKXtyZXR1cm4gYygoKT0+dGhpcy51cGRhdGVTdG9yYWdlKGUpKX1rZXlzKGUsdCl7dGhpcy5jbGllbnRSZWFkeXx8cy5kZWZhdWx0LnN5c3RlbS5lcnJvcihcInN0b3JhZ2VDbGllbnQgaW52b2tlZCBiZWZvcmUgcmVhZHlcIiksby5kZWZhdWx0LmFyZ3MoZS50b3BpYyxcInN0cmluZ1wiLHQsXCJmdW5jdGlvbj1cIikscy5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIlN0b3JhZ2VDbGllbnQua2V5c1wiLGUsdCksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJTdG9yYWdlLmtleXNcIixlLChlLG4pPT57KGU/cy5kZWZhdWx0LnN5c3RlbS5lcnJvcjpzLmRlZmF1bHQuc3lzdGVtLmluZm8pKFwiU3RvcmFnZS5rZXlzXCIsZSxuKSx0JiZ0KGUsbi5kYXRhKX0pfWtleXMxKGUpe3JldHVybiBjKCgpPT51LnByb21pc2lmeSh0aGlzLmtleXMuYmluZCh0aGlzKSkoZSkpfWdldE11bHRpcGxlKGUsdCl7dGhpcy5jbGllbnRSZWFkeXx8cy5kZWZhdWx0LnN5c3RlbS5lcnJvcihcInN0b3JhZ2VDbGllbnQgaW52b2tlZCBiZWZvcmUgcmVhZHlcIikscy5kZWZhdWx0LnN5c3RlbS5pbmZvKFwiU3RvcmFnZUNsaWVudC5nZXRNdWx0aXBsZVwiLGUsdCksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJTdG9yYWdlLmdldE11bHRpcGxlXCIsZSwobixpKT0+eyhuP3MuZGVmYXVsdC5zeXN0ZW0uZXJyb3I6cy5kZWZhdWx0LnN5c3RlbS5pbmZvKShcIlN0b3JhZ2VDbGllbnQuZ2V0TXVsdGlwbGU6XCIsZSxpKSx0JiZ0KG4saSl9KX1yZW1vdmUoZSx0KXt0aGlzLmNsaWVudFJlYWR5fHxzLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwic3RvcmFnZUNsaWVudCBpbnZva2VkIGJlZm9yZSByZWFkeVwiKTtyZXR1cm4gbmV3IFByb21pc2UoKG4saSk9PntvLmRlZmF1bHQuYXJncyhlLnRvcGljLFwic3RyaW5nXCIsZS5rZXksXCJzdHJpbmdcIix0LFwiZnVuY3Rpb249XCIpLHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiU3RvcmFnZS5kZWxldGVcIixlLChlLHIpPT57KGU/cy5kZWZhdWx0LnN5c3RlbS5lcnJvcjpzLmRlZmF1bHQuc3lzdGVtLmluZm8pKFwiU3RvcmFnZUNsaWVudC5kZWxldGVcIixlLHIpLHQmJnQoZSxyLmRhdGEpLGU/aSh7ZXJyOmUsZGF0YTpudWxsfSk6bih7ZXJyOmUsZGF0YTpyLmRhdGF9KX0pfSl9cmVtb3ZlMShlKXtyZXR1cm4gYygoKT0+dGhpcy5yZW1vdmUoZSkpfWNsZWFyQ2FjaGUoZSl7cy5kZWZhdWx0LnN5c3RlbS5sb2coXCJTdG9yYWdlQ2xpZW50LmNsZWFyQ2FjaGVcIixlKSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIlN0b3JhZ2UuY2xlYXJDYWNoZVwiLG51bGwsKHQsbik9PnsodD9zLmRlZmF1bHQuc3lzdGVtLmVycm9yOnMuZGVmYXVsdC5zeXN0ZW0uaW5mbykoXCJTdG9yYWdlQ2xpZW50LmNsZWFyQ2FjaGVcIix0LG4pLGUmJmUodCxuLmRhdGEpfSl9fXQuU3RvcmFnZUNsaWVudD1sO3ZhciBkPW5ldyBsKHtvblJlYWR5KGUpe2UmJmUoKSxkLmNsaWVudFJlYWR5PSEwfSxuYW1lOlwic3RvcmFnZUNsaWVudFwifSk7dC5kZWZhdWx0PWR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSxpKXt2YXIgcixvPW4oMyk7cj1vLmM/ZS5uZXh0VGljazpvLmQ/aTpvLmIsdC5hPU9iamVjdChvLmUpKHIpfSkuY2FsbCh0aGlzLG4oMTkpLG4oMzIpLnNldEltbWVkaWF0ZSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDMzKSxyPW4oMzQpLG89aSgpLHM9WzF8b1swXSxvWzFdLG9bMl0sb1szXSxvWzRdLG9bNV1dLGE9MTYzODMmKG9bNl08PDh8b1s3XSksdT0wLGM9MDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXQmJm58fDAsbz10fHxbXSxsPXZvaWQgMCE9PShlPWV8fHt9KS5jbG9ja3NlcT9lLmNsb2Nrc2VxOmEsZD12b2lkIDAhPT1lLm1zZWNzP2UubXNlY3M6KG5ldyBEYXRlKS5nZXRUaW1lKCksZj12b2lkIDAhPT1lLm5zZWNzP2UubnNlY3M6YysxLGg9ZC11KyhmLWMpLzFlNDtpZihoPDAmJnZvaWQgMD09PWUuY2xvY2tzZXEmJihsPWwrMSYxNjM4MyksKGg8MHx8ZD51KSYmdm9pZCAwPT09ZS5uc2VjcyYmKGY9MCksZj49MWU0KXRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO3U9ZCxjPWYsYT1sO3ZhciBwPSgxZTQqKDI2ODQzNTQ1NSYoZCs9MTIyMTkyOTI4ZTUpKStmKSU0Mjk0OTY3Mjk2O29baSsrXT1wPj4+MjQmMjU1LG9baSsrXT1wPj4+MTYmMjU1LG9baSsrXT1wPj4+OCYyNTUsb1tpKytdPTI1NSZwO3ZhciBnPWQvNDI5NDk2NzI5NioxZTQmMjY4NDM1NDU1O29baSsrXT1nPj4+OCYyNTUsb1tpKytdPTI1NSZnLG9baSsrXT1nPj4+MjQmMTV8MTYsb1tpKytdPWc+Pj4xNiYyNTUsb1tpKytdPWw+Pj44fDEyOCxvW2krK109MjU1Jmw7Zm9yKHZhciBtPWUubm9kZXx8cyx5PTA7eTw2OysreSlvW2kreV09bVt5XTtyZXR1cm4gdHx8cihvKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7dmFyIGk9bigyNCkscj1cIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHMsbz1yJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmIWUubm9kZVR5cGUmJmUscz1vJiZvLmV4cG9ydHM9PT1yJiZpLmEucHJvY2VzcyxhPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPW8mJm8ucmVxdWlyZSYmby5yZXF1aXJlKFwidXRpbFwiKS50eXBlcztyZXR1cm4gZXx8cyYmcy5iaW5kaW5nJiZzLmJpbmRpbmcoXCJ1dGlsXCIpfWNhdGNoKGUpe319KCk7dC5hPWF9KS5jYWxsKHRoaXMsbigzMSkoZSkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighZS53ZWJwYWNrUG9seWZpbGwpe3ZhciB0PU9iamVjdC5jcmVhdGUoZSk7dC5jaGlsZHJlbnx8KHQuY2hpbGRyZW49W10pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibG9hZGVkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImlkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImV4cG9ydHNcIix7ZW51bWVyYWJsZTohMH0pLHQud2VicGFja1BvbHlmaWxsPTF9cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe3ZhciBpPXZvaWQgMCE9PWUmJmV8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmfHx3aW5kb3cscj1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7ZnVuY3Rpb24gbyhlLHQpe3RoaXMuX2lkPWUsdGhpcy5fY2xlYXJGbj10fXQuc2V0VGltZW91dD1mdW5jdGlvbigpe3JldHVybiBuZXcgbyhyLmNhbGwoc2V0VGltZW91dCxpLGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sdC5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgbyhyLmNhbGwoc2V0SW50ZXJ2YWwsaSxhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpfSx0LmNsZWFyVGltZW91dD10LmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24oZSl7ZSYmZS5jbG9zZSgpfSxvLnByb3RvdHlwZS51bnJlZj1vLnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9LG8ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKGksdGhpcy5faWQpfSx0LmVucm9sbD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD10fSx0LnVuZW5yb2xsPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD0tMX0sdC5fdW5yZWZBY3RpdmU9dC5hY3RpdmU9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpO3ZhciB0PWUuX2lkbGVUaW1lb3V0O3Q+PTAmJihlLl9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5fb25UaW1lb3V0JiZlLl9vblRpbWVvdXQoKX0pLHQpKX0sbig1MCksdC5zZXRJbW1lZGlhdGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuc2V0SW1tZWRpYXRlfHx2b2lkIDAhPT1lJiZlLnNldEltbWVkaWF0ZXx8dGhpcyYmdGhpcy5zZXRJbW1lZGlhdGUsdC5jbGVhckltbWVkaWF0ZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5jbGVhckltbWVkaWF0ZXx8dm9pZCAwIT09ZSYmZS5jbGVhckltbWVkaWF0ZXx8dGhpcyYmdGhpcy5jbGVhckltbWVkaWF0ZX0pLmNhbGwodGhpcyxuKDUpKX0sZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXt2YXIgbixpPXQuY3J5cHRvfHx0Lm1zQ3J5cHRvO2lmKGkmJmkuZ2V0UmFuZG9tVmFsdWVzKXt2YXIgcj1uZXcgVWludDhBcnJheSgxNik7bj1mdW5jdGlvbigpe3JldHVybiBpLmdldFJhbmRvbVZhbHVlcyhyKSxyfX1pZighbil7dmFyIG89bmV3IEFycmF5KDE2KTtuPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MDt0PDE2O3QrKykwPT0oMyZ0KSYmKGU9NDI5NDk2NzI5NipNYXRoLnJhbmRvbSgpKSxvW3RdPWU+Pj4oKDMmdCk8PDMpJjI1NTtyZXR1cm4gb319ZS5leHBvcnRzPW59KS5jYWxsKHRoaXMsbig1KSl9LGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLGk9MDtpPDI1NjsrK2kpbltpXT0oaSsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dHx8MCxyPW47cmV0dXJuIHJbZVtpKytdXStyW2VbaSsrXV0rcltlW2krK11dK3JbZVtpKytdXStcIi1cIityW2VbaSsrXV0rcltlW2krK11dK1wiLVwiK3JbZVtpKytdXStyW2VbaSsrXV0rXCItXCIrcltlW2krK11dK3JbZVtpKytdXStcIi1cIityW2VbaSsrXV0rcltlW2krK11dK3JbZVtpKytdXStyW2VbaSsrXV0rcltlW2krK11dK3JbZVtpKytdXX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtcbi8qIVxuICogQ29weXJpZ2h0IDIwMTcgLSAyMDIwIGJ5IENoYXJ0SVEsIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkxvY2FsTG9nZ2VyPXZvaWQgMDtjb25zdHtkZWJ1ZzppLHdhcm46cixsb2c6byxlcnJvcjpzfT1jb25zb2xlLGE9KCk9Pnt9LHU9YSxjPXt3YXJuOnIsaW5mbzphLGxvZzpvLGRlYnVnOmksZXJyb3I6cyx2ZXJib3NlOnV9LGw9e0Vycm9yOiEwLFdhcm46ITAsSW5mbzohMCxMb2c6ITAsRGVidWc6ITAsVmVyYm9zZTohMCxMb2NhbE9ubHk6ITF9LGQ9e2NvbnNvbGU6e0Vycm9yOiEwLFdhcm46ITAsSW5mbzohMCxMb2c6ITAsRGVidWc6ITB9LGRldjpsLHN5c3RlbTpsLHBlcmY6bH07ZnVuY3Rpb24gZihlKXtyZXR1cm5cImxvZ2dlci5zZXJ2aWNlLmxvZ01lc3NhZ2VzXCI9PT1lfXQuTG9jYWxMb2dnZXI9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnN0YXJ0PSgpPT57fSx0aGlzLmlzTG9nTWVzc2FnZT1mLHRoaXMuc2V0dGluZz0oKT0+ZCx0aGlzLmNhbGxTdGFjaz0oKT0+ZnVuY3Rpb24oKXtjb25zdHtzdGFjazplfT1mdW5jdGlvbigpe3RyeXt0aHJvdyBFcnJvcihcIlwiKX1jYXRjaChlKXtyZXR1cm4gZX19KCksdD0obj1cIlxcblwiLGk9NCxlLnNwbGl0KG4saSkuam9pbihuKS5sZW5ndGgpO3ZhciBuLGk7cmV0dXJuXCJMb2cgU3RhY2s6IFxcblwiK2Uuc3Vic3RyaW5nKHQpLnN1YnN0cigxKX0oKSx0aGlzLnVucmVnaXN0ZXJDbGllbnQ9KCk9Pnt9LHRoaXMuc2V0Um91dGVyQ2xpZW50PSgpPT57fSx0aGlzLndhcm49cix0aGlzLmluZm89YSx0aGlzLmxvZz1vLHRoaXMuZGVidWc9aSx0aGlzLmVycm9yPXMsdGhpcy52ZXJib3NlPXUsdGhpcy5zeXN0ZW09Yyx0aGlzLnBlcmY9Y319fSxmdW5jdGlvbihlLHQsbil7dmFyIGk9bigyOSkscj1uKDU5KSxvPXI7by52MT1pLG8udjQ9cixlLmV4cG9ydHM9b30sZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXt2YXIgbj0vXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLGk9L15cXHcqJC8scj0vXlxcLi8sbz0vW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2cscz0vXFxcXChcXFxcKT8vZyxhPS9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC8sdT1cIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5PYmplY3Q9PT1PYmplY3QmJnQsYz1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsbD11fHxjfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7dmFyIGQsZj1BcnJheS5wcm90b3R5cGUsaD1GdW5jdGlvbi5wcm90b3R5cGUscD1PYmplY3QucHJvdG90eXBlLGc9bFtcIl9fY29yZS1qc19zaGFyZWRfX1wiXSxtPShkPS9bXi5dKyQvLmV4ZWMoZyYmZy5rZXlzJiZnLmtleXMuSUVfUFJPVE98fFwiXCIpKT9cIlN5bWJvbChzcmMpXzEuXCIrZDpcIlwiLHk9aC50b1N0cmluZyx3PXAuaGFzT3duUHJvcGVydHksYj1wLnRvU3RyaW5nLHY9UmVnRXhwKFwiXlwiK3kuY2FsbCh3KS5yZXBsYWNlKC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpLFM9bC5TeW1ib2wsQz1mLnNwbGljZSxfPWoobCxcIk1hcFwiKSxUPWooT2JqZWN0LFwiY3JlYXRlXCIpLEU9Uz9TLnByb3RvdHlwZTp2b2lkIDAsQT1FP0UudG9TdHJpbmc6dm9pZCAwO2Z1bmN0aW9uIEkoZSl7dmFyIHQ9LTEsbj1lP2UubGVuZ3RoOjA7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8bjspe3ZhciBpPWVbdF07dGhpcy5zZXQoaVswXSxpWzFdKX19ZnVuY3Rpb24gTyhlKXt2YXIgdD0tMSxuPWU/ZS5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrdDxuOyl7dmFyIGk9ZVt0XTt0aGlzLnNldChpWzBdLGlbMV0pfX1mdW5jdGlvbiBMKGUpe3ZhciB0PS0xLG49ZT9lLmxlbmd0aDowO2Zvcih0aGlzLmNsZWFyKCk7Kyt0PG47KXt2YXIgaT1lW3RdO3RoaXMuc2V0KGlbMF0saVsxXSl9fWZ1bmN0aW9uIE0oZSx0KXtmb3IodmFyIG4saSxyPWUubGVuZ3RoO3ItLTspaWYoKG49ZVtyXVswXSk9PT0oaT10KXx8biE9biYmaSE9aSlyZXR1cm4gcjtyZXR1cm4tMX1mdW5jdGlvbiBEKGUsdCl7Zm9yKHZhciByLG89MCxzPSh0PWZ1bmN0aW9uKGUsdCl7aWYoRihlKSlyZXR1cm4hMTt2YXIgcj10eXBlb2YgZTtpZihcIm51bWJlclwiPT1yfHxcInN5bWJvbFwiPT1yfHxcImJvb2xlYW5cIj09cnx8bnVsbD09ZXx8QihlKSlyZXR1cm4hMDtyZXR1cm4gaS50ZXN0KGUpfHwhbi50ZXN0KGUpfHxudWxsIT10JiZlIGluIE9iamVjdCh0KX0odCxlKT9bdF06RihyPXQpP3I6VyhyKSkubGVuZ3RoO251bGwhPWUmJm88czspZT1lW1IodFtvKytdKV07cmV0dXJuIG8mJm89PXM/ZTp2b2lkIDB9ZnVuY3Rpb24gayhlKXtyZXR1cm4hKCF4KGUpfHwodD1lLG0mJm0gaW4gdCkpJiYoZnVuY3Rpb24oZSl7dmFyIHQ9eChlKT9iLmNhbGwoZSk6XCJcIjtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PXR8fFwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl1cIj09dH0oZSl8fGZ1bmN0aW9uKGUpe3ZhciB0PSExO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUudG9TdHJpbmcpdHJ5e3Q9ISEoZStcIlwiKX1jYXRjaChlKXt9cmV0dXJuIHR9KGUpP3Y6YSkudGVzdChmdW5jdGlvbihlKXtpZihudWxsIT1lKXt0cnl7cmV0dXJuIHkuY2FsbChlKX1jYXRjaChlKXt9dHJ5e3JldHVybiBlK1wiXCJ9Y2F0Y2goZSl7fX1yZXR1cm5cIlwifShlKSk7dmFyIHR9ZnVuY3Rpb24gTihlLHQpe3ZhciBuLGkscj1lLl9fZGF0YV9fO3JldHVybihcInN0cmluZ1wiPT0oaT10eXBlb2Yobj10KSl8fFwibnVtYmVyXCI9PWl8fFwic3ltYm9sXCI9PWl8fFwiYm9vbGVhblwiPT1pP1wiX19wcm90b19fXCIhPT1uOm51bGw9PT1uKT9yW1wic3RyaW5nXCI9PXR5cGVvZiB0P1wic3RyaW5nXCI6XCJoYXNoXCJdOnIubWFwfWZ1bmN0aW9uIGooZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT1lP3ZvaWQgMDplW3RdfShlLHQpO3JldHVybiBrKG4pP246dm9pZCAwfUkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1UP1QobnVsbCk6e319LEkucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXMoZSkmJmRlbGV0ZSB0aGlzLl9fZGF0YV9fW2VdfSxJLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXztpZihUKXt2YXIgbj10W2VdO3JldHVyblwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiPT09bj92b2lkIDA6bn1yZXR1cm4gdy5jYWxsKHQsZSk/dFtlXTp2b2lkIDB9LEkucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fO3JldHVybiBUP3ZvaWQgMCE9PXRbZV06dy5jYWxsKHQsZSl9LEkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9fZGF0YV9fW2VdPVQmJnZvaWQgMD09PXQ/XCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCI6dCx0aGlzfSxPLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189W119LE8ucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLG49TSh0LGUpO3JldHVybiEobjwwKSYmKG49PXQubGVuZ3RoLTE/dC5wb3AoKTpDLmNhbGwodCxuLDEpLCEwKX0sTy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX18sbj1NKHQsZSk7cmV0dXJuIG48MD92b2lkIDA6dFtuXVsxXX0sTy5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBNKHRoaXMuX19kYXRhX18sZSk+LTF9LE8ucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX19kYXRhX18saT1NKG4sZSk7cmV0dXJuIGk8MD9uLnB1c2goW2UsdF0pOm5baV1bMV09dCx0aGlzfSxMLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189e2hhc2g6bmV3IEksbWFwOm5ldyhffHxPKSxzdHJpbmc6bmV3IEl9fSxMLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuIE4odGhpcyxlKS5kZWxldGUoZSl9LEwucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gTih0aGlzLGUpLmdldChlKX0sTC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBOKHRoaXMsZSkuaGFzKGUpfSxMLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTih0aGlzLGUpLnNldChlLHQpLHRoaXN9O3ZhciBXPVAoKGZ1bmN0aW9uKGUpe3ZhciB0O2U9bnVsbD09KHQ9ZSk/XCJcIjpmdW5jdGlvbihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihCKGUpKXJldHVybiBBP0EuY2FsbChlKTpcIlwiO3ZhciB0PWUrXCJcIjtyZXR1cm5cIjBcIj09dCYmMS9lPT0tMS8wP1wiLTBcIjp0fSh0KTt2YXIgbj1bXTtyZXR1cm4gci50ZXN0KGUpJiZuLnB1c2goXCJcIiksZS5yZXBsYWNlKG8sKGZ1bmN0aW9uKGUsdCxpLHIpe24ucHVzaChpP3IucmVwbGFjZShzLFwiJDFcIik6dHx8ZSl9KSksbn0pKTtmdW5jdGlvbiBSKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxCKGUpKXJldHVybiBlO3ZhciB0PWUrXCJcIjtyZXR1cm5cIjBcIj09dCYmMS9lPT0tMS8wP1wiLTBcIjp0fWZ1bmN0aW9uIFAoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlfHx0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIGk9YXJndW1lbnRzLHI9dD90LmFwcGx5KHRoaXMsaSk6aVswXSxvPW4uY2FjaGU7aWYoby5oYXMocikpcmV0dXJuIG8uZ2V0KHIpO3ZhciBzPWUuYXBwbHkodGhpcyxpKTtyZXR1cm4gbi5jYWNoZT1vLnNldChyLHMpLHN9O3JldHVybiBuLmNhY2hlPW5ldyhQLkNhY2hlfHxMKSxufVAuQ2FjaGU9TDt2YXIgRj1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIHgoZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHx8XCJmdW5jdGlvblwiPT10KX1mdW5jdGlvbiBCKGUpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBlfHxmdW5jdGlvbihlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfShlKSYmXCJbb2JqZWN0IFN5bWJvbF1cIj09Yi5jYWxsKGUpfWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGk9bnVsbD09ZT92b2lkIDA6RChlLHQpO3JldHVybiB2b2lkIDA9PT1pP246aX19KS5jYWxsKHRoaXMsbig1KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCk7dmFyIGk9bigwKSxyPW4ubihpKSxvPW4oMTApLHM9bigyKSxhPW4oMTgpLHU9bi5uKGEpO1xuLyohXG4gKiBDb3B5cmlnaHQgMjAxNyAtIDIwMjAgYnkgQ2hhcnRJUSwgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xubGV0IGM9bnVsbDt0LmRlZmF1bHQ9bmV3IGZ1bmN0aW9uKCl7Y29uc3QgZT17fSx0PXt9O2xldCBpPW51bGw7dGhpcy5nZXREZWZhdWx0VGVtcGxhdGVVUkw9ZnVuY3Rpb24oZSl7aT9zZXRUaW1lb3V0KCgpPT57ZShpKX0sMCk6KGN8fChjPW4oMjEpLmRlZmF1bHQpLGMuZ2V0KHtmaWVsZDpcImZpbnNlbWJsZVwifSwodCxuKT0+e2k9by5Db25maWdVdGlsSW5zdGFuY2UuZ2V0RGVmYXVsdChuLFwiZmluc2VtYmxlLm5vdGlmaWNhdGlvblVSTFwiLG4ubW9kdWxlUm9vdCtcIi9jb21wb25lbnRzL3N5c3RlbS9ub3RpZmljYXRpb24vbm90aWZpY2F0aW9uLmh0bWxcIiksZShpKX0pKX0sdGhpcy5hbGVydD1mdW5jdGlvbihlLHQsbixpLHIpe2NvbnN0IG89dGhpcztyJiZyLnVybD90aGlzLmFsZXJ0SW50ZXJuYWwoZSx0LG4saSxyLHIudXJsKTp0aGlzLmdldERlZmF1bHRUZW1wbGF0ZVVSTChzPT57by5hbGVydEludGVybmFsKGUsdCxuLGkscixzKX0pfSx0aGlzLmFsZXJ0SW50ZXJuYWw9ZnVuY3Rpb24obixpLG8sYSxjLGwpe2xldCBkPSExO2NvbnN0IGY9XCJVc2VyTm90aWZpY2F0aW9uLmFsZXJ0LlwiK28saD0oYz1jfHx7fSkuZHVyYXRpb258fDg2NGU1O3N3aXRjaChpKXtjYXNlXCJPTkNFLVNJTkNFLVNUQVJUVVBcIjpmIGluIGU/ZD0hMTooZD0hMCxlW2ZdPSEwKTticmVhaztjYXNlXCJNQVgtQ09VTlRcIjp7bGV0IGU9MDtjb25zdCBuPWMubWF4Q291bnR8fDE7ZiBpbiB0JiYoZT10W2ZdKSx0W2ZdPSsrZSxlPD1uJiYoZD0hMCk7YnJlYWt9ZGVmYXVsdDpkPSEwfWlmKHIuYS5sb2coXCJVc2VyTm90aWZpY2F0aW9uLmFsZXJ0XCIsbixkLGksbyxhLGMpLGQpe2NvbnN0IGU9e3VybDpsLG1lc3NhZ2U6YSx0aW1lb3V0Omh9O3UuYS5zeXN0ZW1Mb2coe25vdGlmaWNhdGlvbjohMH0sXCJOb3RpZmljYXRpb246IFwiK2EpLG5ldyBzLlN5c3RlbS5Ob3RpZmljYXRpb24oZSl9fX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNIRUNLUE9JTlRfQ0hBTk5FTF9CQVNFPXQuU1RBR0VfQ0hBTk5FTD10LlNUQVRVU19DSEFOTkVMX0JBU0U9dC5TSE9XX1NZU0xPR19DSEFOTkVMPXQuU1lTTE9HX0NIQU5ORUw9dC5DUklUSUNBTF9CT09UX1NUQUdFUz10LkFMTF9CT09UX1NUQUdFUz12b2lkIDAsdC5BTExfQk9PVF9TVEFHRVM9W1wibWljcm9rZXJuZWxcIixcImtlcm5lbFwiLFwiYXV0aGVudGljYXRpb25cIixcInByZXVzZXJcIixcImVhcmx5dXNlclwiLFwidXNlclwiXSx0LkNSSVRJQ0FMX0JPT1RfU1RBR0VTPVtcIm1pY3Jva2VybmVsXCIsXCJrZXJuZWxcIixcImF1dGhlbnRpY2F0aW9uXCJdLHQuU1lTTE9HX0NIQU5ORUw9XCJzeXN0ZW1NYW5hZ2VyLnN5c3RlbWxvZ1wiLHQuU0hPV19TWVNMT0dfQ0hBTk5FTD1cInN5c3RlbU1hbmFnZXIuc2hvd1N5c3RlbWxvZ1wiLHQuU1RBVFVTX0NIQU5ORUxfQkFTRT1cInN5c3RlbU1hbmFnZXIuYm9vdC5zdGF0dXNcIix0LlNUQUdFX0NIQU5ORUw9XCJzeXN0ZW1NYW5hZ2VyLmJvb3Quc3RhZ2VcIix0LkNIRUNLUE9JTlRfQ0hBTk5FTF9CQVNFPVwic3lzdGVtTWFuYWdlci5jaGVja3BvaW50XCJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCByPWkobig3KSksbz1pKG4oMCkpLHM9aShuKDY0KSk7dC5kZWZhdWx0PWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuZXZlbnRMaXN0PVtdLHRoaXMuZXZlbnRIYW5kbGVyTWFwPXt9LHRoaXMuZXZlbnRHdWlkTWFwPXt9LHRoaXMubmFtZT1lLm5hbWUsdGhpcy5zb3VyY2VUeXBlPWUuc291cmNlVHlwZSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCgpPT57dGhpcy5jbGVhbnVwKCl9KX1hZGRMaXN0ZW5lcihlLHQpe3JldHVybiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZSx0KX1yZW1vdmVMaXN0ZW5lcihlLHQpe3JldHVybiB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX1hZGRFdmVudExpc3RlbmVyKGUsdCl7aWYoIXQpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJubyBoYW5kbGVyXCIsZSk7aWYoby5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcImFkZEV2ZW50TGlzdGVuZXI6XCIsZSksdGhpcy5ldmVudEhhbmRsZXJNYXBbZV18fCh0aGlzLmV2ZW50SGFuZGxlck1hcFtlXT1bXSx0aGlzLmV2ZW50R3VpZE1hcFtlXT1bXSksIXRoaXMuZXZlbnRIYW5kbGVyTWFwW2VdLmluY2x1ZGVzKHQpKXtjb25zdCBuPWAke3dpbmRvdy5uYW1lfV9wdWJsaWNfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCl9YDt0aGlzLmV2ZW50SGFuZGxlck1hcFtlXS5wdXNoKHQpLHRoaXMuZXZlbnRHdWlkTWFwW2VdLnB1c2gobiksci5kZWZhdWx0LnRyYW5zbWl0KFwiRmluc2VtYmxlLlJlZ2lzdGVySW50ZXJydXB0aWJsZUV2ZW50LlwiK3RoaXMubmFtZSx7ZXZlbnQ6ZSxsaXN0ZW5lckd1aWQ6bn0pLHIuZGVmYXVsdC5hZGRSZXNwb25kZXIoXCJGaW5zZW1ibGUuSW50ZXJydXB0LlwiK24sKGkscik9PntuZXcgcy5kZWZhdWx0KHtzb3VyY2U6dGhpcy5uYW1lLHNvdXJjZVR5cGU6dGhpcy5zb3VyY2VUeXBlLGxpc3RlbmVyR3VpZDpuLGhhbmRsZXI6dCxldmVudDplfSxyKX0pfX1yZW1vdmVFdmVudExpc3RlbmVyKGUsdCl7aWYoby5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcInJlbW92ZUV2ZW50TGlzdGVuZXI6XCIsZSksIXRoaXMuZXZlbnRIYW5kbGVyTWFwW2VdKXJldHVybiBvLmRlZmF1bHQuc3lzdGVtLndhcm4oXCJub3QgZm91bmRcIik7bGV0IG49dGhpcy5ldmVudEhhbmRsZXJNYXBbZV0uaW5kZXhPZih0KTtpZigtMSE9PW4pe2NvbnN0IHQ9dGhpcy5ldmVudEd1aWRNYXBbZV1bbl07dGhpcy5ldmVudEhhbmRsZXJNYXBbZV0uc3BsaWNlKG4sMSksdGhpcy5ldmVudEd1aWRNYXBbZV0uc3BsaWNlKG4sMSksci5kZWZhdWx0LnRyYW5zbWl0KFwiRmluc2VtYmxlLlVucmVnaXN0ZXJJbnRlcnJ1cHRpYmxlRXZlbnQuXCIrd2luZG93Lm5hbWUse2V2ZW50OmUsZ3VpZDp0fSksci5kZWZhdWx0LnJlbW92ZVJlc3BvbmRlcihcIkZpbnNlbWJsZS5JbnRlcnJ1cHQuXCIrdCl9fWNsZWFudXAoKXtmb3IodmFyIGUgb2YgT2JqZWN0LmtleXModGhpcy5ldmVudEhhbmRsZXJNYXApKWZvcih2YXIgdCBvZiB0aGlzLmV2ZW50SGFuZGxlck1hcFtlXSl0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7XG4vKiFcbiAqIENvcHlyaWdodCAyMDE3IC0gMjAyMCBieSBDaGFydElRLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICovdmFyIGk9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcj1uKDIyKSxvPW4oNCkscz1pKG4oNykpLGE9aShuKDApKSx1PW4oNjcpLmRpY3Rpb25hcnksYz13aW5kb3csbD1uZXcgci5FdmVudEVtaXR0ZXI7ZnVuY3Rpb24gZChlLHQ9dSl7Y29uc3Qgbj1bXTtyZXR1cm4gZS5rZXlzLmZvckVhY2goZT0+e2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBhLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiRlNCTC5DbGllbnRzLkhvdGtleUNsaWVudCAtIG9uZSBvZiB0aGUga2V5cyBwYXNzZWQgaW50byBhIGZ1bmN0aW9uIHdhcyBub3QgYSBzdHJpbmc6IFwiLGUpO2U9ZS50b0xvd2VyQ2FzZSgpO2NvbnN0IGk9dFtlXTtpZighaSlyZXR1cm4gYS5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIkZTQkwuQ2xpZW50cy5Ib3RrZXlDbGllbnQgLSBBdCBsZWFzdCBvbmUgb2YgdGhlIGtleSBjb2RlcyBkb2VzIG5vdCBtYXAgdG8gYSBzdXBwb3J0ZWQga2V5IC0gcmVnaXN0ZXJpbmcgaG90a2V5IHVuc3VjY2Vzc2Z1bC4gVW5zdXBwb3J0ZWQga2V5czogXCIrZSk7bi5wdXNoKGkpfSksbn1jb25zdCBmPWZ1bmN0aW9uKGUpe3RoaXMuY2I9ZSx0aGlzLnNoaWZ0PSExLHRoaXMuY3RybD0hMSx0aGlzLmNtZD0hMSx0aGlzLmNhcHNMb2NrPSExLHRoaXMuaW5pdGlhbGl6ZSgpfTtmLnByb3RvdHlwZS5rZXl1cD1mdW5jdGlvbihlKXtzd2l0Y2goZS5rZXkpe2Nhc2VcIlNoaWZ0XCI6cmV0dXJuIHRoaXMuc2hpZnQ9ITEsdm9pZCB0aGlzLmNiKHtrZXk6ZS5rZXksZTplLGtleXN0cm9rZTp0aGlzfSk7Y2FzZVwiQ29udHJvbFwiOmNhc2VcIkFsdFwiOnJldHVybiB0aGlzLmN0cmw9ITEsdm9pZCB0aGlzLmNiKHtrZXk6ZS5rZXksZTplLGtleXN0cm9rZTp0aGlzfSk7Y2FzZVwiTWV0YVwiOmNhc2VcIldpblwiOnJldHVybiB0aGlzLmNtZD0hMSx2b2lkIHRoaXMuY2Ioe2tleTplLmtleSxlOmUsa2V5c3Ryb2tlOnRoaXN9KX10aGlzLmtleSYmdGhpcy5jYih7a2V5OnRoaXMua2V5LGU6ZSxrZXlzdHJva2U6dGhpc30pfSxmLnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLm5vS2V5Q2FwdHVyZSlzd2l0Y2godGhpcy5rZXk9ZS5rZXksZS5rZXkpe2Nhc2VcIk1ldGFcIjpjYXNlXCJXaW5cIjp0aGlzLmNtZD0hMDticmVhaztjYXNlXCJTaGlmdFwiOnRoaXMuc2hpZnQ9ITA7YnJlYWs7Y2FzZVwiQ29udHJvbFwiOmNhc2VcIkFsdFwiOnRoaXMuY3RybD0hMDticmVhaztjYXNlXCJDYXBzTG9ja1wiOnRoaXMuY2Fwc0xvY2s9IXRoaXMuY2Fwc0xvY2s7YnJlYWs7Y2FzZVwiQXJyb3dVcFwiOmNhc2VcIkFycm93RG93blwiOmNhc2VcIkFycm93TGVmdFwiOmNhc2VcIkFycm93UmlnaHRcIjpjYXNlXCJVcFwiOmNhc2VcIkRvd25cIjpjYXNlXCJMZWZ0XCI6Y2FzZVwiUmlnaHRcIjp0aGlzLmtleT1udWxsLHRoaXMuY2Ioe2tleTplLmtleSxlOmUsa2V5c3Ryb2tlOnRoaXN9KX19LGYucHJvdG90eXBlLmtleXByZXNzPWZ1bmN0aW9uKGUpe2lmKHRoaXMubm9LZXlDYXB0dXJlKXJldHVybjtjb25zdCB0PWUud2hpY2g7dDwzMnx8dD4yMjJ8fCh0aGlzLmtleT1lLmtleSl9LGYucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdD0+e2Uua2V5dXAodCl9KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHQ9PntlLmRvd25WYWx1ZT10LmtleSxlLmtleWRvd24odCl9KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIix0PT57ZS5rZXlwcmVzcyh0KX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHQ9PntlLmN0cmw9ITEsZS5jYih7a2V5OlwiQ29udHJvbFwiLGU6dCxrZXlzdHJva2U6ZX0pfSl9O2NvbnN0IGg9W107Y2xhc3MgcCBleHRlbmRzIG8uX0Jhc2VDbGllbnR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5vbkNsb3NlPWU9Pnt0aGlzLnJlbW92ZUFsbEhvdGtleXMoZSl9LHRoaXMua2V5TWFwPXUsdGhpcy5saXN0ZW5Gb3JIb3RrZXlzPXRoaXMubGlzdGVuRm9ySG90a2V5cy5iaW5kKHRoaXMpLHRoaXMucm91dGVyQ2xpZW50PXMuZGVmYXVsdCx0aGlzLnJvdXRlckNsaWVudC5vblJlYWR5KHRoaXMubGlzdGVuRm9ySG90a2V5cyksdGhpcy5sb2NhbExpc3RlbmVycz17fX1hZGRMb2NhbEhvdGtleShlLHQsbj0oKCk9Pnt9KSl7YS5kZWZhdWx0LnN5c3RlbS5pbmZvKFwiSG90a2V5Q2xpZW50LmFkZExvY2FsSG90a2V5XCIpLGEuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJIb3RrZXlDbGllbnQuYWRkTG9jYWxIb3RrZXksIGtleUFycjogXCIsZSk7Y29uc3QgaT1kKHtrZXlzOmV9KS5zb3J0KCkudG9TdHJpbmcoKSxyPSgpPT57ZG9jdW1lbnQuaGFzRm9jdXMoKSYmdCgpfTt0aGlzLmxvY2FsTGlzdGVuZXJzW2ldfHwodGhpcy5sb2NhbExpc3RlbmVyc1tpXT17fSksdGhpcy5sb2NhbExpc3RlbmVyc1tpXVt0XT1yLGwuYWRkTGlzdGVuZXIoaSxyKSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcImhvdGtleXNTZXJ2aWNlLnJlZ2lzdGVyR2xvYmFsSG90a2V5XCIse2tleXM6aSx3aW5kb3dOYW1lOnRoaXMud2luZG93TmFtZX0sbil9YWRkQnJvd3NlckhvdGtleShlLHQpe3RoaXMuS2V5U3Ryb2tlfHwodGhpcy5LZXlTdHJva2U9bmV3IGYoZT0+e2NvbnN0e2tleTp0LGtleXN0cm9rZTpufT1lLGk9W3RdO24uY3RybCYmaS5wdXNoKFwiY29udHJvbFwiKSxuLnNoaWZ0JiZpLnB1c2goXCJzaGlmdFwiKSxuLmFsdCYmaS5wdXNoKFwiYWx0XCIpO2NvbnN0IHI9aS5zb3J0KCkudG9TdHJpbmcoKTtoLmZvckVhY2goZT0+e2Uua2V5U3RyaW5nLnRvVXBwZXJDYXNlKCk9PT1yLnRvVXBwZXJDYXNlKCkmJmUuaGFuZGxlcigpfSl9KSk7Y29uc3Qgbj1kKHtrZXlzOmV9KS5zb3J0KCkudG9TdHJpbmcoKTtoLnB1c2goe2tleVN0cmluZzpuLGhhbmRsZXI6dH0pfXJlbW92ZUxvY2FsSG90a2V5KGUsdCxuPSgoKT0+e30pKXthLmRlZmF1bHQuc3lzdGVtLmluZm8oXCJIb3RrZXlDbGllbnQucmVtb3ZlTG9jYWxIb3RrZXlcIiksYS5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkhvdGtleUNsaWVudC5yZW1vdmVMb2NhbEhvdGtleSwga2V5QXJyOiBcIixlKTtjb25zdCBpPWQoe2tleXM6ZX0pLnNvcnQoKS50b1N0cmluZygpLHI9dGhpcy5sb2NhbExpc3RlbmVyc1tpXVt0XTtsLnJlbW92ZUxpc3RlbmVyKGksciksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJob3RrZXlzU2VydmljZS51bnJlZ2lzdGVyR2xvYmFsSG90a2V5XCIse2tleXM6aSx3aW5kb3dOYW1lOnRoaXMud2luZG93TmFtZX0sbil9YWRkR2xvYmFsSG90a2V5KGUsdCxuPSgoKT0+e30pKXthLmRlZmF1bHQuc3lzdGVtLmluZm8oXCJIb3RrZXlDbGllbnQuYWRkR2xvYmFsSG90a2V5XCIpLGEuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJIb3RrZXlDbGllbnQuYWRkR2xvYmFsSG90a2V5LCBrZXlBcnI6IFwiLGUpO2NvbnN0IGk9ZCh7a2V5czplfSkuc29ydCgpLmpvaW4oXCIrXCIpO2wuYWRkTGlzdGVuZXIoaSx0KSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcImhvdGtleXNTZXJ2aWNlLnJlZ2lzdGVyR2xvYmFsSG90a2V5XCIse2tleXM6aSx3aW5kb3dOYW1lOnRoaXMud2luZG93TmFtZX0sbil9cmVtb3ZlR2xvYmFsSG90a2V5KGUsdCxuPSgoKT0+e30pKXthLmRlZmF1bHQuc3lzdGVtLmluZm8oXCJIb3RrZXlDbGllbnQucmVtb3ZlR2xvYmFsSG90a2V5XCIpLGEuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJIb3RrZXlDbGllbnQucmVtb3ZlR2xvYmFsSG90a2V5LCBrZXlBcnI6IFwiLGUpO2NvbnN0IGk9ZCh7a2V5czplfSkuc29ydCgpLmpvaW4oXCIrXCIpO2wucmVtb3ZlTGlzdGVuZXIoaSx0KSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcImhvdGtleXNTZXJ2aWNlLnVucmVnaXN0ZXJHbG9iYWxIb3RrZXlcIix7a2V5czppLHdpbmRvd05hbWU6dGhpcy53aW5kb3dOYW1lfSxuKX1saXN0ZW5Gb3JIb3RrZXlzKCl7Y29uc3QgZT10aGlzO3RoaXMucm91dGVyQ2xpZW50LmFkZExpc3RlbmVyKFwiSG90a2V5VHJpZ2dlcmVkXCIsKHQsbik9Pnt0P2NvbnNvbGUuZXJyb3IoXCJIb3RrZXkgQ2hhbm5lbCBFcnJvcjogXCIrSlNPTi5zdHJpbmdpZnkodCkpOm4uZGF0YS53aW5kb3dzLmluY2x1ZGVzKGUud2luZG93TmFtZSkmJmwuZW1pdChuLmRhdGEua2V5cyl9KX1yZW1vdmVBbGxIb3RrZXlzKGUpe2wucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJob3RrZXlzU2VydmljZS5yZW1vdmVBbGxIb3RrZXlzRm9yV2luZG93XCIse3dpbmRvd05hbWU6dGhpcy53aW5kb3dOYW1lfSxlKX19Y29uc3QgZz1uZXcgcCh7b25SZWFkeShlKXtlJiZlKCl9LG5hbWU6XCJob3RrZXlDbGllbnRcIn0pO2MuS2V5c3Ryb2tlPWYsdC5kZWZhdWx0PWd9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtcbi8qIVxuICogQ29weXJpZ2h0IDIwMTcgLSAyMDIwIGJ5IENoYXJ0SVEsIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi9cbmNvbnN0IHI9bigxMiksbz1pKG4oOCkpLHM9big0KSxhPWkobigxNCkpLHU9aShuKDE2KSksYz1pKG4oMTcpKSxsPWkobigwKSk7bC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIlN0YXJ0aW5nIExpbmtlckNsaWVudFwiKTtjb25zdCBkPWwuZGVmYXVsdC5zeXN0ZW0uaW5mbyxmPWwuZGVmYXVsdC5zeXN0ZW0uZGVidWcsaD1uKDI2KTtmdW5jdGlvbiBwKGUpe3JldHVybiBlLndpbmRvd05hbWUucmVwbGFjZSgvXFwuL2csXCJfXCIpfWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gdCYmdChudWxsLGUpLGV9Y2xhc3MgbSBleHRlbmRzIHMuX0Jhc2VDbGllbnR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5zdGF0ZUNoYW5nZUxpc3RlbmVycz1bXSx0aGlzLmFsbENoYW5uZWxzPVtdLHRoaXMuY2hhbm5lbHM9e30sdGhpcy5jbGllbnRzPXt9LHRoaXMuY2hhbm5lbExpc3RlbmVyTGlzdD1bXSx0aGlzLmRhdGFMaXN0ZW5lckxpc3Q9e30sdGhpcy5oYW5kbGVMaXN0ZW5lcnM9KGUsdCk9Pntjb25zdCBuPXRoaXMuZGF0YUxpc3RlbmVyTGlzdFt0LmRhdGEudHlwZV07aWYobiYmbi5sZW5ndGg+MClmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyluW2VdKHQuZGF0YS5kYXRhLHtkYXRhOnQuZGF0YS5kYXRhLGhlYWRlcjp0LmhlYWRlcixvcmlnaW5hdGVkSGVyZTp0Lm9yaWdpbmF0ZWRIZXJlfSl9LHRoaXMub25DbG9zZT1lPT57Y29uc3QgdD1wKHRoaXMud2luZG93Q2xpZW50LmdldFdpbmRvd0lkZW50aWZpZXIoKSk7dGhpcy5jbGllbnRzW3RdJiYodGhpcy5jbGllbnRzW3RdPW51bGwsdGhpcy51cGRhdGVDbGllbnRJblN0b3JlKHQpKSx0aGlzLmxpbmtlclN0b3JlLnJlbW92ZUxpc3RlbmVyKHtmaWVsZDpcImNsaWVudHMuXCIrdH0sdGhpcy5jbGllbnRzS2V5VmFsdWVDaGFuZ2VTdG9yZUxpc3RlbmVyLChlLG4pPT57bnx8bC5kZWZhdWx0LnN5c3RlbS53YXJuKFwiTGlua2VyIENsaWVudCBPbmNsb3NlOiBjbGllbnRzS2V5VmFsdWVDaGFuZ2VTdG9yZUxpc3RlbmVyIHJlbW92ZUxpc3RlbmVyIGZhaWxlZFwiLHQpfSksdGhpcy5saW5rZXJTdG9yZS5yZW1vdmVMaXN0ZW5lcih7ZmllbGQ6e319LHRoaXMuYW55RmllbGRDaGFuZ2VTdG9yZUxpc3RlbmVyLChlLHQpPT57dHx8bC5kZWZhdWx0LnN5c3RlbS53YXJuKFwiTGlua2VyIENsaWVudCBPbmNsb3NlOiBhbnlGaWVsZENoYW5nZVN0b3JlTGlzdGVuZXIgcmVtb3ZlTGlzdGVuZXIgZmFpbGVkXCIpfSksbC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkxJTktFUi00IGNsZWFudXBcIix0KSxlJiZlKCl9LHRoaXMuZ3JvdXBzPXRoaXMuY2hhbm5lbHMsdGhpcy5hbGxHcm91cHM9dGhpcy5hbGxDaGFubmVscyx0aGlzLm9uTGlua3NVcGRhdGU9e3B1c2g6ZT0+e3RoaXMuc3RhdGVDaGFuZ2VMaXN0ZW5lcnMucHVzaCgodCxuKT0+e24mJihuLmdyb3Vwcz1uLmNoYW5uZWxzKSxlKHQse2dyb3VwczpufSl9KX19LHRoaXMubGlua2VyV2luZG93PW51bGwsdGhpcy5sb2FkaW5nPSExLG8uZGVmYXVsdC5hcmdzKGUsXCJvYmplY3Q9XCIpJiZlJiZvLmRlZmF1bHQuYXJnczIoXCJwYXJhbXMub25SZWFkeVwiLGUub25SZWFkeSxcImZ1bmN0aW9uPVwiKSx0aGlzLmxhdW5jaGVyQ2xpZW50PWUuY2xpZW50cy5sYXVuY2hlckNsaWVudCx0aGlzLndpbmRvd0NsaWVudD1lLmNsaWVudHMud2luZG93Q2xpZW50LHRoaXMuZGlzdHJpYnV0ZWRTdG9yZUNsaWVudD1lLmNsaWVudHMuZGlzdHJpYnV0ZWRTdG9yZUNsaWVudCx0aGlzLmNsaWVudHNLZXlWYWx1ZUNoYW5nZVN0b3JlTGlzdGVuZXI9dGhpcy5jbGllbnRzS2V5VmFsdWVDaGFuZ2VTdG9yZUxpc3RlbmVyLmJpbmQodGhpcyksdGhpcy5hbnlGaWVsZENoYW5nZVN0b3JlTGlzdGVuZXI9dGhpcy5hbnlGaWVsZENoYW5nZVN0b3JlTGlzdGVuZXIuYmluZCh0aGlzKX1nZXRDaGFubmVsKGUpe3JldHVybiB0aGlzLmFsbENoYW5uZWxzLmZpbHRlcih0PT50Lm5hbWU9PT1lKS5sZW5ndGg+MH1jcmVhdGVDaGFubmVsKGUsdCl7cmV0dXJuIGQoXCJMaW5rZXJDbGllbnQuY3JlYXRlQ2hhbm5lbFwiLFwiUEFSQU1TXCIsZSksby5kZWZhdWx0LmFyZ3MoZSxcIm9iamVjdFwiKSxlLm5hbWU/dGhpcy5nZXRDaGFubmVsKGUubmFtZSk/KGYoYExpbmtlckNsaWVudC5jcmVhdGVDaGFubmVsOiBDaGFubmVsICR7ZS5uYW1lfSBBbHJlYWR5IEV4aXN0c2ApLGcodGhpcy5hbGxDaGFubmVscyx0KSk6KHRoaXMuYWxsQ2hhbm5lbHMucHVzaChlKSx0aGlzLmFsbEdyb3Vwcz10aGlzLmFsbENoYW5uZWxzLHRoaXMubGlua2VyU3RvcmUuc2V0VmFsdWUoe2ZpZWxkOlwiY2hhbm5lbHNcIix2YWx1ZTp0aGlzLmFsbENoYW5uZWxzfSksZyh0aGlzLmFsbENoYW5uZWxzLHQpKTooZihcIkxpbmtlckNsaWVudC5jcmVhdGVDaGFubmVsOiBOYW1lIGlzIHJlcXVpcmVkXCIpLGcodGhpcy5hbGxDaGFubmVscyx0KSl9cmVtb3ZlQ2hhbm5lbChlLHQpe2lmKGQoXCJMaW5rZXJDbGllbnQucmVtb3ZlQ2hhbm5lbFwiLFwiTkFNRVwiLGUpLG8uZGVmYXVsdC5hcmdzKGUsXCJzdHJpbmdcIiksIXRoaXMuZ2V0Q2hhbm5lbChlKSlyZXR1cm4gZihgQ2hhbm5lbCAke2V9ZG9lcyBub3QgZXhpc3RgLG51bGwpLGcodGhpcy5hbGxDaGFubmVscyx0KTtjb25zdCBuPXRoaXMuYWxsQ2hhbm5lbHM7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0KyspaWYoZT09PW5bdF0ubmFtZSl7bi5zcGxpY2UodCwxKTticmVha310aGlzLmxpbmtlclN0b3JlLnNldFZhbHVlKHtmaWVsZDpcImNoYW5uZWxzXCIsdmFsdWU6dGhpcy5hbGxDaGFubmVsc30pO2NvbnN0e2NsaWVudHM6aX09dGhpcztmb3IoY29uc3QgdCBpbiBpKXtjb25zdCBuPWlbdF07Zm9yKGNvbnN0IHQgaW4gbi5jaGFubmVscylpZihlPT09dCl7ZGVsZXRlIG5bdF07YnJlYWt9fXJldHVybiB0aGlzLmxpbmtlclN0b3JlLnNldFZhbHVlKHtmaWVsZDpcImNsaWVudHNcIix2YWx1ZTp0aGlzLmNsaWVudHN9KSxnKHRoaXMuYWxsQ2hhbm5lbHMsdCl9dXBkYXRlQ2xpZW50SW5TdG9yZShlKXt0aGlzLmxpbmtlclN0b3JlLnNldFZhbHVlKHtmaWVsZDpcImNsaWVudHMuXCIrZSx2YWx1ZTp0aGlzLmNsaWVudHNbZV19KX1saW5rVG9DaGFubmVsKGUsdCxuKXtkKFwiTGlua2VyQ2xpZW50LmxpbmtUb0NoYW5uZWxcIixcIkNIQU5ORUxcIixlLFwiQ09NUE9ORU5UXCIsdCksby5kZWZhdWx0LmFyZ3MoZSxcInN0cmluZ1wiLHQpLHR8fCh0PXRoaXMud2luZG93Q2xpZW50LmdldFdpbmRvd0lkZW50aWZpZXIoKSk7Y29uc3QgaT1wKHQpO2lmKHRoaXMuY2xpZW50c1tpXXx8KHRoaXMuY2xpZW50c1tpXT17Y2xpZW50OnQsY2hhbm5lbHM6e319KSxBcnJheS5pc0FycmF5KGUpKWZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuY2xpZW50c1tpXS5jaGFubmVsc1tlW3RdXT0hMDtlbHNlIHRoaXMuY2xpZW50c1tpXS5jaGFubmVsc1tlXT0hMDtyZXR1cm4gdGhpcy51cGRhdGVDbGllbnRJblN0b3JlKGkpLGcodGhpcy5nZXRTdGF0ZSh0KSxuKX11bmxpbmtGcm9tQ2hhbm5lbChlLHQsbil7ZChcIkxpbmtlckNsaWVudC51bmxpbmtGcm9tQ2hhbm5lbFwiLFwiQ0hBTk5FTFwiLGUsXCJXSU5ET1cgSURFTlRJRklFUlwiLHQpLG8uZGVmYXVsdC5hcmdzKGUsXCJzdHJpbmdcIix0KSx0fHwodD10aGlzLndpbmRvd0NsaWVudC5nZXRXaW5kb3dJZGVudGlmaWVyKCkpO2NvbnN0IGk9cCh0KSxyPXRoaXMuY2xpZW50c1tpXTtpZihBcnJheS5pc0FycmF5KGUpKWZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWRlbGV0ZSByLmNoYW5uZWxzW2VbdF1dO2Vsc2UgaWYoZSl7aWYoIXJ8fCFyLmNoYW5uZWxzW2VdKXtjb25zdCByPXRoaXMuY2xpZW50c1tpXTtyZXR1cm4gZihcIkNvbXBvbmVudCB3YXMgbm90IGluIHNwZWNpZmllZCBjaGFubmVsIFwiK2UscixyLmNoYW5uZWxzW2VdKSxnKHRoaXMuZ2V0U3RhdGUodCksbil9ZGVsZXRlIHIuY2hhbm5lbHNbZV19ZWxzZSBmb3IoY29uc3QgZSBpbiByLmNoYW5uZWxzKWRlbGV0ZSByLmNoYW5uZWxzW2VdO3JldHVybiB0aGlzLnVwZGF0ZUNsaWVudEluU3RvcmUoaSksZyh0aGlzLmdldFN0YXRlKHQpLG4pfWdldEFsbENoYW5uZWxzKGUpe3JldHVybiBkKFwiTGlua2VyQ2xpZW50LmdldEFsbENoYW5uZWxzXCIpLGcodGhpcy5hbGxDaGFubmVscyxlKX1nZXRTdGF0ZShlLHQpe2QoXCJMaW5rZXJDbGllbnQuZ2V0U3RhdGVcIixcIldJTkRPVyBJREVOVElGSUVSXCIsZSk7Y29uc3Qgbj17Y2hhbm5lbHM6W10sYWxsQ2hhbm5lbHM6dGhpcy5hbGxDaGFubmVsc307aWYoZXx8KGU9dGhpcy53aW5kb3dDbGllbnQuZ2V0V2luZG93SWRlbnRpZmllcigpKSwhT2JqZWN0LmtleXModGhpcy5jbGllbnRzKS5sZW5ndGgpcmV0dXJuIGcobix0KTtjb25zdCBpPXAoZSkscj10aGlzLmNsaWVudHNbaV07cmV0dXJuIHI/KG4uY2hhbm5lbHM9dGhpcy5hbGxDaGFubmVscy5maWx0ZXIoZT0+ci5jaGFubmVscyYmITA9PT1yLmNoYW5uZWxzW2UubmFtZV0pLGwuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJMSU5LRVItM1wiLHRoaXMuYWxsQ2hhbm5lbHMsXCJzdGF0ZS5jaGFubmVsc1wiLG4uY2hhbm5lbHMsXCJrZXlcIixpLFwid2luZG93SWRlbnRpZmllclwiLGUsXCJjb21wb25lbnRFbnRyeVwiLHIpLHIuYWN0aXZlfHwoci5hY3RpdmU9ITAsdGhpcy5saW5rZXJTdG9yZS5zZXRWYWx1ZSh7ZmllbGQ6XCJjbGllbnRzLlwiK2ksdmFsdWU6cn0pKSxnKG4sdCkpOmcobix0KX11bnN1YnNjcmliZShlLHQpe2QoXCJMaW5rZXJDbGllbnQudW5zdWJzY3JpYmVcIixcIkRBVEEgVFlQRVwiLGUpLG8uZGVmYXVsdC5hcmdzKGUsXCJzdHJpbmdcIiksdGhpcy5kYXRhTGlzdGVuZXJMaXN0W2VdJiYodD90aGlzLmRhdGFMaXN0ZW5lckxpc3RbZV09dGhpcy5kYXRhTGlzdGVuZXJMaXN0W2VdLmZpbHRlcihlPT5lIT09dCk6ZGVsZXRlIHRoaXMuZGF0YUxpc3RlbmVyTGlzdFtlXSl9cHVibGlzaChlLHQpe2QoXCJMaW5rZXJDbGllbnQucHVibGlzaFwiLFwiUEFSQU1TXCIsZSksby5kZWZhdWx0LmFyZ3MoZS5kYXRhVHlwZSxcInN0cmluZ1wiLGUuZGF0YSxcImFueVwiKTtsZXR7Y2hhbm5lbHM6bn09ZTtufHwobj1PYmplY3Qua2V5cyh0aGlzLmNoYW5uZWxzKSk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IGk9blt0XTt0aGlzLnJvdXRlckNsaWVudC50cmFuc21pdChgJHtpfS4ke2UuZGF0YVR5cGV9YCx7dHlwZTplLmRhdGFUeXBlLGRhdGE6ZS5kYXRhfSksdGhpcy5yb3V0ZXJDbGllbnQudHJhbnNtaXQoaSx7dHlwZTplLmRhdGFUeXBlLGRhdGE6ZS5kYXRhfSl9cmV0dXJuIGcoe30sdCl9c3Vic2NyaWJlKGUsdCl7ZChcIkxpbmtlckNsaWVudC5zdWJzY3JpYmVcIixcIkRBVEEgVFlQRVwiLGUpLG8uZGVmYXVsdC5hcmdzKGUsXCJzdHJpbmdcIix0LFwiZnVuY3Rpb25cIiksdGhpcy5kYXRhTGlzdGVuZXJMaXN0W2VdP3RoaXMuZGF0YUxpc3RlbmVyTGlzdFtlXS5pbmNsdWRlcyh0KXx8dGhpcy5kYXRhTGlzdGVuZXJMaXN0W2VdLnB1c2godCk6dGhpcy5kYXRhTGlzdGVuZXJMaXN0W2VdPVt0XX1nZXRMaW5rZWRDb21wb25lbnRzKGUsdCl7ZChcIkxpbmtlckNsaWVudC5nZXRMaW5rZWRDb21wb25lbnRzXCIsXCJQQVJBTVNcIixlKTtjb25zdCBuPVtdO2lmKGV8fChlPXt9KSxlLmNoYW5uZWxzJiYhQXJyYXkuaXNBcnJheShlLmNoYW5uZWxzKSYmKG8uZGVmYXVsdC5hcmdzKGUuY2hhbm5lbHMsXCJzdHJpbmdcIiksZS5jaGFubmVscz1bZS5jaGFubmVsc10pLGUuY29tcG9uZW50VHlwZXMmJiFBcnJheS5pc0FycmF5KGUuY29tcG9uZW50VHlwZXMpJiYoby5kZWZhdWx0LmFyZ3MoZS5jb21wb25lbnRUeXBlcyxcInN0cmluZ1wiKSxlLmNvbXBvbmVudFR5cGVzPVtlLmNvbXBvbmVudFR5cGVzXSksZS5jb21wb25lbnRUeXBlcyYmby5kZWZhdWx0LmFyZ3MoZS5jb21wb25lbnRUeXBlcyxcImFycmF5XCIpLGUud2luZG93SWRlbnRpZmllcil7Y29uc3QgdD1wKGUud2luZG93SWRlbnRpZmllciksbj1PYmplY3Qua2V5cyh0aGlzLmNsaWVudHNbdF0uY2hhbm5lbHMpO2UuY2hhbm5lbHM/ZS5jaGFubmVscz1lLmNoYW5uZWxzLmZpbHRlcihlPT5uLmluY2x1ZGVzKGUpKTplLmNoYW5uZWxzPW59ZS5jaGFubmVsc3x8KGUuY2hhbm5lbHM9dGhpcy5nZXRBbGxDaGFubmVscygpLm1hcChlPT5lLm5hbWUpKTtmb3IoY29uc3QgdCBpbiB0aGlzLmNsaWVudHMpe2xldCBpPXRoaXMuY2xpZW50c1t0XTtpZighaSljb250aW51ZTtpLmNoYW5uZWxzfHwoaT1pW09iamVjdC5rZXlzKGkpWzBdXSk7Y29uc3Qgcj1PYmplY3Qua2V5cyhpLmNoYW5uZWxzKS5maWx0ZXIodD0+ZS5jaGFubmVscy5pbmNsdWRlcyh0KSkubGVuZ3RoO2xldCBvPSEwO2UuY29tcG9uZW50VHlwZXMmJihvPWUuY29tcG9uZW50VHlwZXMuaW5jbHVkZXMoaS5jbGllbnQuY29tcG9uZW50VHlwZSkpLGkuYWN0aXZlJiZyJiZvJiZuLnB1c2goe3dpbmRvd05hbWU6aS5jbGllbnQud2luZG93TmFtZSxjb21wb25lbnRUeXBlOmkuY2xpZW50LmNvbXBvbmVudFR5cGUsdXVpZDppLmNsaWVudC51dWlkLGNoYW5uZWxzOk9iamVjdC5rZXlzKGkuY2hhbm5lbHMpfSl9cmV0dXJuIGcobix0KX11cGRhdGVMaXN0ZW5lcnMoKXtmb3IobGV0IGU9dGhpcy5jaGFubmVsTGlzdGVuZXJMaXN0Lmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCB0PXRoaXMuY2hhbm5lbExpc3RlbmVyTGlzdFtlXTtPYmplY3Qua2V5cyh0aGlzLmNoYW5uZWxzKS5maWx0ZXIoZT0+ZT09dCkubGVuZ3RofHwodGhpcy5yb3V0ZXJDbGllbnQucmVtb3ZlTGlzdGVuZXIodCx0aGlzLmhhbmRsZUxpc3RlbmVycyksdGhpcy5jaGFubmVsTGlzdGVuZXJMaXN0LnNwbGljZShlLDEpKX1jb25zdCBlPU9iamVjdC5rZXlzKHRoaXMuY2hhbm5lbHMpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF07dGhpcy5jaGFubmVsTGlzdGVuZXJMaXN0LmluY2x1ZGVzKG4pfHwodGhpcy5yb3V0ZXJDbGllbnQuYWRkTGlzdGVuZXIobix0aGlzLmhhbmRsZUxpc3RlbmVycyksdGhpcy5jaGFubmVsTGlzdGVuZXJMaXN0LnB1c2gobikpfWNvbnN0IHQ9dGhpcy5nZXRTdGF0ZSgpO2ZvcihsZXQgZT0wO2U8dGhpcy5zdGF0ZUNoYW5nZUxpc3RlbmVycy5sZW5ndGg7ZSsrKXRoaXMuc3RhdGVDaGFuZ2VMaXN0ZW5lcnNbZV0obnVsbCx0KX1vblN0YXRlQ2hhbmdlKGUpe3RoaXMuc3RhdGVDaGFuZ2VMaXN0ZW5lcnMucHVzaChlKX1wZXJzaXN0U3RhdGUoZSl7Y29uc29sZS5pbmZvKFwic2F2aW5nIHN0YXRlXCIsZSksdGhpcy53aW5kb3dDbGllbnQuc2V0Q29tcG9uZW50U3RhdGUoe2ZpZWxkOlwiRmluc2VtYmxlX0xpbmtlclwiLHZhbHVlOmV9KX1jbGllbnRzS2V5VmFsdWVDaGFuZ2VTdG9yZUxpc3RlbmVyKGUsdCl7aWYoZihcIk15IENoYW5uZWxzIFVwZGF0ZWRcIiksIXQudmFsdWUpcmV0dXJuO2NvbnN0IG49dC52YWx1ZS5jaGFubmVsc3x8dC52YWx1ZS5ncm91cHMsaT1oKG4sdGhpcy5jaGFubmVscyk7biYmIWkmJih0aGlzLnBlcnNpc3RTdGF0ZShuKSx0aGlzLmNoYW5uZWxzPW4sdGhpcy51cGRhdGVMaXN0ZW5lcnMoKSl9YW55RmllbGRDaGFuZ2VTdG9yZUxpc3RlbmVyKGUsdCl7Y29uc3R7dmFsdWVzOm59PXQudmFsdWU7dGhpcy5hbGxDaGFubmVscz1uLmNoYW5uZWxzLG4uZ3JvdXBzJiYodGhpcy5hbGxDaGFubmVscz1uLmdyb3VwcyksbC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkxJTktFUi0yXCIsdGhpcy5hbGxDaGFubmVscyksdGhpcy5hbGxHcm91cHM9dGhpcy5hbGxDaGFubmVscyx0aGlzLmNsaWVudHM9bi5jbGllbnRzfXN0YXJ0KGUpe3RoaXMuZG9udFBlcnNpc3RZZXQ9ITAsZihcIkxpbmtlckNsaWVudCBMb2FkaW5nIENoYW5uZWxzXCIpO2NvbnN0IHQ9dGhpcy53aW5kb3dDbGllbnQuZ2V0V2luZG93SWRlbnRpZmllcigpLG49cCh0KTt0aGlzLmRpc3RyaWJ1dGVkU3RvcmVDbGllbnQuZ2V0U3RvcmUoe3N0b3JlOlwiRmluc2VtYmxlX0xpbmtlclwiLGdsb2JhbDohMH0sKGkscik9Pnt0aGlzLmxpbmtlclN0b3JlPXIsci5nZXRWYWx1ZXMoW1wiY2hhbm5lbHNcIixcImNsaWVudHMuXCIrbl0sKGkscik9PntyJiZyLmNoYW5uZWxzJiYodGhpcy5hbGxDaGFubmVscz1yLmNoYW5uZWxzLGwuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJMSU5LRVItMVwiLHRoaXMuYWxsQ2hhbm5lbHMpLHRoaXMuYWxsR3JvdXBzPXRoaXMuYWxsQ2hhbm5lbHMpLHRoaXMud2luZG93Q2xpZW50LmdldENvbXBvbmVudFN0YXRlKHtmaWVsZDpcIkZpbnNlbWJsZV9MaW5rZXJcIn0sKGksbyk9Pnt2YXIgczt0aGlzLmNoYW5uZWxzPVtdLHRoaXMuY2xpZW50c1tuXT17Y2xpZW50OnQsYWN0aXZlOiEwLGNoYW5uZWxzOnt9fSxvPyh0aGlzLmNoYW5uZWxzPW8sdGhpcy5jbGllbnRzW25dLmNoYW5uZWxzPW8pOihudWxsPT09KHM9cltcImNsaWVudHMuXCIrbl0pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmNoYW5uZWxzKSYmKHRoaXMuY2xpZW50c1tuXS5jaGFubmVscz1yW1wiY2xpZW50cy5cIituXS5jaGFubmVscyksdGhpcy51cGRhdGVDbGllbnRJblN0b3JlKG4pO2NvbnN0IGE9dGhpcy53aW5kb3dDbGllbnQuZ2V0U3Bhd25EYXRhKCk7aWYoYSYmYS5saW5rZXIpe2xldCBlPWEubGlua2VyLmNoYW5uZWxzO2EubGlua2VyLmdyb3VwcyYmKGU9YS5saW5rZXIuZ3JvdXBzKSx0aGlzLmxpbmtUb0NoYW5uZWwoZSx0KX1lbHNlIHRoaXMudXBkYXRlTGlzdGVuZXJzKCk7ZSgpfSl9KSxyLmFkZExpc3RlbmVyKHtmaWVsZDpcImNsaWVudHMuXCIrbn0sdGhpcy5jbGllbnRzS2V5VmFsdWVDaGFuZ2VTdG9yZUxpc3RlbmVyKSxyLmFkZExpc3RlbmVyKHt9LHRoaXMuYW55RmllbGRDaGFuZ2VTdG9yZUxpc3RlbmVyKX0pfWh5cGVyRm9jdXMoZSl7dGhpcy5sYXVuY2hlckNsaWVudC5oeXBlckZvY3VzKHt3aW5kb3dMaXN0OnRoaXMuZ2V0TGlua2VkQ29tcG9uZW50cyh7Y2hhbm5lbHM6ZX0pfSl9YnJpbmdBbGxUb0Zyb250KGUpe2NvbnN0e2NoYW5uZWw6dCxyZXN0b3JlV2luZG93czpufT1lO3RoaXMubGF1bmNoZXJDbGllbnQuYnJpbmdXaW5kb3dzVG9Gcm9udCh7cmVzdG9yZVdpbmRvd3M6bix3aW5kb3dMaXN0OnRoaXMuZ2V0TGlua2VkQ29tcG9uZW50cyh7Y2hhbm5lbHM6dH0pfSl9Y3JlYXRlR3JvdXAoZSx0KXtyZXR1cm4gdGhpcy5jcmVhdGVDaGFubmVsKGUsdCl9ZGVsZXRlR3JvdXAoZSx0KXtyZXR1cm4gdGhpcy5yZW1vdmVDaGFubmVsKGUsdCl9YWRkVG9Hcm91cChlLHQsbil7Y29uc3QgaT10aGlzLmxpbmtUb0NoYW5uZWwoZSx0KTtyZXR1cm4gbiYmbihudWxsLGkpLGl9cmVtb3ZlRnJvbUdyb3VwKGUsdCxuKXtjb25zdCBpPXRoaXMudW5saW5rRnJvbUNoYW5uZWwoZSx0KTtyZXR1cm4gbiYmbihudWxsLGkpLGl9Z2V0QWxsR3JvdXBzKGUpe2NvbnN0IHQ9dGhpcy5nZXRBbGxDaGFubmVscygpO3JldHVybiBlJiZlKHQpLHR9Z2V0R3JvdXBzKGUsdCl7Y29uc3Qgbj10aGlzLmdldFN0YXRlKGUpO3JldHVybiBuLmdyb3Vwcz1uLmNoYW5uZWxzLGcobix0KX11blN1YnNjcmliZShlLHQpe3RoaXMudW5zdWJzY3JpYmUoZSx0KX1nZXRMaW5rZWRXaW5kb3dzKGUsdCl7cmV0dXJuIGV8fChlPXt9KSxlLmdyb3Vwcz1lLmNoYW5uZWxzLGUud2luZG93SWRlbnRpZmllcj1lLmNsaWVudCx0aGlzLmdldExpbmtlZENvbXBvbmVudHMoZSx0KX13aW5kb3dJZGVudGlmaWVyKGUsdCl7cmV0dXJuIGcodGhpcy53aW5kb3dDbGllbnQuZ2V0V2luZG93SWRlbnRpZmllcigpLHQpfW9wZW5MaW5rZXJXaW5kb3coZSl7aWYoby5kZWZhdWx0LmFyZ3MoZSxcImZ1bmN0aW9uXCIpLHRoaXMubG9hZGluZylyZXR1cm47Y29uc3QgdD0oKT0+e3RoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiRmluc2VtYmxlLkxpbmtlcldpbmRvdy5TaG93XCIse2dyb3Vwczp0aGlzLmdldEdyb3VwcygpLmdyb3Vwcyx3aW5kb3dJZGVudGlmaWVyOnRoaXMud2luZG93Q2xpZW50LmdldFdpbmRvd0lkZW50aWZpZXIoKSx3aW5kb3dCb3VuZHM6dGhpcy53aW5kb3dDbGllbnQuZ2V0V2luZG93Qm91bmRzKCl9LCgpPT57fSl9O3RoaXMubGlua2VyV2luZG93P3RoaXMubGlua2VyV2luZG93LmlzU2hvd2luZyhlPT57ZT90aGlzLmxpbmtlcldpbmRvdy5oaWRlKCk6dCgpfSk6dCgpfX1mdW5jdGlvbiB5KGUpe3JldHVybihlPWV8fHt9KS53aW5kb3dDbGllbnR8fChlLndpbmRvd0NsaWVudD1hLmRlZmF1bHQpLGUubGF1bmNoZXJDbGllbnR8fChlLmxhdW5jaGVyQ2xpZW50PXUuZGVmYXVsdCksZS5kaXN0cmlidXRlZFN0b3JlQ2xpZW50fHwoZS5kaXN0cmlidXRlZFN0b3JlQ2xpZW50PWMuZGVmYXVsdCksbmV3IG0oe2NsaWVudHM6ZSxzdGFydHVwRGVwZW5kZW5jaWVzOntjbGllbnRzOltcIndpbmRvd0NsaWVudFwiLFwiZGlzdHJpYnV0ZWRTdG9yZUNsaWVudFwiLFwibGF1bmNoZXJDbGllbnRcIl19LG9uUmVhZHkodCl7ZihcIkxpbmtlciBvblJlYWR5XCIpLHNldFRpbWVvdXQoKCk9PntyLnBhcmFsbGVsKFtlPT57dy5zdGFydChlKX0sdD0+e2UubGF1bmNoZXJDbGllbnQub25SZWFkeSh0KX1dLHQpfSwwKX0sbmFtZTpcImxpbmtlckNsaWVudFwifSl9Y29uc3Qgdz15KCk7dy5jb25zdHJ1Y3RJbnN0YW5jZT15LHQuZGVmYXVsdD13fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe3ZhciBpPW4oMjMpLHI9big0NCksbz1cIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHMscz1vJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmIWUubm9kZVR5cGUmJmUsYT1zJiZzLmV4cG9ydHM9PT1vP2kuYS5CdWZmZXI6dm9pZCAwLHU9KGE/YS5pc0J1ZmZlcjp2b2lkIDApfHxyLmE7dC5hPXV9KS5jYWxsKHRoaXMsbigzMSkoZSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dC5hPWZ1bmN0aW9uKCl7cmV0dXJuITF9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgaT1uKDU0KSxyPW4oNTUpLG89big1Nykscz0oKT0+e30sYT1uZXcgci5UaW1lb3V0RXJyb3I7dC5kZWZhdWx0PWNsYXNzIGV4dGVuZHMgaXtjb25zdHJ1Y3RvcihlKXtpZihzdXBlcigpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfaXNJbnRlcnZhbElnbm9yZWRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfaW50ZXJ2YWxDb3VudFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTowfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfaW50ZXJ2YWxDYXBcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfaW50ZXJ2YWxcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfaW50ZXJ2YWxFbmRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6MH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX2ludGVydmFsSWRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfdGltZW91dElkXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX3F1ZXVlXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX3F1ZXVlQ2xhc3NcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfcGVuZGluZ0NvdW50XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9jb25jdXJyZW5jeVwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9pc1BhdXNlZFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9yZXNvbHZlRW1wdHlcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6c30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX3Jlc29sdmVJZGxlXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnN9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl90aW1lb3V0XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX3Rocm93T25UaW1lb3V0XCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLCEoXCJudW1iZXJcIj09dHlwZW9mKGU9T2JqZWN0LmFzc2lnbih7Y2FycnlvdmVyQ29uY3VycmVuY3lDb3VudDohMSxpbnRlcnZhbENhcDoxLzAsaW50ZXJ2YWw6MCxjb25jdXJyZW5jeToxLzAsYXV0b1N0YXJ0OiEwLHF1ZXVlQ2xhc3M6by5kZWZhdWx0fSxlKSkuaW50ZXJ2YWxDYXAmJmUuaW50ZXJ2YWxDYXA+PTEpKXRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYGludGVydmFsQ2FwXFxgIHRvIGJlIGEgbnVtYmVyIGZyb20gMSBhbmQgdXAsIGdvdCBcXGAke2UuaW50ZXJ2YWxDYXB9XFxgICgke3R5cGVvZiBlLmludGVydmFsQ2FwfSlgKTtpZih2b2lkIDA9PT1lLmludGVydmFsfHwhKE51bWJlci5pc0Zpbml0ZShlLmludGVydmFsKSYmZS5pbnRlcnZhbD49MCkpdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgaW50ZXJ2YWxcXGAgdG8gYmUgYSBmaW5pdGUgbnVtYmVyID49IDAsIGdvdCBcXGAke2UuaW50ZXJ2YWx9XFxgICgke3R5cGVvZiBlLmludGVydmFsfSlgKTt0aGlzLl9jYXJyeW92ZXJDb25jdXJyZW5jeUNvdW50PWUuY2FycnlvdmVyQ29uY3VycmVuY3lDb3VudCx0aGlzLl9pc0ludGVydmFsSWdub3JlZD1lLmludGVydmFsQ2FwPT09MS8wfHwwPT09ZS5pbnRlcnZhbCx0aGlzLl9pbnRlcnZhbENhcD1lLmludGVydmFsQ2FwLHRoaXMuX2ludGVydmFsPWUuaW50ZXJ2YWwsdGhpcy5fcXVldWU9bmV3IGUucXVldWVDbGFzcyx0aGlzLl9xdWV1ZUNsYXNzPWUucXVldWVDbGFzcyx0aGlzLmNvbmN1cnJlbmN5PWUuY29uY3VycmVuY3ksdGhpcy5fdGltZW91dD1lLnRpbWVvdXQsdGhpcy5fdGhyb3dPblRpbWVvdXQ9ITA9PT1lLnRocm93T25UaW1lb3V0LHRoaXMuX2lzUGF1c2VkPSExPT09ZS5hdXRvU3RhcnR9Z2V0IF9kb2VzSW50ZXJ2YWxBbGxvd0Fub3RoZXIoKXtyZXR1cm4gdGhpcy5faXNJbnRlcnZhbElnbm9yZWR8fHRoaXMuX2ludGVydmFsQ291bnQ8dGhpcy5faW50ZXJ2YWxDYXB9Z2V0IF9kb2VzQ29uY3VycmVudEFsbG93QW5vdGhlcigpe3JldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ8dGhpcy5fY29uY3VycmVuY3l9X25leHQoKXt0aGlzLl9wZW5kaW5nQ291bnQtLSx0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpfV9yZXNvbHZlUHJvbWlzZXMoKXt0aGlzLl9yZXNvbHZlRW1wdHkoKSx0aGlzLl9yZXNvbHZlRW1wdHk9cywwPT09dGhpcy5fcGVuZGluZ0NvdW50JiYodGhpcy5fcmVzb2x2ZUlkbGUoKSx0aGlzLl9yZXNvbHZlSWRsZT1zKX1fb25SZXN1bWVJbnRlcnZhbCgpe3RoaXMuX29uSW50ZXJ2YWwoKSx0aGlzLl9pbml0aWFsaXplSW50ZXJ2YWxJZk5lZWRlZCgpLHRoaXMuX3RpbWVvdXRJZD12b2lkIDB9X2lzSW50ZXJ2YWxQYXVzZWQoKXtjb25zdCBlPURhdGUubm93KCk7aWYodm9pZCAwPT09dGhpcy5faW50ZXJ2YWxJZCl7Y29uc3QgdD10aGlzLl9pbnRlcnZhbEVuZC1lO2lmKCEodDwwKSlyZXR1cm4gdm9pZCAwPT09dGhpcy5fdGltZW91dElkJiYodGhpcy5fdGltZW91dElkPXNldFRpbWVvdXQoKCk9Pnt0aGlzLl9vblJlc3VtZUludGVydmFsKCl9LHQpKSwhMDt0aGlzLl9pbnRlcnZhbENvdW50PXRoaXMuX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQ/dGhpcy5fcGVuZGluZ0NvdW50OjB9cmV0dXJuITF9X3RyeVRvU3RhcnRBbm90aGVyKCl7aWYoMD09PXRoaXMuX3F1ZXVlLnNpemUpcmV0dXJuIHRoaXMuX2ludGVydmFsSWQmJmNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCksdGhpcy5faW50ZXJ2YWxJZD12b2lkIDAsdGhpcy5fcmVzb2x2ZVByb21pc2VzKCksITE7aWYoIXRoaXMuX2lzUGF1c2VkKXtjb25zdCBlPSF0aGlzLl9pc0ludGVydmFsUGF1c2VkKCk7aWYodGhpcy5fZG9lc0ludGVydmFsQWxsb3dBbm90aGVyJiZ0aGlzLl9kb2VzQ29uY3VycmVudEFsbG93QW5vdGhlcilyZXR1cm4gdGhpcy5lbWl0KFwiYWN0aXZlXCIpLHRoaXMuX3F1ZXVlLmRlcXVldWUoKSgpLGUmJnRoaXMuX2luaXRpYWxpemVJbnRlcnZhbElmTmVlZGVkKCksITB9cmV0dXJuITF9X2luaXRpYWxpemVJbnRlcnZhbElmTmVlZGVkKCl7dGhpcy5faXNJbnRlcnZhbElnbm9yZWR8fHZvaWQgMCE9PXRoaXMuX2ludGVydmFsSWR8fCh0aGlzLl9pbnRlcnZhbElkPXNldEludGVydmFsKCgpPT57dGhpcy5fb25JbnRlcnZhbCgpfSx0aGlzLl9pbnRlcnZhbCksdGhpcy5faW50ZXJ2YWxFbmQ9RGF0ZS5ub3coKSt0aGlzLl9pbnRlcnZhbCl9X29uSW50ZXJ2YWwoKXswPT09dGhpcy5faW50ZXJ2YWxDb3VudCYmMD09PXRoaXMuX3BlbmRpbmdDb3VudCYmdGhpcy5faW50ZXJ2YWxJZCYmKGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCksdGhpcy5faW50ZXJ2YWxJZD12b2lkIDApLHRoaXMuX2ludGVydmFsQ291bnQ9dGhpcy5fY2FycnlvdmVyQ29uY3VycmVuY3lDb3VudD90aGlzLl9wZW5kaW5nQ291bnQ6MCx0aGlzLl9wcm9jZXNzUXVldWUoKX1fcHJvY2Vzc1F1ZXVlKCl7Zm9yKDt0aGlzLl90cnlUb1N0YXJ0QW5vdGhlcigpOyk7fWdldCBjb25jdXJyZW5jeSgpe3JldHVybiB0aGlzLl9jb25jdXJyZW5jeX1zZXQgY29uY3VycmVuY3koZSl7aWYoIShcIm51bWJlclwiPT10eXBlb2YgZSYmZT49MSkpdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgY29uY3VycmVuY3lcXGAgdG8gYmUgYSBudW1iZXIgZnJvbSAxIGFuZCB1cCwgZ290IFxcYCR7ZX1cXGAgKCR7dHlwZW9mIGV9KWApO3RoaXMuX2NvbmN1cnJlbmN5PWUsdGhpcy5fcHJvY2Vzc1F1ZXVlKCl9YXN5bmMgYWRkKGUsdD17fSl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGkpPT57dGhpcy5fcXVldWUuZW5xdWV1ZShhc3luYygpPT57dGhpcy5fcGVuZGluZ0NvdW50KyssdGhpcy5faW50ZXJ2YWxDb3VudCsrO3RyeXtjb25zdCBvPXZvaWQgMD09PXRoaXMuX3RpbWVvdXQmJnZvaWQgMD09PXQudGltZW91dD9lKCk6ci5kZWZhdWx0KFByb21pc2UucmVzb2x2ZShlKCkpLHZvaWQgMD09PXQudGltZW91dD90aGlzLl90aW1lb3V0OnQudGltZW91dCwoKT0+eyh2b2lkIDA9PT10LnRocm93T25UaW1lb3V0P3RoaXMuX3Rocm93T25UaW1lb3V0OnQudGhyb3dPblRpbWVvdXQpJiZpKGEpfSk7bihhd2FpdCBvKX1jYXRjaChlKXtpKGUpfXRoaXMuX25leHQoKX0sdCksdGhpcy5fdHJ5VG9TdGFydEFub3RoZXIoKX0pfWFzeW5jIGFkZEFsbChlLHQpe3JldHVybiBQcm9taXNlLmFsbChlLm1hcChhc3luYyBlPT50aGlzLmFkZChlLHQpKSl9c3RhcnQoKXtyZXR1cm4gdGhpcy5faXNQYXVzZWQ/KHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX3Byb2Nlc3NRdWV1ZSgpLHRoaXMpOnRoaXN9cGF1c2UoKXt0aGlzLl9pc1BhdXNlZD0hMH1jbGVhcigpe3RoaXMuX3F1ZXVlPW5ldyB0aGlzLl9xdWV1ZUNsYXNzfWFzeW5jIG9uRW1wdHkoKXtpZigwIT09dGhpcy5fcXVldWUuc2l6ZSlyZXR1cm4gbmV3IFByb21pc2UoZT0+e2NvbnN0IHQ9dGhpcy5fcmVzb2x2ZUVtcHR5O3RoaXMuX3Jlc29sdmVFbXB0eT0oKT0+e3QoKSxlKCl9fSl9YXN5bmMgb25JZGxlKCl7aWYoMCE9PXRoaXMuX3BlbmRpbmdDb3VudHx8MCE9PXRoaXMuX3F1ZXVlLnNpemUpcmV0dXJuIG5ldyBQcm9taXNlKGU9Pntjb25zdCB0PXRoaXMuX3Jlc29sdmVJZGxlO3RoaXMuX3Jlc29sdmVJZGxlPSgpPT57dCgpLGUoKX19KX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9xdWV1ZS5zaXplfWdldCBwZW5kaW5nKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudH1nZXQgaXNQYXVzZWQoKXtyZXR1cm4gdGhpcy5faXNQYXVzZWR9c2V0IHRpbWVvdXQoZSl7dGhpcy5fdGltZW91dD1lfWdldCB0aW1lb3V0KCl7cmV0dXJuIHRoaXMuX3RpbWVvdXR9fX0sZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlLG4pe3ZhciBpPVwiW29iamVjdCBBcmd1bWVudHNdXCIscj1cIltvYmplY3QgRnVuY3Rpb25dXCIsbz1cIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCIscz1cIltvYmplY3QgTWFwXVwiLGE9XCJbb2JqZWN0IFNldF1cIix1PS9cXHcqJC8sYz0vXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLGw9L14oPzowfFsxLTldXFxkKikkLyxkPXt9O2RbaV09ZFtcIltvYmplY3QgQXJyYXldXCJdPWRbXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiXT1kW1wiW29iamVjdCBEYXRhVmlld11cIl09ZFtcIltvYmplY3QgQm9vbGVhbl1cIl09ZFtcIltvYmplY3QgRGF0ZV1cIl09ZFtcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiXT1kW1wiW29iamVjdCBGbG9hdDY0QXJyYXldXCJdPWRbXCJbb2JqZWN0IEludDhBcnJheV1cIl09ZFtcIltvYmplY3QgSW50MTZBcnJheV1cIl09ZFtcIltvYmplY3QgSW50MzJBcnJheV1cIl09ZFtzXT1kW1wiW29iamVjdCBOdW1iZXJdXCJdPWRbXCJbb2JqZWN0IE9iamVjdF1cIl09ZFtcIltvYmplY3QgUmVnRXhwXVwiXT1kW2FdPWRbXCJbb2JqZWN0IFN0cmluZ11cIl09ZFtcIltvYmplY3QgU3ltYm9sXVwiXT1kW1wiW29iamVjdCBVaW50OEFycmF5XVwiXT1kW1wiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIl09ZFtcIltvYmplY3QgVWludDE2QXJyYXldXCJdPWRbXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXT0hMCxkW1wiW29iamVjdCBFcnJvcl1cIl09ZFtyXT1kW1wiW29iamVjdCBXZWFrTWFwXVwiXT0hMTt2YXIgZj1cIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5PYmplY3Q9PT1PYmplY3QmJmUsaD1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYscD1mfHxofHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksZz10JiYhdC5ub2RlVHlwZSYmdCxtPWcmJlwib2JqZWN0XCI9PXR5cGVvZiBuJiZuJiYhbi5ub2RlVHlwZSYmbix5PW0mJm0uZXhwb3J0cz09PWc7ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBlLnNldCh0WzBdLHRbMV0pLGV9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBlLmFkZCh0KSxlfWZ1bmN0aW9uIHYoZSx0LG4saSl7dmFyIHI9LTEsbz1lP2UubGVuZ3RoOjA7Zm9yKGkmJm8mJihuPWVbKytyXSk7KytyPG87KW49dChuLGVbcl0scixlKTtyZXR1cm4gbn1mdW5jdGlvbiBTKGUpe3ZhciB0PSExO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUudG9TdHJpbmcpdHJ5e3Q9ISEoZStcIlwiKX1jYXRjaChlKXt9cmV0dXJuIHR9ZnVuY3Rpb24gQyhlKXt2YXIgdD0tMSxuPUFycmF5KGUuc2l6ZSk7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXtuWysrdF09W2ksZV19KSksbn1mdW5jdGlvbiBfKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlKHQobikpfX1mdW5jdGlvbiBUKGUpe3ZhciB0PS0xLG49QXJyYXkoZS5zaXplKTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtuWysrdF09ZX0pKSxufXZhciBFLEE9QXJyYXkucHJvdG90eXBlLEk9RnVuY3Rpb24ucHJvdG90eXBlLE89T2JqZWN0LnByb3RvdHlwZSxMPXBbXCJfX2NvcmUtanNfc2hhcmVkX19cIl0sTT0oRT0vW14uXSskLy5leGVjKEwmJkwua2V5cyYmTC5rZXlzLklFX1BST1RPfHxcIlwiKSk/XCJTeW1ib2woc3JjKV8xLlwiK0U6XCJcIixEPUkudG9TdHJpbmcsaz1PLmhhc093blByb3BlcnR5LE49Ty50b1N0cmluZyxqPVJlZ0V4cChcIl5cIitELmNhbGwoaykucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXCJcXFxcJCZcIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZyxcIiQxLio/XCIpK1wiJFwiKSxXPXk/cC5CdWZmZXI6dm9pZCAwLFI9cC5TeW1ib2wsUD1wLlVpbnQ4QXJyYXksRj1fKE9iamVjdC5nZXRQcm90b3R5cGVPZixPYmplY3QpLHg9T2JqZWN0LmNyZWF0ZSxCPU8ucHJvcGVydHlJc0VudW1lcmFibGUsVT1BLnNwbGljZSx6PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsSD1XP1cuaXNCdWZmZXI6dm9pZCAwLFY9XyhPYmplY3Qua2V5cyxPYmplY3QpLHE9bWUocCxcIkRhdGFWaWV3XCIpLCQ9bWUocCxcIk1hcFwiKSxHPW1lKHAsXCJQcm9taXNlXCIpLFk9bWUocCxcIlNldFwiKSxRPW1lKHAsXCJXZWFrTWFwXCIpLEs9bWUoT2JqZWN0LFwiY3JlYXRlXCIpLFo9U2UocSksSj1TZSgkKSxYPVNlKEcpLGVlPVNlKFkpLHRlPVNlKFEpLG5lPVI/Ui5wcm90b3R5cGU6dm9pZCAwLGllPW5lP25lLnZhbHVlT2Y6dm9pZCAwO2Z1bmN0aW9uIHJlKGUpe3ZhciB0PS0xLG49ZT9lLmxlbmd0aDowO2Zvcih0aGlzLmNsZWFyKCk7Kyt0PG47KXt2YXIgaT1lW3RdO3RoaXMuc2V0KGlbMF0saVsxXSl9fWZ1bmN0aW9uIG9lKGUpe3ZhciB0PS0xLG49ZT9lLmxlbmd0aDowO2Zvcih0aGlzLmNsZWFyKCk7Kyt0PG47KXt2YXIgaT1lW3RdO3RoaXMuc2V0KGlbMF0saVsxXSl9fWZ1bmN0aW9uIHNlKGUpe3ZhciB0PS0xLG49ZT9lLmxlbmd0aDowO2Zvcih0aGlzLmNsZWFyKCk7Kyt0PG47KXt2YXIgaT1lW3RdO3RoaXMuc2V0KGlbMF0saVsxXSl9fWZ1bmN0aW9uIGFlKGUpe3RoaXMuX19kYXRhX189bmV3IG9lKGUpfWZ1bmN0aW9uIHVlKGUsdCl7dmFyIG49X2UoZSl8fGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT10eXBlb2YgZX0oZSkmJlRlKGUpfShlKSYmay5jYWxsKGUsXCJjYWxsZWVcIikmJighQi5jYWxsKGUsXCJjYWxsZWVcIil8fE4uY2FsbChlKT09aSl9KGUpP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPS0xLGk9QXJyYXkoZSk7KytuPGU7KWlbbl09dChuKTtyZXR1cm4gaX0oZS5sZW5ndGgsU3RyaW5nKTpbXSxyPW4ubGVuZ3RoLG89ISFyO2Zvcih2YXIgcyBpbiBlKSF0JiYhay5jYWxsKGUscyl8fG8mJihcImxlbmd0aFwiPT1zfHxiZShzLHIpKXx8bi5wdXNoKHMpO3JldHVybiBufWZ1bmN0aW9uIGNlKGUsdCxuKXt2YXIgaT1lW3RdO2suY2FsbChlLHQpJiZDZShpLG4pJiYodm9pZCAwIT09bnx8dCBpbiBlKXx8KGVbdF09bil9ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG49ZS5sZW5ndGg7bi0tOylpZihDZShlW25dWzBdLHQpKXJldHVybiBuO3JldHVybi0xfWZ1bmN0aW9uIGRlKGUsdCxuLGMsbCxmLGgpe3ZhciBwO2lmKGMmJihwPWY/YyhlLGwsZixoKTpjKGUpKSx2b2lkIDAhPT1wKXJldHVybiBwO2lmKCFJZShlKSlyZXR1cm4gZTt2YXIgZz1fZShlKTtpZihnKXtpZihwPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoLG49ZS5jb25zdHJ1Y3Rvcih0KTt0JiZcInN0cmluZ1wiPT10eXBlb2YgZVswXSYmay5jYWxsKGUsXCJpbmRleFwiKSYmKG4uaW5kZXg9ZS5pbmRleCxuLmlucHV0PWUuaW5wdXQpO3JldHVybiBufShlKSwhdClyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj0tMSxpPWUubGVuZ3RoO3R8fCh0PUFycmF5KGkpKTtmb3IoOysrbjxpOyl0W25dPWVbbl07cmV0dXJuIHR9KGUscCl9ZWxzZXt2YXIgbT13ZShlKSx5PW09PXJ8fG09PW87aWYoRWUoZSkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYodClyZXR1cm4gZS5zbGljZSgpO3ZhciBuPW5ldyBlLmNvbnN0cnVjdG9yKGUubGVuZ3RoKTtyZXR1cm4gZS5jb3B5KG4pLG59KGUsdCk7aWYoXCJbb2JqZWN0IE9iamVjdF1cIj09bXx8bT09aXx8eSYmIWYpe2lmKFMoZSkpcmV0dXJuIGY/ZTp7fTtpZihwPWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuY29uc3RydWN0b3J8fHZlKGUpP3t9Oih0PUYoZSksSWUodCk/eCh0KTp7fSk7dmFyIHR9KHk/e306ZSksIXQpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHBlKGUseWUoZSksdCl9KGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmcGUodCxPZSh0KSxlKX0ocCxlKSl9ZWxzZXtpZighZFttXSlyZXR1cm4gZj9lOnt9O3A9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9ZS5jb25zdHJ1Y3Rvcjtzd2l0Y2godCl7Y2FzZVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIjpyZXR1cm4gaGUoZSk7Y2FzZVwiW29iamVjdCBCb29sZWFuXVwiOmNhc2VcIltvYmplY3QgRGF0ZV1cIjpyZXR1cm4gbmV3IHIoK2UpO2Nhc2VcIltvYmplY3QgRGF0YVZpZXddXCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49dD9oZShlLmJ1ZmZlcik6ZS5idWZmZXI7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKG4sZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCl9KGUsaSk7Y2FzZVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCI6Y2FzZVwiW29iamVjdCBGbG9hdDY0QXJyYXldXCI6Y2FzZVwiW29iamVjdCBJbnQ4QXJyYXldXCI6Y2FzZVwiW29iamVjdCBJbnQxNkFycmF5XVwiOmNhc2VcIltvYmplY3QgSW50MzJBcnJheV1cIjpjYXNlXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCI6Y2FzZVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIjpjYXNlXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiOmNhc2VcIltvYmplY3QgVWludDMyQXJyYXldXCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49dD9oZShlLmJ1ZmZlcik6ZS5idWZmZXI7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKG4sZS5ieXRlT2Zmc2V0LGUubGVuZ3RoKX0oZSxpKTtjYXNlIHM6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdih0P24oQyhlKSwhMCk6QyhlKSx3LG5ldyBlLmNvbnN0cnVjdG9yKX0oZSxpLG4pO2Nhc2VcIltvYmplY3QgTnVtYmVyXVwiOmNhc2VcIltvYmplY3QgU3RyaW5nXVwiOnJldHVybiBuZXcgcihlKTtjYXNlXCJbb2JqZWN0IFJlZ0V4cF1cIjpyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGUuY29uc3RydWN0b3IoZS5zb3VyY2UsdS5leGVjKGUpKTtyZXR1cm4gdC5sYXN0SW5kZXg9ZS5sYXN0SW5kZXgsdH0oZSk7Y2FzZSBhOnJldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuIHYodD9uKFQoZSksITApOlQoZSksYixuZXcgZS5jb25zdHJ1Y3Rvcil9KGUsaSxuKTtjYXNlXCJbb2JqZWN0IFN5bWJvbF1cIjpyZXR1cm4gbz1lLGllP09iamVjdChpZS5jYWxsKG8pKTp7fX12YXIgb30oZSxtLGRlLHQpfX1ofHwoaD1uZXcgYWUpO3ZhciBfPWguZ2V0KGUpO2lmKF8pcmV0dXJuIF87aWYoaC5zZXQoZSxwKSwhZyl2YXIgRT1uP2Z1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIGk9dChlKTtyZXR1cm4gX2UoZSk/aTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxpPXQubGVuZ3RoLHI9ZS5sZW5ndGg7KytuPGk7KWVbcituXT10W25dO3JldHVybiBlfShpLG4oZSkpfShlLE9lLHllKX0oZSk6T2UoZSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPS0xLGk9ZT9lLmxlbmd0aDowOysrbjxpJiYhMSE9PXQoZVtuXSxuLGUpOyk7fShFfHxlLChmdW5jdGlvbihpLHIpe0UmJihpPWVbcj1pXSksY2UocCxyLGRlKGksdCxuLGMscixlLGgpKX0pKSxwfWZ1bmN0aW9uIGZlKGUpe3JldHVybiEoIUllKGUpfHwodD1lLE0mJk0gaW4gdCkpJiYoQWUoZSl8fFMoZSk/ajpjKS50ZXN0KFNlKGUpKTt2YXIgdH1mdW5jdGlvbiBoZShlKXt2YXIgdD1uZXcgZS5jb25zdHJ1Y3RvcihlLmJ5dGVMZW5ndGgpO3JldHVybiBuZXcgUCh0KS5zZXQobmV3IFAoZSkpLHR9ZnVuY3Rpb24gcGUoZSx0LG4saSl7bnx8KG49e30pO2Zvcih2YXIgcj0tMSxvPXQubGVuZ3RoOysrcjxvOyl7dmFyIHM9dFtyXSxhPWk/aShuW3NdLGVbc10scyxuLGUpOnZvaWQgMDtjZShuLHMsdm9pZCAwPT09YT9lW3NdOmEpfXJldHVybiBufWZ1bmN0aW9uIGdlKGUsdCl7dmFyIG4saSxyPWUuX19kYXRhX187cmV0dXJuKFwic3RyaW5nXCI9PShpPXR5cGVvZihuPXQpKXx8XCJudW1iZXJcIj09aXx8XCJzeW1ib2xcIj09aXx8XCJib29sZWFuXCI9PWk/XCJfX3Byb3RvX19cIiE9PW46bnVsbD09PW4pP3JbXCJzdHJpbmdcIj09dHlwZW9mIHQ/XCJzdHJpbmdcIjpcImhhc2hcIl06ci5tYXB9ZnVuY3Rpb24gbWUoZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT1lP3ZvaWQgMDplW3RdfShlLHQpO3JldHVybiBmZShuKT9uOnZvaWQgMH1yZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPUs/SyhudWxsKTp7fX0scmUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXMoZSkmJmRlbGV0ZSB0aGlzLl9fZGF0YV9fW2VdfSxyZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX187aWYoSyl7dmFyIG49dFtlXTtyZXR1cm5cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIj09PW4/dm9pZCAwOm59cmV0dXJuIGsuY2FsbCh0LGUpP3RbZV06dm9pZCAwfSxyZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX187cmV0dXJuIEs/dm9pZCAwIT09dFtlXTprLmNhbGwodCxlKX0scmUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9fZGF0YV9fW2VdPUsmJnZvaWQgMD09PXQ/XCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCI6dCx0aGlzfSxvZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPVtdfSxvZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX18sbj1sZSh0LGUpO3JldHVybiEobjwwKSYmKG49PXQubGVuZ3RoLTE/dC5wb3AoKTpVLmNhbGwodCxuLDEpLCEwKX0sb2UucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLG49bGUodCxlKTtyZXR1cm4gbjwwP3ZvaWQgMDp0W25dWzFdfSxvZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBsZSh0aGlzLl9fZGF0YV9fLGUpPi0xfSxvZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fX2RhdGFfXyxpPWxlKG4sZSk7cmV0dXJuIGk8MD9uLnB1c2goW2UsdF0pOm5baV1bMV09dCx0aGlzfSxzZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyByZSxtYXA6bmV3KCR8fG9lKSxzdHJpbmc6bmV3IHJlfX0sc2UucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZ2UodGhpcyxlKS5kZWxldGUoZSl9LHNlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGdlKHRoaXMsZSkuZ2V0KGUpfSxzZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBnZSh0aGlzLGUpLmhhcyhlKX0sc2UucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiBnZSh0aGlzLGUpLnNldChlLHQpLHRoaXN9LGFlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189bmV3IG9lfSxhZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmRlbGV0ZShlKX0sYWUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoZSl9LGFlLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGUpfSxhZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fX2RhdGFfXztpZihuIGluc3RhbmNlb2Ygb2Upe3ZhciBpPW4uX19kYXRhX187aWYoISR8fGkubGVuZ3RoPDE5OSlyZXR1cm4gaS5wdXNoKFtlLHRdKSx0aGlzO249dGhpcy5fX2RhdGFfXz1uZXcgc2UoaSl9cmV0dXJuIG4uc2V0KGUsdCksdGhpc307dmFyIHllPXo/Xyh6LE9iamVjdCk6ZnVuY3Rpb24oKXtyZXR1cm5bXX0sd2U9ZnVuY3Rpb24oZSl7cmV0dXJuIE4uY2FsbChlKX07ZnVuY3Rpb24gYmUoZSx0KXtyZXR1cm4hISh0PW51bGw9PXQ/OTAwNzE5OTI1NDc0MDk5MTp0KSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlfHxsLnRlc3QoZSkpJiZlPi0xJiZlJTE9PTAmJmU8dH1mdW5jdGlvbiB2ZShlKXt2YXIgdD1lJiZlLmNvbnN0cnVjdG9yO3JldHVybiBlPT09KFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQucHJvdG90eXBlfHxPKX1mdW5jdGlvbiBTZShlKXtpZihudWxsIT1lKXt0cnl7cmV0dXJuIEQuY2FsbChlKX1jYXRjaChlKXt9dHJ5e3JldHVybiBlK1wiXCJ9Y2F0Y2goZSl7fX1yZXR1cm5cIlwifWZ1bmN0aW9uIENlKGUsdCl7cmV0dXJuIGU9PT10fHxlIT1lJiZ0IT10fShxJiZcIltvYmplY3QgRGF0YVZpZXddXCIhPXdlKG5ldyBxKG5ldyBBcnJheUJ1ZmZlcigxKSkpfHwkJiZ3ZShuZXcgJCkhPXN8fEcmJlwiW29iamVjdCBQcm9taXNlXVwiIT13ZShHLnJlc29sdmUoKSl8fFkmJndlKG5ldyBZKSE9YXx8USYmXCJbb2JqZWN0IFdlYWtNYXBdXCIhPXdlKG5ldyBRKSkmJih3ZT1mdW5jdGlvbihlKXt2YXIgdD1OLmNhbGwoZSksbj1cIltvYmplY3QgT2JqZWN0XVwiPT10P2UuY29uc3RydWN0b3I6dm9pZCAwLGk9bj9TZShuKTp2b2lkIDA7aWYoaSlzd2l0Y2goaSl7Y2FzZSBaOnJldHVyblwiW29iamVjdCBEYXRhVmlld11cIjtjYXNlIEo6cmV0dXJuIHM7Y2FzZSBYOnJldHVyblwiW29iamVjdCBQcm9taXNlXVwiO2Nhc2UgZWU6cmV0dXJuIGE7Y2FzZSB0ZTpyZXR1cm5cIltvYmplY3QgV2Vha01hcF1cIn1yZXR1cm4gdH0pO3ZhciBfZT1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIFRlKGUpe3JldHVybiBudWxsIT1lJiZmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmZT4tMSYmZSUxPT0wJiZlPD05MDA3MTk5MjU0NzQwOTkxfShlLmxlbmd0aCkmJiFBZShlKX12YXIgRWU9SHx8ZnVuY3Rpb24oKXtyZXR1cm4hMX07ZnVuY3Rpb24gQWUoZSl7dmFyIHQ9SWUoZSk/Ti5jYWxsKGUpOlwiXCI7cmV0dXJuIHQ9PXJ8fHQ9PW99ZnVuY3Rpb24gSWUoZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHx8XCJmdW5jdGlvblwiPT10KX1mdW5jdGlvbiBPZShlKXtyZXR1cm4gVGUoZSk/dWUoZSk6ZnVuY3Rpb24oZSl7aWYoIXZlKGUpKXJldHVybiBWKGUpO3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBPYmplY3QoZSkpay5jYWxsKGUsbikmJlwiY29uc3RydWN0b3JcIiE9biYmdC5wdXNoKG4pO3JldHVybiB0fShlKX1uLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGRlKGUsITEsITApfX0pLmNhbGwodGhpcyxuKDUpLG4oMjApKGUpKX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDQ4KX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz17YmFzZVNlcnZpY2U6big0OSkuQmFzZVNlcnZpY2UsQ2xpZW50czp7Um91dGVyQ2xpZW50Om4oNykuZGVmYXVsdCxTdG9yYWdlQ2xpZW50Om4oMjcpLmRlZmF1bHQsTGF1bmNoZXJDbGllbnQ6bigxNikuZGVmYXVsdCxEaXN0cmlidXRlZFN0b3JlQ2xpZW50Om4oMTcpLmRlZmF1bHQsTGlua2VyQ2xpZW50Om4oNDIpLmRlZmF1bHQsV2luZG93Q2xpZW50Om4oMTQpLmRlZmF1bHQsV29ya3NwYWNlQ2xpZW50Om4oNzIpLmRlZmF1bHQsRGlhbG9nTWFuYWdlcjpuKDczKS5kZWZhdWx0LEF1dGhlbnRpY2F0aW9uQ2xpZW50Om4oNzQpLmRlZmF1bHQsQ29uZmlnQ2xpZW50Om4oMjEpLmRlZmF1bHQsRHJhZ0FuZERyb3BDbGllbnQ6big3NSkuZGVmYXVsdCxMb2dnZXI6bigwKS5kZWZhdWx0LEJhc2VDbGllbnQ6big0KS5kZWZhdWx0LFNlYXJjaENsaWVudDpuKDgxKS5kZWZhdWx0LEhvdGtleUNsaWVudDpuKDQxKS5kZWZhdWx0LE5vdGlmaWNhdGlvbkNsaWVudDpuKDgyKS5kZWZhdWx0fSxVc2VyTm90aWZpY2F0aW9uOm4oMzgpLmRlZmF1bHQsVXRpbDpuKDExKS5kZWZhdWx0LERlcGVuZGVuY3lNYW5hZ2VyOm4oMjUpLmRlZmF1bHQsbW9kZWxzOntiYXNlU3RvcmFnZTpuKDg5KS5kZWZhdWx0fSxGaW5zZW1ibGVXaW5kb3c6bigxNSkuRmluc2VtYmxlV2luZG93LFN5c3RlbTpuKDIpLlN5c3RlbX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSl9OmZ1bmN0aW9uKGUsdCl7ZS5kZWZhdWx0PXR9KSxvPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZpKHQsZSxuKTtyZXR1cm4gcih0LGUpLHR9LHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CYXNlU2VydmljZT12b2lkIDA7XG4vKiFcbiAqIENvcHlyaWdodCAyMDE3IC0gMjAyMCBieSBDaGFydElRLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICovXG5jb25zdCBhPW4oMTIpLHU9bigyNSksYz1zKG4oNykpLGw9cyhuKDApKSxkPXMobigxOCkpLGY9bigyKSxoPW8obigxMykpLHtTRVJWSUNFX0lOSVRJQUxJWklOR19DSEFOTkVMOnAsU0VSVklDRV9SRUFEWV9DSEFOTkVMOmcsU0VSVklDRV9RVUVSWV9SRUFEWV9DSEFOTkVMOm0sU0VSVklDRV9DTE9TSU5HX0NIQU5ORUw6eSxTRVJWSUNFX0NMT1NFRF9DSEFOTkVMOncsU0VSVklDRV9TVE9QX0NIQU5ORUw6Yn09aCx2PXtzdGFydHVwRGVwZW5kZW5jaWVzOntzZXJ2aWNlczpbXSxjbGllbnRzOltdfSxzaHV0ZG93bkRlcGVuZGVuY2llczp7c2VydmljZXM6W119LGFkZE9GV3JhcHBlcjohMSxuYW1lOndpbmRvdy5uYW1lfSxTPXdpbmRvdzt0LkJhc2VTZXJ2aWNlPWNsYXNze2NvbnN0cnVjdG9yKGU9dil7IWZ1bmN0aW9uKGUpe2Uuc3RhcnR1cERlcGVuZGVuY2llcz8oZS5zdGFydHVwRGVwZW5kZW5jaWVzLnNlcnZpY2VzfHwoZS5zdGFydHVwRGVwZW5kZW5jaWVzLnNlcnZpY2VzPXYuc3RhcnR1cERlcGVuZGVuY2llcy5zZXJ2aWNlcyksZS5zdGFydHVwRGVwZW5kZW5jaWVzLmNsaWVudHN8fChlLnN0YXJ0dXBEZXBlbmRlbmNpZXMuY2xpZW50cz12LnN0YXJ0dXBEZXBlbmRlbmNpZXMuY2xpZW50cykpOmUuc3RhcnR1cERlcGVuZGVuY2llcz12LnN0YXJ0dXBEZXBlbmRlbmNpZXMsZS5zaHV0ZG93bkRlcGVuZGVuY2llcz9lLnNodXRkb3duRGVwZW5kZW5jaWVzLnNlcnZpY2VzfHwoZS5zaHV0ZG93bkRlcGVuZGVuY2llcy5zZXJ2aWNlcz12LnNodXRkb3duRGVwZW5kZW5jaWVzLnNlcnZpY2VzKTplLnNodXRkb3duRGVwZW5kZW5jaWVzPXYuc2h1dGRvd25EZXBlbmRlbmNpZXN9KGUpLHRoaXMubmFtZT1lLm5hbWU/ZS5uYW1lOndpbmRvdy5uYW1lLHRoaXMuc3RhcnR1cERlcGVuZGVuY2llcz1lLnN0YXJ0dXBEZXBlbmRlbmNpZXMsdGhpcy5zaHV0ZG93bkRlcGVuZGVuY2llcz1lLnNodXRkb3duRGVwZW5kZW5jaWVzLHRoaXMuTG9nZ2VyPWwuZGVmYXVsdCx0aGlzLlJvdXRlckNsaWVudD1jLmRlZmF1bHQsdGhpcy5vbkJhc2VTZXJ2aWNlUmVhZHlDQj1udWxsLHRoaXMuc2V0T25Db25uZWN0aW9uQ29tcGxldGVDQj1udWxsLHRoaXMubGlzdGVuZXJzPXt9LHRoaXMuc3RhcnQ9dGhpcy53YWl0Rm9yRGVwZW5kZW5jaWVzLHRoaXMuc3RhcnRlZD0hMSx0aGlzLnN0YXR1cz1cImluaXRpYWxpemluZ1wiLHRoaXMuc2V0T25saW5lPXRoaXMuc2V0T25saW5lLmJpbmQodGhpcyksdGhpcy5vbkJhc2VTZXJ2aWNlUmVhZHk9dGhpcy5vbkJhc2VTZXJ2aWNlUmVhZHkuYmluZCh0aGlzKSx0aGlzLmhhbmRsZVNodXRkb3duPXRoaXMuaGFuZGxlU2h1dGRvd24uYmluZCh0aGlzKSx0aGlzLndhaXRGb3JEZXBlbmRlbmNpZXMoKSxTLmZpbnNlbWJsZVNlcnZpY2VzP1MuZmluc2VtYmxlU2VydmljZXMucHVzaCh0aGlzKTpTLmZpbnNlbWJsZVNlcnZpY2VzPVt0aGlzXX13YWl0Rm9yRGVwZW5kZW5jaWVzKCl7Y29uc3QgZT10aGlzO2lmKHRoaXMuc3RhcnRlZClyZXR1cm47dGhpcy5zdGFydGVkPSEwO2NvbnN0IHQ9dGhpcztmdW5jdGlvbiBuKGUpe2wuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJCYXNlU2VydmljZS5zdGFydC5zZXRQYXJlbnRVVUlEXCIpLGYuU3lzdGVtLldpbmRvdy5nZXRDdXJyZW50KCkuZ2V0T3B0aW9ucyhuPT57dC5jdXN0b21EYXRhPW4uY3VzdG9tRGF0YSx0LnBhcmVudFV1aWQ9bi5jdXN0b21EYXRhLnBhcmVudFV1aWQsZSgpfSl9ZnVuY3Rpb24gaShuKXtjLmRlZmF1bHQub25SZWFkeSgoKT0+e2MuZGVmYXVsdC5hZGRSZXNwb25kZXIobShlLm5hbWUpLCh0LG4pPT57KGUuc3RhdHVzPVwicmVhZHlcIik/bi5zZW5kUXVlcnlSZXNwb25zZShudWxsKTpuLnNlbmRRdWVyeVJlc3BvbnNlKFwic2VydmljZSBub3QgcmVhZHlcIil9KSxjLmRlZmF1bHQudHJhbnNtaXQocCx7bmFtZTp0Lm5hbWV9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLHQuUm91dGVyQ2xpZW50LmRpc2Nvbm5lY3RBbGwpLGwuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJBUFBMSUNBVElPTiBMSUZFQ1lDTEU6U1RBUlRVUDpTRVJWSUNFOkJhc2VTZXJ2aWNlLnN0YXJ0Lm9uUm91dGVyUmVhZHlcIiksbigpfSl9ZnVuY3Rpb24gcihlKXtjb25zdCBuPXQuY3VzdG9tRGF0YS5kZWJ1Z1NlcnZpY2VEZWxheXx8MDtpZihsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKGBDdXN0b20gRGF0YTogJHt0Lm5hbWV9IGN1c3RvbSBkYXRhYCx0LmN1c3RvbURhdGEpLE51bWJlci5pc0ludGVnZXIobikpbj4wJiZsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKGBBUFBMSUNBVElPTiBMSUZFQ1lDTEU6U1RBUlRVUDpTRVJWSUNFOkJhc2VTZXJ2aWNlLnN0YXJ0LmRlYnVnRGVsYXk6ICR7dC5uYW1lfSBzdGFydHVwIHdpbGwgZGVsYXllZCBieSAke259IG1pbGxpc2Vjb25kcyBmb3IgZGVidWdnaW5nYCk7ZWxzZXtjb25zdCBlPWBkZWJ1Z0RlbGF5IGhhcyBhbiBpbGxlZ2FsIHZhbHVlIChcIiR7bn1cIikgZm9yICR7dC5uYW1lfS4gVmFsdWUgbXVzdCBiZSBhbiBpbnRlZ2VyLmA7bC5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIkFQUExJQ0FUSU9OIExJRkVDWUNMRTpTVEFSVFVQOlNFUlZJQ0U6QmFzZVNlcnZpY2Uuc3RhcnQ6IFwiK2UpLGQuZGVmYXVsdC5zeXN0ZW1Mb2coe2Vycm9yOiEwfSxlKX1zZXRUaW1lb3V0KGUsbil9ZnVuY3Rpb24gbyhlKXtsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiQVBQTElDQVRJT04gTElGRUNZQ0xFOlNUQVJUVVA6U0VSVklDRTpCYXNlU2VydmljZS5zdGFydC5yZWFkeVRvR28gXCIrdC5uYW1lKSxjb25zb2xlLmxvZyhcIlN0YXJ0dXAgRGVwZW5kZW5jaWVzIGZvclwiLHQubmFtZSx0LnN0YXJ0dXBEZXBlbmRlbmNpZXMpLGNvbnNvbGUubG9nKFwiU2h1dGRvd24gRGVwZW5kZW5jaWVzIGZvclwiLHQubmFtZSx0LnNodXRkb3duRGVwZW5kZW5jaWVzKSx1LkZTQkxEZXBlbmRlbmN5TWFuYWdlclNpbmdsZXRvbi5zaHV0ZG93bi53YWl0Rm9yKHQuc2h1dGRvd25EZXBlbmRlbmNpZXMsdC5oYW5kbGVTaHV0ZG93biksbC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkFQUExJQ0FUSU9OIExJRkVDWUNMRTpTVEFSVFVQOlNFUlZJQ0U6QmFzZVNlcnZpY2Uuc3RhcnQucmVhZHlUb0dvIGFmdGVyIHdhaXQgXCIrdC5uYW1lKSxjLmRlZmF1bHQudHJhbnNtaXQoZi5TeXN0ZW0uV2luZG93LmdldEN1cnJlbnQoKS5uYW1lK1wiLm9uU3Bhd25lZFwiLHtuYW1lOmYuU3lzdGVtLldpbmRvdy5nZXRDdXJyZW50KCkubmFtZX0se3N1cHByZXNzV2FybmluZ3M6ITB9KTt1LkZTQkxEZXBlbmRlbmN5TWFuYWdlclNpbmdsZXRvbi5zdGFydHVwLndhaXRGb3IodC5zdGFydHVwRGVwZW5kZW5jaWVzLGUpLm9uKFwiZXJyXCIsZT0+e2wuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoZSl9KX1mdW5jdGlvbiBzKGUpe2NvbnN0IG49Zi5TeXN0ZW0uV2luZG93LmdldEN1cnJlbnQoKTtuLmlzU2hvd2luZyhpPT57aSYmITEhPT10LmN1c3RvbURhdGEuc2hvd0RldkNvbnNvbGVPblZpc2libGU/Zi5TeXN0ZW0uc2hvd0RldmVsb3BlclRvb2xzKG4udXVpZCxuLm5hbWUsbnVsbCxlKToobC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkFQUExJQ0FUSU9OIExJRkVDWUNMRTpTVEFSVFVQOlNFUlZJQ0U6QmFzZVNlcnZpY2Uuc3RhcnQuZGVsYXlTdGFydHVwIGRvbmVcIiksZSgpKX0pfXJldHVybiBsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKHRoaXMubmFtZStcIiBzdGFydGluZ1wiKSxuZXcgUHJvbWlzZShlPT57YS5zZXJpZXMoW2ksbixzLHIsb10sKCk9PntlKCksdGhpcy5vbkRlcGVuZGVuY2llc1JlYWR5KCl9KX0pfXNldE9ubGluZSgpe1wicmVhZHlcIiE9PXRoaXMuc3RhdHVzJiYoY29uc29sZS5sb2coXCJTZXR0aW5nIHNlcnZpY2Ugb25saW5lXCIsdGhpcy5uYW1lKSx0aGlzLlJvdXRlckNsaWVudC5hZGRMaXN0ZW5lcihgJHtifS4ke3RoaXMubmFtZX1gLCgpPT57dS5GU0JMRGVwZW5kZW5jeU1hbmFnZXJTaW5nbGV0b24uc2h1dGRvd24uY2hlY2tEZXBlbmRlbmNpZXMoKX0pLHRoaXMuc3RhdHVzPVwicmVhZHlcIixjLmRlZmF1bHQudHJhbnNtaXQoZyx7c2VydmljZU5hbWU6dGhpcy5uYW1lfSx7c3VwcHJlc3NXYXJuaW5nczohMH0pLGwuZGVmYXVsdC5zeXN0ZW0ubG9nKFwiQVBQTElDQVRJT04gTElGRUNZQ0xFOlNUQVJUVVA6U0VSVklDRSBPTkxJTkVcIix0aGlzLm5hbWUpLGQuZGVmYXVsdC5wdWJsaXNoQm9vdFN0YXR1cyh0aGlzLm5hbWUsXCJzZXJ2aWNlc1wiLFwiY29tcGxldGVkXCIpKX1vbkRlcGVuZGVuY2llc1JlYWR5KCl7bC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkFQUExJQ0FUSU9OIExJRkVDWUNMRTpTVEFSVFVQOkJhc2VTZXJ2aWNlIG9uRGVwZW5kZW5jaWVzUmVhZHlcIix0aGlzLm5hbWUpLHRoaXMuc3RhdHVzPVwiaW5pdGlhbGl6aW5nXCIsYy5kZWZhdWx0Lm9uUmVhZHkoKCk9Pnt0aGlzLm9uQmFzZVNlcnZpY2VSZWFkeUNCP3RoaXMub25CYXNlU2VydmljZVJlYWR5Q0IodGhpcy5zZXRPbmxpbmUpOnRoaXMuaW5pdGlhbGl6ZT90aGlzLmluaXRpYWxpemUodGhpcy5zZXRPbmxpbmUpOnNldFRpbWVvdXQoKCk9PntcInJlYWR5XCIhPT10aGlzLnN0YXR1cyYmXCJyb3V0ZXJTZXJ2aWNlXCIhPT10aGlzLm5hbWUmJihjb25zb2xlLmVycm9yKFwiTm8gb25CYXNlU2VydmljZVJlYWR5Q0Igb24gaW5pdGlhbGl6ZSBmdW5jdGlvbiBkZWZpbmVkIG9uIHlvdXIgc2VydmljZS4gRW5zdXJlIHRoYXQgc2VydmljZS5zZXRPbmxpbmUgaXMgY2FsbGVkXCIpLGwuZGVmYXVsdC5zeXN0ZW0uZXJyb3IoXCJObyBvbkJhc2VTZXJ2aWNlUmVhZHlDQiBvbiBpbml0aWFsaXplIGZ1bmN0aW9uIGRlZmluZWQgb24geW91ciBzZXJ2aWNlLiBFbnN1cmUgdGhhdCBzZXJ2aWNlLnNldE9ubGluZSBpcyBjYWxsZWRcIikpfSwzZTMpfSl9b25CYXNlU2VydmljZVJlYWR5KGUpe1wiaW5pdGlhbGl6aW5nXCI9PT10aGlzLnN0YXR1cz90aGlzLm9uQmFzZVNlcnZpY2VSZWFkeUNCPSgpPT57ZSh0aGlzLnNldE9ubGluZSl9OmUodGhpcy5zZXRPbmxpbmUpfWFkZEV2ZW50TGlzdGVuZXIoZSx0KXt0aGlzLmxpc3RlbmVyc1tlXXx8KHRoaXMubGlzdGVuZXJzW2VdPVtdKSx0aGlzLmxpc3RlbmVyc1tlXS5wdXNoKHQpfW9uU2h1dGRvd24oZSl7dGhpcy5hZGRFdmVudExpc3RlbmVyKFwib25TaHV0ZG93blwiLGUpfWhhbmRsZVNodXRkb3duKCl7bC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIkJhc2VTZXJ2aWNlLmhhbmRsZVNodXRkb3duXCIpO2NvbnN0IGU9dGhpczt0aGlzLmxpc3RlbmVycy5vblNodXRkb3duPyhjLmRlZmF1bHQudHJhbnNtaXQoeSx7d2FpdEZvck1lOiEwLG5hbWU6dGhpcy5uYW1lfSksYS5lYWNoKHRoaXMubGlzdGVuZXJzLm9uU2h1dGRvd24sKGZ1bmN0aW9uKGUsdCl7YS5hc3luY2lmeShlKShudWxsLHQpfSksKGZ1bmN0aW9uKHQpe3QmJmwuZGVmYXVsdC5zeXN0ZW0uZXJyb3IodCksZS5zaHV0ZG93bkNvbXBsZXRlKCl9KSkpOihjLmRlZmF1bHQudHJhbnNtaXQoeSx7d2FpdEZvck1lOiExLG5hbWU6dGhpcy5uYW1lfSksZS5zaHV0ZG93bkNvbXBsZXRlKCkpfXNodXRkb3duQ29tcGxldGUoKXtsLmRlZmF1bHQuc3lzdGVtLmluZm8oJ1wiQVBQTElDQVRJT04gTElGRUNZQ0xFOlNIVVRET1dOOlNFUlZJQ0UgU0hVVERPV046ICcrdGhpcy5uYW1lKSxjLmRlZmF1bHQudHJhbnNtaXQodyx7bmFtZTp0aGlzLm5hbWUsdXVpZDpmLlN5c3RlbS5BcHBsaWNhdGlvbi5nZXRDdXJyZW50KCkudXVpZH0pfX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGU9Pntjb25zdCB0PWUuZXJyb3I/ZS5lcnJvci5zdGFjay5zdWJzdHJpbmcoZS5lcnJvci5zdGFjay5zZWFyY2goXCJhdCBcIikpOlwiXCI7cmV0dXJuIGwuZGVmYXVsdC5lcnJvcihlLm1lc3NhZ2UsXCJGaWxlOiBcIitlLmZpbGVuYW1lLFwiTGluZTogXCIrZS5saW5lbm8sXCJDb2x1bW46IFwiK2UuY29sbm8sXCJFcnJvciBTdGFjazogXFxuICAgIFwiK3QpLCExfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIixlPT57XCJDYW5ub3QgV3JhcCBTZXJ2aWNlIE1hbmFnZXIgb3IgU2VydmljZXNcIj09ZS5yZWFzb24/bC5kZWZhdWx0Lndhcm4oXCJBIHNlcnZpY2UgdHJpZWQgVG8gd3JhcCBpdHNlbGYuIFRoaXMgaXMgYSBzaWRlIGVmZmVjdCBvZiB1c2luZyBDbGllbnRzIGluIHNlcnZpY2VzLlwiKTpsLmRlZmF1bHQuZXJyb3IoXCJVbmhhbmRsZWQgcmVqZWN0aW9uXCIsXCJyZWFzb25cIixlLnJlYXNvbil9KX0sZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlLHQpeyFmdW5jdGlvbihlLG4pe1widXNlIHN0cmljdFwiO2lmKCFlLnNldEltbWVkaWF0ZSl7dmFyIGkscixvLHMsYSx1PTEsYz17fSxsPSExLGQ9ZS5kb2N1bWVudCxmPU9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2Y9ZiYmZi5zZXRUaW1lb3V0P2Y6ZSxcIltvYmplY3QgcHJvY2Vzc11cIj09PXt9LnRvU3RyaW5nLmNhbGwoZS5wcm9jZXNzKT9pPWZ1bmN0aW9uKGUpe3QubmV4dFRpY2soKGZ1bmN0aW9uKCl7cChlKX0pKX06IWZ1bmN0aW9uKCl7aWYoZS5wb3N0TWVzc2FnZSYmIWUuaW1wb3J0U2NyaXB0cyl7dmFyIHQ9ITAsbj1lLm9ubWVzc2FnZTtyZXR1cm4gZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXt0PSExfSxlLnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpLGUub25tZXNzYWdlPW4sdH19KCk/ZS5NZXNzYWdlQ2hhbm5lbD8oKG89bmV3IE1lc3NhZ2VDaGFubmVsKS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cChlLmRhdGEpfSxpPWZ1bmN0aW9uKGUpe28ucG9ydDIucG9zdE1lc3NhZ2UoZSl9KTpkJiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gZC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpPyhyPWQuZG9jdW1lbnRFbGVtZW50LGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3Qub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7cChlKSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHIucmVtb3ZlQ2hpbGQodCksdD1udWxsfSxyLmFwcGVuZENoaWxkKHQpfSk6aT1mdW5jdGlvbihlKXtzZXRUaW1lb3V0KHAsMCxlKX06KHM9XCJzZXRJbW1lZGlhdGUkXCIrTWF0aC5yYW5kb20oKStcIiRcIixhPWZ1bmN0aW9uKHQpe3Quc291cmNlPT09ZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQuZGF0YSYmMD09PXQuZGF0YS5pbmRleE9mKHMpJiZwKCt0LmRhdGEuc2xpY2Uocy5sZW5ndGgpKX0sZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixhLCExKTplLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsYSksaT1mdW5jdGlvbih0KXtlLnBvc3RNZXNzYWdlKHMrdCxcIipcIil9KSxmLnNldEltbWVkaWF0ZT1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoZT1uZXcgRnVuY3Rpb24oXCJcIitlKSk7Zm9yKHZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuKzFdO3ZhciByPXtjYWxsYmFjazplLGFyZ3M6dH07cmV0dXJuIGNbdV09cixpKHUpLHUrK30sZi5jbGVhckltbWVkaWF0ZT1ofWZ1bmN0aW9uIGgoZSl7ZGVsZXRlIGNbZV19ZnVuY3Rpb24gcChlKXtpZihsKXNldFRpbWVvdXQocCwwLGUpO2Vsc2V7dmFyIHQ9Y1tlXTtpZih0KXtsPSEwO3RyeXshZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jYWxsYmFjayxuPWUuYXJncztzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMDp0KCk7YnJlYWs7Y2FzZSAxOnQoblswXSk7YnJlYWs7Y2FzZSAyOnQoblswXSxuWzFdKTticmVhaztjYXNlIDM6dChuWzBdLG5bMV0sblsyXSk7YnJlYWs7ZGVmYXVsdDp0LmFwcGx5KHZvaWQgMCxuKX19KHQpfWZpbmFsbHl7aChlKSxsPSExfX19fX0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGY/dm9pZCAwPT09ZT90aGlzOmU6c2VsZil9KS5jYWxsKHRoaXMsbig1KSxuKDE5KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7XG4vKiFcbiAqIENvcHlyaWdodCAyMDE3IC0gMjAyMCBieSBDaGFydElRLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICovXG52YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSl9OmZ1bmN0aW9uKGUsdCl7ZS5kZWZhdWx0PXR9KSxvPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZpKHQsZSxuKTtyZXR1cm4gcih0LGUpLHR9LHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Sb3V0ZXJDbGllbnRDb25zdHJ1Y3Rvcj12b2lkIDA7Y29uc3QgYT1zKG4oNTIpKSx1PW8obigxMSkpLGM9bigxMCksbD1zKG4oOCkpLGQ9cyhuKDM4KSksZj1uKDIpLGg9bigwKSxwPW4oMzUpLGc9bigzNiksbT1bXSx5PWU7bGV0IHc9aC5Mb2dnZXI7eS5GU0JMRGF0YT15LkZTQkxEYXRhfHx7fSx5LkZTQkxEYXRhLlJvdXRlckNsaWVudHM9eS5GU0JMRGF0YS5Sb3V0ZXJDbGllbnRzfHx7fSx0LlJvdXRlckNsaWVudENvbnN0cnVjdG9yPWZ1bmN0aW9uKGUpe2wuZGVmYXVsdC5hcmdzKGUsXCJvYmplY3RcIikmJmwuZGVmYXVsdC5hcmdzMihcInBhcmFtcy5jbGllbnROYW1lXCIsZS5jbGllbnROYW1lLFwic3RyaW5nXCIsXCJwYXJhbXMudHJhbnNwb3J0TmFtZVwiLGUudHJhbnNwb3J0TmFtZSxcInN0cmluZz1cIik7Y29uc3QgdD1lLmNsaWVudE5hbWUse3RyYW5zcG9ydE5hbWU6bn09ZTtsZXQgaSxyO2NvbnN0IG89e30scz17fSxoPXt9LGI9e30sdj17fSxTPXt9LEM9e30sXz17fSxUPXt9LEU9e307bGV0IEEsST1udWxsLE89ITE7Y29uc3QgTD1bXSxNPXRoaXM7ZnVuY3Rpb24gRCgpe3RoaXMuaGVhZGVyPXtvcmlnaW46QSx0eXBlOlwiaW5pdGlhbEhhbmRzaGFrZVwifX1mdW5jdGlvbiBrKGUsdCl7dGhpcy5oZWFkZXI9e29yaWdpbjpBLHR5cGU6XCJ0aW1lQ2FsaWJyYXRpb25cIn0sdGhpcy5jbGllbnRCYXNlVGltZT1lLHRoaXMuc2VydmljZUJhc2VUaW1lPXR9ZnVuY3Rpb24gTihlKXt0aGlzLmhlYWRlcj17b3JpZ2luOkEsdHlwZTpcImFkZExpc3RlbmVyXCIsY2hhbm5lbDplfX1mdW5jdGlvbiBqKGUsdCxuKXt0aGlzLmhlYWRlcj17b3JpZ2luOkEsdHlwZTpcInRyYW5zbWl0XCIsY2hhbm5lbDplfSx0aGlzLmRhdGE9dCx0aGlzLm9wdGlvbnM9bn1mdW5jdGlvbiBXKGUpe3RoaXMuaGVhZGVyPXtvcmlnaW46QSx0eXBlOlwicmVtb3ZlTGlzdGVuZXJcIixjaGFubmVsOmV9fWZ1bmN0aW9uIFIoZSl7dGhpcy5oZWFkZXI9e29yaWdpbjpBLHR5cGU6XCJhZGRSZXNwb25kZXJcIixjaGFubmVsOmV9fWZ1bmN0aW9uIFAoZSx0LG4pe3RoaXMuaGVhZGVyPXtvcmlnaW46QSx0eXBlOlwicXVlcnlcIixxdWVyeUlEOmUsY2hhbm5lbDp0fSx0aGlzLmRhdGE9bn1mdW5jdGlvbiBGKGUsdCxuKXt0aGlzLmhlYWRlcj17b3JpZ2luOkEsdHlwZTpcInF1ZXJ5UmVzcG9uc2VcIixxdWVyeUlEOmUsZXJyb3I6dH0sdGhpcy5kYXRhPW59ZnVuY3Rpb24geChlKXt0aGlzLmhlYWRlcj17b3JpZ2luOkEsdHlwZTpcInJlbW92ZVJlc3BvbmRlclwiLGNoYW5uZWw6ZX19ZnVuY3Rpb24gQihlLHQpe3RoaXMuaGVhZGVyPXtvcmlnaW46QSx0eXBlOlwic3Vic2NyaWJlXCIsc3Vic2NyaWJlSUQ6ZSx0b3BpYzp0fX1mdW5jdGlvbiBVKGUsdCl7dGhpcy5oZWFkZXI9e29yaWdpbjpBLHR5cGU6XCJ1bnN1YnNjcmliZVwiLHN1YnNjcmliZUlEOmUsdG9waWM6dH19ZnVuY3Rpb24geihlLHQpe3RoaXMuaGVhZGVyPXtvcmlnaW46QSx0eXBlOlwicHVibGlzaFwiLHRvcGljOmV9LHRoaXMuZGF0YT10fWZ1bmN0aW9uIEgoZSx0LG4saSl7dGhpcy5oZWFkZXI9e29yaWdpbjpBLHR5cGU6XCJub3RpZnlcIixzdWJzY3JpYmVJRDplLHRvcGljOnQsZXJyb3I6bn0sdGhpcy5kYXRhPWl9ZnVuY3Rpb24gVihlLHQsbil7dGhpcy5oZWFkZXI9e29yaWdpbjpBLHR5cGU6XCJhZGRQdWJTdWJSZXNwb25kZXJcIix0b3BpYzplLGhhbmRsZU9uU2VydmVyOm59LHRoaXMuZGF0YT10fWZ1bmN0aW9uIHEoZSl7dGhpcy5oZWFkZXI9e29yaWdpbjpBLHR5cGU6XCJyZW1vdmVQdWJTdWJSZXNwb25kZXJcIix0b3BpYzplfX1mdW5jdGlvbiAkKCl7Zm9yKE0uc3RhcnR1cFRpbWU9cGVyZm9ybWFuY2Uubm93KCktTS5zdGFydHVwVGltZSx3LnN5c3RlbS5kZWJ1ZyhcIldJTkRPVyBMSUZFQ1lDTEU6U1RBUlRVUDpSb3V0ZXJDbGllbnQgUmVhZHlcIiksTz0hMDtMLmxlbmd0aD4wOyl7dy5zeXN0ZW0uZGVidWcoXCJXSU5ET1cgTElGRUNZQ0xFOlNUQVJUVVA6Um91dGVyQ2xpZW50IHBhcmVudFJlYWR5IGludm9rZWRcIik7TC5zaGlmdCgpKCl9fWZ1bmN0aW9uIEcoZSl7IUl8fEkgaW5zdGFuY2VvZiBQcm9taXNlPyh3LnN5c3RlbS53YXJuKFwiUm91dGVyQ2xpZW50OiBRdWV1aW5nIG1lc3NhZ2Ugc2luY2Ugcm91dGVyIGluaXRpYWxpemF0aW9uIG5vdCBjb21wbGV0ZVwiLGUpLG0ucHVzaChlKSk6SS5zZW5kKGUpfWZ1bmN0aW9uIFkoKXtyZXR1cm4gdGhpcy5oZWFkZXIub3JpZ2luPT09dGhpcy5oZWFkZXIubGFzdENsaWVudH1mdW5jdGlvbiBRKGUsdCl7dy5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudDogb3V0Z29pbmcgcXVlcnkgcmVzcG9uc2VcIixcIkNIQU5ORUxcIix0aGlzLmhlYWRlci5jaGFubmVsLFwiUkVTUE9OU0UgREFUQVwiLHQsXCJRVUVSWSBJRFwiLHRoaXMuaGVhZGVyLnF1ZXJ5SUQpLEcobmV3IEYodGhpcy5oZWFkZXIucXVlcnlJRCxlLHQpKX1mdW5jdGlvbiBLKGUsdCl7Y29uc3Qgbj1lW3QuaGVhZGVyLmNoYW5uZWxdO3ZvaWQgMD09PW4/dy5zeXN0ZW0ud2FybihgUm91dGVyQ2xpZW50OiBubyBxdWVyeSByZXNwb25kZXIgZGVmaW5lIG9uIGNoYW5uZWwgJHt0LmhlYWRlci5jaGFubmVsfSBpbmNvbWluZyBmcm9tICR7dC5oZWFkZXIub3JpZ2lufWAsdCk6dC5oZWFkZXIuZXJyb3I/KHcuc3lzdGVtLndhcm4oXCJSb3V0ZXJDbGllbnQ6IHF1ZXJ5UmVzcG9uZGVyIGVycm9yXCIsdCksbih0LmhlYWRlci5lcnJvcixudWxsKSxkZWxldGUgZVt0LmhlYWRlci5jaGFubmVsXSk6KHQub3JpZ2luYXRlZEhlcmU9WSx0LnNlbmRRdWVyeVJlc3BvbnNlPVEuYmluZCh0KSx3LnN5c3RlbS5pbmZvKFwiUm91dGVyQ2xpZW50OiBpbmNvbWluZyBxdWVyeVwiLFwiQ0hBTk5FTFwiLHQuaGVhZGVyLmNoYW5uZWwsXCJGUk9NXCIsdC5oZWFkZXIub3JpZ2luLFwiUVVFUlkgTUVTU0FHRVwiLHQpLG4obnVsbCx0KSl9ZnVuY3Rpb24gWihlLHQpe2NvbnN0IG49ZVt0LmhlYWRlci5xdWVyeUlEXTt2b2lkIDA9PT1uP3cuc3lzdGVtLndhcm4oXCJSb3V0ZXJDbGllbnQ6IG5vIGhhbmRsZXIgZm9yIGluY29taW5nIHF1ZXJ5IHJlc3BvbnNlXCIsXCJRVUVSWSBJRFwiLHQuaGVhZGVyLnF1ZXJ5SUQpOighZnVuY3Rpb24oZSx0KXtjb25zdCBuPWVbdF07dm9pZCAwIT09biYmY2xlYXJUaW1lb3V0KG4pfShFLHQuaGVhZGVyLnF1ZXJ5SUQpLHQuaGVhZGVyLmVycm9yPyh3LnN5c3RlbS5kZWJ1ZyhcIlJvdXRlckNsaWVudDogaW5jb21pbmcgcXVlcnlSZXNwb25zZSBlcnJvclwiLHQuaGVhZGVyLFwiUVVFUlkgSURcIix0LmhlYWRlci5xdWVyeUlEKSxuKHQuaGVhZGVyLmVycm9yLHQpKToody5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudDogaW5jb21pbmcgcXVlcnkgcmVzcG9uc2VcIixcIlJFU1BPTlNFIE1FU1NBR0VcIix0LFwiUVVFUlkgSURcIix0LmhlYWRlci5xdWVyeUlEKSxuKG51bGwsdCkpLGRlbGV0ZSBlW3QuaGVhZGVyLnF1ZXJ5SURdKX1mdW5jdGlvbiBKKGUsdCl7aWYoZSl3LnN5c3RlbS53YXJuKFwiUm91dGVyQ2xpZW50OiBpbmNvbWUgcHVibGlzaCByZWplY3RlZCBieSBwdWJzdWIgcmVzcG9uZGVyXCIsZSx0KTtlbHNle2JbdGhpcy5oZWFkZXIudG9waWNdPXQ7Y29uc3Qgbj1TW3RoaXMuaGVhZGVyLnRvcGljXTtpZih2b2lkIDAhPT1uKWZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSsrKXcuc3lzdGVtLmluZm8oXCJSb3V0ZXJDbGllbnQ6IHNlbmRpbmcgcHVic3ViIG5vdGlmeVwiLFwiVE9QSUNcIix0aGlzLmhlYWRlci50b3BpYyxcIk5PVElGWSBEQVRBXCIsdCksRyhuZXcgSChuW2ldLHRoaXMuaGVhZGVyLnRvcGljLGUsdCkpfX1mdW5jdGlvbiBYKGUsdCl7dmFyIG4saSxyOyhmdW5jdGlvbihlKXtsZXQgdD0hMTtyZXR1cm4gdm9pZCAwPT09ZSYmKHQ9ITApLHR9KSh0KXx8RyhuZXcgSCh0aGlzLmhlYWRlci5zdWJzY3JpYmVJRCx0aGlzLmhlYWRlci50b3BpYyxlLHQpKSxlP3cuc3lzdGVtLndhcm4oXCJSb3V0ZXJDbGllbnQ6IGluY29taW5nIHN1YnNjcmlwdGlvbiByZWplY3RlZCBieSBwdWJzdWIgcmVzcG9uZGVyXCIsXCJUT1BJQ1wiLHRoaXMuaGVhZGVyLnRvcGljLFwiTUVTU0FHRVwiLHRoaXMpOihuPVMsaT10aGlzLmhlYWRlci50b3BpYyxyPXRoaXMuaGVhZGVyLnN1YnNjcmliZUlELGkgaW4gbj9uW2ldLnB1c2gocik6bltpXT1bcl0sdy5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudDogaW5jb21pbmcgc3Vic2NyaXB0aW9uIGFkZGVkXCIsXCJUT1BJQ1wiLHRoaXMuaGVhZGVyLnRvcGljLFwiTUVTU0FHRVwiLHRoaXMpKX1mdW5jdGlvbiBlZSgpeyFmdW5jdGlvbihlLHQsbil7bGV0IGk9ITE7aWYodCBpbiBlKXtjb25zdCByPVNbdF07Zm9yKGxldCBvPTA7bzxyLmxlbmd0aDtvKyspaWYobj09PXJbb10pe3Iuc3BsaWNlKG8sMSksMD09PXIubGVuZ3RoJiZkZWxldGUgZVt0XSxpPSEwLHcuc3lzdGVtLmluZm8oXCJSb3V0ZXJDbGllbnQ6IFB1YlN1YiByZW1vdmVMaXN0ZW5lclwiLFwiVE9QSUNcIix0LFwiRlJPTVwiLG4pO2JyZWFrfX1pfHx3LnN5c3RlbS53YXJuKGBSb3V0ZXJDbGllbnQ6IHRyaWVkIHRvIHJlbW92ZSBub24tZXhpc3RlbnQgbGlzdGVuZXIgb24gJHt0fSBmcm9tICR7SlNPTi5zdHJpbmdpZnkobil9YCl9KFMsdGhpcy5oZWFkZXIudG9waWMsdGhpcy5oZWFkZXIuc3Vic2NyaWJlSUQpfWZ1bmN0aW9uIHRlKGUpe3N3aXRjaCh3LnN5c3RlbS52ZXJib3NlKFwiSW5jb21pbmcgTWVzc2FnZSBUeXBlXCIsZS5oZWFkZXIudHlwZSxlKSxlLmhlYWRlci50eXBlKXtjYXNlXCJ0cmFuc21pdFwiOiFmdW5jdGlvbihlLHQpe2NvbnN0IG49ZVt0LmhlYWRlci5jaGFubmVsXXx8W10saT1bXTtpZihBcnJheS5pc0FycmF5KG4pJiYwIT09bi5sZW5ndGgpe3Qub3JpZ2luYXRlZEhlcmU9WSxuLmZvckVhY2goZT0+e2kucHVzaChlKX0pO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXcuaXNMb2dNZXNzYWdlKHQuaGVhZGVyLmNoYW5uZWwpfHx3LnN5c3RlbS5pbmZvKFwiUm91dGVyQ2xpZW50OiBpbmNvbWluZyB0cmFuc21pdFwiLFwiQ0hBTk5FTFwiLHQuaGVhZGVyLmNoYW5uZWwsXCJGUk9NXCIsdC5oZWFkZXIub3JpZ2luLFwiTUVTU0FHRVwiLHQpLGlbZV0obnVsbCx0KX1lbHNlIHcuc3lzdGVtLndhcm4oYFJvdXRlckNsaWVudDogbm8gbGlzdGVuZXIgZm9yIGluY29taW5nIHRyYW5zbWl0IG9uIGNoYW5uZWwgJHt0LmhlYWRlci5jaGFubmVsfSBmcm9tICR7dC5oZWFkZXIub3JpZ2lufWAsdCl9KG8sZSk7YnJlYWs7Y2FzZVwicXVlcnlcIjpLKHMsZSk7YnJlYWs7Y2FzZVwicXVlcnlSZXNwb25zZVwiOlooVCxlKTticmVhaztjYXNlXCJub3RpZnlcIjohZnVuY3Rpb24oZSx0KXtjb25zdCBuPWVbdC5oZWFkZXIuc3Vic2NyaWJlSURdO3ZvaWQgMD09PW4/dy5zeXN0ZW0ud2FybihcIlJvdXRlckNsaWVudDogbm8gc3Vic2NyaXB0aW9uIGhhbmRsZXIgZGVmaW5lZCBmb3IgaW5jb21pbmcgbm90aWZ5IGZvciBzdWJzY3JpYmVySURcIix0LmhlYWRlci5zdWJzY3JpYmVJRCx0KTp0LmhlYWRlci5lcnJvcj8ody5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudDogaW5jb21pbmcgUHViU3ViIG5vdGlmeSBlcnJvciBmb3Igc3Vic2NyaWJlcklEXCIsXCJTVUJTQ1JJQkVSIElEXCIsdC5oZWFkZXIuc3Vic2NyaWJlSUQsXCJOT1RJRlkgTUVTU0FHRVwiLHQpLG4odC5oZWFkZXIuZXJyb3IsdCkpOih0Lm9yaWdpbmF0ZWRIZXJlPVksdy5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudDogaW5jb21pbmcgUHViU3ViIG5vdGlmeVwiLFwiU1VCU0NSSUJFUiBJRFwiLHQuaGVhZGVyLnN1YnNjcmliZUlELFwiTk9USUZZIE1FU1NBR0VcIix0KSxuKG51bGwsdCkpfShDLGUpO2JyZWFrO2Nhc2VcInB1Ymxpc2hcIjohZnVuY3Rpb24oZSl7bGV0IHQ9aFtlLmhlYWRlci50b3BpY107aWYodm9pZCAwPT09dClmb3IoY29uc3QgbiBpbiB2KWlmKHZbbl0udGVzdChlLmhlYWRlci50b3BpYykpe3Q9aFtuXTticmVha312b2lkIDA9PT10P3cuc3lzdGVtLndhcm4oXCJSb3V0ZXJDbGllbnQ6IG5vIHB1YnN1YiByZXNwb25kZXIgZGVmaW5lZCBmb3IgaW5jb21pbmcgcHVibGlzaFwiLFwiVE9QSUNcIixlLmhlYWRlci50b3BpYyxcIlBVQkxJU0ggTUVTU0FHRVwiLGUpOihlLnNlbmROb3RpZnlUb0FsbFN1YnNjcmliZXJzPUosdC5wdWJsaXNoQ2FsbGJhY2s/KHcuc3lzdGVtLmluZm8oXCJSb3V0ZXJDbGllbnQ6IGluY29taW5nIFB1YlN1YiBwdWJsaXNoIGNhbGxiYWNrIGludm9rZWRcIixcIlRPUElDXCIsZS5oZWFkZXIudG9waWMsXCJQVUJMSVNIIE1FU1NBR0VcIixlKSx0LnB1Ymxpc2hDYWxsYmFjayhudWxsLGUpKToody5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudDogaW5jb21pbmcgUHViU3ViIHB1Ymxpc2hcIixcIlRPUElDXCIsZS5oZWFkZXIudG9waWMsXCJQVUJMSVNIIE1FU1NBR0VcIixlKSxlLnNlbmROb3RpZnlUb0FsbFN1YnNjcmliZXJzKG51bGwsZS5kYXRhKSkpfShlKTticmVhaztjYXNlXCJzdWJzY3JpYmVcIjohZnVuY3Rpb24oZSl7dy5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudDogUHViU3ViIHN1YnNjcmliZVwiLFwiVE9QSUNcIixlLmhlYWRlci50b3BpYyk7bGV0IHQ9aFtlLmhlYWRlci50b3BpY107aWYodm9pZCAwPT09dClmb3IoY29uc3QgbiBpbiB2KWlmKHZbbl0udGVzdChlLmhlYWRlci50b3BpYykpe3Q9aFtuXTtsZXQgaT1iW2UuaGVhZGVyLnRvcGljXTt2b2lkIDA9PT1pJiYoaT1iW25dKSxiW2UuaGVhZGVyLnRvcGljXT1pO2JyZWFrfXZvaWQgMD09PXQ/dy5zeXN0ZW0ud2FybihcIlJvdXRlckNsaWVudDogbm8gcHVic3ViIHJlc3BvbmRlciBkZWZpbmVkIGZvciBpbmNvbWluZyBzdWJzY3JpYmVcIixlKTplLmhlYWRlci5lcnJvcj93LnN5c3RlbS53YXJuKFwiUm91dGVyQ2xpZW50OiBwdWJzdWIgZXJyb3IgcmVjZWl2ZWQgZnJvbSByb3V0ZXIgc2VydmljZTogXCIrSlNPTi5zdHJpbmdpZnkoZS5oZWFkZXIuZXJyb3IpKTooZS5zZW5kTm90aWZ5VG9TdWJzY3JpYmVyPVgsdC5zdWJzY3JpYmVDYWxsYmFjaz8oZS5kYXRhPWJbZS5oZWFkZXIudG9waWNdLHQuc3Vic2NyaWJlQ2FsbGJhY2sobnVsbCxlKSk6ZS5zZW5kTm90aWZ5VG9TdWJzY3JpYmVyKG51bGwsYltlLmhlYWRlci50b3BpY10pKX0oZSk7YnJlYWs7Y2FzZVwidW5zdWJzY3JpYmVcIjohZnVuY3Rpb24oZSl7bGV0IHQ9aFtlLmhlYWRlci50b3BpY107aWYodm9pZCAwPT09dClmb3IoY29uc3QgbiBpbiB2KWlmKHZbbl0udGVzdChlLmhlYWRlci50b3BpYykpe3Q9aFtuXTticmVha312b2lkIDA9PT10P3cuc3lzdGVtLndhcm4oXCJSb3V0ZXJDbGllbnQ6IG5vIHB1YnN1YiByZXNwb25kZXIgZGVmaW5lZCBmb3IgaW5jb21pbmcgdW5zdWJzY3JpYmVcIixcIlRPUElDXCIsZS5oZWFkZXIudG9waWMsXCJVTlNVQlNDUklCRSBNRVNTQUdFXCIsZSk6KGUucmVtb3ZlU3Vic2NyaWJlcj1lZSx0LnVuc3Vic2NyaWJlQ2FsbGJhY2s/KHcuc3lzdGVtLmluZm8oXCJSb3V0ZXJDbGllbnQ6IGluY29taW5nIHVuc3Vic2NyaWJlIGNhbGxiYWNrXCIsXCJUT1BJQ1wiLGUuaGVhZGVyLnRvcGljLFwiVU5TVUJTQ1JJQkUgTUVTU0FHRVwiLGUpLHQudW5zdWJzY3JpYmVDYWxsYmFjayhudWxsLGUpKToody5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudDogaW5jb21pbmcgdW5zdWJzY3JpYmVcIixcIlRPUElDXCIsZS5oZWFkZXIudG9waWMsXCJVTlNVQlNDUklCRSBNRVNTQUdFXCIsZSksZS5yZW1vdmVTdWJzY3JpYmVyKCkpKX0oZSk7YnJlYWs7Y2FzZVwidGltZUNhbGlicmF0aW9uXCI6Y29uc3QgdD0oKT0+e3I/cihlKTpzZXRUaW1lb3V0KCgpPT57dCgpfSwxMCl9O3QoKTticmVhaztjYXNlXCJpbml0aWFsSGFuZHNoYWtlUmVzcG9uc2VcIjppKCl9fWZ1bmN0aW9uIG5lKGUsdCl7dC5oZWFkZXIubGFzdENsaWVudD1BLHQuaGVhZGVyLmluY29taW5nVHJhbnNwb3J0SW5mbz1lLHRlKHQpfWZ1bmN0aW9uIGllKCl7cmV0dXJuYCR7QX0uJHtnLnY0KCl9YH1mdW5jdGlvbiByZShlLHQsbil7ZVt0XT1ufWZ1bmN0aW9uIG9lKGUsdCxuLGkpe2k+MCYmKGVbdF09c2V0VGltZW91dCgoKT0+e3cuc3lzdGVtLndhcm4oYFJvdXRlckNsaWVudDogdGltZW91dCB3YWl0aW5nIG9uIHF1ZXJ5IHJlc3BvbnNlIG9uIGNoYW5uZWwgJHtufSBmb3IgcXVlcnlJRCAke3R9IG9uIHRpbWVyICR7ZVt0XX0gdGltZW91dD0ke2l9YCl9LGkpKX1mdW5jdGlvbiBzZShlLHQpe2xldCBuPSExO3JldHVybiB2b2lkIDAhPT1lW3RdJiYoZGVsZXRlIGVbdF0sbj0hMCksbn1yZXR1cm4gdGhpcy5zdGFydHVwVGltZT0wLHRoaXMuY2FsaWJyYXRlVGltZVdpdGhSb3V0ZXJTZXJ2aWNlPWZ1bmN0aW9uKGUpe2xldCB0LG49MCxpPTEvMDtyPWZ1bmN0aW9uKHIpe24rKyxuPjU/ZnVuY3Rpb24obil7bGV0IHI9MDtmb3IobGV0IGU9MTtlPDU7ZSsrKXtjb25zdCBvPW4uY2xpZW50QmFzZVRpbWVbZS0xXSxzPW4uY2xpZW50QmFzZVRpbWVbZV0tbyxhPW4uc2VydmljZUJhc2VUaW1lW2UtMV0tKG8rcy8yKTtzPGkmJihpPXMsdD1hKSxyKz1hLHcuc3lzdGVtLmRlYnVnKFwiY2FsaWJyYXRpb25DYWxjdWxhdGlvbiBJbnRlcm1lZGlhdGUgVmFsdWVzXCIsXCJsYXN0UlJUXCIscyxcImxhc3RPZmZzZXRcIixhLFwiZmFzdGVzdE9mZnNldFwiLHQsXCJmYXN0ZXN0UlJUXCIsaSl9ci89NCx3LnN5c3RlbS5kZWJ1ZyhcIlJvdXRlckNsaWVudCBjYWxpYnJhdGlvbkNhbGN1bGF0aW9uXCIsXCJBdmVyYWdlIE9mZnNldFwiLHIsXCJDaG9zZW4gRmFzdGVzdE9mZnNldFwiLHQsbiksZSh0KX0ocik6KHIuY2xpZW50QmFzZVRpbWUucHVzaCh5LnBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQreS5wZXJmb3JtYW5jZS5ub3coKSksRyhuZXcgayhyLmNsaWVudEJhc2VUaW1lLHIuc2VydmljZUJhc2VUaW1lKSkpfSxyKG5ldyBrKFtdLFtdKSl9LHRoaXMucmVhZHk9ZT0+dGhpcy5vblJlYWR5KGUpLHRoaXMuZ2V0Q2xpZW50TmFtZT1mdW5jdGlvbigpe3JldHVybiB3LnN5c3RlbS5kZWJ1ZyhcIlJvdXRlckNsaWVudC5nZXRDbGllbnROYW1lXCIsQSksQX0sdGhpcy5vblJlYWR5PWZ1bmN0aW9uKGUpe2wuZGVmYXVsdC5hcmdzKGUsXCJmdW5jdGlvblwiKSxPP2UoKTpMLnB1c2goZSl9LHRoaXMuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt3LnN5c3RlbS5pbmZvKFwiUm91dGVyQ2xpZW50LmFkZExpc3RlbmVyXCIsXCJDSEFOTkVMXCIsZSksbC5kZWZhdWx0LmFyZ3MoZSxcInN0cmluZ1wiLHQsXCJmdW5jdGlvblwiKTsoZnVuY3Rpb24oZSx0LG4pe2xldCBpPSExO2NvbnN0IHI9ZVt0XTtyZXR1cm4gdm9pZCAwPT09cnx8MD09PXIubGVuZ3RoPyhlW3RdPVtuXSxpPSEwKTpyLnB1c2gobiksaX0pKG8sZSx0KSYmRyhuZXcgTihlKSl9LHRoaXMudHJhbnNtaXQ9ZnVuY3Rpb24oZSx0LG49e3N1cHByZXNzV2FybmluZ3M6ITF9KXt3LmlzTG9nTWVzc2FnZShlKXx8dy5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudC50cmFuc21pdFwiLFwiVE8gQ0hBTk5FTFwiLGUsXCJFVkVOVFwiLHQpLGwuZGVmYXVsdC5hcmdzKGUsXCJzdHJpbmdcIix0LFwiYW55XCIpLEcobmV3IGooZSx0LG4pKX0sdGhpcy5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3cuc3lzdGVtLmluZm8oXCJSb3V0ZXJDbGllbnQucmVtb3ZlTGlzdGVuZXJcIixcIkNIQU5ORUxcIixlLFwiRVZFTlQgSEFORExFUlwiLHQpLGwuZGVmYXVsdC5hcmdzKGUsXCJzdHJpbmdcIix0LFwiZnVuY3Rpb25cIik7KGZ1bmN0aW9uKGUsdCxuKXtsZXQgaT0hMTtjb25zdCByPWVbdF07aWYodm9pZCAwIT09cil7Y29uc3QgZT1yLmluZGV4T2Yobik7ZT4tMT8oci5zcGxpY2UoZSwxKSwwPT09ci5sZW5ndGgmJihpPSEwKSk6dy5zeXN0ZW0ud2FybihcIm5vIGxpc3RlbmVyIGRlZmluZWQgZm9yIGNoYW5uZWw6IFwiK3QpfXJldHVybiBpfSkobyxlLHQpJiZHKG5ldyBXKGUpKX0sdGhpcy5hZGRSZXNwb25kZXI9ZnVuY3Rpb24oZSx0KXt3LnN5c3RlbS5pbmZvKFwiUm91dGVyQ2xpZW50LmFkZFJlc3BvbmRlclwiLFwiQ0hBTk5FTFwiLGUpLGwuZGVmYXVsdC5hcmdzKGUsXCJzdHJpbmdcIix0LFwiZnVuY3Rpb25cIik7KGZ1bmN0aW9uKGUsdCxuKXtsZXQgaT0hMTtyZXR1cm4gdm9pZCAwPT09ZVt0XSYmKGVbdF09bixpPSEwKSxpfSkocyxlLHQpP0cobmV3IFIoZSkpOih3LnN5c3RlbS53YXJuKFwiUm91dGVyQ2xpZW50LmFkZFJlc3BvbmRlcjogUmVzcG9uZGVyIGFscmVhZHkgbG9jYWxseSBkZWZpbmVkIGZvciBjaGFubmVsIFwiK2UpLHQoe1wiUm91dGVDbGllbnQgUXVlcnlFcnJvclwiOlwiUmVzcG9uZGVyIGFscmVhZHkgbG9jYWxseSBkZWZpbmVkIGZvciBjaGFubmVsXCIrZX0sbnVsbCkpfSx0aGlzLnF1ZXJ5PWZ1bmN0aW9uKGUsdCxuLGk9RnVuY3Rpb24ucHJvdG90eXBlKXtjb25zdCByPWAke2llKCl9LiR7ZX1gLG89d2luZG93LnBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQrd2luZG93LnBlcmZvcm1hbmNlLm5vdygpLHM9d2luZG93LnBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQsYT13aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7ZnVuY3Rpb24gdSh1KXtyZShULHIsKGMsbCk9Pnt1KHtlcnI6YyxyZXNwb25zZTpsfSksXCJmdW5jdGlvblwiPT10eXBlb2YgaT9pKGMsbCk6dy5zeXN0ZW0ud2FybihcIk5vIHJlc3BvbnNlIGV2ZW50IGhhbmRsZXIgcGFzc2VkIHRvIFJvdXRlckNsaWVudC5xdWVyeVwiLFwiUkVTUE9OREVSIENIQU5ORUxcIixlLFwiUVVFUlkgRVZFTlRcIix0LFwiUEFSQU1TXCIsbixcIlFVRVJZIElEXCIscix7dGltZXN0YW1wOm8sbmF2c3RhcnQ6cyx0aW1lbm93OmF9KX0pLG9lKEUscixlLG4udGltZW91dCksRyhuZXcgUChyLGUsdCkpfXJldHVybiB3LnN5c3RlbS5pbmZvKFwiUm91dGVyQ2xpZW50LnF1ZXJ5XCIsXCJSRVNQT05ERVIgQ0hBTk5FTFwiLGUsXCJRVUVSWSBFVkVOVFwiLHQsXCJQQVJBTVNcIixuLFwiUVVFUlkgSURcIixyLHt0aW1lc3RhbXA6byxuYXZzdGFydDpzLHRpbWVub3c6YX0pLDM9PT1hcmd1bWVudHMubGVuZ3RoJiYoaT1uLG49e3RpbWVvdXQ6MmU0fSksbC5kZWZhdWx0LmFyZ3MoZSxcInN0cmluZ1wiLHQsXCJhbnk9XCIsbixcIm9iamVjdD1cIixpLFwiZnVuY3Rpb25cIiksbj1ufHx7fSxsLmRlZmF1bHQuYXJnczIoXCJwYXJhbXMudGltZW91dFwiLG4udGltZW91dCxcIm51bWJlclwiKSxuZXcgUHJvbWlzZSh1KX0sdGhpcy5yZW1vdmVSZXNwb25kZXI9ZnVuY3Rpb24oZSl7dy5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudC5yZW1vdmVSZXNwb25kZXJcIixcIlJFU1BPTkRFUiBDSEFOTkVMXCIsZSksbC5kZWZhdWx0LmFyZ3MoZSxcInN0cmluZ1wiKTtzZShzLGUpJiZHKG5ldyB4KGUpKX0sdGhpcy5hZGRQdWJTdWJSZXNwb25kZXI9ZnVuY3Rpb24odCxuLGkscil7bGV0IG8scztpZih3LnN5c3RlbS5pbmZvKFwiUm91dGVyQ2xpZW50LmFkZFB1YlN1YlJlc3BvbmRlclwiLFwiVE9QSUNcIix0LFwiSU5JVElBTCBTVEFURVwiLG4sXCJQQVJBTVNcIixpKSxsLmRlZmF1bHQuYXJncyh0LFwiYW55XCIsbixcIm9iamVjdD1cIixlLFwib2JqZWN0PVwiKSxpPWl8fHt9LGwuZGVmYXVsdC5hcmdzMihcInBhcmFtcy5zdWJzY3JpYmVDYWxsYmFja1wiLGkuc3Vic2NyaWJlQ2FsbGJhY2ssXCJmdW5jdGlvbj1cIixcInBhcmFtcy5wdWJsaXNoQ2FsbGJhY2tcIixpLnB1Ymxpc2hDYWxsYmFjayxcImZ1bmN0aW9uPVwiKSYmbC5kZWZhdWx0LmFyZ3MyKFwicGFyYW1zLnVuc3Vic2NyaWJlQ2FsbGJhY2tcIixpLnVuc3Vic2NyaWJlQ2FsbGJhY2ssXCJmdW5jdGlvbj1cIiksdm9pZCAwPT09aS5zdWJzY3JpYmVDYWxsYmFjayYmdm9pZCAwPT09aS5wdWJsaXNoQ2FsbGJhY2smJnZvaWQgMD09PWkudW5zdWJzY3JpYmVDYWxsYmFjayluPW58fHt9LEcobmV3IFYodC50b1N0cmluZygpLG4sITApKSxzPVwic3VjY2Vzc1wiO2Vsc2V7KGZ1bmN0aW9uKGUsdCxuLGkpe2xldCByPSExO3JldHVybiB2b2lkIDA9PT1oW2UudG9TdHJpbmcoKV0mJihlIGluc3RhbmNlb2YgUmVnRXhwJiYodltlLnRvU3RyaW5nKCldPWUsdy5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudDogUHViU3ViIFJlZ0V4IGFkZGVkIGZvciB0b3BpYyBcIitlLnRvU3RyaW5nKCkpKSxoW2UudG9TdHJpbmcoKV09e3N1YnNjcmliZUNhbGxiYWNrOnQscHVibGlzaENhbGxiYWNrOm4sdW5zdWJzY3JpYmVDYWxsYmFjazppfSxyPSEwKSxyfSkodCxpLnN1YnNjcmliZUNhbGxiYWNrLGkucHVibGlzaENhbGxiYWNrLGkudW5zdWJzY3JpYmVDYWxsYmFjayk/KG49bnx8e30sYlt0LnRvU3RyaW5nKCldPXUuY2xvbmUobiksRyhuZXcgVih0LnRvU3RyaW5nKCksbiwhMSkpLHM9XCJzdWNjZXNzXCIpOihvPVwiUm91dGVyQ2xpZW50LmFkZFB1YlN1YlJlc3BvbmRlcjogUmVzcG9uZGVyIGFscmVhZHkgbG9jYWxseSBkZWZpbmVkIGZvciB0b3BpYyBcIit0LHcuc3lzdGVtLmVycm9yKG8pKX1yJiZyKG8scyl9LHRoaXMucmVtb3ZlUHViU3ViUmVzcG9uZGVyPWZ1bmN0aW9uKGUpe3cuc3lzdGVtLmluZm8oXCJSb3V0ZXJDbGllbnQucmVtb3ZlUHViU3ViUmVzcG9uZGVyXCIsXCJUT1BJQ1wiLGUpLGwuZGVmYXVsdC5hcmdzKGUsXCJhbnlcIik7c2UoaCxlKT8oZGVsZXRlIGJbZS50b1N0cmluZygpXSxkZWxldGUgdltlLnRvU3RyaW5nKCldLEcobmV3IHEoZSkpKTp3LnN5c3RlbS53YXJuKFwiUm91dGVyQ2xpZW50LnJlbW92ZVB1YlN1YlJlc3BvbmRlciBmYWlsZWQ6IENvdWxkIG5vdCBmaW5kIHJlc3BvbmRlciBmb3IgdG9waWMgXCIrZSl9LHRoaXMuc3Vic2NyaWJlPWZ1bmN0aW9uKGUsdCl7dy5zeXN0ZW0uaW5mbyhcIlJvdXRlckNsaWVudC5zdWJzY3JpYmVcIixcIlRPUElDXCIsZSksbC5kZWZhdWx0LmFyZ3MoZSxcInN0cmluZ1wiLHQsXCJmdW5jdGlvblwiKTtjb25zdCBuPWllKCk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLGkpe2VbdF09bixfW3RdPWl9KEMsbix0LGUpLEcobmV3IEIobixlKSkse3N1YnNjcmliZUlEOm4sdG9waWM6ZX19LHRoaXMucHVibGlzaD1mdW5jdGlvbihlLHQpe3cuc3lzdGVtLmluZm8oXCJSb3V0ZXJDbGllbnQucHVibGlzaFwiLFwiVE9QSUNcIixlLFwiRVZFTlRcIix0KSxsLmRlZmF1bHQuYXJncyhlLFwic3RyaW5nXCIsdCxcImFueVwiKSxHKG5ldyB6KGUsdCkpfSx0aGlzLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe3cuc3lzdGVtLmluZm8oXCJSb3V0ZXJDbGllbnQudW5zdWJzY3JpYmVcIixcIlNVQlNDUklCRSBJRFwiLGUpLGwuZGVmYXVsdC5hcmdzKGUsXCJvYmplY3RcIikmJmwuZGVmYXVsdC5hcmdzMihcInN1YnNjcmliZUlEU3RydWN0LnN1YnNjcmliZUlEXCIsZS5zdWJzY3JpYmVJRCxcInN0cmluZ1wiKTsoZnVuY3Rpb24oZSx0KXtsZXQgbj0hMTtyZXR1cm4gdm9pZCAwIT09ZVt0XSYmKGRlbGV0ZSBlW3RdLG49ITApLG59KShDLGUuc3Vic2NyaWJlSUQpP0cobmV3IFUoZS5zdWJzY3JpYmVJRCxlLnRvcGljKSk6dy5zeXN0ZW0ud2FybihcIlJvdXRlckNsaWVudC51bnN1YnNjcmliZTogQ291bGQgbm90IGZpbmQgc3Vic2NyaWJlSUQgZm9yIHRvcGljIFwiK2UudG9waWMpfSx0aGlzLnRydXN0ZWRNZXNzYWdlPWZ1bmN0aW9uKGUpe2xldCB0PSEwO3JldHVybiB3LnN5c3RlbS5kZWJ1ZyhcIlJvdXRlckNsaWVudC50cnVzdGVkTWVzc2FnZSBoZWFkZXJcIixlLmhlYWRlciksXCJTaGFyZWRXb3JrZXJcIj09PWUuaGVhZGVyLm9yaWdpbkluY29taW5nVHJhbnNwb3J0SW5mby50cmFuc3BvcnRJRCYmKHQ9ITApLHR9LHRoaXMuZGlzY29ubmVjdEFsbD1mdW5jdGlvbigpe3cuc3lzdGVtLmluZm8oXCJSb3V0ZXJDbGllbnQuZGlzY29ubmVjdEFsbFwiKTtmb3IoY29uc3QgZSBpbiBvKXcuc3lzdGVtLmRlYnVnKFwiUm91dGVyQ2xpZW50LmRpc2Nvbm5lY3RBbGwgaXMgcmVtb3ZpbmcgbGlzdGVuZXIgb24gXCIrZSksRyhuZXcgVyhlKSksZGVsZXRlIG9bZV07Zm9yKGNvbnN0IGUgaW4gcyl3LnN5c3RlbS5kZWJ1ZyhcIlJvdXRlckNsaWVudC5kaXNjb25uZWN0QWxsIGlzIHJlbW92aW5nIHJlc3BvbmRlciBvbiBcIitlKSxHKG5ldyB4KGUpKSxkZWxldGUgc1tlXTtmb3IoY29uc3QgZSBpbiBoKXcuc3lzdGVtLmRlYnVnKFwiUm91dGVyQ2xpZW50LmRpc2Nvbm5lY3RBbGwgaXMgcmVtb3ZpbmcgcHVic3ViIHJlc3BvbmRlciBvbiBcIitlKSxHKG5ldyBxKGUpKSxkZWxldGUgaFtlLnRvU3RyaW5nKCldLGRlbGV0ZSBiW2UudG9TdHJpbmcoKV0sZGVsZXRlIHZbZS50b1N0cmluZygpXTtmb3IoY29uc3QgZSBpbiBDKXtjb25zdCB0PV9bZV07dy5zeXN0ZW0uZGVidWcoXCJSb3V0ZXJDbGllbnQuZGlzY29ubmVjdEFsbCBpcyByZW1vdmluZyBzdWJzY3JpYmVyIG9uIFwiK3QpLEcobmV3IFUoZSx0KSksZGVsZXRlIENbZV0sZGVsZXRlIF9bZV19fSxcImxvZ2dlclNlcnZpY2VcIj09PWYuU3lzdGVtLldpbmRvdy5nZXRDdXJyZW50KCkubmFtZSYmKHc9bmV3IHAuTG9jYWxMb2dnZXIpLEE9YCR7dH0uJHtmLlN5c3RlbS5XaW5kb3cuZ2V0Q3VycmVudCgpLm5hbWV9YCxBIGluIHkuRlNCTERhdGEuUm91dGVyQ2xpZW50cz8ody5zeXN0ZW0uZGVidWcoJ1wiUm91dGVyQ2xpZW50IENoZWNrOiByZXVzaW5nIGV4aXN0aW5nIGNsaWVudCBmb3IgJytBKSxjb25zb2xlLmRlYnVnKCdcIlJvdXRlckNsaWVudCBDaGVjazogcmV1c2luZyBleGlzdGluZyBjbGllbnQgZm9yICcrQSx5KSk6KHcuc3lzdGVtLmRlYnVnKCdcIlJvdXRlckNsaWVudCBDaGVjazogY29uc3RydWN0aW5nIG5ldyBjbGllbnQgZm9yICcrQSksY29uc29sZS5kZWJ1ZygnXCJSb3V0ZXJDbGllbnQgQ2hlY2s6IGNvbnN0cnVjdGluZyBuZXcgY2xpZW50IGZvciAnK0EseSkseS5GU0JMRGF0YS5Sb3V0ZXJDbGllbnRzW0FdPXRoaXMsZnVuY3Rpb24oZSx0KXt3LnN5c3RlbS5kZWJ1ZyhcIldJTkRPVyBMSUZFQ1lDTEU6U1RBUlRVUDpSb3V0ZXJDbGllbnQgQ29uc3RydWN0b3I6TmFtZTpcIixlKTtsZXQgcj0wO2Z1bmN0aW9uIG8ocil7dy5zeXN0ZW0uaW5mbyhcIldJTkRPVyBMSUZFQ1lDTEU6U1RBUlRVUDpSb3V0ZXJDbGllbnQ6cHJvY2Vzc01hbmlmZXN0XCIpLHImJlwic3RyaW5nXCIhPXR5cGVvZiByP2Z1bmN0aW9uKGUsdCxyLG8pe3cuc3lzdGVtLnZlcmJvc2UoYENsaWVudCAke3R9IGNvbm5lY3RpbmcgdG8gZXZlbnQgcm91dGVyYCksdy5zeXN0ZW0udmVyYm9zZShcIk5hbWUgb2YgdHJhbnNwb3J0IHRvIGVzdGFibGlzaDogXCIrcik7Y29uc3Qgcz12b2lkIDA9PT1yO2xldCB1LGwsZj0hMSxoPTA7Y29uc3QgcD1lLmZpbnNlbWJsZSxnPXtGaW5zZW1ibGVVVUlEOnAuRmluc2VtYmxlVVVJRCxhcHBsaWNhdGlvblJvb3Q6cC5hcHBsaWNhdGlvblJvb3Qscm91dGVyRG9tYWluUm9vdDpwLm1vZHVsZVJvb3QsZm9yY2VXaW5kb3dUcmFuc3BvcnQ6Yy5Db25maWdVdGlsSW5zdGFuY2UuZ2V0RGVmYXVsdChwLFwiZmluQ29uZmlnLnJvdXRlci5mb3JjZVdpbmRvd1RyYW5zcG9ydFwiLHt9KSxzYW1lRG9tYWluVHJhbnNwb3J0OmMuQ29uZmlnVXRpbEluc3RhbmNlLmdldERlZmF1bHQocCxcImZpbkNvbmZpZy5yb3V0ZXIuc2FtZURvbWFpblRyYW5zcG9ydFwiLFwiU2hhcmVkV29ya2VyXCIpLGNyb3NzRG9tYWluVHJhbnNwb3J0OmMuQ29uZmlnVXRpbEluc3RhbmNlLmdldERlZmF1bHQocCxcImZpbkNvbmZpZy5yb3V0ZXIuY3Jvc3NEb21haW5UcmFuc3BvcnRcIixcIklQQ0J1c1wiKSx0cmFuc3BvcnRTZXR0aW5nczpjLkNvbmZpZ1V0aWxJbnN0YW5jZS5nZXREZWZhdWx0KHAsXCJmaW5Db25maWcucm91dGVyLnRyYW5zcG9ydFNldHRpbmdzXCIse30pLElBQzpjLkNvbmZpZ1V0aWxJbnN0YW5jZS5nZXREZWZhdWx0KHAsXCJmaW5Db25maWcuSUFDXCIse30pfTtsZXQgeSxiLHYsUyxDLF87eT1lPT57bD0wLHcuc3lzdGVtLmRlYnVnKFwiV0lORE9XIExJRkVDWUNMRTpTVEFSVFVQOlJvdXRlckNsaWVudDp0cmFuc3BvcnQgcmVhZHlcIixcIlRSQU5TUE9SVCBPQkpFQ1RcIixlKSxJPWUsaT1fLEMoKSx1PXNldEludGVydmFsKEMsMjAwKX0sYj1lPT57dy5zeXN0ZW0uZXJyb3IoXCJSb3V0ZXJDbGllbnRFcnJvclwiLGUpfSx2PSgpPT57dy5zeXN0ZW0uZGVidWcoXCJXSU5ET1cgTElGRUNZQ0xFOlNUQVJUVVA6Um91dGVyQ2xpZW50OmdldENsaWVudFRyYW5zcG9ydFwiLFwiUk9VVEVSIFBBUkFNUzpcIixnKSxJPXM/YS5kZWZhdWx0LmdldFJlY29tbWVuZGVkVHJhbnNwb3J0KGcsbmUsQSxcIlJvdXRlclNlcnZpY2VcIikudGhlbih5KS5jYXRjaChiKTphLmRlZmF1bHQuZ2V0VHJhbnNwb3J0KGcsbixuZSxBLFwiUm91dGVyU2VydmljZVwiKS50aGVuKHkpLmNhdGNoKGIpfSxTPSgpPT57aWYoY2xlYXJJbnRlcnZhbCh1KSxoKyssaDw9Myl3LnN5c3RlbS5lcnJvcihcIldJTkRPVyBMSUZFQ1lDTEU6U1RBUlRVUDpSb3V0ZXJDbGllbnQ6IGZhaWx1cmUgdG8gY29ubmVjdCB0byByb3V0ZXIgc2VydmljZS4gUmV0cnlpbmcuLi5cIixoLGcpLHYoKTtlbHNle2NvbnN0IGU9XCJBIGNyb3NzIGRvbWFpbiB0cmFuc3BvcnQgaGFzIGZhaWxlZCB0byBjb25uZWN0LiBDcm9zcyBkb21haW4gY29tcG9uZW50cyBtYXkgbm90IHdvcmsuIFBsZWFzZSBjb250YWN0IHlvdXIgYWRtaW5pc3RyYXRvci5cIjt3LnN5c3RlbS5lcnJvcihlLGcpO2NvbnN0IHQ9Yy5Db25maWdVdGlsSW5zdGFuY2UuZ2V0RGVmYXVsdChwLFwiZmluQ29uZmlnLm5vdGlmaWNhdGlvblVSTFwiLHAubW9kdWxlUm9vdCtcIi9jb21wb25lbnRzL3N5c3RlbS9ub3RpZmljYXRpb24vbm90aWZpY2F0aW9uLmh0bWxcIik7ZC5kZWZhdWx0LmFsZXJ0KFwiZGV2XCIsXCJPTkNFLVNJTkNFLVNUQVJUVVBcIixcIkZTQkwtSW50ZXJuYWwtVHJhbnNwb3J0LUZhaWx1cmVcIixlLHt1cmw6dH0pfX0sQz0oKT0+e3cuc3lzdGVtLmRlYnVnKFwiV0lORE9XIExJRkVDWUNMRTpTVEFSVFVQOlJvdXRlckNsaWVudDogc2VuZEhhbmRzaGFrZVwiLGwpLEcobmV3IEQpLGwrKz41MCYmUygpfSxfPSgpPT57aWYoIWYpe2lmKHcuc3lzdGVtLmRlYnVnKGBXSU5ET1cgTElGRUNZQ0xFOlNUQVJUVVA6Um91dGVyQ2xpZW50IGNvbm5lY3RlZDogU3RhcnRpbmcgJHtBfSB3aXRoIHRyYW5zcG9ydCAke0kuaWRlbnRpZmllcigpfWApLGY9ITAsY2xlYXJJbnRlcnZhbCh1KSxtKWZvcihsZXQgZT0wO2U8bS5sZW5ndGg7ZSsrKXt3LnN5c3RlbS5kZWJ1ZyhcIlJvdXRlckNsaWVudDogZmlyaW5nIHF1ZXVlZCBtc2dcIik7Y29uc3QgdD1tW2VdO0kuc2VuZCh0KX1vJiZvKCl9fSx2KCl9KHIsZSx0LCQpOncuc3lzdGVtLmVycm9yKFwiV0lORE9XIExJRkVDWUNMRTpTVEFSVFVQOlJvdXRlckNsaWVudDpwcm9jZXNzTWFuaWZlc3QgZmFpbGVkIC0tIGZhdGFsIGVycm9yXCIscil9Zi5TeXN0ZW0ucmVhZHkoKCk9Pntjb25zdCBlPWYuU3lzdGVtLldpbmRvdy5nZXRDdXJyZW50KCk7dy5zeXN0ZW0uZGVidWcoXCJXSU5ET1cgTElGRUNZQ0xFOlNUQVJUVVA6IFN5c3RlbS5yZWFkeSBpbnZva2VkIGluIFwiK2UubmFtZSksY29uc29sZS5kZWJ1ZyhcIldJTkRPVyBMSUZFQ1lDTEU6U1RBUlRVUDogU3lzdGVtLnJlYWR5IGludm9rZWQgaW4gXCIrZS5uYW1lKSxNLnN0YXJ0dXBUaW1lPXBlcmZvcm1hbmNlLm5vdygpLDA9PXIrKyYmZS5nZXRPcHRpb25zKGU9PntlLmN1c3RvbURhdGEmJmUuY3VzdG9tRGF0YS5tYW5pZmVzdD8ody5zeXN0ZW0uZGVidWcoXCJSb3V0ZXIgSW5pdCB1c2luZyBjdXN0b20gZGF0YVwiKSxvKGUuY3VzdG9tRGF0YS5tYW5pZmVzdCkpOmMuQ29uZmlnVXRpbEluc3RhbmNlLmdldEV4cGFuZGVkUmF3TWFuaWZlc3QoZT0+e3cuc3lzdGVtLmRlYnVnKFwiUm91dGVyIEluaXQgdXNpbmcgZ2V0RXhwYW5kZWRSYXdNYW5pZmVzdFwiKSx5LkZpbnNlbWJsZVVVSUQmJihlLmZpbnNlbWJsZS5GaW5zZW1ibGVVVUlEPXkuRmluc2VtYmxlVVVJRCksbyhlKX0sZT0+e3cuc3lzdGVtLmVycm9yKFwiV0lORE9XIExJRkVDWUNMRTpTVEFSVFVQOlJvdXRlckNsaWVudDptYW5pZmVzdCBlcnJvclwiLGUpfSl9LGU9Pnt3LnN5c3RlbS5lcnJvcihcIldJTkRPVyBMSUZFQ1lDTEU6U1RBUlRVUDpmaW5XaW5kb3cuZ2V0T3B0aW9ucyBlcnJvclwiLGUpfSl9KX0oQSxuKSkseS5GU0JMRGF0YS5Sb3V0ZXJDbGllbnRzW0FdfX0pLmNhbGwodGhpcyxuKDUpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KTt2YXIgaT1uKDEwKSxyPW4oMCksbz1uLm4ocikscz1uKDIpLGE9e2FjdGl2ZVRyYW5zcG9ydHM6e30sYWRkVHJhbnNwb3J0KGUsdCl7dGhpcy5hY3RpdmVUcmFuc3BvcnRzW2VdPXQsby5hLnN5c3RlbS5sb2coYFJvdXRlclRyYW5zcG9ydCAke2V9IGFkZGVkIHRvIGFjdGl2ZVRyYW5zcG9ydHNgKX0sZ2V0QWN0aXZlVHJhbnNwb3J0cyhlKXtjb25zdCB0PVtdO2Z1bmN0aW9uIG4oZSl7LTE9PT10LmluZGV4T2YoZSkmJnQucHVzaChlKX1yZXR1cm4gcy5TeXN0ZW0uSW50ZXJBcHBsaWNhdGlvbkJ1cyYmbihcIklQQ0J1c1wiKSxcIkVsZWN0cm9uXCI9PT1zLlN5c3RlbS5jb250YWluZXImJm4oXCJGaW5zZW1ibGVUcmFuc3BvcnRcIiksU2hhcmVkV29ya2VyJiZuKFwiU2hhcmVkV29ya2VyXCIpLG4oZS5zYW1lRG9tYWluVHJhbnNwb3J0KSxuKGUuY3Jvc3NEb21haW5UcmFuc3BvcnQpLG8uYS5zeXN0ZW0ubG9nKFwiZ2V0QWN0aXZlVHJhbnNwb3J0c1wiLHQpLHR9LGdldERlZmF1bHRUcmFuc3BvcnQ6KGUsdCxuLGkpPT5hLmdldFRyYW5zcG9ydChlLFwiSVBDQnVzXCIsdCxuLGkpLGdldFJlY29tbWVuZGVkVHJhbnNwb3J0KGUsdCxuLGkpe2NvbnN0IHI9ZnVuY3Rpb24oKXtjb25zdHtzYW1lRG9tYWluVHJhbnNwb3J0OnR9PWUse2Nyb3NzRG9tYWluVHJhbnNwb3J0Om59PWU7bGV0IGk9dDtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3QuaHJlZj1lLnJvdXRlckRvbWFpblJvb3Q7Y29uc3Qgbj13aW5kb3cubG9jYXRpb24uaG9zdG5hbWU9PT10Lmhvc3RuYW1lLGk9d2luZG93LmxvY2F0aW9uLnByb3RvY29sPT09dC5wcm90b2NvbCxyPSh2b2lkIDAhPT13aW5kb3cubG9jYXRpb24ucG9ydD93aW5kb3cubG9jYXRpb24ucG9ydDo4MCk9PT0odm9pZCAwIT09dC5wb3J0P3QucG9ydDo4MCkscz0hKG4mJnImJmkpO3JldHVybiBvLmEuc3lzdGVtLmRlYnVnKGBUcmFuc3BvcnQgY3Jvc3NEb21haW49JHtzfSAoJHtufToke2l9OiR7cn0pYCksc30oKSYmKGk9biksby5hLnN5c3RlbS5sb2coYFRyYW5zcG9ydCBJbmZvOiBTZWxlY3RlZD0ke2l9IFNhbWVEb21haW5EZWZhdWx0PSR7dH0gQ3Jvc3NEb21haW5EZWZhdWx0PSR7bn1gKSxjb25zb2xlLmxvZyhgVHJhbnNwb3J0IEluZm86IFNlbGVjdGVkPSR7aX0gU2FtZURvbWFpbkRlZmF1bHQ9JHt0fSBDcm9zc0RvbWFpbkRlZmF1bHQ9JHtufWApLGl9KCk7cmV0dXJuIGEuZ2V0VHJhbnNwb3J0KGUscix0LG4saSl9LGdldFRyYW5zcG9ydChlLHQsbixpLHIpe2NvbnN0IG89dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKHMsYSk9Pntjb25zdCB1PW8uYWN0aXZlVHJhbnNwb3J0c1t0XTt1P25ldyB1KGUsbixpLHIsZT0+e3MoZSl9KTphKFwidW5rbm93biByb3V0ZXIgdHJhbnNwb3J0IG5hbWU6IFwiK3QpfSl9fTtjb25zdCB1PXtTaGFyZWRXb3JrZXJUcmFuc3BvcnQ6ZnVuY3Rpb24oZSx0LG4saSxyKXtsZXQgcztjb25zdCBhPXRoaXM7dGhpcy5zZW5kPWZ1bmN0aW9uKGUsdCl7MT09PWFyZ3VtZW50cy5sZW5ndGg/KHQ9YXJndW1lbnRzWzBdLGU9bnVsbCk6KGU9YXJndW1lbnRzWzBdLHQ9YXJndW1lbnRzWzFdKSxvLmEuc3lzdGVtLnZlcmJvc2UoXCJTaGFyZWRXb3JrZXJUcmFuc3BvcnQgT3V0Z29pbmcgVHJhbnNwb3J0XCIsdCk7dHJ5e3MucG9ydC5wb3N0TWVzc2FnZShbZSx0XSl9Y2F0Y2goZSl7by5hLnN5c3RlbS5lcnJvcihcIlNoYXJlZFdvcmtlclRyYW5zcG9ydDogcG9zdCBtZXNzYWdlIGZhaWxlZDogXCIrSlNPTi5zdHJpbmdpZnkoZSksXCJQcm9iYWJsZSBjYXVzZSBpcyBzZW5kaW5nIGlsbGVnYWwgZGF0YSB0eXBlIChlLmcuIGZ1bmN0aW9uKS5cIil9fSx0aGlzLmlkZW50aWZpZXI9ZnVuY3Rpb24oKXtyZXR1cm5cIlNoYXJlZFdvcmtlclwifTtjb25zdCB1PWUudHJhbnNwb3J0U2V0dGluZ3MuU2hhcmVkV29ya2VyJiZlLnRyYW5zcG9ydFNldHRpbmdzLlNoYXJlZFdvcmtlci53b3JrZXJQYXRoP2UudHJhbnNwb3J0U2V0dGluZ3MuU2hhcmVkV29ya2VyLndvcmtlclBhdGg6ZS5yb3V0ZXJEb21haW5Sb290K1wiL2NvbW1vbi9yb3V0ZXJTaGFyZWRXb3JrZXIuanNcIjtvLmEuc3lzdGVtLmxvZyhgU2hhcmVkV29ya2VyIFRyYW5zcG9ydCBJbml0aWFsaXppbmcgZm9yICR7bn0gdXNpbmcgJHt1fWApLGNvbnNvbGUubG9nKGBTaGFyZWRXb3JrZXIgVHJhbnNwb3J0IEluaXRpYWxpemluZyBmb3IgJHtufSB1c2luZyAke3V9YCkscz1uZXcgU2hhcmVkV29ya2VyKHUse25hbWU6XCJGaW5zZW1ibGVcIixjcmVkZW50aWFsczpcImluY2x1ZGVcIn0pLHMucG9ydC5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7Y29uc3Qgbj1lLmRhdGFbMF0saT1lLmRhdGFbMV0scj17dHJhbnNwb3J0SUQ6YS5pZGVudGlmaWVyKCkscG9ydDpufTtvLmEuc3lzdGVtLnZlcmJvc2UoXCJTaGFyZWRXb3JrZXJUcmFuc3BvcnQgSW5jb21pbmcgVHJhbnNwb3J0XCIscixcIk1lc3NhZ2VcIixpKSx0KHIsaSl9LHMub25lcnJvcj1mdW5jdGlvbihlKXtvLmEuc3lzdGVtLmVycm9yKFwiU2hhcmVkV29ya2VyVHJhbnNwb3J0IFRyYW5zcG9ydCBFcnJvclwiK0pTT04uc3RyaW5naWZ5KGUpKX0scy5wb3J0LnN0YXJ0KCksXCJSb3V0ZXJTZXJ2aWNlXCI9PT1uJiZzLnBvcnQucG9zdE1lc3NhZ2Uoe2RhdGE6XCJjb25uZWN0XCIsc291cmNlOlwiUm91dGVyU2VydmljZVwifSkscih0aGlzKX0sSVBDVHJhbnNwb3J0OmZ1bmN0aW9uKGUsdCxuLGkscil7Y29uc3R7dXVpZDphfT1zLlN5c3RlbS5BcHBsaWNhdGlvbi5nZXRDdXJyZW50KCksdT10aGlzO3RoaXMuc2VuZD1mdW5jdGlvbihlLHQpe2xldCBuOzE9PT1hcmd1bWVudHMubGVuZ3RoPyhuPWksdD1hcmd1bWVudHNbMF0pOihuPWUubmFtZSx0PWFyZ3VtZW50c1sxXSksby5hLnN5c3RlbS52ZXJib3NlKFwiSVBDVHJhbnNwb3J0IE91dGdvaW5nIFRyYW5zcG9ydFwiLGEsbixcIk1lc3NhZ2VcIix0KSxzLlN5c3RlbS5JbnRlckFwcGxpY2F0aW9uQnVzLnB1Ymxpc2gobix0LCgpPT57fSwoKT0+e30pfSx0aGlzLmlkZW50aWZpZXI9ZnVuY3Rpb24oKXtyZXR1cm5cIklQQ0J1c1wifSxvLmEuc3lzdGVtLmxvZyhcIklQQ0J1cyBUcmFuc3BvcnQgSW5pdGlhbGl6aW5nIGZvciBcIituKSxjb25zb2xlLmxvZyhcIklQQ0J1cyBUcmFuc3BvcnQgSW5pdGlhbGl6aW5nIGZvciBcIituKSxzLlN5c3RlbS5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZShcIipcIixuLChmdW5jdGlvbihlLG4pe2NvbnN0IGk9e3RyYW5zcG9ydElEOnUuaWRlbnRpZmllcigpLHNlbmRlclV1aWQ6bixuYW1lOmUuaGVhZGVyLm9yaWdpbn07by5hLnN5c3RlbS52ZXJib3NlKFwiSVBDVHJhbnNwb3J0IEluY29taW5nIFRyYW5zcG9ydFwiLGksXCJNZXNzYWdlXCIsZSksdChpLGUpfSksbnVsbCwoZnVuY3Rpb24oZSl7by5hLnN5c3RlbS5lcnJvcihcIklQQ0J1cyBTdWJzY3JpYmUgRmFpbHVyZTogXCIrZSl9KSkscih0aGlzKX0sRmluc2VtYmxlVHJhbnNwb3J0OmZ1bmN0aW9uKGUsdCxuLHIscyl7Y29uc3QgYT1pLkNvbmZpZ1V0aWxJbnN0YW5jZS5nZXREZWZhdWx0KGUsXCJwYXJhbXMuSUFDLnNlcnZlckFkZHJlc3NcIixcIndzOi8vMTI3LjAuMC4xOjMzNzZcIiksdT1pLkNvbmZpZ1V0aWxJbnN0YW5jZS5nZXREZWZhdWx0KGUsXCJwYXJhbXMudHJhbnNwb3J0U2V0dGluZ3MuRmluc2VtYmxlVHJhbnNwb3J0LnNlcnZlckFkZHJlc3NcIixhKStcIi9yb3V0ZXJcIixjPXRoaXM7bGV0IGw7ZnVuY3Rpb24gZChlKXtjb25zdCBuPXt0cmFuc3BvcnRJRDpjLmlkZW50aWZpZXIoKSxjbGllbnQ6ZS5jbGllbnRNZXNzYWdlLmhlYWRlci5vcmlnaW59O28uYS5zeXN0ZW0udmVyYm9zZShcIkZpbnNlbWJsZVRyYW5zcG9ydCBJbmNvbWluZyBUcmFuc3BvcnRcIixuLFwiTWVzc2FnZVwiLGUpLHQobixlLmNsaWVudE1lc3NhZ2UpfWZ1bmN0aW9uIGYoKXtvLmEuc3lzdGVtLmVycm9yKFwiRmluc2VtYmxlVHJhbnNwb3J0IENvbm5lY3Rpb24gVGltZW91dCBmb3IgXCIrbikscyhjKX1mdW5jdGlvbiBoKCl7by5hLnN5c3RlbS5sb2coYEZpbnNlbWJsZVRyYW5zcG9ydCBUcmFuc3BvcnQgSW5pdGlhbGl6aW5nIGZvciAke259IHVzaW5nICR7dX1gKSxjb25zb2xlLmxvZyhgRmluc2VtYmxlVHJhbnNwb3J0IFRyYW5zcG9ydCBJbml0aWFsaXppbmcgZm9yICR7bn0gdXNpbmcgJHt1fWApLHUuc3RhcnRzV2l0aChcIndzOlwiKXx8dS5zdGFydHNXaXRoKFwid3NzOlwiKXx8Y29uc29sZS5lcnJvcihcIndzcyBub3QgZm91bmQgYXMgU09DS0VUX1NFUlZFUl9BRERSRVNTLiAgVXNlIHdzcyFcIix1KSxsPW5ldyBXZWJTb2NrZXQodSk7Y29uc3QgZT1zZXRUaW1lb3V0KGYsM2UzKTtsLmFkZEV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsKCk9PntjbGVhclRpbWVvdXQoZSksby5hLnN5c3RlbS5sb2coXCJGaW5zZW1ibGVUcmFuc3BvcnQgQ29ubmVjdGVkIHRvIFNlcnZlclwiKSxjb25zb2xlLmxvZyhcIkZpbnNlbWJsZVRyYW5zcG9ydCBDb25uZWN0ZWQgdG8gU2VydmVyXCIpLGwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixlPT57Y29uc3QgdD1KU09OLnBhcnNlKGUuZGF0YSk7KFwiUm91dGVyU2VydmljZVwiPT09biYmXCJST1VURVJfU0VSVklDRVwiPT10LmRlc3R8fG49PT10Lm1lc3NhZ2UuY2xpZW50KSYmZCh0Lm1lc3NhZ2UpfSkscyhjKX0pfXRoaXMuc2VuZD1mdW5jdGlvbihlLHQpe2xldCBuLGk7MT09PWFyZ3VtZW50cy5sZW5ndGg/KG49XCJST1VURVJfU0VSVklDRVwiLGk9e2NsaWVudE1lc3NhZ2U6dD1hcmd1bWVudHNbMF19KToobj1cIlJPVVRFUl9DTElFTlRcIix0PWFyZ3VtZW50c1sxXSxpPXtjbGllbnQ6ZS5jbGllbnQsY2xpZW50TWVzc2FnZTp0fSksby5hLnN5c3RlbS52ZXJib3NlKFwiRmluc2VtYmxlVHJhbnNwb3J0IE91dGdvaW5nIFRyYW5zcG9ydFwiLG4sXCJOZXdNZXNzYWdlXCIsaSksbC5yZWFkeVN0YXRlPT09V2ViU29ja2V0Lk9QRU4mJmwuc2VuZChKU09OLnN0cmluZ2lmeSh7ZGVzdDpuLG1lc3NhZ2U6aX0pKSxsLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuQ09OTkVDVElORyYmbC5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCgpPT57bC5zZW5kKEpTT04uc3RyaW5naWZ5KHtkZXN0Om4sbWVzc2FnZTppfSkpfSksbC5yZWFkeVN0YXRlPT09V2ViU29ja2V0LkNMT1NFRCYmKGgoKSxsLmFkZEV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsKCk9PntsLnNlbmQoSlNPTi5zdHJpbmdpZnkoe2Rlc3Q6bixtZXNzYWdlOml9KSl9KSksbC5yZWFkeVN0YXRlPT09V2ViU29ja2V0LkNMT1NJTkcmJihsLm9uY2xvc2U9KCk9PntoKCksbC5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCgpPT57bC5zZW5kKEpTT04uc3RyaW5naWZ5KHtkZXN0Om4sbWVzc2FnZTppfSkpfSl9KX0sdGhpcy5pZGVudGlmaWVyPWZ1bmN0aW9uKCl7cmV0dXJuXCJGaW5zZW1ibGVUcmFuc3BvcnRcIn0saCgpLG8uYS5zeXN0ZW0ubG9nKGBGaW5zZW1ibGVUcmFuc3BvcnQgVHJhbnNwb3J0IEluaXRpYWxpemluZyBmb3IgJHtufSB1c2luZyAke3V9YCksY29uc29sZS5sb2coYEZpbnNlbWJsZVRyYW5zcG9ydCBUcmFuc3BvcnQgSW5pdGlhbGl6aW5nIGZvciAke259IHVzaW5nICR7dX1gKSwodS5zdGFydHNXaXRoKFwid3M6XCIpfHx1LnN0YXJ0c1dpdGgoXCJ3c3M6XCIpKSYmY29uc29sZS5lcnJvcihcIndzcyBub3QgZm91bmQgYXMgU09DS0VUX1NFUlZFUl9BRERSRVNTLiAgVXNlIHdzcyFcIix1KX0sRmluc2VtYmxlQ2xvdWRUcmFuc3BvcnQ6ZnVuY3Rpb24oZSx0LG4scixzKXtsZXQgYTtjb25zdCB1PWkuQ29uZmlnVXRpbEluc3RhbmNlLmdldERlZmF1bHQoZSxcInBhcmFtcy50cmFuc3BvcnRTZXR0aW5ncy5GaW5zZW1ibGVDbG91ZFRyYW5zcG9ydC5zZXJ2ZXJBZGRyZXNzXCIsZS5hcHBsaWNhdGlvblJvb3QpLHtGaW5zZW1ibGVVVUlEOmN9PWU7YT1cIi9cIj09PXUuc3Vic3RyKHUubGVuZ3RoLTEpP3Uuc3Vic3RyaW5nKDAsdS5sZW5ndGgtMSk6dTtjb25zdCBsPWErXCIvcm91dGVyXCIsZD10aGlzO2xldCBmO2Z1bmN0aW9uIGgoZSl7Y29uc3Qgbj17dHJhbnNwb3J0SUQ6ZC5pZGVudGlmaWVyKCksY2xpZW50OmUuY2xpZW50TWVzc2FnZS5oZWFkZXIub3JpZ2lufTtvLmEuc3lzdGVtLnZlcmJvc2UoXCJGaW5zZW1ibGVDbG91ZFRyYW5zcG9ydCBJbmNvbWluZyBUcmFuc3BvcnRcIixuLFwiTWVzc2FnZVwiLGUpLHQobixlLmNsaWVudE1lc3NhZ2UpfXRoaXMuc2VuZD1mdW5jdGlvbihlLHQpe2xldCBuLGk7MT09PWFyZ3VtZW50cy5sZW5ndGg/KG49XCJST1VURVJfU0VSVklDRVwiLGk9e0ZpbnNlbWJsZVVVSUQ6YyxjbGllbnRNZXNzYWdlOnQ9YXJndW1lbnRzWzBdfSk6KG49XCJST1VURVJfQ0xJRU5UXCIsdD1hcmd1bWVudHNbMV0saT17Rmluc2VtYmxlVVVJRDpjLGNsaWVudDplLmNsaWVudCxjbGllbnRNZXNzYWdlOnR9KSxvLmEuc3lzdGVtLnZlcmJvc2UoXCJGaW5zZW1ibGVDbG91ZFRyYW5zcG9ydCBPdXRnb2luZyBUcmFuc3BvcnRcIixuLFwiTmV3TWVzc2FnZVwiLGkpLGYuZW1pdChuLGkpfSx0aGlzLmlkZW50aWZpZXI9ZnVuY3Rpb24oKXtyZXR1cm5cIkZpbnNlbWJsZUNsb3VkVHJhbnNwb3J0XCJ9LG8uYS5zeXN0ZW0ubG9nKGBGaW5zZW1ibGVDbG91ZFRyYW5zcG9ydCBUcmFuc3BvcnQgSW5pdGlhbGl6aW5nIGZvciAke259IHVzaW5nICR7bH1gKSxjb25zb2xlLmxvZyhgRmluc2VtYmxlQ2xvdWRUcmFuc3BvcnQgVHJhbnNwb3J0IEluaXRpYWxpemluZyBmb3IgJHtufSB1c2luZyAke2x9YCksLTEhPT1sLmluZGV4T2YoXCJ3czpcIil8fGNvbnNvbGUuZXJyb3IoXCJTT0NLRVRfU0VSVkVSX0FERFJFU1Mgbm90IHdzcyFcIixsKSxmPW5ldyBXZWJTb2NrZXQobCk7Y29uc3QgcD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe28uYS5zeXN0ZW0uZXJyb3IoXCJGaW5zZW1ibGVDbG91ZFRyYW5zcG9ydCBDb25uZWN0aW9uIFRpbWVvdXQgZm9yIFwiK24pLHMoZCl9KSwzZTMpO2Yub24oXCJjb25uZWN0XCIsKCk9PntjbGVhclRpbWVvdXQocCksby5hLnN5c3RlbS5sb2coXCJGaW5zZW1ibGVDbG91ZFRyYW5zcG9ydCBDb25uZWN0ZWQgdG8gU2VydmVyXCIsYyksY29uc29sZS5sb2coXCJGaW5zZW1ibGVDbG91ZFRyYW5zcG9ydCBDb25uZWN0ZWQgdG8gU2VydmVyXCIpLFwiUm91dGVyU2VydmljZVwiPT09bj8oby5hLnN5c3RlbS5kZWJ1ZyhcIlNldHRpbmcgVXAgU29ja2V0IENvbm5lY3Rpb25cIixcIlJPVVRFUl9TRVJWSUNFX0lOXCIrYyksY29uc29sZS5sb2coXCJTZXR0aW5nIFVwIFNvY2tldCBDb25uZWN0aW9uXCIsXCJST1VURVJfU0VSVklDRV9JTlwiK2MpLGYub24oXCJST1VURVJfU0VSVklDRV9JTlwiK2MsZT0+e2goZSl9KSk6KG8uYS5zeXN0ZW0uZGVidWcoXCJTZXR0aW5nIFVwIFNvY2tldCBDb25uZWN0aW9uXCIsbitjKSxjb25zb2xlLmxvZyhcIlNFVFRJTkcgVVAgU29ja2V0IENPTk5FQ1RJT05cIixuK2MpLGYub24obitjLGU9PntoKGUpfSkpLHMoZCl9KX19O2EuYWRkVHJhbnNwb3J0KFwiU2hhcmVkV29ya2VyXCIsdS5TaGFyZWRXb3JrZXJUcmFuc3BvcnQpLGEuYWRkVHJhbnNwb3J0KFwiSVBDQnVzXCIsdS5JUENUcmFuc3BvcnQpLGEuYWRkVHJhbnNwb3J0KFwiRmluc2VtYmxlVHJhbnNwb3J0XCIsdS5GaW5zZW1ibGVUcmFuc3BvcnQpLHQuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpe3ZhciBuPS9eXFxzK3xcXHMrJC9nLGk9L15bLStdMHhbMC05YS1mXSskL2kscj0vXjBiWzAxXSskL2ksbz0vXjBvWzAtN10rJC9pLHM9cGFyc2VJbnQsYT1cIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5PYmplY3Q9PT1PYmplY3QmJnQsdT1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsYz1hfHx1fHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksbD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGQ9TWF0aC5tYXgsZj1NYXRoLm1pbixoPWZ1bmN0aW9uKCl7cmV0dXJuIGMuRGF0ZS5ub3coKX07ZnVuY3Rpb24gcChlLHQsbil7dmFyIGkscixvLHMsYSx1LGM9MCxsPSExLHA9ITEseT0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO2Z1bmN0aW9uIHcodCl7dmFyIG49aSxvPXI7cmV0dXJuIGk9cj12b2lkIDAsYz10LHM9ZS5hcHBseShvLG4pfWZ1bmN0aW9uIGIoZSl7cmV0dXJuIGM9ZSxhPXNldFRpbWVvdXQoUyx0KSxsP3coZSk6c31mdW5jdGlvbiB2KGUpe3ZhciBuPWUtdTtyZXR1cm4gdm9pZCAwPT09dXx8bj49dHx8bjwwfHxwJiZlLWM+PW99ZnVuY3Rpb24gUygpe3ZhciBlPWgoKTtpZih2KGUpKXJldHVybiBDKGUpO2E9c2V0VGltZW91dChTLGZ1bmN0aW9uKGUpe3ZhciBuPXQtKGUtdSk7cmV0dXJuIHA/ZihuLG8tKGUtYykpOm59KGUpKX1mdW5jdGlvbiBDKGUpe3JldHVybiBhPXZvaWQgMCx5JiZpP3coZSk6KGk9cj12b2lkIDAscyl9ZnVuY3Rpb24gXygpe3ZhciBlPWgoKSxuPXYoZSk7aWYoaT1hcmd1bWVudHMscj10aGlzLHU9ZSxuKXtpZih2b2lkIDA9PT1hKXJldHVybiBiKHUpO2lmKHApcmV0dXJuIGE9c2V0VGltZW91dChTLHQpLHcodSl9cmV0dXJuIHZvaWQgMD09PWEmJihhPXNldFRpbWVvdXQoUyx0KSksc31yZXR1cm4gdD1tKHQpfHwwLGcobikmJihsPSEhbi5sZWFkaW5nLG89KHA9XCJtYXhXYWl0XCJpbiBuKT9kKG0obi5tYXhXYWl0KXx8MCx0KTpvLHk9XCJ0cmFpbGluZ1wiaW4gbj8hIW4udHJhaWxpbmc6eSksXy5jYW5jZWw9ZnVuY3Rpb24oKXt2b2lkIDAhPT1hJiZjbGVhclRpbWVvdXQoYSksYz0wLGk9dT1yPWE9dm9pZCAwfSxfLmZsdXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWE/czpDKGgoKSl9LF99ZnVuY3Rpb24gZyhlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4hIWUmJihcIm9iamVjdFwiPT10fHxcImZ1bmN0aW9uXCI9PXQpfWZ1bmN0aW9uIG0oZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoZnVuY3Rpb24oZSl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIGV8fGZ1bmN0aW9uKGUpe3JldHVybiEhZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9KGUpJiZcIltvYmplY3QgU3ltYm9sXVwiPT1sLmNhbGwoZSl9KGUpKXJldHVybiBOYU47aWYoZyhlKSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZS52YWx1ZU9mP2UudmFsdWVPZigpOmU7ZT1nKHQpP3QrXCJcIjp0fWlmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiAwPT09ZT9lOitlO2U9ZS5yZXBsYWNlKG4sXCJcIik7dmFyIGE9ci50ZXN0KGUpO3JldHVybiBhfHxvLnRlc3QoZSk/cyhlLnNsaWNlKDIpLGE/Mjo4KTppLnRlc3QoZSk/TmFOOitlfWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGk9ITAscj0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO3JldHVybiBnKG4pJiYoaT1cImxlYWRpbmdcImluIG4/ISFuLmxlYWRpbmc6aSxyPVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOnIpLHAoZSx0LHtsZWFkaW5nOmksbWF4V2FpdDp0LHRyYWlsaW5nOnJ9KX19KS5jYWxsKHRoaXMsbig1KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHI9XCJ+XCI7ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBzKGUsdCxuKXt0aGlzLmZuPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5vbmNlPW58fCExfWZ1bmN0aW9uIGEoZSx0LG4saSxvKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3ZhciBhPW5ldyBzKG4saXx8ZSxvKSx1PXI/cit0OnQ7cmV0dXJuIGUuX2V2ZW50c1t1XT9lLl9ldmVudHNbdV0uZm4/ZS5fZXZlbnRzW3VdPVtlLl9ldmVudHNbdV0sYV06ZS5fZXZlbnRzW3VdLnB1c2goYSk6KGUuX2V2ZW50c1t1XT1hLGUuX2V2ZW50c0NvdW50KyspLGV9ZnVuY3Rpb24gdShlLHQpezA9PS0tZS5fZXZlbnRzQ291bnQ/ZS5fZXZlbnRzPW5ldyBvOmRlbGV0ZSBlLl9ldmVudHNbdF19ZnVuY3Rpb24gYygpe3RoaXMuX2V2ZW50cz1uZXcgbyx0aGlzLl9ldmVudHNDb3VudD0wfU9iamVjdC5jcmVhdGUmJihvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG51bGwpLChuZXcgbykuX19wcm90b19ffHwocj0hMSkpLGMucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXt2YXIgZSx0LG49W107aWYoMD09PXRoaXMuX2V2ZW50c0NvdW50KXJldHVybiBuO2Zvcih0IGluIGU9dGhpcy5fZXZlbnRzKWkuY2FsbChlLHQpJiZuLnB1c2gocj90LnNsaWNlKDEpOnQpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP24uY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpOm59LGMucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdD1yP3IrZTplLG49dGhpcy5fZXZlbnRzW3RdO2lmKCFuKXJldHVybltdO2lmKG4uZm4pcmV0dXJuW24uZm5dO2Zvcih2YXIgaT0wLG89bi5sZW5ndGgscz1uZXcgQXJyYXkobyk7aTxvO2krKylzW2ldPW5baV0uZm47cmV0dXJuIHN9LGMucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9cj9yK2U6ZSxuPXRoaXMuX2V2ZW50c1t0XTtyZXR1cm4gbj9uLmZuPzE6bi5sZW5ndGg6MH0sYy5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlLHQsbixpLG8scyl7dmFyIGE9cj9yK2U6ZTtpZighdGhpcy5fZXZlbnRzW2FdKXJldHVybiExO3ZhciB1LGMsbD10aGlzLl9ldmVudHNbYV0sZD1hcmd1bWVudHMubGVuZ3RoO2lmKGwuZm4pe3N3aXRjaChsLm9uY2UmJnRoaXMucmVtb3ZlTGlzdGVuZXIoZSxsLmZuLHZvaWQgMCwhMCksZCl7Y2FzZSAxOnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0KSwhMDtjYXNlIDI6cmV0dXJuIGwuZm4uY2FsbChsLmNvbnRleHQsdCksITA7Y2FzZSAzOnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0LHQsbiksITA7Y2FzZSA0OnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0LHQsbixpKSwhMDtjYXNlIDU6cmV0dXJuIGwuZm4uY2FsbChsLmNvbnRleHQsdCxuLGksbyksITA7Y2FzZSA2OnJldHVybiBsLmZuLmNhbGwobC5jb250ZXh0LHQsbixpLG8scyksITB9Zm9yKGM9MSx1PW5ldyBBcnJheShkLTEpO2M8ZDtjKyspdVtjLTFdPWFyZ3VtZW50c1tjXTtsLmZuLmFwcGx5KGwuY29udGV4dCx1KX1lbHNle3ZhciBmLGg9bC5sZW5ndGg7Zm9yKGM9MDtjPGg7YysrKXN3aXRjaChsW2NdLm9uY2UmJnRoaXMucmVtb3ZlTGlzdGVuZXIoZSxsW2NdLmZuLHZvaWQgMCwhMCksZCl7Y2FzZSAxOmxbY10uZm4uY2FsbChsW2NdLmNvbnRleHQpO2JyZWFrO2Nhc2UgMjpsW2NdLmZuLmNhbGwobFtjXS5jb250ZXh0LHQpO2JyZWFrO2Nhc2UgMzpsW2NdLmZuLmNhbGwobFtjXS5jb250ZXh0LHQsbik7YnJlYWs7Y2FzZSA0OmxbY10uZm4uY2FsbChsW2NdLmNvbnRleHQsdCxuLGkpO2JyZWFrO2RlZmF1bHQ6aWYoIXUpZm9yKGY9MSx1PW5ldyBBcnJheShkLTEpO2Y8ZDtmKyspdVtmLTFdPWFyZ3VtZW50c1tmXTtsW2NdLmZuLmFwcGx5KGxbY10uY29udGV4dCx1KX19cmV0dXJuITB9LGMucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYSh0aGlzLGUsdCxuLCExKX0sYy5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGEodGhpcyxlLHQsbiwhMCl9LGMucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBvPXI/citlOmU7aWYoIXRoaXMuX2V2ZW50c1tvXSlyZXR1cm4gdGhpcztpZighdClyZXR1cm4gdSh0aGlzLG8pLHRoaXM7dmFyIHM9dGhpcy5fZXZlbnRzW29dO2lmKHMuZm4pcy5mbiE9PXR8fGkmJiFzLm9uY2V8fG4mJnMuY29udGV4dCE9PW58fHUodGhpcyxvKTtlbHNle2Zvcih2YXIgYT0wLGM9W10sbD1zLmxlbmd0aDthPGw7YSsrKShzW2FdLmZuIT09dHx8aSYmIXNbYV0ub25jZXx8biYmc1thXS5jb250ZXh0IT09bikmJmMucHVzaChzW2FdKTtjLmxlbmd0aD90aGlzLl9ldmVudHNbb109MT09PWMubGVuZ3RoP2NbMF06Yzp1KHRoaXMsbyl9cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZT8odD1yP3IrZTplLHRoaXMuX2V2ZW50c1t0XSYmdSh0aGlzLHQpKToodGhpcy5fZXZlbnRzPW5ldyBvLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXN9LGMucHJvdG90eXBlLm9mZj1jLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixjLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1jLnByb3RvdHlwZS5vbixjLnByZWZpeGVkPXIsYy5FdmVudEVtaXR0ZXI9YyxlLmV4cG9ydHM9Y30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IGk9big1Nik7Y2xhc3MgciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMubmFtZT1cIlRpbWVvdXRFcnJvclwifX1jb25zdCBvPShlLHQsbik9Pm5ldyBQcm9taXNlKChvLHMpPT57aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQ8MCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYG1pbGxpc2Vjb25kc2AgdG8gYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7aWYodD09PTEvMClyZXR1cm4gdm9pZCBvKGUpO2NvbnN0IGE9c2V0VGltZW91dCgoKT0+e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pe3RyeXtvKG4oKSl9Y2F0Y2goZSl7cyhlKX1yZXR1cm59Y29uc3QgaT1uIGluc3RhbmNlb2YgRXJyb3I/bjpuZXcgcihcInN0cmluZ1wiPT10eXBlb2Ygbj9uOmBQcm9taXNlIHRpbWVkIG91dCBhZnRlciAke3R9IG1pbGxpc2Vjb25kc2ApO1wiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FuY2VsJiZlLmNhbmNlbCgpLHMoaSl9LHQpO2koZS50aGVuKG8scyksKCk9PntjbGVhclRpbWVvdXQoYSl9KX0pO2UuZXhwb3J0cz1vLGUuZXhwb3J0cy5kZWZhdWx0PW8sZS5leHBvcnRzLlRpbWVvdXRFcnJvcj1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPShlLHQpPT4odD10fHwoKCk9Pnt9KSxlLnRoZW4oZT0+bmV3IFByb21pc2UoZT0+e2UodCgpKX0pLnRoZW4oKCk9PmUpLGU9Pm5ldyBQcm9taXNlKGU9PntlKHQoKSl9KS50aGVuKCgpPT57dGhyb3cgZX0pKSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBpPW4oNTgpO3QuZGVmYXVsdD1jbGFzc3tjb25zdHJ1Y3Rvcigpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX3F1ZXVlXCIse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOltdfSl9ZW5xdWV1ZShlLHQpe2NvbnN0IG49e3ByaW9yaXR5Oih0PU9iamVjdC5hc3NpZ24oe3ByaW9yaXR5OjB9LHQpKS5wcmlvcml0eSxydW46ZX07aWYodGhpcy5zaXplJiZ0aGlzLl9xdWV1ZVt0aGlzLnNpemUtMV0ucHJpb3JpdHk+PXQucHJpb3JpdHkpcmV0dXJuIHZvaWQgdGhpcy5fcXVldWUucHVzaChuKTtjb25zdCByPWkuZGVmYXVsdCh0aGlzLl9xdWV1ZSxuLChlLHQpPT50LnByaW9yaXR5LWUucHJpb3JpdHkpO3RoaXMuX3F1ZXVlLnNwbGljZShyLDAsbil9ZGVxdWV1ZSgpe2NvbnN0IGU9dGhpcy5fcXVldWUuc2hpZnQoKTtyZXR1cm4gZSYmZS5ydW59Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fcXVldWUubGVuZ3RofX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4pe2xldCBpPTAscj1lLmxlbmd0aDtmb3IoO3I+MDspe2NvbnN0IG89ci8yfDA7bGV0IHM9aStvO24oZVtzXSx0KTw9MD8oaT0rK3Msci09bysxKTpyPW99cmV0dXJuIGl9fSxmdW5jdGlvbihlLHQsbil7dmFyIGk9bigzMykscj1uKDM0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXQmJm58fDA7XCJzdHJpbmdcIj09dHlwZW9mIGUmJih0PVwiYmluYXJ5XCI9PWU/bmV3IEFycmF5KDE2KTpudWxsLGU9bnVsbCk7dmFyIHM9KGU9ZXx8e30pLnJhbmRvbXx8KGUucm5nfHxpKSgpO2lmKHNbNl09MTUmc1s2XXw2NCxzWzhdPTYzJnNbOF18MTI4LHQpZm9yKHZhciBhPTA7YTwxNjsrK2EpdFtvK2FdPXNbYV07cmV0dXJuIHR8fHIocyl9fSxmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpe3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Lk9iamVjdD09PU9iamVjdCYmdCxpPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixyPW58fGl8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtmdW5jdGlvbiBvKGUsdCxuKXtzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gZS5jYWxsKHQpO2Nhc2UgMTpyZXR1cm4gZS5jYWxsKHQsblswXSk7Y2FzZSAyOnJldHVybiBlLmNhbGwodCxuWzBdLG5bMV0pO2Nhc2UgMzpyZXR1cm4gZS5jYWxsKHQsblswXSxuWzFdLG5bMl0pfXJldHVybiBlLmFwcGx5KHQsbil9ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgbj0tMSxpPXQubGVuZ3RoLHI9ZS5sZW5ndGg7KytuPGk7KWVbcituXT10W25dO3JldHVybiBlfXZhciBhPU9iamVjdC5wcm90b3R5cGUsdT1hLmhhc093blByb3BlcnR5LGM9YS50b1N0cmluZyxsPXIuU3ltYm9sLGQ9YS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxmPWw/bC5pc0NvbmNhdFNwcmVhZGFibGU6dm9pZCAwLGg9TWF0aC5tYXg7ZnVuY3Rpb24gcChlKXtyZXR1cm4gbShlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB5KGUpJiZmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmU+LTEmJmUlMT09MCYmZTw9OTAwNzE5OTI1NDc0MDk5MX0oZS5sZW5ndGgpJiYhZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHx8XCJmdW5jdGlvblwiPT10KX0oZSk/Yy5jYWxsKGUpOlwiXCI7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT10fHxcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCI9PXR9KGUpfShlKX0oZSkmJnUuY2FsbChlLFwiY2FsbGVlXCIpJiYoIWQuY2FsbChlLFwiY2FsbGVlXCIpfHxcIltvYmplY3QgQXJndW1lbnRzXVwiPT1jLmNhbGwoZSkpfShlKXx8ISEoZiYmZSYmZVtmXSl9ZnVuY3Rpb24gZyhlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIGV8fHkoZSkmJlwiW29iamVjdCBTeW1ib2xdXCI9PWMuY2FsbChlKX0oZSkpcmV0dXJuIGU7dmFyIHQ9ZStcIlwiO3JldHVyblwiMFwiPT10JiYxL2U9PS0xLzA/XCItMFwiOnR9dmFyIG09QXJyYXkuaXNBcnJheTtmdW5jdGlvbiB5KGUpe3JldHVybiEhZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9dmFyIHcsYix2PSh3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWU/e306ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT0tMSxyPXQubGVuZ3RoLG89e307KytpPHI7KXt2YXIgcz10W2ldLGE9ZVtzXTtuKGEscykmJihvW3NdPWEpfXJldHVybiBvfShlPU9iamVjdChlKSx0LChmdW5jdGlvbih0LG4pe3JldHVybiBuIGluIGV9KSl9KGUsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49LTEsaT1lP2UubGVuZ3RoOjAscj1BcnJheShpKTsrK248aTspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn0oZnVuY3Rpb24gZSh0LG4saSxyLG8pe3ZhciBhPS0xLHU9dC5sZW5ndGg7Zm9yKGl8fChpPXApLG98fChvPVtdKTsrK2E8dTspe3ZhciBjPXRbYV07bj4wJiZpKGMpP24+MT9lKGMsbi0xLGkscixvKTpzKG8sYyk6cnx8KG9bby5sZW5ndGhdPWMpfXJldHVybiBvfSh0LDEpLGcpKX0sYj1oKHZvaWQgMD09PWI/dy5sZW5ndGgtMTpiLDApLGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cyx0PS0xLG49aChlLmxlbmd0aC1iLDApLGk9QXJyYXkobik7Kyt0PG47KWlbdF09ZVtiK3RdO3Q9LTE7Zm9yKHZhciByPUFycmF5KGIrMSk7Kyt0PGI7KXJbdF09ZVt0XTtyZXR1cm4gcltiXT1pLG8odyx0aGlzLHIpfSk7ZS5leHBvcnRzPXZ9KS5jYWxsKHRoaXMsbig1KSl9LGZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSxuKXt2YXIgaT1cIltvYmplY3QgQXJndW1lbnRzXVwiLHI9XCJbb2JqZWN0IE1hcF1cIixvPVwiW29iamVjdCBPYmplY3RdXCIscz1cIltvYmplY3QgU2V0XVwiLGE9L15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLyx1PS9eKD86MHxbMS05XVxcZCopJC8sYz17fTtjW1wiW29iamVjdCBGbG9hdDMyQXJyYXldXCJdPWNbXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIl09Y1tcIltvYmplY3QgSW50OEFycmF5XVwiXT1jW1wiW29iamVjdCBJbnQxNkFycmF5XVwiXT1jW1wiW29iamVjdCBJbnQzMkFycmF5XVwiXT1jW1wiW29iamVjdCBVaW50OEFycmF5XVwiXT1jW1wiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIl09Y1tcIltvYmplY3QgVWludDE2QXJyYXldXCJdPWNbXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXT0hMCxjW2ldPWNbXCJbb2JqZWN0IEFycmF5XVwiXT1jW1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09Y1tcIltvYmplY3QgQm9vbGVhbl1cIl09Y1tcIltvYmplY3QgRGF0YVZpZXddXCJdPWNbXCJbb2JqZWN0IERhdGVdXCJdPWNbXCJbb2JqZWN0IEVycm9yXVwiXT1jW1wiW29iamVjdCBGdW5jdGlvbl1cIl09Y1tyXT1jW1wiW29iamVjdCBOdW1iZXJdXCJdPWNbb109Y1tcIltvYmplY3QgUmVnRXhwXVwiXT1jW3NdPWNbXCJbb2JqZWN0IFN0cmluZ11cIl09Y1tcIltvYmplY3QgV2Vha01hcF1cIl09ITE7dmFyIGw9XCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuT2JqZWN0PT09T2JqZWN0JiZlLGQ9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGY9bHx8ZHx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGg9dCYmIXQubm9kZVR5cGUmJnQscD1oJiZcIm9iamVjdFwiPT10eXBlb2YgbiYmbiYmIW4ubm9kZVR5cGUmJm4sZz1wJiZwLmV4cG9ydHM9PT1oJiZsLnByb2Nlc3MsbT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gZyYmZy5iaW5kaW5nKFwidXRpbFwiKX1jYXRjaChlKXt9fSgpLHk9bSYmbS5pc1R5cGVkQXJyYXk7ZnVuY3Rpb24gdyhlLHQpe2Zvcih2YXIgbj0tMSxpPWU/ZS5sZW5ndGg6MDsrK248aTspaWYodChlW25dLG4sZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gYihlKXt2YXIgdD0hMTtpZihudWxsIT1lJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLnRvU3RyaW5nKXRyeXt0PSEhKGUrXCJcIil9Y2F0Y2goZSl7fXJldHVybiB0fWZ1bmN0aW9uIHYoZSl7dmFyIHQ9LTEsbj1BcnJheShlLnNpemUpO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7blsrK3RdPVtpLGVdfSkpLG59ZnVuY3Rpb24gUyhlKXt2YXIgdD0tMSxuPUFycmF5KGUuc2l6ZSk7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7blsrK3RdPWV9KSksbn12YXIgQyxfLFQsRT1BcnJheS5wcm90b3R5cGUsQT1GdW5jdGlvbi5wcm90b3R5cGUsST1PYmplY3QucHJvdG90eXBlLE89ZltcIl9fY29yZS1qc19zaGFyZWRfX1wiXSxMPShDPS9bXi5dKyQvLmV4ZWMoTyYmTy5rZXlzJiZPLmtleXMuSUVfUFJPVE98fFwiXCIpKT9cIlN5bWJvbChzcmMpXzEuXCIrQzpcIlwiLE09QS50b1N0cmluZyxEPUkuaGFzT3duUHJvcGVydHksaz1JLnRvU3RyaW5nLE49UmVnRXhwKFwiXlwiK00uY2FsbChEKS5yZXBsYWNlKC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpLGo9Zi5TeW1ib2wsVz1mLlVpbnQ4QXJyYXksUj1JLnByb3BlcnR5SXNFbnVtZXJhYmxlLFA9RS5zcGxpY2UsRj0oXz1PYmplY3Qua2V5cyxUPU9iamVjdCxmdW5jdGlvbihlKXtyZXR1cm4gXyhUKGUpKX0pLHg9bGUoZixcIkRhdGFWaWV3XCIpLEI9bGUoZixcIk1hcFwiKSxVPWxlKGYsXCJQcm9taXNlXCIpLHo9bGUoZixcIlNldFwiKSxIPWxlKGYsXCJXZWFrTWFwXCIpLFY9bGUoT2JqZWN0LFwiY3JlYXRlXCIpLHE9aGUoeCksJD1oZShCKSxHPWhlKFUpLFk9aGUoeiksUT1oZShIKSxLPWo/ai5wcm90b3R5cGU6dm9pZCAwLFo9Sz9LLnZhbHVlT2Y6dm9pZCAwO2Z1bmN0aW9uIEooZSl7dmFyIHQ9LTEsbj1lP2UubGVuZ3RoOjA7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8bjspe3ZhciBpPWVbdF07dGhpcy5zZXQoaVswXSxpWzFdKX19ZnVuY3Rpb24gWChlKXt2YXIgdD0tMSxuPWU/ZS5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrdDxuOyl7dmFyIGk9ZVt0XTt0aGlzLnNldChpWzBdLGlbMV0pfX1mdW5jdGlvbiBlZShlKXt2YXIgdD0tMSxuPWU/ZS5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrdDxuOyl7dmFyIGk9ZVt0XTt0aGlzLnNldChpWzBdLGlbMV0pfX1mdW5jdGlvbiB0ZShlKXt2YXIgdD0tMSxuPWU/ZS5sZW5ndGg6MDtmb3IodGhpcy5fX2RhdGFfXz1uZXcgZWU7Kyt0PG47KXRoaXMuYWRkKGVbdF0pfWZ1bmN0aW9uIG5lKGUpe3RoaXMuX19kYXRhX189bmV3IFgoZSl9ZnVuY3Rpb24gaWUoZSx0KXt2YXIgbj1nZShlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB2ZShlKSYmbWUoZSl9KGUpJiZELmNhbGwoZSxcImNhbGxlZVwiKSYmKCFSLmNhbGwoZSxcImNhbGxlZVwiKXx8ay5jYWxsKGUpPT1pKX0oZSk/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49LTEsaT1BcnJheShlKTsrK248ZTspaVtuXT10KG4pO3JldHVybiBpfShlLmxlbmd0aCxTdHJpbmcpOltdLHI9bi5sZW5ndGgsbz0hIXI7Zm9yKHZhciBzIGluIGUpIXQmJiFELmNhbGwoZSxzKXx8byYmKFwibGVuZ3RoXCI9PXN8fGZlKHMscikpfHxuLnB1c2gocyk7cmV0dXJuIG59ZnVuY3Rpb24gcmUoZSx0KXtmb3IodmFyIG49ZS5sZW5ndGg7bi0tOylpZihwZShlW25dWzBdLHQpKXJldHVybiBuO3JldHVybi0xfWZ1bmN0aW9uIG9lKGUsdCxuLGEsdSl7cmV0dXJuIGU9PT10fHwobnVsbD09ZXx8bnVsbD09dHx8IWJlKGUpJiYhdmUodCk/ZSE9ZSYmdCE9dDpmdW5jdGlvbihlLHQsbixhLHUsYyl7dmFyIGw9Z2UoZSksZD1nZSh0KSxmPVwiW29iamVjdCBBcnJheV1cIixoPVwiW29iamVjdCBBcnJheV1cIjtsfHwoZj0oZj1kZShlKSk9PWk/bzpmKTtkfHwoaD0oaD1kZSh0KSk9PWk/bzpoKTt2YXIgcD1mPT1vJiYhYihlKSxnPWg9PW8mJiFiKHQpLG09Zj09aDtpZihtJiYhcClyZXR1cm4gY3x8KGM9bmV3IG5lKSxsfHxTZShlKT91ZShlLHQsbixhLHUsYyk6ZnVuY3Rpb24oZSx0LG4saSxvLGEsdSl7c3dpdGNoKG4pe2Nhc2VcIltvYmplY3QgRGF0YVZpZXddXCI6aWYoZS5ieXRlTGVuZ3RoIT10LmJ5dGVMZW5ndGh8fGUuYnl0ZU9mZnNldCE9dC5ieXRlT2Zmc2V0KXJldHVybiExO2U9ZS5idWZmZXIsdD10LmJ1ZmZlcjtjYXNlXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiOnJldHVybiEoZS5ieXRlTGVuZ3RoIT10LmJ5dGVMZW5ndGh8fCFpKG5ldyBXKGUpLG5ldyBXKHQpKSk7Y2FzZVwiW29iamVjdCBCb29sZWFuXVwiOmNhc2VcIltvYmplY3QgRGF0ZV1cIjpjYXNlXCJbb2JqZWN0IE51bWJlcl1cIjpyZXR1cm4gcGUoK2UsK3QpO2Nhc2VcIltvYmplY3QgRXJyb3JdXCI6cmV0dXJuIGUubmFtZT09dC5uYW1lJiZlLm1lc3NhZ2U9PXQubWVzc2FnZTtjYXNlXCJbb2JqZWN0IFJlZ0V4cF1cIjpjYXNlXCJbb2JqZWN0IFN0cmluZ11cIjpyZXR1cm4gZT09dCtcIlwiO2Nhc2Ugcjp2YXIgYz12O2Nhc2Ugczp2YXIgbD0yJmE7aWYoY3x8KGM9UyksZS5zaXplIT10LnNpemUmJiFsKXJldHVybiExO3ZhciBkPXUuZ2V0KGUpO2lmKGQpcmV0dXJuIGQ9PXQ7YXw9MSx1LnNldChlLHQpO3ZhciBmPXVlKGMoZSksYyh0KSxpLG8sYSx1KTtyZXR1cm4gdS5kZWxldGUoZSksZjtjYXNlXCJbb2JqZWN0IFN5bWJvbF1cIjppZihaKXJldHVybiBaLmNhbGwoZSk9PVouY2FsbCh0KX1yZXR1cm4hMX0oZSx0LGYsbixhLHUsYyk7aWYoISgyJnUpKXt2YXIgeT1wJiZELmNhbGwoZSxcIl9fd3JhcHBlZF9fXCIpLHc9ZyYmRC5jYWxsKHQsXCJfX3dyYXBwZWRfX1wiKTtpZih5fHx3KXt2YXIgQz15P2UudmFsdWUoKTplLF89dz90LnZhbHVlKCk6dDtyZXR1cm4gY3x8KGM9bmV3IG5lKSxuKEMsXyxhLHUsYyl9fWlmKCFtKXJldHVybiExO3JldHVybiBjfHwoYz1uZXcgbmUpLGZ1bmN0aW9uKGUsdCxuLGkscixvKXt2YXIgcz0yJnIsYT1DZShlKSx1PWEubGVuZ3RoLGM9Q2UodCkubGVuZ3RoO2lmKHUhPWMmJiFzKXJldHVybiExO3ZhciBsPXU7Zm9yKDtsLS07KXt2YXIgZD1hW2xdO2lmKCEocz9kIGluIHQ6RC5jYWxsKHQsZCkpKXJldHVybiExfXZhciBmPW8uZ2V0KGUpO2lmKGYmJm8uZ2V0KHQpKXJldHVybiBmPT10O3ZhciBoPSEwO28uc2V0KGUsdCksby5zZXQodCxlKTt2YXIgcD1zO2Zvcig7KytsPHU7KXtkPWFbbF07dmFyIGc9ZVtkXSxtPXRbZF07aWYoaSl2YXIgeT1zP2kobSxnLGQsdCxlLG8pOmkoZyxtLGQsZSx0LG8pO2lmKCEodm9pZCAwPT09eT9nPT09bXx8bihnLG0saSxyLG8pOnkpKXtoPSExO2JyZWFrfXB8fChwPVwiY29uc3RydWN0b3JcIj09ZCl9aWYoaCYmIXApe3ZhciB3PWUuY29uc3RydWN0b3IsYj10LmNvbnN0cnVjdG9yO3c9PWJ8fCEoXCJjb25zdHJ1Y3RvclwiaW4gZSl8fCEoXCJjb25zdHJ1Y3RvclwiaW4gdCl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHcmJncgaW5zdGFuY2VvZiB3JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiZiIGluc3RhbmNlb2YgYnx8KGg9ITEpfXJldHVybiBvLmRlbGV0ZShlKSxvLmRlbGV0ZSh0KSxofShlLHQsbixhLHUsYyl9KGUsdCxvZSxuLGEsdSkpfWZ1bmN0aW9uIHNlKGUpe3JldHVybiEoIWJlKGUpfHxmdW5jdGlvbihlKXtyZXR1cm4hIUwmJkwgaW4gZX0oZSkpJiYoeWUoZSl8fGIoZSk/TjphKS50ZXN0KGhlKGUpKX1mdW5jdGlvbiBhZShlKXtpZihuPSh0PWUpJiZ0LmNvbnN0cnVjdG9yLGk9XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbi5wcm90b3R5cGV8fEksdCE9PWkpcmV0dXJuIEYoZSk7dmFyIHQsbixpLHI9W107Zm9yKHZhciBvIGluIE9iamVjdChlKSlELmNhbGwoZSxvKSYmXCJjb25zdHJ1Y3RvclwiIT1vJiZyLnB1c2gobyk7cmV0dXJuIHJ9ZnVuY3Rpb24gdWUoZSx0LG4saSxyLG8pe3ZhciBzPTImcixhPWUubGVuZ3RoLHU9dC5sZW5ndGg7aWYoYSE9dSYmIShzJiZ1PmEpKXJldHVybiExO3ZhciBjPW8uZ2V0KGUpO2lmKGMmJm8uZ2V0KHQpKXJldHVybiBjPT10O3ZhciBsPS0xLGQ9ITAsZj0xJnI/bmV3IHRlOnZvaWQgMDtmb3Ioby5zZXQoZSx0KSxvLnNldCh0LGUpOysrbDxhOyl7dmFyIGg9ZVtsXSxwPXRbbF07aWYoaSl2YXIgZz1zP2kocCxoLGwsdCxlLG8pOmkoaCxwLGwsZSx0LG8pO2lmKHZvaWQgMCE9PWcpe2lmKGcpY29udGludWU7ZD0hMTticmVha31pZihmKXtpZighdyh0LChmdW5jdGlvbihlLHQpe2lmKCFmLmhhcyh0KSYmKGg9PT1lfHxuKGgsZSxpLHIsbykpKXJldHVybiBmLmFkZCh0KX0pKSl7ZD0hMTticmVha319ZWxzZSBpZihoIT09cCYmIW4oaCxwLGkscixvKSl7ZD0hMTticmVha319cmV0dXJuIG8uZGVsZXRlKGUpLG8uZGVsZXRlKHQpLGR9ZnVuY3Rpb24gY2UoZSx0KXt2YXIgbixpLHI9ZS5fX2RhdGFfXztyZXR1cm4oXCJzdHJpbmdcIj09KGk9dHlwZW9mKG49dCkpfHxcIm51bWJlclwiPT1pfHxcInN5bWJvbFwiPT1pfHxcImJvb2xlYW5cIj09aT9cIl9fcHJvdG9fX1wiIT09bjpudWxsPT09bik/cltcInN0cmluZ1wiPT10eXBlb2YgdD9cInN0cmluZ1wiOlwiaGFzaFwiXTpyLm1hcH1mdW5jdGlvbiBsZShlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWU/dm9pZCAwOmVbdF19KGUsdCk7cmV0dXJuIHNlKG4pP246dm9pZCAwfUoucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1WP1YobnVsbCk6e319LEoucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXMoZSkmJmRlbGV0ZSB0aGlzLl9fZGF0YV9fW2VdfSxKLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXztpZihWKXt2YXIgbj10W2VdO3JldHVyblwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiPT09bj92b2lkIDA6bn1yZXR1cm4gRC5jYWxsKHQsZSk/dFtlXTp2b2lkIDB9LEoucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fO3JldHVybiBWP3ZvaWQgMCE9PXRbZV06RC5jYWxsKHQsZSl9LEoucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9fZGF0YV9fW2VdPVYmJnZvaWQgMD09PXQ/XCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCI6dCx0aGlzfSxYLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189W119LFgucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLG49cmUodCxlKTtyZXR1cm4hKG48MCkmJihuPT10Lmxlbmd0aC0xP3QucG9wKCk6UC5jYWxsKHQsbiwxKSwhMCl9LFgucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLG49cmUodCxlKTtyZXR1cm4gbjwwP3ZvaWQgMDp0W25dWzFdfSxYLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHJlKHRoaXMuX19kYXRhX18sZSk+LTF9LFgucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX19kYXRhX18saT1yZShuLGUpO3JldHVybiBpPDA/bi5wdXNoKFtlLHRdKTpuW2ldWzFdPXQsdGhpc30sZWUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz17aGFzaDpuZXcgSixtYXA6bmV3KEJ8fFgpLHN0cmluZzpuZXcgSn19LGVlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlKHRoaXMsZSkuZGVsZXRlKGUpfSxlZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBjZSh0aGlzLGUpLmdldChlKX0sZWUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gY2UodGhpcyxlKS5oYXMoZSl9LGVlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY2UodGhpcyxlKS5zZXQoZSx0KSx0aGlzfSx0ZS5wcm90b3R5cGUuYWRkPXRlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLnNldChlLFwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiKSx0aGlzfSx0ZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKX0sbmUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1uZXcgWH0sbmUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5kZWxldGUoZSl9LG5lLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGUpfSxuZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKX0sbmUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX19kYXRhX187aWYobiBpbnN0YW5jZW9mIFgpe3ZhciBpPW4uX19kYXRhX187aWYoIUJ8fGkubGVuZ3RoPDE5OSlyZXR1cm4gaS5wdXNoKFtlLHRdKSx0aGlzO249dGhpcy5fX2RhdGFfXz1uZXcgZWUoaSl9cmV0dXJuIG4uc2V0KGUsdCksdGhpc307dmFyIGRlPWZ1bmN0aW9uKGUpe3JldHVybiBrLmNhbGwoZSl9O2Z1bmN0aW9uIGZlKGUsdCl7cmV0dXJuISEodD1udWxsPT10PzkwMDcxOTkyNTQ3NDA5OTE6dCkmJihcIm51bWJlclwiPT10eXBlb2YgZXx8dS50ZXN0KGUpKSYmZT4tMSYmZSUxPT0wJiZlPHR9ZnVuY3Rpb24gaGUoZSl7aWYobnVsbCE9ZSl7dHJ5e3JldHVybiBNLmNhbGwoZSl9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gZStcIlwifWNhdGNoKGUpe319cmV0dXJuXCJcIn1mdW5jdGlvbiBwZShlLHQpe3JldHVybiBlPT09dHx8ZSE9ZSYmdCE9dH0oeCYmXCJbb2JqZWN0IERhdGFWaWV3XVwiIT1kZShuZXcgeChuZXcgQXJyYXlCdWZmZXIoMSkpKXx8QiYmZGUobmV3IEIpIT1yfHxVJiZcIltvYmplY3QgUHJvbWlzZV1cIiE9ZGUoVS5yZXNvbHZlKCkpfHx6JiZkZShuZXcgeikhPXN8fEgmJlwiW29iamVjdCBXZWFrTWFwXVwiIT1kZShuZXcgSCkpJiYoZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ay5jYWxsKGUpLG49dD09bz9lLmNvbnN0cnVjdG9yOnZvaWQgMCxpPW4/aGUobik6dm9pZCAwO2lmKGkpc3dpdGNoKGkpe2Nhc2UgcTpyZXR1cm5cIltvYmplY3QgRGF0YVZpZXddXCI7Y2FzZSAkOnJldHVybiByO2Nhc2UgRzpyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIjtjYXNlIFk6cmV0dXJuIHM7Y2FzZSBROnJldHVyblwiW29iamVjdCBXZWFrTWFwXVwifXJldHVybiB0fSk7dmFyIGdlPUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gbWUoZSl7cmV0dXJuIG51bGwhPWUmJndlKGUubGVuZ3RoKSYmIXllKGUpfWZ1bmN0aW9uIHllKGUpe3ZhciB0PWJlKGUpP2suY2FsbChlKTpcIlwiO3JldHVyblwiW29iamVjdCBGdW5jdGlvbl1cIj09dHx8XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiPT10fWZ1bmN0aW9uIHdlKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPi0xJiZlJTE9PTAmJmU8PTkwMDcxOTkyNTQ3NDA5OTF9ZnVuY3Rpb24gYmUoZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHx8XCJmdW5jdGlvblwiPT10KX1mdW5jdGlvbiB2ZShlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfXZhciBTZT15P2Z1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX19KHkpOmZ1bmN0aW9uKGUpe3JldHVybiB2ZShlKSYmd2UoZS5sZW5ndGgpJiYhIWNbay5jYWxsKGUpXX07ZnVuY3Rpb24gQ2UoZSl7cmV0dXJuIG1lKGUpP2llKGUpOmFlKGUpfW4uZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGk9KG49XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uOnZvaWQgMCk/bihlLHQpOnZvaWQgMDtyZXR1cm4gdm9pZCAwPT09aT9vZShlLHQsbik6ISFpfX0pLmNhbGwodGhpcyxuKDUpLG4oMjApKGUpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQm9vdFJlYWR5SXRlbT10LkJvb3RDb25maWdFbGVtZW50PXQuQUxMX0JPT1RfU1RBR0VTPXZvaWQgMCx0LkFMTF9CT09UX1NUQUdFUz1bXCJtaWNyb2tlcm5lbFwiLFwia2VybmVsXCIsXCJhdXRoZW50aWNhdGlvblwiLFwicHJldXNlclwiLFwiZWFybHl1c2VyXCIsXCJ1c2VyXCJdO3QuQm9vdENvbmZpZ0VsZW1lbnQ9Y2xhc3N7fTt0LkJvb3RSZWFkeUl0ZW09Y2xhc3N7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMubmFtZT1lLHRoaXMudHlwZT10LHRoaXMuY29uZmlnPW59fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY2hlY2twb2ludENoYW5uZWw9dC5zdGF0dXNDaGFubmVsPXQua2lsbE9sZEFwcGxpY2F0aW9ucz12b2lkIDA7Y29uc3QgaT1uKDIpLHI9bigzOSk7dC5raWxsT2xkQXBwbGljYXRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyB0PT57aS5TeXN0ZW0uZ2V0QWxsQXBwbGljYXRpb25zKGFzeW5jIG49PntpZihuKWZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCByPW5bdF07aWYoci51dWlkLmVuZHNXaXRoKFwiLVwiK2UpKXtjb25zdCBlPWkuU3lzdGVtLkFwcGxpY2F0aW9uLndyYXAoci51dWlkKTthd2FpdCBpLlN5c3RlbS5jbG9zZUFwcGxpY2F0aW9uKGUpfX1jb25zb2xlLmxvZyhcImtpbGxPbGRBcHBsaWNhdGlvbnM6IGZpbmlzaGVkIGNsb3Npbmcgb2xkIGFwcHNcIiksdCgpfSl9KX0sdC5zdGF0dXNDaGFubmVsPWZ1bmN0aW9uKGUpe3JldHVybmAke3IuU1RBVFVTX0NIQU5ORUxfQkFTRX0uJHtlfWB9LHQuY2hlY2twb2ludENoYW5uZWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm5gJHtyLkNIRUNLUE9JTlRfQ0hBTk5FTF9CQVNFfS4ke2V9LiR7dH1gfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pfTpmdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxlW2ldPXRbbl19KSxyPXRoaXMmJnRoaXMuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KX06ZnVuY3Rpb24oZSx0KXtlLmRlZmF1bHQ9dH0pLG89dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJmkodCxlLG4pO3JldHVybiByKHQsZSksdH0scz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBhPXMobig3KSksdT1vKG4oMTMpKTt0LmRlZmF1bHQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmFsbG93RGVsYXk9ITEsdGhpcy5kZWxheWVkPSExLHRoaXMuYWxsb3dDYW5jZWw9ITEsdGhpcy5jYW5jZWxlZD0hMSx0aGlzLmNvbXBsZXRlZD0hMSx0aGlzLmV2ZW50PWUuZXZlbnQsdGhpcy5zb3VyY2U9ZS5zb3VyY2UsdGhpcy5zb3VyY2VUeXBlPWUuc291cmNlVHlwZSx0aGlzLmxpc3RlbmVyR3VpZD1lLmxpc3RlbmVyR3VpZCx1W3RoaXMuc291cmNlVHlwZS50b1VwcGVyQ2FzZSgpXSYmdVt0aGlzLnNvdXJjZVR5cGUudG9VcHBlckNhc2UoKV0uREVMQVlBQkxFX0VWRU5UUy5pbmNsdWRlcyh0aGlzLmV2ZW50KSYmKHRoaXMuYWxsb3dEZWxheT0hMCksdVt0aGlzLnNvdXJjZVR5cGUudG9VcHBlckNhc2UoKV0mJnVbdGhpcy5zb3VyY2VUeXBlLnRvVXBwZXJDYXNlKCldLkNBTkNFTEFCTEVfRVZFTlRTLmluY2x1ZGVzKHRoaXMuZXZlbnQpJiYodGhpcy5hbGxvd0NhbmNlbD0hMCksdGhpcy5oYW5kbGVyPWUuaGFuZGxlcix0aGlzLnF1ZXJ5TWVzc2FnZT10LHRoaXMuZ3VpZD10LmRhdGEuZ3VpZCx0aGlzLmludGVybmFsSGFuZGxlcigpfWFzeW5jIGludGVybmFsSGFuZGxlcigpe3RoaXMuZGF0YT10aGlzLnF1ZXJ5TWVzc2FnZS5kYXRhLmRhdGEsdGhpcy5oYW5kbGVyJiZhd2FpdCB0aGlzLmhhbmRsZXIodGhpcyksdGhpcy5kZWxheWVkfHx0aGlzLmNhbmNlbGVkfHx0aGlzLmNvbXBsZXRlZHx8dGhpcy5kb25lKCl9Y2FuY2VsKCl7dGhpcy5hbGxvd0NhbmNlbCYmKHRoaXMuY2FuY2VsZWQ9ITAsdGhpcy5kb25lKCkpfXdhaXQoKXt0aGlzLmFsbG93RGVsYXk/KHRoaXMuZGVsYXllZD0hMCx0aGlzLnF1ZXJ5TWVzc2FnZS5zZW5kUXVlcnlSZXNwb25zZShudWxsLHtkZWxheWVkOiEwfSkpOnRoaXMuZG9uZSgpfWRvbmUoZSl7dGhpcy5jb21wbGV0ZWQ9ITAsdGhpcy5kZWxheWVkP2EuZGVmYXVsdC50cmFuc21pdChgRmluc2VtYmxlLkxpc3RlbmVyLkRvbmUuJHt0aGlzLmd1aWR9LiR7dGhpcy5saXN0ZW5lckd1aWR9YCx7Y2FuY2VsZWQ6dGhpcy5jYW5jZWxlZCxkYXRhOmV9KTp0aGlzLnF1ZXJ5TWVzc2FnZS5zZW5kUXVlcnlSZXNwb25zZShudWxsLHtjYW5jZWxlZDp0aGlzLmNhbmNlbGVkLGRhdGE6ZX0pfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCBpPW4oNjYpO2UuZXhwb3J0cz1lPT57aWYoIU51bWJlci5pc0ludGVnZXIoZSkmJmUhPT0xLzB8fCEoZT4wKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYGNvbmN1cnJlbmN5YCB0byBiZSBhIG51bWJlciBmcm9tIDEgYW5kIHVwXCIpO2NvbnN0IHQ9W107bGV0IG49MDtjb25zdCByPWFzeW5jKGUsciwuLi5vKT0+e24rKztjb25zdCBzPWkoZSwuLi5vKTtyKHMpO3RyeXthd2FpdCBzfWNhdGNoe31uLS0sdC5sZW5ndGg+MCYmdC5zaGlmdCgpKCl9LG89KGksLi4ubyk9Pm5ldyBQcm9taXNlKHM9PigoaSxvLC4uLnMpPT57dC5wdXNoKHIuYmluZChudWxsLGksbywuLi5zKSksKGFzeW5jKCk9Pnthd2FpdCBQcm9taXNlLnJlc29sdmUoKSxuPGUmJnQubGVuZ3RoPjAmJnQuc2hpZnQoKSgpfSkoKX0pKGkscywuLi5vKSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8se2FjdGl2ZUNvdW50OntnZXQ6KCk9Pm59LHBlbmRpbmdDb3VudDp7Z2V0OigpPT50Lmxlbmd0aH0sY2xlYXJRdWV1ZTp7dmFsdWU6KCk9Pnt0Lmxlbmd0aD0wfX19KSxvfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IGk9KGUsLi4udCk9Pm5ldyBQcm9taXNlKG49PntuKGUoLi4udCkpfSk7ZS5leHBvcnRzPWksZS5leHBvcnRzLmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPUpTT04ucGFyc2UoJ3tcImRpY3Rpb25hcnlcIjp7XCIwXCI6XCIwXCIsXCIxXCI6XCIxXCIsXCIyXCI6XCIyXCIsXCIzXCI6XCIzXCIsXCI0XCI6XCI0XCIsXCI1XCI6XCI1XCIsXCI2XCI6XCI2XCIsXCI3XCI6XCI3XCIsXCI4XCI6XCI4XCIsXCI5XCI6XCI5XCIsXCJiYWNrc3BhY2VcIjpcIkJhY2tzcGFjZVwiLFwiYnNcIjpcIkJhY2tzcGFjZVwiLFwiYmtzcFwiOlwiQmFja3NwYWNlXCIsXCJ0YWJcIjpcIlRhYlwiLFwiZXNjYXBlXCI6XCJFc2NhcGVcIixcImVzY1wiOlwiRXNjYXBlXCIsXCJjbGVhclwiOlwiQ2xlYXJcIixcImVudGVyXCI6XCJFbnRlclwiLFwicmV0dXJuXCI6XCJFbnRlclwiLFwic2hpZnRcIjpcIlNoaWZ0XCIsXCJzaGZ0XCI6XCJTaGlmdFwiLFwibHNoaWZ0XCI6XCJTaGlmdFwiLFwibHNoZnRcIjpcIlNoaWZ0XCIsXCJsZWZ0IHNoaWZ0XCI6XCJTaGlmdFwiLFwibGVmdHNoaWZ0XCI6XCJTaGlmdFwiLFwicnNoaWZ0XCI6XCJTaGlmdFwiLFwicnNoZnRcIjpcIlNoaWZ0XCIsXCJyaWdodCBzaGlmdFwiOlwiU2hpZnRcIixcInJpZ2h0c2hpZnRcIjpcIlNoaWZ0XCIsXCJjb250cm9sXCI6XCJDb250cm9sXCIsXCJjdHJsXCI6XCJDb250cm9sXCIsXCJhbHRcIjpcIkFsdFwiLFwiYWx0ZXJuYXRlXCI6XCJBbHRcIixcInBhdXNlXCI6XCJQYXVzZVwiLFwiY2FwcyBsb2NrXCI6XCJDYXBzbG9ja1wiLFwiY2Fwc2xvY2tcIjpcIkNhcHNsb2NrXCIsXCJzcGFjZWJhclwiOlwiU3BhY2VcIixcInNwYWNlXCI6XCJTcGFjZVwiLFwic3BhY2UgYmFyXCI6XCJTcGFjZVwiLFwicGFnZSB1cFwiOlwiUGFnZVVwXCIsXCJwZ3VwXCI6XCJQYWdlVXBcIixcInBnIHVwXCI6XCJQYWdlVXBcIixcInBhZ2UgZG93blwiOlwiUGFnZURvd25cIixcInBnZG5cIjpcIlBhZ2VEb3duXCIsXCJwZyBkblwiOlwiUGFnZURvd25cIixcInBnZG93blwiOlwiUGFnZURvd25cIixcImVuZFwiOlwiRW5kXCIsXCJob21lXCI6XCJIb21lXCIsXCJsZWZ0IGFycm93XCI6XCJMZWZ0XCIsXCJsZWZ0XCI6XCJMZWZ0XCIsXCJ1cCBhcnJvd1wiOlwiVXBcIixcInVwXCI6XCJVcFwiLFwicmlnaHQgYXJyb3dcIjpcIlJpZ2h0XCIsXCJyaWdodFwiOlwiUmlnaHRcIixcImRvd24gYXJyb3dcIjpcIkRvd25cIixcImRvd25cIjpcIkRvd25cIixcInNlbGVjdFwiOlwiU2VsZWN0XCIsXCJzbGN0XCI6XCJTZWxlY3RcIixcInByaW50XCI6XCJQcmludFNjcmVlblwiLFwicHJudFwiOlwiUHJpbnRTY3JlZW5cIixcImV4ZWN1dGVcIjpcIkV4ZWN1dGVcIixcInByaW50IHNjcmVlblwiOlwiUHJpbnRTY3JlZW5cIixcInByaW50c2NyZWVuXCI6XCJQcmludFNjcmVlblwiLFwicHJpbnQgc2NyblwiOlwiUHJpbnRTY3JlZW5cIixcInByaW50c2NyblwiOlwiUHJpbnRTY3JlZW5cIixcInBybnQgc2NyblwiOlwiUHJpbnRTY3JlZW5cIixcInBybnRzY3JuXCI6XCJQcmludFNjcmVlblwiLFwicHJ0IHNjcm5cIjpcIlByaW50U2NyZWVuXCIsXCJwcnRzY3JuXCI6XCJQcmludFNjcmVlblwiLFwicHJ0IHNjblwiOlwiUHJpbnRTY3JlZW5cIixcInBydHNjblwiOlwiUHJpbnRTY3JlZW5cIixcInBydCBzY3JcIjpcIlByaW50U2NyZWVuXCIsXCJwcnRzY3JcIjpcIlByaW50U2NyZWVuXCIsXCJwcnQgc2NcIjpcIlByaW50U2NyZWVuXCIsXCJwcnRzY1wiOlwiUHJpbnRTY3JlZW5cIixcInByIHNjXCI6XCJQcmludFNjcmVlblwiLFwicHJzY1wiOlwiUHJpbnRTY3JlZW5cIixcImluc2VydFwiOlwiSW5zZXJ0XCIsXCJpbnNcIjpcIkluc2VydFwiLFwiZGVsZXRlXCI6XCJEZWxldGVcIixcImRlbFwiOlwiRGVsZXRlXCIsXCJhXCI6XCJBXCIsXCJiXCI6XCJCXCIsXCJjXCI6XCJDXCIsXCJkXCI6XCJEXCIsXCJlXCI6XCJFXCIsXCJmXCI6XCJGXCIsXCJnXCI6XCJHXCIsXCJoXCI6XCJIXCIsXCJpXCI6XCJJXCIsXCJqXCI6XCJKXCIsXCJrXCI6XCJLXCIsXCJsXCI6XCJMXCIsXCJtXCI6XCJNXCIsXCJuXCI6XCJOXCIsXCJvXCI6XCJPXCIsXCJwXCI6XCJQXCIsXCJxXCI6XCJRXCIsXCJyXCI6XCJSXCIsXCJzXCI6XCJTXCIsXCJ0XCI6XCJUXCIsXCJ1XCI6XCJVXCIsXCJ2XCI6XCJWXCIsXCJ3XCI6XCJXXCIsXCJ4XCI6XCJYXCIsXCJ5XCI6XCJZXCIsXCJ6XCI6XCJaXCIsXCJ3aW5kb3dzXCI6XCJTdXBlclwiLFwibGVmdCB3aW5kb3dzXCI6XCJTdXBlclwiLFwicmlnaHQgd2luZG93c1wiOlwiU3VwZXJcIixcIm51bXBhZCAwXCI6XCJudW0wXCIsXCJudW1wYWQgMVwiOlwibnVtMVwiLFwibnVtcGFkIDJcIjpcIm51bTJcIixcIm51bXBhZCAzXCI6XCJudW0zXCIsXCJudW1wYWQgNFwiOlwibnVtNFwiLFwibnVtcGFkIDVcIjpcIm51bTVcIixcIm51bXBhZCA2XCI6XCJudW02XCIsXCJudW1wYWQgN1wiOlwibnVtN1wiLFwibnVtcGFkIDhcIjpcIm51bThcIixcIm51bXBhZCA5XCI6XCJudW05XCIsXCJmMVwiOlwiRjFcIixcImZuMVwiOlwiRjFcIixcImZ1bmN0aW9uIDFcIjpcIkYxXCIsXCJmMlwiOlwiRjJcIixcImZuMlwiOlwiRjJcIixcImZ1bmN0aW9uIDJcIjpcIkYyXCIsXCJmM1wiOlwiRjNcIixcImZuM1wiOlwiRjNcIixcImZ1bmN0aW9uIDNcIjpcIkYzXCIsXCJmNFwiOlwiRjRcIixcImZuNFwiOlwiRjRcIixcImZ1bmN0aW9uIDRcIjpcIkY0XCIsXCJmNVwiOlwiRjVcIixcImZuNVwiOlwiRjVcIixcImZ1bmN0aW9uIDVcIjpcIkY1XCIsXCJmNlwiOlwiRjZcIixcImZuNlwiOlwiRjZcIixcImZ1bmN0aW9uIDZcIjpcIkY2XCIsXCJmN1wiOlwiRjdcIixcImZuN1wiOlwiRjdcIixcImZ1bmN0aW9uIDdcIjpcIkY3XCIsXCJmOFwiOlwiRjhcIixcImZuOFwiOlwiRjhcIixcImZ1bmN0aW9uIDhcIjpcIkY4XCIsXCJmOVwiOlwiRjlcIixcImZuOVwiOlwiRjlcIixcImZ1bmN0aW9uIDlcIjpcIkY5XCIsXCJmMTBcIjpcIkYxMFwiLFwiZm4xMFwiOlwiRjEwXCIsXCJmdW5jdGlvbiAxMFwiOlwiRjEwXCIsXCJmMTFcIjpcIkYxMVwiLFwiZm4xMVwiOlwiRjExXCIsXCJmdW5jdGlvbiAxMVwiOlwiRjExXCIsXCJmMTJcIjpcIkYxMlwiLFwiZm4xMlwiOlwiRjEyXCIsXCJmdW5jdGlvbiAxMlwiOlwiRjEyXCIsXCJmMTNcIjpcIkYxM1wiLFwiZm5cIjpcIkYxM1wiLFwiZnVuY3Rpb24gMTNcIjpcIkYxM1wiLFwiZjE0XCI6XCJGMTRcIixcImZuMTRcIjpcIkYxNFwiLFwiZnVuY3Rpb24gMTRcIjpcIkYxNFwiLFwiZjE1XCI6XCJGMTVcIixcImZuMTVcIjpcIkYxNVwiLFwiZnVuY3Rpb24gMTVcIjpcIkYxNVwiLFwiZjE2XCI6XCJGMTZcIixcImZuMTZcIjpcIkYxNlwiLFwiZnVuY3Rpb24gMTZcIjpcIkYxNlwiLFwibnVtIGxvY2tcIjpcIk51bWxvY2tcIixcIm51bWxvY2tcIjpcIk51bWxvY2tcIixcIm51bWJlciBsb2NrXCI6XCJOdW1sb2NrXCIsXCJudW1lcmljIGxvY2tcIjpcIk51bWxvY2tcIixcInNjcm9sbCBsb2NrXCI6XCJTY3JvbGxsb2NrXCIsXCJzY2xrXCI6XCJTY3JvbGxsb2NrXCIsXCJzY3Jsa1wiOlwiU2Nyb2xsbG9ja1wiLFwic2xrXCI6XCJTY3JvbGxsb2NrXCIsXCIqXCI6XCIqXCIsXCIrXCI6XCIrXCIsXCItXCI6XCItXCIsXCIvXCI6XCIvXCIsXCI7XCI6XCI7XCIsXCI9XCI6XCI9XCIsXCIsXCI6XCIsXCIsXCJfXCI6XCItXCIsXCIuXCI6XCIuXCIsXCJgXCI6XCJgXCIsXCJbXCI6XCJbXCIsXCJdXCI6XCJdXCIsXCJcXCdcIjpcIlxcJ1wifX0nKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pfTpmdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxlW2ldPXRbbl19KSxyPXRoaXMmJnRoaXMuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KX06ZnVuY3Rpb24oZSx0KXtlLmRlZmF1bHQ9dH0pLG89dGhpcyYmdGhpcy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJmkodCxlLG4pO3JldHVybiByKHQsZSksdH0scz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCBhPW4oMTIpLHU9byhuKDY5KSksYz1zKG4oMCkpLGw9d2luZG93O3QuZGVmYXVsdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMudmFsdWVzPXt9LHRoaXMubGlzdGVuZXJzPVtdLHRoaXMucmVnaXN0ZXJlZERpc3BhdGNoTGlzdGVuZXJzPVtdLHRoaXMubWFwcGluZz17fSx0aGlzLkRpc3BhdGNoZXI9e3JlZ2lzdGVyOmU9Pnt0aGlzLnJlZ2lzdGVyZWREaXNwYXRjaExpc3RlbmVycy5wdXNoKGUpfSxkaXNwYXRjaDplPT57dGhpcy5pc0dsb2JhbD90aGlzLnJvdXRlckNsaWVudC50cmFuc21pdChcInN0b3JlU2VydmljZS5kaXNwYXRjaC5cIit0aGlzLm5hbWUsZSk6dGhpcy5oYW5kbGVEaXNwYXRjaGVkTWVzc2FnZXMobnVsbCx7ZGF0YTplfSl9fSx0aGlzLmhhbmRsZUNoYW5nZXM9KGUsdCk9PntpZihlJiZjLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiRGlzdHJpYnV0ZWRTdG9yZUNsaWVudFwiLGUpLCF0LmRhdGEuc3RvcmUpcmV0dXJuO3QuZGF0YS5maWVsZHx8KHQuZGF0YS5maWVsZD1udWxsKTtjb25zdCBuPXRoaXMubmFtZSsodC5kYXRhLmZpZWxkP1wiLlwiK3QuZGF0YS5maWVsZDpcIlwiKSxpPXQuZGF0YS5zdG9yZURhdGE/dC5kYXRhLnN0b3JlRGF0YTp0LmRhdGEudmFsdWU7dGhpcy50cmlnZ2VyTGlzdGVuZXJzKG4saSl9LHRoaXMucm91dGVyQ2xpZW50PXQsdGhpcy5pc0dsb2JhbD1lLmdsb2JhbCx0aGlzLm5hbWU9ZS5zdG9yZT9lLnN0b3JlOlwiZmluc2VtYmxlXCIsZS52YWx1ZXMmJih0aGlzLnZhbHVlcz1lLnZhbHVlcyksdGhpcy5sc3Q9dGhpcy5saXN0ZW5lcnMsdS5pbml0T2JqZWN0KHRoaXMudmFsdWVzLG51bGwsdGhpcy5tYXBwaW5nKSx0aGlzLmlzR2xvYmFsJiZ0aGlzLnJvdXRlckNsaWVudC5hZGRMaXN0ZW5lcihcInN0b3JlU2VydmljZS5kaXNwYXRjaC5cIit0aGlzLm5hbWUsdGhpcy5oYW5kbGVEaXNwYXRjaGVkTWVzc2FnZXMuYmluZCh0aGlzKSl9aGFuZGxlRGlzcGF0Y2hlZE1lc3NhZ2VzKGUsdCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnJlZ2lzdGVyZWREaXNwYXRjaExpc3RlbmVycy5sZW5ndGg7ZSsrKXRoaXMucmVnaXN0ZXJlZERpc3BhdGNoTGlzdGVuZXJzW2VdKHQuZGF0YSl9c2V0VmFsdWUoZSx0KXtpZihlLmZpZWxkfHxjLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiRGlzdHJpYnV0ZWRTdG9yZS5zZXRWYWx1ZTpubyBmaWVsZCBwcm92aWRlZFwiLGUpLGUuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKXx8Yy5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIkRpc3RyaWJ1dGVkU3RvcmUuc2V0VmFsdWU6bm8gdmFsdWUgcHJvdmlkZWRcIixlKSx0aGlzLmlzR2xvYmFsKXtjb25zdCBuPXtzdG9yZTp0aGlzLm5hbWUsZmllbGQ6ZS5maWVsZCx2YWx1ZTplLnZhbHVlfTtyZXR1cm4gbC5kaXN0cmlidXRlZFN0b3JlQ2xpZW50LnJvdXRlckNsaWVudC5xdWVyeShcInN0b3JlU2VydmljZS5zZXRWYWx1ZVwiLG4sZT0+e2lmKHQpcmV0dXJuIHQoZSl9KX1jb25zdCBuPXUuY2hlY2tGb3JPYmplY3RDaGFuZ2UodGhpcy52YWx1ZXMsZS5maWVsZCx0aGlzLm1hcHBpbmcpO3JldHVybiB1LnNldFBhdGgodGhpcy52YWx1ZXMsZS5maWVsZCxlLnZhbHVlKSx1Lm1hcEZpZWxkKHRoaXMudmFsdWVzLGUuZmllbGQsdGhpcy5tYXBwaW5nKSxuJiZ0aGlzLnNlbmRSZW1vdmFscyhuKSx0aGlzLnRyaWdnZXJMaXN0ZW5lcnModGhpcy5uYW1lLHRoaXMpLHRoaXMucHVibGlzaE9iamVjdFVwZGF0ZXMoZS5maWVsZCx0aGlzLm1hcHBpbmcpLHQ/dChudWxsKTpudWxsfXB1Ymxpc2hPYmplY3RVcGRhdGVzKGUsdCl7Y29uc3Qgbj10O2Zvcig7ZTspdGhpcy50cmlnZ2VyTGlzdGVuZXJzKGAke3RoaXMubmFtZX0uJHtlfWAsdS5ieVN0cmluZyh0aGlzLnZhbHVlcyxlKSksZT1uW2VdfXNlbmRSZW1vdmFscyhlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLnRyaWdnZXJMaXN0ZW5lcnMoYCR7dGhpcy5uYW1lfS4ke2VbdF19YCx1LmJ5U3RyaW5nKHRoaXMudmFsdWVzLGVbdF0pKX1zZXRWYWx1ZXMoZSx0KXtyZXR1cm4gZT9BcnJheS5pc0FycmF5KGUpP3ZvaWQgYS5lYWNoKGUsKGUsdCk9Pnt0aGlzLnNldFZhbHVlKGUsdCl9LGU9PnQ/dChlKTpudWxsKTpjLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiRGlzdHJpYnV0ZWRTdG9yZS5zZXRWYWx1ZXM6cGFyYW1zIG11c3QgYmUgYW4gYXJyYXlcIik6Yy5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIkRpc3RyaWJ1dGVkU3RvcmUuc2V0VmFsdWVzOm5vIHBhcmFtcyBnaXZlblwiKX1nZXRWYWx1ZShlLHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT17ZmllbGQ6ZX0pLCFlLmZpZWxkKXJldHVybiB0P3QoXCJubyBmaWVsZCBwcm92aWRlZFwiKTpcIm5vIGZpZWxkIHByb3ZpZGVkXCI7aWYodGhpcy5pc0dsb2JhbClyZXR1cm4gdGhpcy5nZXRHbG9iYWxWYWx1ZShlLHQpO2NvbnN0IG49dS5ieVN0cmluZyh0aGlzLnZhbHVlcyxlLmZpZWxkKTtyZXR1cm4gdm9pZCAwIT09bj90P3QobnVsbCxuKTpuOnQ/dChcImNvdWxkbid0IGZpbmQgYSB2YWx1ZVwiKTpudWxsfWdldFZhbHVlcyhlLHQpe2lmKG51bGw9PT1lJiYoZT10KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiB0PWUsdGhpcy5pc0dsb2JhbD90aGlzLmdldEdsb2JhbFZhbHVlcyhudWxsLHQpOnQ/dChudWxsLHRoaXMudmFsdWVzKTp0aGlzLnZhbHVlcztpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gdGhpcy5nZXRWYWx1ZShlLHQpO2lmKHRoaXMuaXNHbG9iYWwpcmV0dXJuIHRoaXMuZ2V0R2xvYmFsVmFsdWVzKGUsdCk7Y29uc3Qgbj17fTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT1lW3RdLHI9XCJzdHJpbmdcIj09dHlwZW9mIGk/aTppLmZpZWxkLG89dS5ieVN0cmluZyh0aGlzLnZhbHVlcyxyKTtuW3JdPW99cmV0dXJuIHQ/dChudWxsLG4pOm59Z2V0R2xvYmFsVmFsdWUoZSx0KXtsLmRpc3RyaWJ1dGVkU3RvcmVDbGllbnQucm91dGVyQ2xpZW50LnF1ZXJ5KFwic3RvcmVTZXJ2aWNlLmdldFZhbHVlXCIse3N0b3JlOnRoaXMubmFtZSxmaWVsZDplLmZpZWxkfSwoZSxuKT0+ZT90KGUpOnQoZSxuLmRhdGEpKX1nZXRHbG9iYWxWYWx1ZXMoZSx0KXtsLmRpc3RyaWJ1dGVkU3RvcmVDbGllbnQucm91dGVyQ2xpZW50LnF1ZXJ5KFwic3RvcmVTZXJ2aWNlLmdldFZhbHVlc1wiLHtzdG9yZTp0aGlzLm5hbWUsZmllbGRzOmV9LChlLG4pPT5lP3QoZSk6dChlLG4uZGF0YSkpfXJlbW92ZVZhbHVlKGUsdCl7aWYoIWUuZmllbGQpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHQoXCJubyBmaWVsZCBwcm92aWRlZFwiKTtlPXtmaWVsZDplfX1yZXR1cm4gZS52YWx1ZT1udWxsLHRoaXMuc2V0VmFsdWUoZSx0KX1yZW1vdmVWYWx1ZXMoZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gdChcIlRoZSBwYXNzZWQgaW4gcGFyYW1ldGVyIG5lZWRzIHRvIGJlIGFuIGFycmF5XCIpO2EubWFwKGUsdGhpcy5yZW1vdmVWYWx1ZSwoZSxuKT0+dChlLG4pKX1kZXN0cm95KGUpe2NvbnN0IHQ9e3N0b3JlOnRoaXMubmFtZSxnbG9iYWw6dGhpcy5pc0dsb2JhbH07bC5kaXN0cmlidXRlZFN0b3JlQ2xpZW50LnJlbW92ZVN0b3JlKHQsdD0+dD9lKHQpOmUobnVsbCwhMCkpfWNoYW5nZVN1YihlKXt0aGlzLnN1YnN8fCh0aGlzLnN1YnM9W10pLHRoaXMuc3Vic1tlXXx8KHRoaXMuaXNHbG9iYWwmJmwuZGlzdHJpYnV0ZWRTdG9yZUNsaWVudC5yb3V0ZXJDbGllbnQuc3Vic2NyaWJlKFwic3RvcmVTZXJ2aWNlXCIrZSx0aGlzLmhhbmRsZUNoYW5nZXMpLHRoaXMuc3Vic1tlXT0hMCl9YWRkTGlzdGVuZXIoZSx0LG4pe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PWUsZT17fSk7bGV0e2ZpZWxkOml9PWU7Y29uc3Qgcj10aGlzLm5hbWUrKGk/XCIuXCIraTpcIlwiKTtyZXR1cm4gdGhpcy5saXN0ZW5lcnNbcl0/dGhpcy5saXN0ZW5lcnNbcl0ucHVzaCh0KTp0aGlzLmxpc3RlbmVyc1tyXT1bdF0sdGhpcy5jaGFuZ2VTdWIociksbj9uKCk6bnVsbH1hZGRMaXN0ZW5lcnMoZSx0LG4pe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiB0aGlzLmFkZExpc3RlbmVyKGUsdCxuKTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7bGV0IHI9bnVsbDtjb25zdCBvPWVbbl07dmFyIGk7XCJzdHJpbmdcIj09dHlwZW9mIG8/cj1vOm8uZmllbGQmJigoe2ZpZWxkOnJ9PW8pLGk9ZVtuXS5saXN0ZW5lcik7Y29uc3Qgcz10aGlzLm5hbWUrKHI/XCIuXCIrcjpcIlwiKTtpfHx0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYoaT10KSx0aGlzLmxpc3RlbmVyc1tzXT90aGlzLmxpc3RlbmVyc1tzXS5wdXNoKGkpOnRoaXMubGlzdGVuZXJzW3NdPVtpXSx0aGlzLmNoYW5nZVN1YihzKX1yZXR1cm4gbj9uKCk6bnVsbH1yZW1vdmVMaXN0ZW5lcihlLHQsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKG49dCx0PWUsZT17fSk7bGV0e2ZpZWxkOml9PWU7Y29uc3Qgcj10aGlzLm5hbWUrKGk/XCIuXCIraTpcIlwiKTtpZih0aGlzLmxpc3RlbmVyc1tyXSlmb3IobGV0IGU9MDtlPHRoaXMubGlzdGVuZXJzW3JdLmxlbmd0aDtlKyspaWYodGhpcy5saXN0ZW5lcnNbcl1bZV09PT10KXJldHVybiB0aGlzLmxpc3RlbmVyc1tyXS5zcGxpY2UoZSwxKSxuP24obnVsbCwhMCk6bnVsbDtyZXR1cm4gbj9uKG51bGwsITEpOm51bGx9cmVtb3ZlTGlzdGVuZXJzKGUsdCxuKXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3RoaXMucmVtb3ZlTGlzdGVuZXIoe30sZSxuKTplLmZpZWxkJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdCxuKSxuKFwibWlzc2luZyBmaWVsZHNcIik7bGV0IGk9MDtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7bGV0IG89bnVsbDtjb25zdCBzPWVbbl07dmFyIHI7XCJzdHJpbmdcIj09dHlwZW9mIHM/bz1zOnMuZmllbGQmJigoe2ZpZWxkOm99PXMpLHI9ZVtuXS5saXN0ZW5lcik7Y29uc3QgYT10aGlzLm5hbWUrKG8/XCIuXCIrbzpcIlwiKTtpZighcil7aWYoIXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpY29udGludWU7cj10fWZvcihsZXQgZT0wO2U8dGhpcy5saXN0ZW5lcnNbYV0ubGVuZ3RoO2UrKyl0aGlzLmxpc3RlbmVyc1thXVtlXT09PXImJih0aGlzLmxpc3RlbmVyc1thXS5zcGxpY2UoZSwxKSxpKyspfXJldHVybiBpPGUubGVuZ3RoP24oXCJBbGwgbGlzdGVuZXJzIGNvdWxkIG5vdCBiZSBmb3VuZFwiLCExKTpuP24obnVsbCwhMCk6bnVsbH10cmlnZ2VyTGlzdGVuZXJzKGUsdCl7aWYodGhpcy5saXN0ZW5lcnNbZV0pZm9yKGxldCBuPTA7bjx0aGlzLmxpc3RlbmVyc1tlXS5sZW5ndGg7bisrKVwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMubGlzdGVuZXJzW2VdW25dPyhjLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiRGlzdHJpYnV0ZWRTdG9yZS50cmlnZ2VyTGlzdGVuZXJzXCIsZSx0KSx0aGlzLmxpc3RlbmVyc1tlXVtuXShudWxsLHtmaWVsZDplLHZhbHVlOnR9KSk6Yy5kZWZhdWx0LnN5c3RlbS53YXJuKFwiRGlzdHJpYnV0ZWRTdG9yZUNsaWVudDp0cmlnZ2VyTGlzdGVuZXJzOiBsaXN0ZW5lciBpcyBub3QgYSBmdW5jdGlvblwiLGUsbix0aGlzLmxpc3RlbmVyc1tlXVtuXSl9fX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXtjb25zdCBuPSh0PXQucmVwbGFjZSgvXlxcLi8sXCJcIikpLnNwbGl0KC9cXC4oPyFbXltdKl0pL2cpO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7Kyt0KXtjb25zdCBpPW5bdF0ucmVwbGFjZSgvW1tcIlxcXV0vZyxcIlwiKTtpZighZSlyZXR1cm4gbnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gbnVsbDtpZighKGkgaW4gZSkpcmV0dXJuIG51bGw7ZT1lW2ldfXJldHVybiBlfWkucih0KSxpLmQodCxcImJ5U3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksaS5kKHQsXCJzZXRQYXRoXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksaS5kKHQsXCJpbml0T2JqZWN0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksaS5kKHQsXCJtYXBGaWVsZFwiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLGkuZCh0LFwiY2hlY2tGb3JPYmplY3RDaGFuZ2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKTtjb25zdCBvPShlLHQsbik9PnQuc3BsaXQoXCIuXCIpLnJlZHVjZSgoZSxpKT0+ZVtpXT10LnNwbGl0KFwiLlwiKS5wb3AoKT09PWk/bjplW2ldfHx7fSxlKTtmdW5jdGlvbiBzKGUsdCxpKXtsZXQgcjtpZih0fHwodD1udWxsKSxcIm9iamVjdFwiIT10eXBlb2YgZSlyZXR1cm4gcj10P2Ake3R9LiR7bn1gOm4sdm9pZChpW3JdPXQpO2Zvcihjb25zdCBuIGluIGUpXCJvYmplY3RcIj09dHlwZW9mIGVbbl0mJlwidW5kZWZpbmVkXCIhPT1lW25dPyhyPXQ/YCR7dH0uJHtufWA6bixpW3JdPXQscyhlW25dLHIsaSkpOihyPXQ/YCR7dH0uJHtufWA6bixpW3JdPXQpfWZ1bmN0aW9uIGEoZSx0LG4pe2lmKG5bdF0pcmV0dXJuO2NvbnN0IGk9KHQ9KHQ9dC5yZXBsYWNlKC9cXFsoXFx3KylcXF0vZyxcIi4kMVwiKSkucmVwbGFjZSgvXlxcLi8sXCJcIikpLnNwbGl0KFwiLlwiKSxvPXQ7aWYoIW4uaGFzT3duUHJvcGVydHkobykpe2xldCBlPW51bGw7aS5sZW5ndGg+MSYmKGkucG9wKCksZT1pLmpvaW4oXCIuXCIpKSxuW29dPWV9Y29uc3Qgcz1yKGUsbyk7aWYoXCJ1bmRlZmluZWRcIiE9PXMmJlwib2JqZWN0XCI9PXR5cGVvZiBzKWZvcihjb25zdCB0IGluIHMpYShlLGAke299LiR7dH1gLG4pfWZ1bmN0aW9uIHUoZSx0KXtjb25zdCBuPVtdO2Zvcihjb25zdCBpIGluIGUpe2NvbnN0IHI9dCtcIi5cIjtpLmluY2x1ZGVzKHIpJiYobi5wdXNoKGkpLGRlbGV0ZSBlW2ldKX1yZXR1cm4gbn1mdW5jdGlvbiBjKGUsdCxuKXtjb25zdCBpPXIoZSx0KTtyZXR1cm4gbnVsbCE9PWkmJihcIm9iamVjdFwiPT10eXBlb2YgaXx8XCJvYmplY3RcIiE9dHlwZW9mIGkmJlwib2JqZWN0XCI9PXR5cGVvZiB0P3Uobix0KTpudWxsKX19LGZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSxuKXt2YXIgaT1cIltvYmplY3QgQXJndW1lbnRzXVwiLHI9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLG89XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLHM9XCJbb2JqZWN0IE1hcF1cIixhPVwiW29iamVjdCBTZXRdXCIsdT0vXFx3KiQvLGM9L15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLyxsPS9eKD86MHxbMS05XVxcZCopJC8sZD17fTtkW2ldPWRbXCJbb2JqZWN0IEFycmF5XVwiXT1kW1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09ZFtcIltvYmplY3QgRGF0YVZpZXddXCJdPWRbXCJbb2JqZWN0IEJvb2xlYW5dXCJdPWRbXCJbb2JqZWN0IERhdGVdXCJdPWRbXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIl09ZFtcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXT1kW1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPWRbXCJbb2JqZWN0IEludDE2QXJyYXldXCJdPWRbXCJbb2JqZWN0IEludDMyQXJyYXldXCJdPWRbc109ZFtcIltvYmplY3QgTnVtYmVyXVwiXT1kW1wiW29iamVjdCBPYmplY3RdXCJdPWRbXCJbb2JqZWN0IFJlZ0V4cF1cIl09ZFthXT1kW1wiW29iamVjdCBTdHJpbmddXCJdPWRbXCJbb2JqZWN0IFN5bWJvbF1cIl09ZFtcIltvYmplY3QgVWludDhBcnJheV1cIl09ZFtcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCJdPWRbXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiXT1kW1wiW29iamVjdCBVaW50MzJBcnJheV1cIl09ITAsZFtcIltvYmplY3QgRXJyb3JdXCJdPWRbcl09ZFtcIltvYmplY3QgV2Vha01hcF1cIl09ITE7dmFyIGY9XCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuT2JqZWN0PT09T2JqZWN0JiZlLGg9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLHA9Znx8aHx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGc9dCYmIXQubm9kZVR5cGUmJnQsbT1nJiZcIm9iamVjdFwiPT10eXBlb2YgbiYmbiYmIW4ubm9kZVR5cGUmJm4seT1tJiZtLmV4cG9ydHM9PT1nO2Z1bmN0aW9uIHcoZSx0KXtyZXR1cm4gZS5zZXQodFswXSx0WzFdKSxlfWZ1bmN0aW9uIGIoZSx0KXtyZXR1cm4gZS5hZGQodCksZX1mdW5jdGlvbiB2KGUsdCxuLGkpe3ZhciByPS0xLG89ZT9lLmxlbmd0aDowO2ZvcihpJiZvJiYobj1lWysrcl0pOysrcjxvOyluPXQobixlW3JdLHIsZSk7cmV0dXJuIG59ZnVuY3Rpb24gUyhlKXt2YXIgdD0hMTtpZihudWxsIT1lJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLnRvU3RyaW5nKXRyeXt0PSEhKGUrXCJcIil9Y2F0Y2goZSl7fXJldHVybiB0fWZ1bmN0aW9uIEMoZSl7dmFyIHQ9LTEsbj1BcnJheShlLnNpemUpO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7blsrK3RdPVtpLGVdfSkpLG59ZnVuY3Rpb24gXyhlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZSh0KG4pKX19ZnVuY3Rpb24gVChlKXt2YXIgdD0tMSxuPUFycmF5KGUuc2l6ZSk7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7blsrK3RdPWV9KSksbn12YXIgRSxBPUFycmF5LnByb3RvdHlwZSxJPUZ1bmN0aW9uLnByb3RvdHlwZSxPPU9iamVjdC5wcm90b3R5cGUsTD1wW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdLE09KEU9L1teLl0rJC8uZXhlYyhMJiZMLmtleXMmJkwua2V5cy5JRV9QUk9UT3x8XCJcIikpP1wiU3ltYm9sKHNyYylfMS5cIitFOlwiXCIsRD1JLnRvU3RyaW5nLGs9Ty5oYXNPd25Qcm9wZXJ0eSxOPU8udG9TdHJpbmcsaj1SZWdFeHAoXCJeXCIrRC5jYWxsKGspLnJlcGxhY2UoL1tcXFxcXiQuKis/KClbXFxde318XS9nLFwiXFxcXCQmXCIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csXCIkMS4qP1wiKStcIiRcIiksVz15P3AuQnVmZmVyOnZvaWQgMCxSPXAuU3ltYm9sLFA9cC5VaW50OEFycmF5LEY9XyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsT2JqZWN0KSx4PU9iamVjdC5jcmVhdGUsQj1PLnByb3BlcnR5SXNFbnVtZXJhYmxlLFU9QS5zcGxpY2Usej1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLEg9Vz9XLmlzQnVmZmVyOnZvaWQgMCxWPV8oT2JqZWN0LmtleXMsT2JqZWN0KSxxPW1lKHAsXCJEYXRhVmlld1wiKSwkPW1lKHAsXCJNYXBcIiksRz1tZShwLFwiUHJvbWlzZVwiKSxZPW1lKHAsXCJTZXRcIiksUT1tZShwLFwiV2Vha01hcFwiKSxLPW1lKE9iamVjdCxcImNyZWF0ZVwiKSxaPVNlKHEpLEo9U2UoJCksWD1TZShHKSxlZT1TZShZKSx0ZT1TZShRKSxuZT1SP1IucHJvdG90eXBlOnZvaWQgMCxpZT1uZT9uZS52YWx1ZU9mOnZvaWQgMDtmdW5jdGlvbiByZShlKXt2YXIgdD0tMSxuPWU/ZS5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrdDxuOyl7dmFyIGk9ZVt0XTt0aGlzLnNldChpWzBdLGlbMV0pfX1mdW5jdGlvbiBvZShlKXt2YXIgdD0tMSxuPWU/ZS5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrdDxuOyl7dmFyIGk9ZVt0XTt0aGlzLnNldChpWzBdLGlbMV0pfX1mdW5jdGlvbiBzZShlKXt2YXIgdD0tMSxuPWU/ZS5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrdDxuOyl7dmFyIGk9ZVt0XTt0aGlzLnNldChpWzBdLGlbMV0pfX1mdW5jdGlvbiBhZShlKXt0aGlzLl9fZGF0YV9fPW5ldyBvZShlKX1mdW5jdGlvbiB1ZShlLHQpe3ZhciBuPV9lKGUpfHxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiEhZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9KGUpJiZUZShlKX0oZSkmJmsuY2FsbChlLFwiY2FsbGVlXCIpJiYoIUIuY2FsbChlLFwiY2FsbGVlXCIpfHxOLmNhbGwoZSk9PWkpfShlKT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxpPUFycmF5KGUpOysrbjxlOylpW25dPXQobik7cmV0dXJuIGl9KGUubGVuZ3RoLFN0cmluZyk6W10scj1uLmxlbmd0aCxvPSEhcjtmb3IodmFyIHMgaW4gZSkhdCYmIWsuY2FsbChlLHMpfHxvJiYoXCJsZW5ndGhcIj09c3x8YmUocyxyKSl8fG4ucHVzaChzKTtyZXR1cm4gbn1mdW5jdGlvbiBjZShlLHQsbil7dmFyIGk9ZVt0XTtrLmNhbGwoZSx0KSYmQ2UoaSxuKSYmKHZvaWQgMCE9PW58fHQgaW4gZSl8fChlW3RdPW4pfWZ1bmN0aW9uIGxlKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspaWYoQ2UoZVtuXVswXSx0KSlyZXR1cm4gbjtyZXR1cm4tMX1mdW5jdGlvbiBkZShlLHQsbixjLGwsZixoKXt2YXIgcDtpZihjJiYocD1mP2MoZSxsLGYsaCk6YyhlKSksdm9pZCAwIT09cClyZXR1cm4gcDtpZighSWUoZSkpcmV0dXJuIGU7dmFyIGc9X2UoZSk7aWYoZyl7aWYocD1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aCxuPWUuY29uc3RydWN0b3IodCk7dCYmXCJzdHJpbmdcIj09dHlwZW9mIGVbMF0mJmsuY2FsbChlLFwiaW5kZXhcIikmJihuLmluZGV4PWUuaW5kZXgsbi5pbnB1dD1lLmlucHV0KTtyZXR1cm4gbn0oZSksIXQpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49LTEsaT1lLmxlbmd0aDt0fHwodD1BcnJheShpKSk7Zm9yKDsrK248aTspdFtuXT1lW25dO3JldHVybiB0fShlLHApfWVsc2V7dmFyIG09d2UoZSkseT1tPT1yfHxtPT1vO2lmKEVlKGUpKXJldHVybiBmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIGUuc2xpY2UoKTt2YXIgbj1uZXcgZS5jb25zdHJ1Y3RvcihlLmxlbmd0aCk7cmV0dXJuIGUuY29weShuKSxufShlLHQpO2lmKFwiW29iamVjdCBPYmplY3RdXCI9PW18fG09PWl8fHkmJiFmKXtpZihTKGUpKXJldHVybiBmP2U6e307aWYocD1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmNvbnN0cnVjdG9yfHx2ZShlKT97fToodD1GKGUpLEllKHQpP3godCk6e30pO3ZhciB0fSh5P3t9OmUpLCF0KXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBwZShlLHllKGUpLHQpfShlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnBlKHQsT2UodCksZSl9KHAsZSkpfWVsc2V7aWYoIWRbbV0pcmV0dXJuIGY/ZTp7fTtwPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByPWUuY29uc3RydWN0b3I7c3dpdGNoKHQpe2Nhc2VcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI6cmV0dXJuIGhlKGUpO2Nhc2VcIltvYmplY3QgQm9vbGVhbl1cIjpjYXNlXCJbb2JqZWN0IERhdGVdXCI6cmV0dXJuIG5ldyByKCtlKTtjYXNlXCJbb2JqZWN0IERhdGFWaWV3XVwiOnJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXQ/aGUoZS5idWZmZXIpOmUuYnVmZmVyO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihuLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpfShlLGkpO2Nhc2VcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiOmNhc2VcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiOmNhc2VcIltvYmplY3QgSW50OEFycmF5XVwiOmNhc2VcIltvYmplY3QgSW50MTZBcnJheV1cIjpjYXNlXCJbb2JqZWN0IEludDMyQXJyYXldXCI6Y2FzZVwiW29iamVjdCBVaW50OEFycmF5XVwiOmNhc2VcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCI6Y2FzZVwiW29iamVjdCBVaW50MTZBcnJheV1cIjpjYXNlXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiOnJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXQ/aGUoZS5idWZmZXIpOmUuYnVmZmVyO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihuLGUuYnl0ZU9mZnNldCxlLmxlbmd0aCl9KGUsaSk7Y2FzZSBzOnJldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuIHYodD9uKEMoZSksITApOkMoZSksdyxuZXcgZS5jb25zdHJ1Y3Rvcil9KGUsaSxuKTtjYXNlXCJbb2JqZWN0IE51bWJlcl1cIjpjYXNlXCJbb2JqZWN0IFN0cmluZ11cIjpyZXR1cm4gbmV3IHIoZSk7Y2FzZVwiW29iamVjdCBSZWdFeHBdXCI6cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBlLmNvbnN0cnVjdG9yKGUuc291cmNlLHUuZXhlYyhlKSk7cmV0dXJuIHQubGFzdEluZGV4PWUubGFzdEluZGV4LHR9KGUpO2Nhc2UgYTpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2KHQ/bihUKGUpLCEwKTpUKGUpLGIsbmV3IGUuY29uc3RydWN0b3IpfShlLGksbik7Y2FzZVwiW29iamVjdCBTeW1ib2xdXCI6cmV0dXJuIG89ZSxpZT9PYmplY3QoaWUuY2FsbChvKSk6e319dmFyIG99KGUsbSxkZSx0KX19aHx8KGg9bmV3IGFlKTt2YXIgXz1oLmdldChlKTtpZihfKXJldHVybiBfO2lmKGguc2V0KGUscCksIWcpdmFyIEU9bj9mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXQoZSk7cmV0dXJuIF9lKGUpP2k6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49LTEsaT10Lmxlbmd0aCxyPWUubGVuZ3RoOysrbjxpOyllW3Irbl09dFtuXTtyZXR1cm4gZX0oaSxuKGUpKX0oZSxPZSx5ZSl9KGUpOk9lKGUpO3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxpPWU/ZS5sZW5ndGg6MDsrK248aSYmITEhPT10KGVbbl0sbixlKTspO30oRXx8ZSwoZnVuY3Rpb24oaSxyKXtFJiYoaT1lW3I9aV0pLGNlKHAscixkZShpLHQsbixjLHIsZSxoKSl9KSkscH1mdW5jdGlvbiBmZShlKXtyZXR1cm4hKCFJZShlKXx8KHQ9ZSxNJiZNIGluIHQpKSYmKEFlKGUpfHxTKGUpP2o6YykudGVzdChTZShlKSk7dmFyIHR9ZnVuY3Rpb24gaGUoZSl7dmFyIHQ9bmV3IGUuY29uc3RydWN0b3IoZS5ieXRlTGVuZ3RoKTtyZXR1cm4gbmV3IFAodCkuc2V0KG5ldyBQKGUpKSx0fWZ1bmN0aW9uIHBlKGUsdCxuLGkpe258fChuPXt9KTtmb3IodmFyIHI9LTEsbz10Lmxlbmd0aDsrK3I8bzspe3ZhciBzPXRbcl0sYT1pP2kobltzXSxlW3NdLHMsbixlKTp2b2lkIDA7Y2UobixzLHZvaWQgMD09PWE/ZVtzXTphKX1yZXR1cm4gbn1mdW5jdGlvbiBnZShlLHQpe3ZhciBuLGkscj1lLl9fZGF0YV9fO3JldHVybihcInN0cmluZ1wiPT0oaT10eXBlb2Yobj10KSl8fFwibnVtYmVyXCI9PWl8fFwic3ltYm9sXCI9PWl8fFwiYm9vbGVhblwiPT1pP1wiX19wcm90b19fXCIhPT1uOm51bGw9PT1uKT9yW1wic3RyaW5nXCI9PXR5cGVvZiB0P1wic3RyaW5nXCI6XCJoYXNoXCJdOnIubWFwfWZ1bmN0aW9uIG1lKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6ZVt0XX0oZSx0KTtyZXR1cm4gZmUobik/bjp2b2lkIDB9cmUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1LP0sobnVsbCk6e319LHJlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaGFzKGUpJiZkZWxldGUgdGhpcy5fX2RhdGFfX1tlXX0scmUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fO2lmKEspe3ZhciBuPXRbZV07cmV0dXJuXCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCI9PT1uP3ZvaWQgMDpufXJldHVybiBrLmNhbGwodCxlKT90W2VdOnZvaWQgMH0scmUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fO3JldHVybiBLP3ZvaWQgMCE9PXRbZV06ay5jYWxsKHQsZSl9LHJlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fX2RhdGFfX1tlXT1LJiZ2b2lkIDA9PT10P1wiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiOnQsdGhpc30sb2UucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXX0sb2UucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLG49bGUodCxlKTtyZXR1cm4hKG48MCkmJihuPT10Lmxlbmd0aC0xP3QucG9wKCk6VS5jYWxsKHQsbiwxKSwhMCl9LG9lLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXyxuPWxlKHQsZSk7cmV0dXJuIG48MD92b2lkIDA6dFtuXVsxXX0sb2UucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gbGUodGhpcy5fX2RhdGFfXyxlKT4tMX0sb2UucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX19kYXRhX18saT1sZShuLGUpO3JldHVybiBpPDA/bi5wdXNoKFtlLHRdKTpuW2ldWzFdPXQsdGhpc30sc2UucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz17aGFzaDpuZXcgcmUsbWFwOm5ldygkfHxvZSksc3RyaW5nOm5ldyByZX19LHNlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGdlKHRoaXMsZSkuZGVsZXRlKGUpfSxzZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBnZSh0aGlzLGUpLmdldChlKX0sc2UucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gZ2UodGhpcyxlKS5oYXMoZSl9LHNlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZ2UodGhpcyxlKS5zZXQoZSx0KSx0aGlzfSxhZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPW5ldyBvZX0sYWUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5kZWxldGUoZSl9LGFlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGUpfSxhZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKX0sYWUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX19kYXRhX187aWYobiBpbnN0YW5jZW9mIG9lKXt2YXIgaT1uLl9fZGF0YV9fO2lmKCEkfHxpLmxlbmd0aDwxOTkpcmV0dXJuIGkucHVzaChbZSx0XSksdGhpcztuPXRoaXMuX19kYXRhX189bmV3IHNlKGkpfXJldHVybiBuLnNldChlLHQpLHRoaXN9O3ZhciB5ZT16P18oeixPYmplY3QpOmZ1bmN0aW9uKCl7cmV0dXJuW119LHdlPWZ1bmN0aW9uKGUpe3JldHVybiBOLmNhbGwoZSl9O2Z1bmN0aW9uIGJlKGUsdCl7cmV0dXJuISEodD1udWxsPT10PzkwMDcxOTkyNTQ3NDA5OTE6dCkmJihcIm51bWJlclwiPT10eXBlb2YgZXx8bC50ZXN0KGUpKSYmZT4tMSYmZSUxPT0wJiZlPHR9ZnVuY3Rpb24gdmUoZSl7dmFyIHQ9ZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4gZT09PShcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LnByb3RvdHlwZXx8Tyl9ZnVuY3Rpb24gU2UoZSl7aWYobnVsbCE9ZSl7dHJ5e3JldHVybiBELmNhbGwoZSl9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gZStcIlwifWNhdGNoKGUpe319cmV0dXJuXCJcIn1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09dHx8ZSE9ZSYmdCE9dH0ocSYmXCJbb2JqZWN0IERhdGFWaWV3XVwiIT13ZShuZXcgcShuZXcgQXJyYXlCdWZmZXIoMSkpKXx8JCYmd2UobmV3ICQpIT1zfHxHJiZcIltvYmplY3QgUHJvbWlzZV1cIiE9d2UoRy5yZXNvbHZlKCkpfHxZJiZ3ZShuZXcgWSkhPWF8fFEmJlwiW29iamVjdCBXZWFrTWFwXVwiIT13ZShuZXcgUSkpJiYod2U9ZnVuY3Rpb24oZSl7dmFyIHQ9Ti5jYWxsKGUpLG49XCJbb2JqZWN0IE9iamVjdF1cIj09dD9lLmNvbnN0cnVjdG9yOnZvaWQgMCxpPW4/U2Uobik6dm9pZCAwO2lmKGkpc3dpdGNoKGkpe2Nhc2UgWjpyZXR1cm5cIltvYmplY3QgRGF0YVZpZXddXCI7Y2FzZSBKOnJldHVybiBzO2Nhc2UgWDpyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIjtjYXNlIGVlOnJldHVybiBhO2Nhc2UgdGU6cmV0dXJuXCJbb2JqZWN0IFdlYWtNYXBdXCJ9cmV0dXJuIHR9KTt2YXIgX2U9QXJyYXkuaXNBcnJheTtmdW5jdGlvbiBUZShlKXtyZXR1cm4gbnVsbCE9ZSYmZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmU+LTEmJmUlMT09MCYmZTw9OTAwNzE5OTI1NDc0MDk5MX0oZS5sZW5ndGgpJiYhQWUoZSl9dmFyIEVlPUh8fGZ1bmN0aW9uKCl7cmV0dXJuITF9O2Z1bmN0aW9uIEFlKGUpe3ZhciB0PUllKGUpP04uY2FsbChlKTpcIlwiO3JldHVybiB0PT1yfHx0PT1vfWZ1bmN0aW9uIEllKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybiEhZSYmKFwib2JqZWN0XCI9PXR8fFwiZnVuY3Rpb25cIj09dCl9ZnVuY3Rpb24gT2UoZSl7cmV0dXJuIFRlKGUpP3VlKGUpOmZ1bmN0aW9uKGUpe2lmKCF2ZShlKSlyZXR1cm4gVihlKTt2YXIgdD1bXTtmb3IodmFyIG4gaW4gT2JqZWN0KGUpKWsuY2FsbChlLG4pJiZcImNvbnN0cnVjdG9yXCIhPW4mJnQucHVzaChuKTtyZXR1cm4gdH0oZSl9bi5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBkZShlLCEwLCEwKX19KS5jYWxsKHRoaXMsbig1KSxuKDIwKShlKSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkZpbnNlbWJsZVZpZXc9dm9pZCAwO3QuRmluc2VtYmxlVmlldz1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLndpbj1lLndpbix0aGlzLmlkPWUuaWR9YXN5bmMgcmVtb3ZlKGU9RnVuY3Rpb24ucHJvdG90eXBlKXthd2FpdCB0aGlzLndpbi5yZW1vdmVCcm93c2VyVmlldyh0aGlzLGUpfWFzeW5jIHNldEJvdW5kcyhlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXthd2FpdCB0aGlzLndpbi5zZXRWaWV3Qm91bmRzKHt2aWV3OnRoaXMsYm91bmRzOmV9LHQpfWFzeW5jIGJyaW5nVG9Gcm9udChlPUZ1bmN0aW9uLnByb3RvdHlwZSl7YXdhaXQgdGhpcy53aW4uYnJpbmdWaWV3VG9Gcm9udCh0aGlzLGUpfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtcbi8qIVxuICogQ29weXJpZ2h0IDIwMTcgLSAyMDIwIGJ5IENoYXJ0SVEsIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi92YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSkscj10aGlzJiZ0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSl9OmZ1bmN0aW9uKGUsdCl7ZS5kZWZhdWx0PXR9KSxvPXRoaXMmJnRoaXMuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZpKHQsZSxuKTtyZXR1cm4gcih0LGUpLHR9LHM9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgYT1uKDQpLHU9byhuKDExKSksYz1zKG4oOCkpLGw9cyhuKDApKSxkPW4oMTMpLGY9bigxMCk7Y2xhc3MgaCBleHRlbmRzIGEuX0Jhc2VDbGllbnR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy53b3Jrc3BhY2VzPVtdLHRoaXMuc2V0V29ya3NwYWNlcz10aGlzLnNldFdvcmtzcGFjZU9yZGVyLHRoaXMuY3JlYXRlTmV3V29ya3NwYWNlPXRoaXMuY3JlYXRlV29ya3NwYWNlLHRoaXMuZ2V0V29ya3NwYWNlRGVmaW5pdGlvbj10aGlzLmV4cG9ydCx0aGlzLmFkZFdvcmtzcGFjZURlZmluaXRpb249dGhpcy5pbXBvcnQsdGhpcy5zYXZlV29ya3NwYWNlVGVtcGxhdGVUb0NvbmZpZ0ZpbGU9dGhpcy5leHBvcnRUb0ZpbGUsYy5kZWZhdWx0LmFyZ3MoZSxcIm9iamVjdD1cIikmJmUmJmMuZGVmYXVsdC5hcmdzMihcInBhcmFtcy5vblJlYWR5XCIsZS5vblJlYWR5LFwiZnVuY3Rpb249XCIpfV9zZXJ2aWNlUmVzcG9uc2VIYW5kbGVyKGUsdCxuLGkscj1GdW5jdGlvbi5wcm90b3R5cGUpe2lmKGUpcmV0dXJuIGkobmV3IEVycm9yKGUpKSxyKGUpO3R8fCh0PXtkYXRhOm51bGx9KSxuKHQuZGF0YSkscihudWxsLHQuZGF0YSl9c2F2ZUdsb2JhbERhdGEoZSx0KXtsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV29ya3NwYWNlQ2xpZW50LnNhdmVHbG9iYWxEYXRhXCIsZSk7cmV0dXJuIG5ldyBQcm9taXNlKChuLGkpPT57dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoZC5XT1JLU1BBQ0UuQVBJX0NIQU5ORUxTLlNBVkVfR0xPQkFMX0RBVEEsZSwoZSxyKT0+e3RoaXMuX3NlcnZpY2VSZXNwb25zZUhhbmRsZXIoZSxyLG4saSx0KX0pfSl9c2F2ZVZpZXdEYXRhKGUsdCl7bC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldvcmtzcGFjZUNsaWVudC5zYXZlVmlld0RhdGFcIixlKTtyZXR1cm4gbmV3IFByb21pc2UoKG4saSk9Pnt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShkLldPUktTUEFDRS5BUElfQ0hBTk5FTFMuU0FWRV9WSUVXX0RBVEEsZSwoZSxyKT0+e3RoaXMuX3NlcnZpY2VSZXNwb25zZUhhbmRsZXIoZSxyLG4saSx0KX0pfSl9YWRkRXZlbnRMaXN0ZW5lcihlLHQpe3N1cGVyLmFkZEV2ZW50TGlzdGVuZXIoZSx0KX1hc3luYyBhZGRXaW5kb3coZSx0PW51bGwpe2MuZGVmYXVsdC5hcmdzKGUsXCJvYmplY3RcIix0LFwiZnVuY3Rpb249XCIpJiZlJiZjLmRlZmF1bHQuYXJnczIoXCJwYXJhbXMubmFtZVwiLGUubmFtZSxcInN0cmluZ1wiKTtjb25zdHtlcnI6bixyZXNwb25zZTppfT1hd2FpdCB0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIldvcmtzcGFjZVNlcnZpY2UuYWRkV2luZG93XCIsZSwoKT0+e30pO2lmKGwuZGVmYXVsdC5zeXN0ZW0ubG9nKGBXT1JLU1BBQ0UgTElGRUNZQ0xFOiBXaW5kb3cgYWRkZWQ6V29ya3NwYWNlQ2xpZW50LmFkZFdpbmRvdzogTmFtZSAoJHtlLm5hbWV9KWApLHQmJnQobixpKSwhdCYmbil0aHJvdyBuO3JldHVybiBpfXJlbW92ZVdpbmRvdyhlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtjLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uPVwiKSYmYy5kZWZhdWx0LmFyZ3MyKFwicGFyYW1zLm5hbWVcIixlLm5hbWUsXCJzdHJpbmdcIiksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJXb3Jrc3BhY2VTZXJ2aWNlLnJlbW92ZVdpbmRvd1wiLGUsKG4saSk9PntpZihuKXJldHVybiBsLmRlZmF1bHQuc3lzdGVtLmVycm9yKG4pO2wuZGVmYXVsdC5zeXN0ZW0ubG9nKGBXT1JLU1BBQ0UgTElGRUNZQ0xFOldvcmtzcGFjZUNsaWVudC5yZW1vdmVXaW5kb3c6V2luZG93IHJlbW92ZWQ6IE5hbWUgKCR7ZS5uYW1lfSlgKSx0KG4saT9pLmRhdGE6bnVsbCl9KX1hdXRvQXJyYW5nZShlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtjLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uPVwiKSxlPWV8fHt9LHUuZ2V0TXlXaW5kb3dJZGVudGlmaWVyKGU9Pnt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIkRvY2tpbmdTZXJ2aWNlLmF1dG9BcnJhbmdlXCIse3dpbmRvd0lkZW50aWZpZXI6ZX0sdCl9KX1taW5pbWl6ZUFsbChlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtjLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uPVwiKSxlPWV8fHttb25pdG9yOlwiYWxsXCJ9LHUuZ2V0TXlXaW5kb3dJZGVudGlmaWVyKG49PntlLndpbmRvd0lkZW50aWZpZXJ8fChlLndpbmRvd0lkZW50aWZpZXI9biksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJXb3Jrc3BhY2VTZXJ2aWNlLm1pbmltaXplQWxsXCIsZSx0KX0pfWJyaW5nV2luZG93c1RvRnJvbnQoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7Yy5kZWZhdWx0LmFyZ3MoZSxcIm9iamVjdFwiLHQsXCJmdW5jdGlvbj1cIiksZT1lfHx7bW9uaXRvcjpcImFsbFwifSx1LmdldE15V2luZG93SWRlbnRpZmllcihuPT57ZS53aW5kb3dJZGVudGlmaWVyfHwoZS53aW5kb3dJZGVudGlmaWVyPW4pLHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiV29ya3NwYWNlU2VydmljZS5icmluZ1dpbmRvd3NUb0Zyb250XCIsZSx0KX0pfWFzeW5jIGdldEFjdGl2ZVdvcmtzcGFjZShlKXtsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV29ya3NwYWNlQ2xpZW50LmdldEFjdGl2ZVdvcmtzcGFjZVwiKTtjb25zdCB0PShhd2FpdCB0aGlzLnJvdXRlckNsaWVudC5xdWVyeShkLldPUktTUEFDRS5BUElfQ0hBTk5FTFMuR0VUX0FDVElWRV9XT1JLU1BBQ0Use30pKS5yZXNwb25zZTtpZih0aGlzLmFjdGl2ZVdvcmtzcGFjZT10LmRhdGEsdC5kYXRhLmVycil0aHJvdyBlJiZlKHQuZGF0YS5lcnIpLG5ldyBFcnJvcih0LmRhdGEuZXJyKTtyZXR1cm4gZSYmZShudWxsLHQpLHR9Z2V0V29ya3NwYWNlcyhlKXtjLmRlZmF1bHQuYXJncyhlLFwiZnVuY3Rpb249XCIpLGwuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJXb3Jrc3BhY2VDbGllbnQuZ2V0V29ya3NwYWNlc1wiKTtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmModCxuKT0+e3RoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KGQuV09SS1NQQUNFLkFQSV9DSEFOTkVMUy5HRVRfV09SS1NQQUNFUyx7fSwoaSxyKT0+e3RoaXMuX3NlcnZpY2VSZXNwb25zZUhhbmRsZXIoaSxyLHQsbixlKX0pfSl9Z2V0V29ya3NwYWNlQWN0aW9ucyhlKXtyZXR1cm4gZShudWxsLGQuV09SS1NQQUNFLkFQSV9DSEFOTkVMUyl9Z2V0V29ya3NwYWNlTmFtZXMoZSl7Yy5kZWZhdWx0LmFyZ3MoZSxcImZ1bmN0aW9uPVwiKSxsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV29ya3NwYWNlQ2xpZW50LmdldFdvcmtzcGFjZU5hbWVzXCIpO3JldHVybiBuZXcgUHJvbWlzZShhc3luYyh0LG4pPT57dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoZC5XT1JLU1BBQ0UuQVBJX0NIQU5ORUxTLkdFVF9XT1JLU1BBQ0VfTkFNRVMse30sKGkscik9Pnt0aGlzLl9zZXJ2aWNlUmVzcG9uc2VIYW5kbGVyKGkscix0LG4sZSl9KX0pfXNldFdvcmtzcGFjZU9yZGVyKGUsdCl7Y29uc3R7d29ya3NwYWNlczpufT1lO2MuZGVmYXVsdC5hcmdzKHQsXCJmdW5jdGlvblwiKSxsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV29ya3NwYWNlQ2xpZW50LnNldFdvcmtzcGFjZU9yZGVyXCIsZSk7cmV0dXJuIG5ldyBQcm9taXNlKChpLHIpPT57dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoZC5XT1JLU1BBQ0UuQVBJX0NIQU5ORUxTLlNFVF9XT1JLU1BBQ0VfT1JERVIsbnx8ZSwoZSxuKT0+e3RoaXMuX3NlcnZpY2VSZXNwb25zZUhhbmRsZXIoZSxuLGkscix0KX0pfSl9cmVtb3ZlKGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2MuZGVmYXVsdC5hcmdzKGUsXCJvYmplY3RcIix0LFwiZnVuY3Rpb249XCIpJiYhZS5uYW1lJiYhZS53b3Jrc3BhY2UmJmMuZGVmYXVsdC5hcmdzMihcInBhcmFtcy5uYW1lXCIsZS5uYW1lLFwic3RyaW5nXCIpLGwuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJXb3Jrc3BhY2VDbGllbnQucmVtb3ZlXCIsZSk7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKG4saSk9PntlLm5hbWV8fChlLm5hbWU9ZS53b3Jrc3BhY2UubmFtZSxkZWxldGUgZS53b3Jrc3BhY2UpO2NvbnN0IHI9KGF3YWl0IHRoaXMuZ2V0QWN0aXZlV29ya3NwYWNlKCkpLmRhdGE7aWYoZS5uYW1lPT09ci5uYW1lKXtsLmRlZmF1bHQuc3lzdGVtLmVycm9yKFwiQVBQTElDQVRJT04gTElGRUNZQ0xFOiAgQ2Fubm90IHJlbW92ZSBhY3RpdmUgd29ya3NwYWNlOiBXb3Jrc3BhY2VDbGllbnQucmVtb3ZlOmF0dGVtcHQgdG8gcmVtb3ZlIGFjdGl2ZSB3b3Jrc3BhY2UgbmFtZTpcIityLm5hbWUpO2NvbnN0IGU9XCJDYW5ub3QgcmVtb3ZlIGFjdGl2ZSB3b3Jrc3BhY2VcIjtyZXR1cm4gdGhpcy5fc2VydmljZVJlc3BvbnNlSGFuZGxlcihlLG51bGwsbixpLHQpfXRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KGQuV09SS1NQQUNFLkFQSV9DSEFOTkVMUy5SRU1PVkUsZSwoZSxyKT0+e3RoaXMuX3NlcnZpY2VSZXNwb25zZUhhbmRsZXIoZSxyLG4saSx0KX0pfSl9cmVuYW1lKGUsdD1GdW5jdGlvbi5wcm90b3R5cGUpe2MuZGVmYXVsdC5hcmdzKGUsXCJvYmplY3RcIix0LFwiZnVuY3Rpb249XCIpJiZjLmRlZmF1bHQuYXJnczIoXCJwYXJhbXMub2xkTmFtZVwiLGUub2xkTmFtZSxcInN0cmluZ1wiLFwicGFyYW1zLm5ld05hbWVcIixlLm5ld05hbWUsXCJzdHJpbmdcIiksbC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldvcmtzcGFjZUNsaWVudC5yZW5hbWVcIixlKTtyZXR1cm4gbmV3IFByb21pc2UoKG4saSk9PntpZighZS5vdmVyd3JpdGVFeGlzdGluZyYmdGhpcy53b3Jrc3BhY2VFeGlzdHMoZS5uZXdOYW1lKSl7Y29uc3QgZT1cIldvcmtzcGFjZSBBbHJlYWR5IEV4aXN0c1wiO3JldHVybiB0aGlzLl9zZXJ2aWNlUmVzcG9uc2VIYW5kbGVyKGUsbnVsbCxuLGksdCl9dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoZC5XT1JLU1BBQ0UuQVBJX0NIQU5ORUxTLlJFTkFNRSxlLChlLHIpPT57dGhpcy5fc2VydmljZVJlc3BvbnNlSGFuZGxlcihlLHIsbixpLHQpfSl9KX1jbG9uZShlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtyZXR1cm4gYy5kZWZhdWx0LmFyZ3MoZSxcIm9iamVjdFwiLHQsXCJmdW5jdGlvbj1cIikmJmMuZGVmYXVsdC5hcmdzMihcInBhcmFtcy5uYW1lXCIsZS5uYW1lLFwic3RyaW5nXCIpLGRlbGV0ZSBlLm5hbWUsZS5uZXdOYW1lfHwoZS5uZXdOYW1lPWUubmFtZStcIl9jbG9uZVwiKSxlLnJlbW92ZU9sZFdvcmtzcGFjZT0hMSx0aGlzLnJlbmFtZSh7cmVtb3ZlT2xkV29ya3NwYWNlOiExLG5ld05hbWU6ZS5uZXdOYW1lLG9sZE5hbWU6ZS5uYW1lfSx0KX1zYXZlKGU9RnVuY3Rpb24ucHJvdG90eXBlKXtsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV29ya3NwYWNlQ2xpZW50LnNhdmVcIik7cmV0dXJuIG5ldyBQcm9taXNlKCh0LG4pPT57dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoZC5XT1JLU1BBQ0UuQVBJX0NIQU5ORUxTLlNBVkUse30sKGkscik9Pnt0aGlzLl9zZXJ2aWNlUmVzcG9uc2VIYW5kbGVyKGkscix0LG4sZSl9KX0pfXdvcmtzcGFjZUV4aXN0cyhlKXtjLmRlZmF1bHQuYXJncyhlLFwic3RyaW5nXCIpO2ZvcihsZXQgdD0wO3Q8dGhpcy53b3Jrc3BhY2VzLmxlbmd0aDt0KyspaWYoZT09PXRoaXMud29ya3NwYWNlc1t0XSlyZXR1cm4hMDtyZXR1cm4hMX1zYXZlQXMoZSx0PUZ1bmN0aW9uLnByb3RvdHlwZSl7Yy5kZWZhdWx0LmFyZ3MoZSxcIm9iamVjdFwiLHQsXCJmdW5jdGlvbj1cIikmJmMuZGVmYXVsdC5hcmdzMihcInBhcmFtcy5uYW1lXCIsZS5uYW1lLFwic3RyaW5nXCIpLGwuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJXb3Jrc3BhY2VDbGllbnQuc2F2ZUFzXCIsZSk7cmV0dXJuIG5ldyBQcm9taXNlKChuLGkpPT57aWYoIWUuZm9yY2UmJnRoaXMud29ya3NwYWNlRXhpc3RzKGUubmFtZSkpcmV0dXJuIHRoaXMuX3NlcnZpY2VSZXNwb25zZUhhbmRsZXIoXCJXb3Jrc3BhY2UgQWxyZWFkeSBFeGlzdHNcIixudWxsLG4saSx0KTt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShkLldPUktTUEFDRS5BUElfQ0hBTk5FTFMuU0FWRV9BUyxlLChlLHIpPT57dGhpcy5fc2VydmljZVJlc3BvbnNlSGFuZGxlcihlLHIsbixpLHQpfSl9KX1hc3luYyBzd2l0Y2hUbyhlLHQ9RnVuY3Rpb24ucHJvdG90eXBlKXtjLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uXCIpJiZjLmRlZmF1bHQuYXJnczIoXCJwYXJhbXMubmFtZVwiLGUubmFtZSxcInN0cmluZ1wiKSxsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV29ya3NwYWNlQ2xpZW50LnN3aXRjaFRvXCIsZSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnJvdXRlckNsaWVudC5xdWVyeShkLldPUktTUEFDRS5BUElfQ0hBTk5FTFMuU1dJVENIX1RPLGUpO2lmKG4uZXJyKXRocm93IHQobi5lcnIsbnVsbCksbmV3IEVycm9yKG4uZXJyKTtyZXR1cm4gdChuKSxufWFzeW5jIF9zZXRXaW5kb3dTdGF0ZShlKXtpZighdGhpcy5hY3RpdmVXb3Jrc3BhY2UpdGhyb3dcIldvcmtzcGFjZSBpcyBub3QgeWV0IHJlYWR5XCI7aWYoIXRoaXMuYWN0aXZlV29ya3NwYWNlLndpbmRvd3MuaW5jbHVkZXMoZS53aW5kb3dOYW1lKSl0aHJvd1wiQ2Fubm90IHNldCBzdGF0ZSBmb3IgV2luZG93IG5vdCBpbiB3b3Jrc3BhY2VcIjtyZXR1cm4gbC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldvcmtzcGFjZUNsaWVudC5zZXRXaW5kb3dEYXRhXCIsZSksdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoZC5XT1JLU1BBQ0UuQVBJX0NIQU5ORUxTLlNFVF9XSU5ET1dfU1RBVEUsZSl9YXN5bmMgX2dldFdpbmRvd1N0YXRlKGUpe3JldHVybiBsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV29ya3NwYWNlQ2xpZW50LmdldFdpbmRvd0RhdGFcIixlKSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShkLldPUktTUEFDRS5BUElfQ0hBTk5FTFMuR0VUX1dJTkRPV19TVEFURSxlKX1hc3luYyBpc1dvcmtzcGFjZURpcnR5KGU9RnVuY3Rpb24ucHJvdG90eXBlKXtjLmRlZmF1bHQuYXJncyhlLFwiZnVuY3Rpb25cIiksbC5kZWZhdWx0LnN5c3RlbS5kZWJ1ZyhcIldvcmtzcGFjZUNsaWVudC5pc1dvcmtzcGFjZURpcnR5XCIpO2NvbnN0e2Vycjp0LHJlc3BvbnNlOm59PWF3YWl0IHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KGQuV09SS1NQQUNFLkFQSV9DSEFOTkVMUy5HRVRfQUNUSVZFX1dPUktTUEFDRV9ESVJUWSx7fSwoKT0+e30pO3JldHVybiBlKHQsbiksbi5kYXRhfWFzeW5jIGNyZWF0ZVdvcmtzcGFjZShlLHQsbj0oKGUsdCk9PntlJiYobC5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHdvcmtzcGFjZTogXCIrZSksbC5kZWZhdWx0LnN5c3RlbS5pbmZvKFwiUmVzdWx0IGZyb20gY3JlYXRlIHdvcmtzcGFjZTogXCIrdCkpfSkpe2wuZGVmYXVsdC5zeXN0ZW0ubG9nKGBXb3Jrc3BhY2VDbGllbnQ6IENyZWF0aW5nIFdvcmtzcGFjZSBSZXF1ZXN0IGZvciBuYW1lIFwiJHtlfVwiYCk7Y29uc3QgaT0oYXdhaXQgdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoZC5XT1JLU1BBQ0UuQVBJX0NIQU5ORUxTLk5FV19XT1JLU1BBQ0Use3dvcmtzcGFjZU5hbWU6ZX0pKS5yZXNwb25zZS5kYXRhOyExIT09dC5zd2l0Y2hBZnRlckNyZWF0aW9uJiZhd2FpdCB0aGlzLnN3aXRjaFRvKHtuYW1lOml9KTtjb25zdCByPXt3b3Jrc3BhY2VOYW1lOml9O3JldHVybiBuKG51bGwscikscn1leHBvcnQoZSx0KXtjLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uXCIpJiZjLmRlZmF1bHQuYXJnczIoXCJwYXJhbXMud29ya3NwYWNlTmFtZVwiLGUud29ya3NwYWNlTmFtZSxcInN0cmluZ1wiKSxsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV29ya3NwYWNlQ2xpZW50LmV4cG9ydFwiLGUpO3JldHVybiBuZXcgUHJvbWlzZSgobixpKT0+e3RoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KGQuV09SS1NQQUNFLkFQSV9DSEFOTkVMUy5FWFBPUlQsZSwocixvKT0+e2NvbnN0IHM9e307c1tlLndvcmtzcGFjZU5hbWVdPW8uZGF0YSx0aGlzLl9zZXJ2aWNlUmVzcG9uc2VIYW5kbGVyKHIse2RhdGE6c30sbixpLHQpfSl9KX1hc3luYyBpbXBvcnQoZSx0KXtjLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIsdCxcImZ1bmN0aW9uPVwiKSYmYy5kZWZhdWx0LmFyZ3MyKFwicGFyYW1zLndvcmtzcGFjZUpTT05EZWZpbml0aW9uXCIsZS53b3Jrc3BhY2VKU09ORGVmaW5pdGlvbixcIm9iamVjdFwiKSxsLmRlZmF1bHQuc3lzdGVtLmRlYnVnKFwiV29ya3NwYWNlQ2xpZW50LmltcG9ydFwiLGUpO2NvbnN0IG49KGF3YWl0IHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KGQuV09SS1NQQUNFLkFQSV9DSEFOTkVMUy5JTVBPUlQsZSkpLnJlc3BvbnNlLmRhdGE7aWYobiYmbi5lcnIpdGhyb3cgdChuLmVyciksbmV3IEVycm9yKG4uZXJyKTtyZXR1cm4gdCYmdChudWxsLG4pLG59ZXhwb3J0VG9GaWxlKGUpe2wuZGVmYXVsdC5zeXN0ZW0uaW5mbyhcIndvcmtzcGFjZUNsaWVudC5zYXZlV29ya3NwYWNlVGVtcGxhdGVUb0NvbmZpZ0ZpbGVcIixlKSxjLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIpJiZjLmRlZmF1bHQuYXJnczIoXCJwYXJhbXMud29ya3NwYWNlVGVtcGxhdGVEZWZpbml0aW9uXCIsZS53b3Jrc3BhY2VUZW1wbGF0ZURlZmluaXRpb24sXCJvYmplY3RcIik7Y29uc3R7d29ya3NwYWNlVGVtcGxhdGVEZWZpbml0aW9uOnR9PWU7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe2NvbnN0IGU9T2JqZWN0LmtleXModClbMF07aWYoZSYmdFtlXS50ZW1wbGF0ZURlZmluaXRpb25GbGFnKXtjb25zdCBuPXt3b3Jrc3BhY2VUZW1wbGF0ZXM6dH07Zi5Db25maWdVdGlsSW5zdGFuY2UucHJvbXB0QW5kU2F2ZUpTT05Ub0xvY2FsRmlsZShcIndvcmtzcGFjZUNvbmZpZy1cIitlLG4pfWVsc2UgbC5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIndvcmtzcGFjZUNsaWVudC5zYXZlV29ya3NwYWNlVGVtcGxhdGVUb0NvbmZpZ0ZpbGUuIElucHV0IGlzIG5vdCBhIGxlZ2FsIHRlbXBsYXRlXCIpfWVsc2UgbC5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIndvcmtzcGFjZUNsaWVudC5zYXZlV29ya3NwYWNlVGVtcGxhdGVUb0NvbmZpZ0ZpbGU6IElucHV0IGlzIG5vdCBhIGxlZ2FsIG9iamVjdFwiKX1hc3luYyBzdGFydChlKXt0aGlzLnJvdXRlckNsaWVudC5zdWJzY3JpYmUoXCJGaW5zZW1ibGUuV29ya3NwYWNlU2VydmljZS51cGRhdGVcIiwodCxuKT0+e2wuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJ3b3Jrc3BhY2VDbGllbnQgaW5pdCBzdWJzY3JpYmUgcmVzcG9uc2VcIix0LG4pLHQ/bC5kZWZhdWx0LnN5c3RlbS5lcnJvcih0KToodGhpcy5hY3RpdmVXb3Jrc3BhY2U9bi5kYXRhLmFjdGl2ZVdvcmtzcGFjZSx0aGlzLndvcmtzcGFjZXM9bi5kYXRhLndvcmtzcGFjZXMsZSYmZSgpKX0pfX12YXIgcD1uZXcgaCh7b25SZWFkeTplPT57cC5zdGFydChlKX0sbmFtZTpcIndvcmtzcGFjZUNsaWVudFwifSk7dC5kZWZhdWx0PXB9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtcbi8qIVxuICogQ29weXJpZ2h0IDIwMTcgLSAyMDIwIGJ5IENoYXJ0SVEsIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi92YXIgaT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCByPW4oMTIpLG89aShuKDE2KSkscz1pKG4oMTQpKSxhPWkobigxNykpLHU9aShuKDgpKSxjPW4oNCksbD1uKDE1KSxkPWkobigwKSksZj1uKDIpLGg9big5KTtzLmRlZmF1bHQuaW5pdGlhbGl6ZSgpLG8uZGVmYXVsdC5pbml0aWFsaXplKCksYS5kZWZhdWx0LmluaXRpYWxpemUoKTtjbGFzcyBwIGV4dGVuZHMgYy5fQmFzZUNsaWVudHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmdldFBhcmFtZXRlcnNGcm9tSW5EaWFsb2c9KCk9Pntjb25zdHtpbnB1dFBhcmFtczplfT1zLmRlZmF1bHQuZ2V0U3Bhd25EYXRhKCk7cmV0dXJuIGQuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJEaWFsb2dNYW5hZ2VyQ2xpZW50OmdldFBhcmFtZXRlcnNGcm9tSW5EaWFsb2c6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxlfSx0aGlzLnJlc3BvbmRBbmRFeGl0RnJvbUluRGlhbG9nPWU9Pnt1LmRlZmF1bHQuYXJncyhlLFwiYW55XCIpLGQuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJEaWFsb2dNYW5hZ2VyQ2xpZW50OnJlc3BvbmRBbmRFeGl0RnJvbUluRGlhbG9nOiBcIitKU09OLnN0cmluZ2lmeShlKSk7Y29uc3R7cmVzcG9uc2VDaGFubmVsOnR9PXMuZGVmYXVsdC5nZXRTcGF3bkRhdGEoKTt0aGlzLnJvdXRlckNsaWVudC50cmFuc21pdCh0LGUpfSx0aGlzLmdldEF2YWlsYWJsZURpYWxvZz0oZSx0KT0+e3RoaXMuRGlhbG9nU3RvcmUuZ2V0VmFsdWUoXCJkaWFsb2dzLmF2YWlsYWJsZVwiLChuLGkpPT57Zm9yKGNvbnN0IG4gaW4gaSl7Y29uc3Qgcj1pW25dO2lmKHIuY29tcG9uZW50VHlwZT09PWUpcmV0dXJuIHQocil9dChudWxsKX0pfSx0aGlzLmdlbmVyYXRlRGlhbG9nUmVhZHlDaGFubmVsPWU9PmBEaWFsb2cuJHtlLndpbmRvd05hbWUrZS51dWlkfS5yZWFkeWAsdGhpcy5zaG93RGlhbG9nPSgpPT57Y29uc3QgZT10aGlzLmdlbmVyYXRlRGlhbG9nUmVhZHlDaGFubmVsKG8uZGVmYXVsdC5teVdpbmRvd0lkZW50aWZpZXIpO3RoaXMucm91dGVyQ2xpZW50LnRyYW5zbWl0KGUse3VzZXJJbnB1dFRpbWVvdXQ6dm9pZCAwPT09dGhpcy51c2VySW5wdXRUaW1lb3V0PzFlNDp0aGlzLnVzZXJJbnB1dFRpbWVvdXR9KX0sdGhpcy5zZW5kUXVlcnlUb0RpYWxvZz0oZSx0LG4pPT57ZnVuY3Rpb24gaSh0KXtjb25zb2xlLndhcm4oYE5vIHJlc3BvbnNlIGZyb20gZGlhbG9nICR7ZS53aW5kb3dOYW1lfSBhZnRlciAke3QvMWUzfSBzZWNvbmRzLiBDaGVjayB0byBtYWtlIHN1cmUgeW91ciBkaWFsb2cgaXMgc2VuZGluZyBiYWNrIGRhdGEuYCl9dGhpcy5tb3ZlRGlhbG9nRnJvbUF2YWlsYWJsZVRvT3BlbmVkKGUpO2NvbnN0IHI9YERpYWxvZy4ke2Uud2luZG93TmFtZStlLnV1aWR9LlNob3dgLHM9dGhpcy5nZW5lcmF0ZURpYWxvZ1JlYWR5Q2hhbm5lbChlKTtsZXQgYTtjb25zdCB1PShuLHIpPT57YT1zZXRUaW1lb3V0KGkuYmluZChudWxsLHIuZGF0YS51c2VySW5wdXRUaW1lb3V0KSxyLmRhdGEudXNlcklucHV0VGltZW91dCksZC5kZWZhdWx0LnBlcmYuaW5mbyhcIkRpYWxvZ01hbmFnZXJDbGllbnQ6c2VuZFF1ZXJ5VG9EaWFsb2c6RGlhbG9nOiBTaG93V2luZG93IFN0YXJ0XCIpLG8uZGVmYXVsdC5zaG93V2luZG93KGUse21vbml0b3I6dC5tb25pdG9yfHxcIm1pbmVcIixsZWZ0OlwiY2VudGVyXCIsdG9wOlwiY2VudGVyXCJ9LChlLHQpPT57bC5GaW5zZW1ibGVXaW5kb3cuZ2V0SW5zdGFuY2Uoe25hbWU6dC5maW5XaW5kb3cubmFtZX0sKGUsdCk9Pnt0LmJyaW5nVG9Gcm9udCgpLHQuZm9jdXMoKX0pLGQuZGVmYXVsdC5wZXJmLmluZm8oXCJEaWFsb2dNYW5hZ2VyQ2xpZW50OnNlbmRRdWVyeVRvRGlhbG9nOlNob3dXaW5kb3cgZmluaXNoXCIpfSksdGhpcy5yb3V0ZXJDbGllbnQucmVtb3ZlTGlzdGVuZXIocyx1KX07dGhpcy5yb3V0ZXJDbGllbnQuYWRkTGlzdGVuZXIocyx1KSxkLmRlZmF1bHQucGVyZi5pbmZvKFwiRGlhbG9nTWFuYWdlckNsaWVudDpzZW5kUXVlcnlUb0RpYWxvZyBTaG93V2luZG93IFF1ZXJ5IGJlZ2luLlwiKSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShyLHQsKHQsaSk9PntjbGVhclRpbWVvdXQoYSksdGhpcy5tb3ZlRGlhbG9nRnJvbU9wZW5lZFRvQXZhaWxhYmxlKGUpLG4odCxpLmRhdGEpfSl9LHRoaXMubW92ZURpYWxvZ0Zyb21PcGVuZWRUb0F2YWlsYWJsZT1lPT57dGhpcy5EaWFsb2dTdG9yZS5nZXRWYWx1ZShcImRpYWxvZ3NcIiwodCxuKT0+e2NvbnN0IGk9bi5vcGVuZWQscj1uLmF2YWlsYWJsZTtkZWxldGUgaVtlLndpbmRvd05hbWVdLHJbZS53aW5kb3dOYW1lXT1lLHRoaXMuRGlhbG9nU3RvcmUuc2V0VmFsdWUoe2ZpZWxkOlwiZGlhbG9ncy5vcGVuZWRcIix2YWx1ZTppfSksdGhpcy5EaWFsb2dTdG9yZS5zZXRWYWx1ZSh7ZmllbGQ6XCJkaWFsb2dzLmF2YWlsYWJsZVwiLHZhbHVlOnJ9KX0pfSx0aGlzLm1vdmVEaWFsb2dGcm9tQXZhaWxhYmxlVG9PcGVuZWQ9ZT0+e3RoaXMuRGlhbG9nU3RvcmUuZ2V0VmFsdWUoXCJkaWFsb2dzXCIsKHQsbik9Pntjb25zdCBpPW4uYXZhaWxhYmxlLHI9bi5vcGVuZWQ7ZGVsZXRlIGlbZS53aW5kb3dOYW1lXSxyW2Uud2luZG93TmFtZV09ZSx0aGlzLkRpYWxvZ1N0b3JlLnNldFZhbHVlKHtmaWVsZDpcImRpYWxvZ3MuYXZhaWxhYmxlXCIsdmFsdWU6aX0pLHRoaXMuRGlhbG9nU3RvcmUuc2V0VmFsdWUoe2ZpZWxkOlwiZGlhbG9ncy5vcGVuZWRcIix2YWx1ZTpyfSl9KX0sdGhpcy5yZWdpc3Rlck1vZGFsPSgpPT57dGhpcy5pc01vZGFsJiYoZi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oZT0+e2NvbnN0IHQ9ZS52aXJ0dWFsU2NyZWVuO3Qud2lkdGg9dC5yaWdodC10LmxlZnQsdC5oZWlnaHQ9dC5ib3R0b20tdC50b3AsdGhpcy5maW5zZW1ibGVXaW5kb3cuc2V0Qm91bmRzKHtib3VuZHM6dH0pfSksdGhpcy5EaWFsb2dTdG9yZS5zZXRWYWx1ZSh7ZmllbGQ6XCJtb2RhbElkZW50aWZpZXJcIix2YWx1ZTpvLmRlZmF1bHQubXlXaW5kb3dJZGVudGlmaWVyfSkpfSx0aGlzLnNob3dNb2RhbD1lPT57dGhpcy5EaWFsb2dTdG9yZS5nZXRWYWx1ZShcIm1vZGFsSWRlbnRpZmllclwiLGFzeW5jKHQsbik9PntpZihudWxsPT1uKXJldHVybjtjb25zdHt3cmFwOml9PWF3YWl0IGwuRmluc2VtYmxlV2luZG93LmdldEluc3RhbmNlKHt1dWlkOm4udXVpZCxuYW1lOm4ud2luZG93TmFtZX0pO2kudXBkYXRlT3B0aW9ucyh7b3B0aW9uczp7b3BhY2l0eTouNH19LCgpPT57aS5zaG93KCgpPT57aS5icmluZ1RvRnJvbnQoKCk9Pnt0aGlzLmZpbnNlbWJsZVdpbmRvdy5mb2N1cygoKT0+e3RoaXMuZmluc2VtYmxlV2luZG93LmJyaW5nVG9Gcm9udCgpLGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUoKX0pfSl9KX0pfSl9LHRoaXMub3Blbj0oZSx0LG4pPT57dGhpcy5nZXRBdmFpbGFibGVEaWFsb2coZSxpPT57aT90aGlzLnNlbmRRdWVyeVRvRGlhbG9nKGksdCxuKTpvLmRlZmF1bHQuc3Bhd24oZSx7b3B0aW9uczp7Y3VzdG9tRGF0YTp7Zm9yZWlnbjp7Y2xpZW50czp7ZGlhbG9nTWFuYWdlcjp7aXNEaWFsb2c6ITB9fX19fX0sKCk9Pnt0aGlzLm9wZW4oZSx0LG4pfSl9KX0sdGhpcy5EaWFsb2dTdG9yZT1udWxsLHRoaXMuaXNEaWFsb2c9ITEsdGhpcy5pc01vZGFsPSExLHRoaXMuUkVTUE9OREVSX0NIQU5ORUw9bnVsbCx0aGlzLm9wZW5lck1lc3NhZ2U9bnVsbCx0aGlzLnJlZ2lzdGVyRGlhbG9nQ2FsbGJhY2s9ZT0+e3RoaXMucm91dGVyQ2xpZW50LmFkZFJlc3BvbmRlcih0aGlzLlJFU1BPTkRFUl9DSEFOTkVMLCh0LG4pPT57dGhpcy5vcGVuZXJNZXNzYWdlPW4sZSh0LG4pfSl9LHRoaXMuaGlkZU1vZGFsPSgpPT57dGhpcy5EaWFsb2dTdG9yZS5nZXRWYWx1ZShcIm1vZGFsSWRlbnRpZmllclwiLGFzeW5jKGUsdCk9PntpZihudWxsPT10KXJldHVybjtjb25zdHt3cmFwOm59PWF3YWl0IGwuRmluc2VtYmxlV2luZG93LmdldEluc3RhbmNlKHt1dWlkOnQudXVpZCxuYW1lOnQud2luZG93TmFtZX0pO24uaGlkZSgpfSl9LHRoaXMucmVzcG9uZFRvT3BlbmVyPWU9PntkLmRlZmF1bHQuc3lzdGVtLmluZm8oXCJEaWFsb2dNYW5hZ2VyQ2xpZW50OlJlc3BvbmRUb09wZW5lcjpcIixlKSx0aGlzLm9wZW5lck1lc3NhZ2Uuc2VuZFF1ZXJ5UmVzcG9uc2UobnVsbCxlKSwhMSE9PWUuaGlkZU1vZGFsT25DbG9zZSYmdGhpcy5oaWRlTW9kYWwoKSx0aGlzLmZpbnNlbWJsZVdpbmRvdy5oaWRlKCksdGhpcy5vcGVuZXJNZXNzYWdlPW51bGx9LHRoaXMucmVnaXN0ZXJXaXRoU3RvcmU9ZT0+e2lmKHRoaXMuaXNEaWFsb2cpe2NvbnN0IHQ9by5kZWZhdWx0Lm15V2luZG93SWRlbnRpZmllcjt0aGlzLlJFU1BPTkRFUl9DSEFOTkVMPWBEaWFsb2cuJHt0LndpbmRvd05hbWUrdC51dWlkfS5TaG93YCx0aGlzLkRpYWxvZ1N0b3JlLnNldFZhbHVlKHtmaWVsZDpcImRpYWxvZ3MuYXZhaWxhYmxlLlwiK3Qud2luZG93TmFtZSx2YWx1ZTp0fSxlKX1lbHNlIGUoKX0sdGhpcy5jaGVja0lmV2luZG93SXNEaWFsb2c9ZT0+e2xldCB0PW51bGw7dHJ5e3RoaXMuaXNEaWFsb2c9cy5kZWZhdWx0Lm9wdGlvbnMuY3VzdG9tRGF0YS5mb3JlaWduLmNsaWVudHMuZGlhbG9nTWFuYWdlci5pc0RpYWxvZ31jYXRjaChlKXt0PWV9ZSYmZSh0KX0sdGhpcy5jcmVhdGVTdG9yZT1lPT57YS5kZWZhdWx0LmNyZWF0ZVN0b3JlKHtzdG9yZTpcIkRpYWxvZ1N0b3JlXCIsdmFsdWVzOntkaWFsb2dzOntvcGVuZWQ6e30sYXZhaWxhYmxlOnt9fX0sZ2xvYmFsOiEwfSwodCxuKT0+e3RoaXMuRGlhbG9nU3RvcmU9bixlKCl9KX0sdGhpcy5nZXRGaW5zZW1ibGVXaW5kb3c9ZT0+e2lmKCF0aGlzLmlzRGlhbG9nKXJldHVybiBlKCk7bC5GaW5zZW1ibGVXaW5kb3cuZ2V0SW5zdGFuY2Uoe25hbWU6dGhpcy5maW5XaW5kb3cubmFtZSx1dWlkOnRoaXMuZmluV2luZG93LnV1aWR9LCh0LG4pPT57dGhpcy5maW5zZW1ibGVXaW5kb3c9bixlKCl9KX0sdGhpcy5zcGF3bkRpYWxvZz10aGlzLnNwYXduRGlhbG9nLmJpbmQodGhpcyl9c3Bhd25EaWFsb2coZSx0LG4saSl7dS5kZWZhdWx0LmFyZ3MoZSxcIm9iamVjdFwiLHQsXCJvYmplY3RcIixuLFwiZnVuY3Rpb25cIik7Y29uc3Qgcj1oLmdldFVuaXF1ZU5hbWUoXCJEaWFsb2dDaGFubmVsXCIpO2UuZGF0YT17aW5wdXRQYXJhbXM6dCxyZXNwb25zZUNoYW5uZWw6cn0sZS5sZWZ0fHwwPT09ZS5sZWZ0fHxlLnJpZ2h0fHwwPT09ZS5yaWdodHx8KGUubGVmdD1cImNlbnRlclwiKSxlLnRvcHx8MD09PWUudG9wfHxlLmJvdHRvbXx8MD09PWUuYm90dG9tfHwoZS50b3A9XCJjZW50ZXJcIiksdGhpcy5yb3V0ZXJDbGllbnQuYWRkTGlzdGVuZXIociwoZSx0KT0+e24oZSx0LmRhdGEpLHRoaXMucm91dGVyQ2xpZW50LnJlbW92ZUxpc3RlbmVyKHIsaSl9KSxvLmRlZmF1bHQuc3Bhd24oXCJkaWFsb2dUZW1wbGF0ZVwiLGUsKGUsdCk9PntlJiYoZC5kZWZhdWx0LnN5c3RlbS5lcnJvcihcIkVSUk9SXCIsZSksbihlLHQpKSxpJiZpKGUsdCl9KX19dmFyIGc9bmV3IHAoe3N0YXJ0dXBEZXBlbmRlbmNpZXM6e2NsaWVudHM6W1wiZGlzdHJpYnV0ZWRTdG9yZUNsaWVudFwiLFwid2luZG93Q2xpZW50XCJdfSxvblJlYWR5KGUpe2cuY2hlY2tJZldpbmRvd0lzRGlhbG9nKCksci5zZXJpZXMoW2cuY3JlYXRlU3RvcmUuYmluZChnKSxnLnJlZ2lzdGVyV2l0aFN0b3JlLmJpbmQoZyksZy5nZXRGaW5zZW1ibGVXaW5kb3cuYmluZChnKSxlPT57by5kZWZhdWx0Lm9uUmVhZHkoZSl9LGU9PntzLmRlZmF1bHQub25SZWFkeShlKX1dLGUpfSxuYW1lOlwiZGlhbG9nTWFuYWdlclwifSk7dC5kZWZhdWx0PWd9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtcbi8qIVxuICogQ29weXJpZ2h0IDIwMTcgLSAyMDIwIGJ5IENoYXJ0SVEsIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi92YXIgaT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkF1dGhlbnRpY2F0aW9uQ2xpZW50PXZvaWQgMDtjb25zdCByPWkobig4KSksbz1uKDQpLHM9bigxNSksYT1uKDkpO2NsYXNzIHUgZXh0ZW5kcyBvLl9CYXNlQ2xpZW50e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMucHVibGlzaEF1dGhvcml6YXRpb249KGUsdCk9PntyLmRlZmF1bHQuYXJncyhlLFwic3RyaW5nXCIsdCxcIm9iamVjdFwiKSx0aGlzLnJvdXRlckNsaWVudC50cmFuc21pdChcIkF1dGhlbnRpY2F0aW9uU2VydmljZS5hdXRob3JpemF0aW9uXCIse3VzZXI6ZSxjcmVkZW50aWFsczp0fSl9LHRoaXMuZ2V0Q3VycmVudENyZWRlbnRpYWxzPWU9Pnt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcImF1dGhlbnRpY2F0aW9uLmN1cnJlbnRDcmVkZW50aWFsc1wiLG51bGwsKHQsbik9Pntjb25zdCBpPXQ/bnVsbDpuLmRhdGE7ZSh0LGkpfSl9LHRoaXMudHJhbnNtaXRTaWduT25Ub0F1dGhTZXJ2aWNlPWU9PntyLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0XCIpLHRoaXMubG9nZ2VyLnN5c3RlbS5kZWJ1ZyhcIkFVVEhPUklaQVRJT046IFRyYW5zbWl0dGluZyBTaWduT24gVG8gQXV0aFNlcnZpY2VcIiksdGhpcy5yb3V0ZXJDbGllbnQudHJhbnNtaXQoXCJhdXRoZW50aWNhdGlvbi5kaWFsb2dTaWduT25Ub0F1dGhTZXJ2aWNlXCIsZSl9LHRoaXMuYXBwU2lnbk9uPShlLHQsbik9Pnt0aGlzLmxvZ2dlci5zeXN0ZW0uZGVidWcoXCJBVVRIT1JJWkFUSU9OOiBTaWduaW5nIG9uIHRvIGFwcCBcIitlKSxyLmRlZmF1bHQuYXJncyhlLFwic3RyaW5nXCIsdCxcIm9iamVjdFwiLG4sXCJmdW5jdGlvblwiKSx0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcImF1dGhlbnRpY2F0aW9uLmFwcFNpZ25PblwiLHtzaWduT25LZXk6ZSxwYXJhbXM6dH0se3RpbWVvdXQ6LTF9LChlLHQpPT57biYmbihlLHQuZGF0YSl9KX0sdGhpcy5hcHBSZWplY3RBbmRSZXRyeVNpZ25Pbj0oZSx0LG4pPT57dGhpcy5sb2dnZXIuc3lzdGVtLndhcm4oXCJBVVRIT1JJWkFUSU9OOiBhcHBSZWplY3RBbmRSZXRyeVNpZ25PblwiLGUpLHIuZGVmYXVsdC5hcmdzKGUsXCJzdHJpbmdcIix0LFwib2JqZWN0XCIsbixcImZ1bmN0aW9uXCIpLHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiYXV0aGVudGljYXRpb24uYXBwUmVqZWN0QW5kUmV0cnlTaWduT25cIix7c2lnbk9uS2V5OmUscGFyYW1zOnR9LHt0aW1lb3V0Oi0xfSwoZSx0KT0+e24mJm4oZSx0LmRhdGEpfSl9LHRoaXMuYXBwQWNjZXB0U2lnbk9uPWU9Pnt0aGlzLmxvZ2dlci5zeXN0ZW0uaW5mbyhcIkFVVEhPUklaQVRJT046IEFjY2VwdGVkIGFwcGxpY2F0aW9uIHNpZ24gb24uXCIsZSksci5kZWZhdWx0LmFyZ3MoZSxcInN0cmluZ1wiKSx0aGlzLnJvdXRlckNsaWVudC50cmFuc21pdChcImF1dGhlbnRpY2F0aW9uLmFwcEFjY2VwdFNpZ25PblwiLHtzaWduT25LZXk6ZX0pfSx0aGlzLmFwcFJlamVjdFNpZ25Pbj1lPT57dGhpcy5sb2dnZXIuc3lzdGVtLmVycm9yKFwiQVVUSE9SSVpBVElPTjogUmVqZWN0ZWQgYXBwbGljYXRpb24gc2lnbiBvbi5cIixlKSxyLmRlZmF1bHQuYXJncyhlLFwic3RyaW5nXCIpLHRoaXMucm91dGVyQ2xpZW50LnRyYW5zbWl0KFwiYXV0aGVudGljYXRpb24uYXBwUmVqZWN0U2lnbk9uXCIse3NpZ25PbktleTplfSl9LHRoaXMuY29tcGxldGVPQVVUSD0oZSx0LG4pPT57aWYodGhpcy5sb2dnZXIuc3lzdGVtLmxvZyhcImNvbXBsZXRlT0FVVEhcIix0KSxyLmRlZmF1bHQuYXJncyh0LFwib2JqZWN0PVwiKSwhdCl7dD17fTtjb25zdCBlPW5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7Zm9yKGNvbnN0IG4gb2YgZS5lbnRyaWVzKCkpdFtuWzBdXT1uWzFdfWNvbnN0IGk9KCk9Pnt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcImF1dGhlbnRpY2F0aW9uLmNvbXBsZXRlT0FVVEhcIix7ZXJyOmUscGFyYW1zOnR9LChlLHQpPT57bGV0e2RhdGE6aX09dDtuKGUsaSl9KX07dC5zdGF0ZT9pKCk6dGhpcy5pc0luQVNlcnZpY2U/dGhpcy5sb2dnZXIuc3lzdGVtLmVycm9yKFwiT0FVVEggRXJyb3IuIFRoaXMgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGF2YWlsYWJsZSBpbiBzZXJ2aWNlcy5cIik6dGhpcy5maW5zZW1ibGVXaW5kb3cuZ2V0T3B0aW9ucygoZSxuKT0+e3Quc3RhdGU9bi5jdXN0b21EYXRhLk9BdXRoU3RhdGUsaSgpfSl9LHRoaXMuc3RhcnQ9ZT0+e2lmKGEuaUFtQVNlcnZpY2VXaW5kb3coKSlyZXR1cm4gdGhpcy5pc0luQVNlcnZpY2U9ITAsdm9pZChlJiZlKCkpO3MuRmluc2VtYmxlV2luZG93LmdldEluc3RhbmNlKHtuYW1lOnRoaXMuZmluV2luZG93Lm5hbWUsdXVpZDp0aGlzLmZpbldpbmRvdy51dWlkfSwodCxuKT0+e1wiQ2Fubm90IFdyYXAgU2VydmljZSBNYW5hZ2VyIG9yIFNlcnZpY2VzXCI9PT10P3RoaXMuaXNJbkFTZXJ2aWNlPSEwOnRoaXMuZmluc2VtYmxlV2luZG93PW4sZSYmZSgpfSl9LHRoaXMuYmVnaW5BdXRoZW50aWNhdGlvbj10aGlzLmJlZ2luQXV0aGVudGljYXRpb24uYmluZCh0aGlzKX1iZWdpbkF1dGhlbnRpY2F0aW9uKGUsdCl7dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJhdXRoZW50aWNhdGlvbi5iZWdpbkF1dGhlbnRpY2F0aW9uXCIsZSwoZSxuKT0+e3QoZSxuLmRhdGEpfSl9fXQuQXV0aGVudGljYXRpb25DbGllbnQ9dTt2YXIgYz1uZXcgdSh7b25SZWFkeTplPT57Yy5zdGFydChlKX0sbmFtZTpcImF1dGhlbnRpY2F0aW9uQ2xpZW50XCJ9KTt0LmRlZmF1bHQ9Y30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO1xuLyohXG4gKiBDb3B5cmlnaHQgMjAxNyAtIDIwMjAgYnkgQ2hhcnRJUSwgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuY29uc3Qgcj1uKDEyKSxvPWkobigwKSkscz1pKG4oOCkpLGE9big0KSx1PWkobig0MikpLGM9aShuKDE2KSksbD1pKG4oMTQpKSxkPWkobigxNykpLGY9bigxNSksaD1uKDExKSxwPW4oMiksZz1uKDc2KSxtPW4oNzkpLmRlZmF1bHQseT1uKDgwKS5kZWZhdWx0LHc9e0RST1A6XCJkcm9wXCIsU1BBV046XCJzcGF3blwiLExJTktFUjpcImxpbmtlclwifTtjbGFzcyBiIGV4dGVuZHMgYS5fQmFzZUNsaWVudHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSxzLmRlZmF1bHQuYXJncyhlLFwib2JqZWN0PVwiKSYmZSYmcy5kZWZhdWx0LmFyZ3MyKFwicGFyYW1zLm9uUmVhZHlcIixlLm9uUmVhZHksXCJmdW5jdGlvbj1cIiksdGhpcy5lbWl0dGVycz17fSx0aGlzLnNvdXJjZURhdGE9W10sdGhpcy5yZWNlaXZlcnM9e30sdGhpcy5yZWNlaXZlUmVzcG9uZGVyPSExLHRoaXMubGlua2VyTGlzdGVuZXI9ITEsdGhpcy5vcGVuTGlua2VyRGF0YUJ5RGVmYXVsdD0hMCx0aGlzLlNIQVJFX01FVEhPRD13LHRoaXMuYmluZEFsbEZ1bmN0aW9ucygpfWJpbmRBbGxGdW5jdGlvbnMoKXtjb25zdCBlPXRoaXM7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKSl7Y29uc3Qgbj1lW3RdO24gaW5zdGFuY2VvZiBGdW5jdGlvbiYmbiE9PWImJihlW3RdPWVbdF0uYmluZChlKSl9fXNldEVtaXR0ZXJzKGUpe2lmKCFBcnJheS5pc0FycmF5KGUuZW1pdHRlcnMpKXJldHVybjtjb25zdCB0PXRoaXM7ZS5lbWl0dGVycy5mb3JFYWNoKGU9Pnt0LmVtaXR0ZXJzW2UudHlwZV09ZX0pLHRoaXMucm91dGVyQ2xpZW50LnB1Ymxpc2godGhpcy53aW5kb3dOYW1lK1wiRmluc2VtYmxlLlNoYXJlclwiLHtlbWl0dGVyRW5hYmxlZDohIU9iamVjdC5rZXlzKHQuZW1pdHRlcnMpLmxlbmd0aCxyZWNlaXZlckVuYWJsZWQ6ISFPYmplY3Qua2V5cyh0LnJlY2VpdmVycykubGVuZ3RofSksdGhpcy5yZWNlaXZlUmVzcG9uZGVyfHwodGhpcy5yb3V0ZXJDbGllbnQuYWRkUmVzcG9uZGVyKHRoaXMud2luZG93TmFtZStcIi5TaGFyZVwiLChlLG4pPT57dC5lbWl0LmNhbGwodCxlLG4pfSksdGhpcy5yZWNlaXZlUmVzcG9uZGVyPSEwKX1hZGRSZWNlaXZlcnMoZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZWNlaXZlcnMpKXJldHVybjtjb25zdCB0PXRoaXM7ZS5yZWNlaXZlcnMuZm9yRWFjaChlPT57Y29uc3Qgbj1lLnR5cGUudG9TdHJpbmcoKTt0LnJlY2VpdmVyc1tuXT90LnJlY2VpdmVyc1tuXS5wdXNoKGUpOnQucmVjZWl2ZXJzW25dPVtlXX0pLHRoaXMucm91dGVyQ2xpZW50LnB1Ymxpc2godGhpcy53aW5kb3dOYW1lK1wiRmluc2VtYmxlLlNoYXJlclwiLHtlbWl0dGVyRW5hYmxlZDohIU9iamVjdC5rZXlzKHQuZW1pdHRlcnMpLmxlbmd0aCxyZWNlaXZlckVuYWJsZWQ6ISFPYmplY3Qua2V5cyh0LnJlY2VpdmVycykubGVuZ3RofSk7Y29uc3Qgbj1sLmRlZmF1bHQuZ2V0U3Bhd25EYXRhKCk7biYmbi5zaGFyZWREYXRhJiZsLmRlZmF1bHQuZ2V0Q29tcG9uZW50U3RhdGUoe2ZpZWxkOlwiRmluc2VtYmxlLkRlYWx0V2l0aFNwYXduU2hhcmVkRGF0YVwifSwoZSxpKT0+e2l8fGwuZGVmYXVsdC5zZXRDb21wb25lbnRTdGF0ZSh7ZmllbGQ6XCJGaW5zZW1ibGUuRGVhbHRXaXRoU3Bhd25TaGFyZWREYXRhXCIsdmFsdWU6XCJkb25lXCJ9LCgpPT57dC5oYW5kbGVTaGFyZWREYXRhKG4uc2hhcmVkRGF0YSx3LlNQQVdOKX0pfSksIXRoaXMubGlua2VyTGlzdGVuZXImJnRoaXMub3BlbkxpbmtlckRhdGFCeURlZmF1bHQmJih1LmRlZmF1bHQuc3Vic2NyaWJlKFwiRmluc2VtYmxlLkRyYWdBbmREcm9wQ2xpZW50XCIsKGUsbik9PntuLm9yaWdpbmF0ZWRIZXJlKCl8fE9iamVjdC5rZXlzKGUpLmZvckVhY2gobj0+e2lmKHQuY2FuUmVjZWl2ZURhdGEobikpe2NvbnN0IGk9e307aVtuXT1lW25dLHQuaGFuZGxlU2hhcmVkRGF0YShpLHcuTElOS0VSKX19KX0pLHRoaXMubGlua2VyTGlzdGVuZXI9ITApfXVwZGF0ZVJlY2VpdmVycyhlKXtpZighQXJyYXkuaXNBcnJheShlLnJlY2VpdmVycykpcmV0dXJuO2NvbnN0IHQ9dGhpcztlLnJlY2VpdmVycy5mb3JFYWNoKGU9Pntjb25zdCBuPWUudHlwZS50b1N0cmluZygpO3QucmVjZWl2ZXJzW25dfHwodC5yZWNlaXZlcnNbbl09W10pO2NvbnN0IGk9dC5yZWNlaXZlcnNbbl07Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0KyspaVt0XS5oYW5kbGVyPT09ZS5vbGRIYW5kbGVyJiYoaVt0XS5oYW5kbGVyPWUuaGFuZGxlcik7dC5yZWNlaXZlcnNbbl0ucHVzaChlLmhhbmRsZXIpfSksdC5saW5rZXJMaXN0ZW5lcnx8KHUuZGVmYXVsdC5zdWJzY3JpYmUoXCJGaW5zZW1ibGUuRHJhZ0FuZERyb3BDbGllbnRcIiwoZSxuKT0+e24ub3JpZ2luYXRlZEhlcmUoKXx8dC5oYW5kbGVTaGFyZWREYXRhKGUsdy5MSU5LRVIpfSksdC5saW5rZXJMaXN0ZW5lcj0hMCl9cmVtb3ZlUmVjZWl2ZXJzKGUpe2lmKCFBcnJheS5pc0FycmF5KGUucmVjZWl2ZXJzKSlyZXR1cm47Y29uc3QgdD10aGlzO2UucmVjZWl2ZXJzLmZvckVhY2goZT0+e2NvbnN0IG49ZS50eXBlLnRvU3RyaW5nKCk7aWYoIXQucmVjZWl2ZXJzW25dKXJldHVybjtjb25zdCBpPXQucmVjZWl2ZXJzW25dO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKWlmKGlbdF0uaGFuZGxlcj09PWUuaGFuZGxlcil7aS5zcGxpY2UodCwxKTticmVha319KX1kcmFnU3RhcnQoZSl7Y29uc3QgdD17RlNCTDohMCx3aW5kb3c6dGhpcy53aW5kb3dOYW1lfTt0aGlzLnJvdXRlckNsaWVudC50cmFuc21pdChcIkRyYWdBbmREcm9wQ2xpZW50LnByZXBhcmVEcmFnXCIsT2JqZWN0LmtleXModGhpcy5lbWl0dGVycykpLGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsSlNPTi5zdHJpbmdpZnkodCkpfWRyYWdTdGFydFdpdGhEYXRhKGUsdCl7dGhpcy5yb3V0ZXJDbGllbnQudHJhbnNtaXQoXCJEcmFnQW5kRHJvcENsaWVudC5kcmFnU3RhcnRcIixPYmplY3Qua2V5cyh0KSk7Y29uc3Qgbj17RlNCTDohMCxjb250YWluc0RhdGE6ITAsd2luZG93OnRoaXMud2luZG93TmFtZSxkYXRhOnR9O2UuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsSlNPTi5zdHJpbmdpZnkobikpfWhhbmRsZVNoYXJlZERhdGEoZSx0KXtjb25zdCBuPXRoaXM7T2JqZWN0LmtleXMobi5yZWNlaXZlcnMpLmZvckVhY2goaT0+e2NvbnN0IHI9bi5yZWNlaXZlcnNbaV0scz17fTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKHQ9PntvLmRlZmF1bHQuc3lzdGVtLmluZm8oXCJEcmFnQW5kRHJvcENsaWVudDpoYW5kbGVTaGFyZWREYXRhOkRhdGEgdmFsdWU6XCIsdCksclswXS50eXBlIGluc3RhbmNlb2YgUmVnRXhwP3QubWF0Y2goci50eXBlKSYmKHNbdF09ZVt0XSk6clswXS50eXBlPT10JiYoc1t0XT1lW3RdKX0pLE9iamVjdC5rZXlzKHMpLmxlbmd0aCYmci5mb3JFYWNoKGU9PntlLmhhbmRsZXIobnVsbCx7ZGF0YTpzLHNoYXJlTWV0aG9kOnR9KX0pfSl9ZHJvcChlKXtjb25zdCB0PXRoaXM7ZS5kYXRhVHJhbnNmZXJ8fChlLmRhdGFUcmFuc2Zlcj1lLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyKTtsZXQgbj1lLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwidGV4dC9wbGFpblwiKTtpZihuKXt0cnl7bj1KU09OLnBhcnNlKG4pfWNhdGNoKGUpe3JldHVybn1pZihuLkZTQkwpaWYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksbi5jb250YWluc0RhdGEpdC5oYW5kbGVTaGFyZWREYXRhKG4uZGF0YSx3LkRST1ApO2Vsc2V7Y29uc3QgZT1uLndpbmRvdyxpPXRoaXMuc291cmNlRGF0YSxyPVtdO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXtjb25zdCBuPWlbZV07dC5jYW5SZWNlaXZlRGF0YShuKSYmci5wdXNoKG4pfXQucm91dGVyQ2xpZW50LnF1ZXJ5KGUrXCIuU2hhcmVcIixyLChlLG4pPT57dC5oYW5kbGVTaGFyZWREYXRhKG4uZGF0YSx3LkRST1ApfSl9fX1lbWl0KGUsdCl7Y29uc3Qgbj17fSxpPXRoaXM7ci5lYWNoKHQuZGF0YSwoZSx0KT0+e2NvbnN0IHI9aS5lbWl0dGVyc1tlXTtyLmRhdGEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuZGF0YT8obltlXT1yLmRhdGEoKSx0KCkpOihuW2VdPXIuZGF0YSx0KCkpfSwoKT0+e3Quc2VuZFF1ZXJ5UmVzcG9uc2UobnVsbCxuKX0pfWdldENvbXBvbmVudHNUaGF0Q2FuUmVjZWl2ZVR5cGUoZSx0KXtvLmRlZmF1bHQuc3lzdGVtLndhcm4oXCJEcmFnQW5kRHJvcENsaWVudC5nZXRDb21wb25lbnRzVGhhdENhblJlY2VpdmVUeXBlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBMYXVuY2hlckNsaWVudC5nZXRDb21wb25lbnRzVGhhdENhblJlY2VpdmVEYXRhVHlwZXMgaW5zdGVhZC5cIiksYy5kZWZhdWx0LmdldENvbXBvbmVudHNUaGF0Q2FuUmVjZWl2ZURhdGFUeXBlcyh7ZGF0YVR5cGVzOltlXX0sKG4saSk9Pnt0KG4saSYmaVtlXT9pW2VdLmNvbXBvbmVudFR5cGVzOltdKX0pfW9wZW5TaGFyZWREYXRhKGUsdCl7aC5vcGVuU2hhcmVkRGF0YShlLHQpfWFkZFdpbmRvd0hpZ2hsaWdodChlKXtjb25zdCB0PXRoaXMsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uaWQ9XCJmc2JsLXNoYXJlLXNjcmltXCIsbi5jbGFzc05hbWU9XCJmc2JsLXNoYXJlLXNjcmltXCI7Y29uc3QgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aS5pbm5lckhUTUw9Zztjb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7ZT8oci5zcmM9bSxyLmNsYXNzTmFtZT1cImZmLXNoYXJlXCIsZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsdC5kcmFnb3ZlciksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIix0LmRyb3ApKToobi5jbGFzc05hbWU9XCJmc2JsLXNoYXJlLXNjcmltIG5vXCIsci5zcmM9eSxyLmNsYXNzTmFtZT1cImZmLWRlbGV0ZS1jaXJjbGVcIiksbi5hcHBlbmRDaGlsZChpKSxuLmFwcGVuZENoaWxkKHIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobiksdGhpcy5maW5zZW1ibGVXaW5kb3cudXBkYXRlT3B0aW9ucyh7b3B0aW9uczp7b3BhY2l0eToxfX0pfXJlbW92ZVdpbmRvd0hpZ2hsaWdodCgpe2NvbnN0IGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmc2JsLXNoYXJlLXNjcmltXCIpO2UmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIix0aGlzLmRyYWdvdmVyKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJvcFwiLHRoaXMuZHJvcCksdGhpcy5maW5zZW1ibGVXaW5kb3cudXBkYXRlT3B0aW9ucyh7b3B0aW9uczp7b3BhY2l0eToxfX0pfWNhblJlY2VpdmVEYXRhKGUsdD1udWxsKXtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2NvbnN0IG49dGhpcztsZXQgaT0hMTt0fHwodD1PYmplY3Qua2V5cyhuLnJlY2VpdmVycyksaT0hMCk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG89ZVtyXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7aWYoIWkpe2lmKG89PT10W2VdKXJldHVybiEwO2NvbnRpbnVlfWxldCByPW4ucmVjZWl2ZXJzW3RbZV1dO2lmKHIubGVuZ3RoKWlmKHI9clswXSxyLnR5cGUgaW5zdGFuY2VvZiBSZWdFeHApe2lmKG8ubWF0Y2goci50eXBlKSlyZXR1cm4hMH1lbHNlIGlmKG89PT1yLnR5cGUpcmV0dXJuITB9fXJldHVybiExfWRyYWdvdmVyKGUpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCksITF9YWRkTGlzdGVuZXJzKGUpe2NvbnN0IHQ9dGhpczt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbmRcIiwoKT0+e3Qucm91dGVyQ2xpZW50LnRyYW5zbWl0KFwiRHJhZ0FuZERyb3BDbGllbnQuZHJhZ0VuZFwiLHt9KX0pLHRoaXMucm91dGVyQ2xpZW50LmFkZExpc3RlbmVyKFwiRHJhZ0FuZERyb3BDbGllbnQucHJlcGFyZURyYWdcIiwoZSx0KT0+e3Qub3JpZ2luYXRlZEhlcmUoKSYmKHAuU3lzdGVtLmlzQnJvd3NlclZpZXcoKT90aGlzLnJvdXRlckNsaWVudC50cmFuc21pdChcIkRyYWdBbmREcm9wQ2xpZW50LmRyYWdTdGFydFwiLE9iamVjdC5rZXlzKHRoaXMuZW1pdHRlcnMpKTpwLlN5c3RlbS5oYXNCcm93c2VyVmlldygpfHx0aGlzLnJvdXRlckNsaWVudC50cmFuc21pdChcIkRyYWdBbmREcm9wQ2xpZW50LmRyYWdTdGFydFwiLHQuZGF0YSkpfSksdGhpcy5yb3V0ZXJDbGllbnQuYWRkTGlzdGVuZXIoXCJEcmFnQW5kRHJvcENsaWVudC5kcmFnU3RhcnRcIiwoZSxuKT0+e3RoaXMuc291cmNlRGF0YT1uLmRhdGEsIXQuY2FuUmVjZWl2ZURhdGEodGhpcy5zb3VyY2VEYXRhKXx8bi5vcmlnaW5hdGVkSGVyZSgpP3QuYWRkV2luZG93SGlnaGxpZ2h0KCExKTp0LmFkZFdpbmRvd0hpZ2hsaWdodCghMCl9KSx0aGlzLnJvdXRlckNsaWVudC5hZGRMaXN0ZW5lcihcIkRyYWdBbmREcm9wQ2xpZW50LmRyYWdFbmRcIiwoKT0+e3QucmVtb3ZlV2luZG93SGlnaGxpZ2h0KCl9KSxlKCksZC5kZWZhdWx0LmNyZWF0ZVN0b3JlKHtzdG9yZTpcIkZpbnNlbWJsZS1TaGFyZVwiLGdsb2JhbDohMH0sKGUsbik9Pnt0LnN0b3JlPW59KX1nZXRGaW5zZW1ibGVXaW5kb3coZSl7Zi5GaW5zZW1ibGVXaW5kb3cuZ2V0SW5zdGFuY2Uoe25hbWU6dGhpcy5maW5XaW5kb3cubmFtZSx1dWlkOnRoaXMuZmluV2luZG93LnV1aWR9LCh0LG4pPT57dGhpcy5maW5zZW1ibGVXaW5kb3c9bixlKCl9KX19dmFyIHY9bmV3IGIoe3N0YXJ0dXBEZXBlbmRlbmNpZXM6e2NsaWVudHM6W1wid2luZG93Q2xpZW50XCIsXCJkaXN0cmlidXRlZFN0b3JlQ2xpZW50XCJdfSxvblJlYWR5KGU9RnVuY3Rpb24ucHJvdG90eXBlKXtyLnBhcmFsbGVsKFtlPT57di5hZGRMaXN0ZW5lcnMoZSl9LGU9Pnt1LmRlZmF1bHQub25SZWFkeShlKX0sZT0+e2MuZGVmYXVsdC5vblJlYWR5KGUpfSxlPT57di5nZXRGaW5zZW1ibGVXaW5kb3coZSl9XSwodCxuKT0+ZSh0LG4pKX0sbmFtZTpcImRyYWdBbmREcm9wQ2xpZW50XCJ9KTt0LmRlZmF1bHQ9dn0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oNzcpO2UuZXhwb3J0cz1cInN0cmluZ1wiPT10eXBlb2YgaT9pOmkudG9TdHJpbmcoKX0sZnVuY3Rpb24oZSx0LG4peyh0PW4oNzgpKCExKSkucHVzaChbZS5pLFwiLyoqXFxyXFxuICogVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgZHluYW1pY2FsbHkgaW5qZWN0ZWQgYXMgYSA8c3R5bGU+IHRhZ1xcclxcbiAqIHdpdGhpbiB0aGUgc2NyaW0gY29udGFpbmVyIGVsZW1lbnQuXFxyXFxuICovXFxyXFxuOnJvb3Qge1xcclxcblxcdC0tYWNjZW50LXByaW1hcnktMTogIzM2Nzg4YjtcXHJcXG5cXHQtLWFjY2VudC1uZWdhdGl2ZTogI2YyNjY2NjtcXHJcXG5cXHQtLXNjcmltLXBvc2l0aXZlLWJhY2tncm91bmQtY29sb3I6IHZhcigtLWFjY2VudC1wcmltYXJ5LTEpO1xcclxcblxcdC0tc2NyaW0tbmVnYXRpdmUtYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWNjZW50LW5lZ2F0aXZlKTtcXHJcXG59XFxyXFxuXFxyXFxuLmZzYmwtc2hhcmUtc2NyaW0ge1xcclxcblxcdHBvc2l0aW9uOiBmaXhlZDtcXHJcXG5cXHRkaXNwbGF5OiBmbGV4O1xcclxcblxcdGhlaWdodDogMTAwJTtcXHJcXG5cXHR3aWR0aDogMTAwJTtcXHJcXG5cXHR6LWluZGV4OiAxMDAwMDAwO1xcclxcblxcdHRvcDogMDtcXHJcXG5cXHRsZWZ0OiAwO1xcclxcblxcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcblxcdGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG5cXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcblxcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuXFx0dHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcXHJcXG5cXHRvcGFjaXR5OiAwLjg1O1xcclxcblxcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNjcmltLXBvc2l0aXZlLWJhY2tncm91bmQtY29sb3IpO1xcclxcbn1cXHJcXG5cXHJcXG4uZnNibC1zaGFyZS1zY3JpbSAuZXJyb3ItbWVzc2FnZSB7XFxyXFxuXFx0ZGlzcGxheTogZmxleDtcXHJcXG5cXHRoZWlnaHQ6IDEwMCU7XFxyXFxuXFx0YWxpZ24tY29udGVudDogY2VudGVyO1xcclxcblxcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcblxcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuXFx0cGFkZGluZzogMWVtO1xcclxcblxcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNjcmltLW5lZ2F0aXZlLWJhY2tncm91bmQtY29sb3IpO1xcclxcbn1cXHJcXG5cXHJcXG4uZnNibC1zaGFyZS1zY3JpbSBpbWcge1xcclxcblxcdGRpc3BsYXk6IGZsZXg7XFxyXFxuXFx0aGVpZ2h0OiAxMCU7XFxyXFxuXFx0d2lkdGg6IDEwJTtcXHJcXG5cXHR6LWluZGV4OiAxMDAwMDAwO1xcclxcblxcdHRvcDogMDtcXHJcXG5cXHRsZWZ0OiAwO1xcclxcblxcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcblxcdGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG5cXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcblxcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5mc2JsLXNoYXJlLXNjcmltLm5vIHtcXHJcXG5cXHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zY3JpbS1uZWdhdGl2ZS1iYWNrZ3JvdW5kLWNvbG9yKTtcXHJcXG59XFxyXFxuXCIsXCJcIl0pLGUuZXhwb3J0cz10fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiB0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKChmdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuPWVbMV18fFwiXCIsaT1lWzNdO2lmKCFpKXJldHVybiBuO2lmKHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciByPShzPWksYT1idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzKSkpKSx1PVwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGEpLFwiLyojIFwiLmNvbmNhdCh1LFwiICovXCIpKSxvPWkuc291cmNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoaS5zb3VyY2VSb290fHxcIlwiKS5jb25jYXQoZSxcIiAqL1wiKX0pKTtyZXR1cm5bbl0uY29uY2F0KG8pLmNvbmNhdChbcl0pLmpvaW4oXCJcXG5cIil9dmFyIHMsYSx1O3JldHVybltuXS5qb2luKFwiXFxuXCIpfSh0LGUpO3JldHVybiB0WzJdP1wiQG1lZGlhIFwiLmNvbmNhdCh0WzJdLFwiIHtcIikuY29uY2F0KG4sXCJ9XCIpOm59KSkuam9pbihcIlwiKX0sdC5pPWZ1bmN0aW9uKGUsbixpKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W1tudWxsLGUsXCJcIl1dKTt2YXIgcj17fTtpZihpKWZvcih2YXIgbz0wO288dGhpcy5sZW5ndGg7bysrKXt2YXIgcz10aGlzW29dWzBdO251bGwhPXMmJihyW3NdPSEwKX1mb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIHU9W10uY29uY2F0KGVbYV0pO2kmJnJbdVswXV18fChuJiYodVsyXT91WzJdPVwiXCIuY29uY2F0KG4sXCIgYW5kIFwiKS5jb25jYXQodVsyXSk6dVsyXT1uKSx0LnB1c2godSkpfX0sdH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksdC5kZWZhdWx0PVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lQejROQ2p4emRtY2dkMmxrZEdnOUlqSXpjSGdpSUdobGFXZG9kRDBpTWpOd2VDSWdkbWxsZDBKdmVEMGlNQ0F3SURJeklESXpJaUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGcwS0lDQWdJRHgwYVhSc1pUNVRhR0Z5WlNCWGFHbDBaVHd2ZEdsMGJHVStEUW9nSUNBZ1BHY2dhV1E5SWxOb1lYSmxMVmRvYVhSbElpQnpkSEp2YTJVOUltNXZibVVpSUhOMGNtOXJaUzEzYVdSMGFEMGlNU0lnWm1sc2JEMGlibTl1WlNJZ1ptbHNiQzF5ZFd4bFBTSmxkbVZ1YjJSa0lqNE5DaUFnSUNBZ0lDQWdQR2NnYVdROUlsQmhaMlV0TVNJZ2RISmhibk5tYjNKdFBTSjBjbUZ1YzJ4aGRHVW9NQzR3TURBd01EQXNJREV1TURBd01EQXdLU0lnWm1sc2JEMGlJMFpHUmtaR1JpSStEUW9nSUNBZ0lDQWdJQ0FnSUNBOFp5QnBaRDBpUjNKdmRYQXRNeUlnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb09DNHdNREF3TURBc0lEQXVORGM1TVRBd0tTSStEUW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEUwTGpNeU56RTNNVGNzTmk0d05qUTRNRGcxT1NCRE1UUXVNelU0TnpnME15dzJMakF4T0RJeU1UVTNJREUwTGpNNU5UTTRPRFFzTlM0NU56WTJNall3TWlBeE5DNDBNVGN3TVRneExEVXVPVEkxTURRM05UUWdRekUwTGpRNU9EVTBOVFFzTlM0M01qTTNNalV3TnlBeE5DNDBPVGcxTkRVMExEVXVORGs1TVRBNU1Ea2dNVFF1TkRFM01ERTRNU3cxTGpJNU9UUTFNRFEwSUVNeE5DNHpPVFV6T0RnMExEVXVNalEyTWpBNE1UUWdNVFF1TXpVNE56ZzBNeXcxTGpJd05EWXhNalU1SURFMExqTXlOekUzTVRjc05TNHhOVGd3TWpVMU55QkRNVFF1TXpBd05UVXdOaXcxTGpFeE9UYzFOelkySURFMExqSTROVFUzTmpJc05TNHdOelE0TXpRME55QXhOQzR5TlRJeU9UazNMRFV1TURNNU9EazBNaUJNTVRRdU1qTTFOall4TlN3MUxqQXlORGt4T1RneElFTXhOQzR5TXpVMk5qRTFMRFV1TURJek1qVTFPVGdnTVRRdU1qTTFOall4TlN3MUxqQXlNekkxTlRrNElERTBMakl6TXprNU56Y3NOUzR3TWpNeU5UVTVPQ0JNT1M0M016VXdNakk0TkN3d0xqSTFPVGN6TXpRek9TQkRPUzQwTVRnNE9UWTJOU3d0TUM0d056RXpOamN4TlNBNExqZzVNekV5T0RnNUxDMHdMakE0T1RZMk9URTVNallnT0M0MU5UZzNNREEyTlN3d0xqSXlOalExTmprNU9DQkRPQzR5TWpVNU16WXlOQ3d3TGpVME1qVTRNekU0T0NBNExqSXhNRGsyTVRnMExERXVNRFk0TXpVd09UWWdPQzQxTWpjd09EZ3dNeXd4TGpRd01qYzNPVEU1SUV3eE1TNDNNVGd5T1RnM0xEUXVOemd3TXpNM09UWWdUREl1T1RreE5UVXlNRFlzTkM0M09EQXpNemM1TmlCRE1TNHpOREV3TkRBMU9DdzBMamM0TURNek56azJJREFzTmk0ME16UXhOemN3T1NBd0xEZ3VORFk1TURNeE5EWWdUREFzTVRBdU5qa3dNak16T1NCRE1Dd3hNUzR4TlRFeE1USTJJREF1TXpjeE1ETXlNekU0TERFeExqVXlNakUwTkRrZ01DNDRNekU1TVRFd01qZ3NNVEV1TlRJeU1UUTBPU0JETVM0eU9URXhNalU1TVN3eE1TNDFNakl4TkRRNUlERXVOall6T0RJeU1EWXNNVEV1TVRVeE1URXlOaUF4TGpZMk16Z3lNakEyTERFd0xqWTVNREl6TXprZ1RERXVOall6T0RJeU1EWXNPQzQwTmprd016RTBOaUJETVM0Mk5qTTRNakl3Tml3M0xqTTNNRGt3T0RrZ01pNHlOekV4TVRjeE1TdzJMalEwTkRFMk1EQXlJREl1T1RreE5UVXlNRFlzTmk0ME5EUXhOakF3TWlCTU1URXVOekU0TWprNE55dzJMalEwTkRFMk1EQXlJRXc0TGpVeU56QTRPREF6TERrdU9ESXdNRFUwT1RjZ1F6Z3VNakV3T1RZeE9EUXNNVEF1TVRVME5EZ3pNaUE0TGpJeU5Ua3pOakkwTERFd0xqWTNPRFU0TnpFZ09DNDFOVGczTURBMk5Td3hNQzQ1T1RZek56Y3lJRU00TGpjeU1EQTVNVE01TERFeExqRTBOemM0TlNBNExqa3lOalF3TlRNekxERXhMakl5TkRNeU1EZ2dPUzR4TXpFd05UVTBOQ3d4TVM0eU1qUXpNakE0SUVNNUxqTTFNak0wTXpjM0xERXhMakl5TkRNeU1EZ2dPUzQxTnpFNU5qZ3lPQ3d4TVM0eE16WXhNemd5SURrdU56TTFNREl5T0RRc01UQXVPVFl4TkRNMk9TQk1NVFF1TWpNek9UazNOeXcyTGpJd01USTBNaUJETVRRdU1qTTFOall4TlN3MkxqRTVPVFUzT0RFNElERTBMakl6TlRZMk1UVXNOaTR4T1RrMU56Z3hPQ0F4TkM0eU16VTJOakUxTERZdU1UazVOVGM0TVRnZ1RERTBMakkxTWpJNU9UY3NOaTR4T0RJNU16azVOaUJETVRRdU1qZzFOVGMyTWl3MkxqRTBOems1T1RZNUlERTBMak13TURVMU1EWXNOaTR4TURNd056WTFJREUwTGpNeU56RTNNVGNzTmk0d05qUTRNRGcxT1NJZ2FXUTlJa1pwYkd3dE1TSStQQzl3WVhSb1BnMEtJQ0FnSUNBZ0lDQWdJQ0FnUEM5blBnMEtJQ0FnSUNBZ0lDQWdJQ0FnUEdjZ2FXUTlJa2R5YjNWd0xUWWlJSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0RBdU1EQXdNREF3TENBeUxqUTNPVEV3TUNraVBnMEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHlNUzQ1TnpBM056QXlMREU0TGpVeE5qWTNOVGNnVERBdU9ETXhPVEV4TURJNExERTRMalV4TmpZM05UY2dRekF1TXpjeU5qazJNVFFzTVRndU5URTJOamMxTnlBd0xERTRMakUwTXprM09UVWdNQ3d4Tnk0Mk9EUTNOalEySUV3d0xEQXVPRE14T1RFeE1ESTRJRU13TERBdU16Y3hNRE15TXpFNElEQXVNemN5TmprMk1UUXNNQ0F3TGpnek1Ua3hNVEF5T0N3d0lFdzFMalF3TnpReU1UWTRMREFnUXpVdU9EWTJOak0yTlRjc01DQTJMakl6T1RNek1qY3hMREF1TXpjeE1ETXlNekU0SURZdU1qTTVNek15TnpFc01DNDRNekU1TVRFd01qZ2dRell1TWpNNU16TXlOekVzTVM0eU9URXhNalU1TVNBMUxqZzJOall6TmpVM0xERXVOall6T0RJeU1EWWdOUzQwTURjME1qRTJPQ3d4TGpZMk16Z3lNakEySUV3eExqWTJNemd5TWpBMkxERXVOall6T0RJeU1EWWdUREV1TmpZek9ESXlNRFlzTVRZdU9EVXlPRFV6TmlCTU1qRXVNVE00T0RVNU1pd3hOaTQ0TlRJNE5UTTJJRXd5TVM0eE16ZzROVGt5TERFd0xqYzBPVGsxTkRNZ1F6SXhMakV6T0RnMU9USXNNVEF1TWprd056TTVOQ0F5TVM0MU1URTFOVFUwTERrdU9URTRNRFF6TWpjZ01qRXVPVGN3Tnpjd01pdzVMamt4T0RBME16STNJRU15TWk0ME1qazVPRFV4TERrdU9URTRNRFF6TWpjZ01qSXVPREF5TmpneE15d3hNQzR5T1RBM016azBJREl5TGpnd01qWTRNVE1zTVRBdU56UTVPVFUwTXlCTU1qSXVPREF5TmpneE15d3hOeTQyT0RRM05qUTJJRU15TWk0NE1ESTJPREV6TERFNExqRTBNemszT1RVZ01qSXVOREk1T1RnMU1Td3hPQzQxTVRZMk56VTNJREl4TGprM01EYzNNRElzTVRndU5URTJOamMxTnlJZ2FXUTlJa1pwYkd3dE5DSStQQzl3WVhSb1BnMEtJQ0FnSUNBZ0lDQWdJQ0FnUEM5blBnMEtJQ0FnSUNBZ0lDQThMMmMrRFFvZ0lDQWdQQzluUGcwS1BDOXpkbWMrXCJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksdC5kZWZhdWx0PVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lQejROQ2p4emRtY2dkMmxrZEdnOUlqSTBjSGdpSUdobGFXZG9kRDBpTWpSd2VDSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJaUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGcwS0lDQWdJRHgwYVhSc1pUNW1aaTFrWld4bGRHVXRZMmx5WTJ4bFBDOTBhWFJzWlQ0TkNpQWdJQ0E4WnlCcFpEMGlVM2x0WW05c2N5SWdjM1J5YjJ0bFBTSnViMjVsSWlCemRISnZhMlV0ZDJsa2RHZzlJakVpSUdacGJHdzlJbTV2Ym1VaUlHWnBiR3d0Y25Wc1pUMGlaWFpsYm05a1pDSStEUW9nSUNBZ0lDQWdJRHhuSUdsa1BTSm1aaTFrWld4bGRHVXRZMmx5WTJ4bElpQm1hV3hzUFNJalJrWkdSa1pHSWlCbWFXeHNMWEoxYkdVOUltNXZibnBsY204aVBnMEtJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRndU9Dd3hOUzQ0SUVNNExqWXNNVFV1T0NBNExqUXNNVFV1TnlBNExqTXNNVFV1TmlCRE9Dd3hOUzR6SURnc01UUXVPQ0E0TGpNc01UUXVOU0JNTVRRdU5DdzRMak1nUXpFMExqY3NPQ0F4TlM0eUxEZ2dNVFV1TlN3NExqTWdRekUxTGpnc09DNDJJREUxTGpnc09TNHhJREUxTGpVc09TNDBJRXc1TGpRc01UVXVOaUJET1M0eUxERTFMamNnT1N3eE5TNDRJRGd1T0N3eE5TNDRJaUJwWkQwaVVHRjBhQ0krUEM5d1lYUm9QZzBLSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTBMamtzTVRVdU9DQkRNVFF1Tnl3eE5TNDRJREUwTGpVc01UVXVOeUF4TkM0MExERTFMallnVERndU15dzVMalFnUXpnc09TNHhJRGdzT0M0MklEZ3VNeXc0TGpNZ1F6Z3VOaXc0SURrdU1TdzRJRGt1TkN3NExqTWdUREUxTGpVc01UUXVOU0JETVRVdU9Dd3hOQzQ0SURFMUxqZ3NNVFV1TXlBeE5TNDFMREUxTGpZZ1F6RTFMak1zTVRVdU55QXhOUzR4TERFMUxqZ2dNVFF1T1N3eE5TNDRJaUJwWkQwaVVHRjBhQ0krUEM5d1lYUm9QZzBLSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXhMallzTVM0MklFTTJMakVzTVM0MklERXVOaXcyTGpJZ01TNDJMREV4TGpjZ1F6RXVOaXd4Tnk0eklEWXVNU3d5TVM0NElERXhMallzTWpFdU9DQkRNVGN1TVN3eU1TNDRJREl4TGpZc01UY3VNaUF5TVM0MkxERXhMamNnUXpJeExqWXNOaTR4SURFM0xqRXNNUzQySURFeExqWXNNUzQySUZvZ1RURXhMallzTWpNdU5DQkROUzR5TERJekxqUWdNQ3d4T0M0eElEQXNNVEV1TnlCRE1DdzFMak1nTlM0eUxEQWdNVEV1Tml3d0lFTXhPQ3d3SURJekxqSXNOUzR5SURJekxqSXNNVEV1TnlCRE1qTXVNaXd4T0M0eUlERTNMamtzTWpNdU5DQXhNUzQyTERJekxqUWdUREV4TGpZc01qTXVOQ0JhSWlCcFpEMGlVMmhoY0dVaVBqd3ZjR0YwYUQ0TkNpQWdJQ0FnSUNBZ1BDOW5QZzBLSUNBZ0lEd3ZaejROQ2p3dmMzWm5QZz09XCJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtcbi8qIVxuICogQ29weXJpZ2h0IDIwMTcgLSAyMDIwIGJ5IENoYXJ0SVEsIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKi92YXIgaT10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtjb25zdCByPWkobigwKSksbz1uKDQpO3IuZGVmYXVsdC5zeXN0ZW0uZGVidWcoXCJTdGFydGluZyBzZWFyY2hDbGllbnRcIik7Y2xhc3MgcyBleHRlbmRzIG8uX0Jhc2VDbGllbnR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucHJvdmlkZXJzPXt9LHRoaXMucmVzdWx0UHJvdmlkZXJzPXt9LHRoaXMuc2VhcmNoUmVzdWx0c0xpc3Q9W10sdGhpcy5pc1NlYXJjaGluZz0hMSx0aGlzLnVuUmVnaXN0ZXI9dGhpcy51bnJlZ2lzdGVyLHRoaXMuaGFuZGxlUmVzdWx0cz0oZSx0KT0+e3QuZGF0YS5zZWFyY2hJZCYmdC5kYXRhLnNlYXJjaElkPT10aGlzLnNlYXJjaElkJiYodGhpcy5yZXN1bHRQcm92aWRlcnNbdC5kYXRhLnByb3ZpZGVyLmNoYW5uZWxdPXQuZGF0YSx0aGlzLnNlYXJjaFJlc3VsdHNMaXN0LnB1c2godC5kYXRhKSx0aGlzLnJlc3VsdHNDYWxsYmFjayhudWxsLHRoaXMuc2VhcmNoUmVzdWx0c0xpc3QpKX19cmVnaXN0ZXIoZSx0KXtyZXR1cm4gZS5uYW1lP2Uuc2VhcmNoQ2FsbGJhY2s/dm9pZCB0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIlNlYXJjaC5yZWdpc3RlclwiLHtuYW1lOmUubmFtZSxjaGFubmVsOmAke3RoaXMuZmluV2luZG93Lm5hbWV9LiR7ZS5uYW1lfWAscHJvdmlkZXJBY3Rpb25UaXRsZTplLnByb3ZpZGVyQWN0aW9uVGl0bGUscHJvdmlkZXJBY3Rpb25DYWxsYmFjazohIWUucHJvdmlkZXJBY3Rpb25DYWxsYmFja30sKG4saSk9PntpZihuKXJldHVybiB0P3Qobik6Y29uc29sZS5lcnJvcihuKTtjb25zdCByPWAke3RoaXMuZmluV2luZG93Lm5hbWV9LiR7ZS5uYW1lfWA7cmV0dXJuIHRoaXMucHJvdmlkZXJzW2UubmFtZV09ZS5uYW1lLHRoaXMucm91dGVyQ2xpZW50LmFkZFJlc3BvbmRlcihcIlNlYXJjaC5Qcm92aWRlci5cIityLCh0LG4pPT57aWYodClyZXR1cm4gY29uc29sZS5lcnJvcih0KTtuJiZlLnNlYXJjaENhbGxiYWNrKG4uZGF0YSwoZSx0KT0+e24uc2VuZFF1ZXJ5UmVzcG9uc2UoZSx0KX0pfSksdGhpcy5yb3V0ZXJDbGllbnQuYWRkUmVzcG9uZGVyKFwiU2VhcmNoLlByb3ZpZGVyLkl0ZW1BY3Rpb24uXCIrciwodCxuKT0+e2lmKHQpcmV0dXJuIGNvbnNvbGUuZXJyb3IodCk7biYmZS5pdGVtQWN0aW9uQ2FsbGJhY2smJmUuaXRlbUFjdGlvbkNhbGxiYWNrKG4uZGF0YSxuLmhlYWRlci5vcmlnaW4sKGUsdCk9PntuLnNlbmRRdWVyeVJlc3BvbnNlKGUsdCl9KX0pLGUucHJvdmlkZXJBY3Rpb25DYWxsYmFjayYmdGhpcy5yb3V0ZXJDbGllbnQuYWRkUmVzcG9uZGVyKFwiU2VhcmNoLlByb3ZpZGVyLkFjdGlvbi5cIityLCh0LG4pPT57aWYodClyZXR1cm4gY29uc29sZS5lcnJvcih0KTtuJiZlLnByb3ZpZGVyQWN0aW9uQ2FsbGJhY2smJmUucHJvdmlkZXJBY3Rpb25DYWxsYmFjayhuLmhlYWRlci5vcmlnaW4sKGUsdCk9PntuLnNlbmRRdWVyeVJlc3BvbnNlKGUsdCl9KX0pLHQ/dChudWxsLGkuZGF0YSk6bnVsbH0pOnQoXCJubyBwcm92aWRlciBjYWxsYmFjayBwcm92aWRlZFwiKTp0KFwibm8gcHJvdmlkZXIgbmFtZSBwcm92aWRlZFwiKX11bnJlZ2lzdGVyKGUsdCl7aWYoIWUubmFtZSlyZXR1cm4gdChcIlByb3ZpZGVyIG5hbWUgd2FzIG5vdCBwcm92aWRlZFwiKTtjb25zdCBuPWAke3RoaXMuZmluV2luZG93Lm5hbWV9LiR7ZS5uYW1lfWA7dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJTZWFyY2gudW5yZWdpc3RlclwiLHtjaGFubmVsOm59LCgpPT4odGhpcy5yb3V0ZXJDbGllbnQucmVtb3ZlUmVzcG9uZGVyKFwiU2VhcmNoLlByb3ZpZGVyLlwiK24pLHRoaXMucm91dGVyQ2xpZW50LnJlbW92ZVJlc3BvbmRlcihcIlNlYXJjaC5Qcm92aWRlci5JdGVtQWN0aW9uLlwiK24pLHRoaXMucm91dGVyQ2xpZW50LnJlbW92ZVJlc3BvbmRlcihcIlNlYXJjaC5Qcm92aWRlci5BY3Rpb24uXCIrbiksZGVsZXRlIHRoaXMucHJvdmlkZXJzW2UubmFtZV0sdD90KCk6bnVsbCkpfXNlYXJjaChlLHQpe3RoaXMuaXNTZWFyY2hpbmd8fCh0aGlzLnJvdXRlckNsaWVudC5hZGRQdWJTdWJSZXNwb25kZXIoXCJTZWFyY2guXCIrdGhpcy5maW5XaW5kb3cubmFtZSksdGhpcy5yb3V0ZXJDbGllbnQuc3Vic2NyaWJlKFwiU2VhcmNoLlwiK3RoaXMuZmluV2luZG93Lm5hbWUsdGhpcy5oYW5kbGVSZXN1bHRzKSx0aGlzLmlzU2VhcmNoaW5nPSEwKSx0aGlzLnNlYXJjaFJlc3VsdHNMaXN0PVtdLGUud2luZG93TmFtZT10aGlzLmZpbldpbmRvdy5uYW1lLHRoaXMucm91dGVyQ2xpZW50LnF1ZXJ5KFwiU2VhcmNoLnNlYXJjaFwiLGUsKGUsbik9PntpZihlKXJldHVybiB0KGUpO3RoaXMucmVzdWx0c0NhbGxiYWNrPXQsdGhpcy5zZWFyY2hJZD1uLmRhdGEuc2VhcmNoSWR9KX1pbnZva2VJdGVtQWN0aW9uKGUsdCl7dGhpcy5yb3V0ZXJDbGllbnQucXVlcnkoXCJTZWFyY2guUHJvdmlkZXIuSXRlbUFjdGlvbi5cIitlLnByb3ZpZGVyLHtpdGVtOmUsYWN0aW9uOnR9KX1pbnZva2VQcm92aWRlckFjdGlvbihlKXt0aGlzLnJvdXRlckNsaWVudC5xdWVyeShcIlNlYXJjaC5Qcm92aWRlci5BY3Rpb24uXCIrZS5jaGFubmVsLHt9KX19Y29uc3QgYT1uZXcgcyh7b25SZWFkeShlKXtlJiZlKCl9LG5hbWU6XCJzZWFyY2hDbGllbnRcIn0pO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Ob3RpZmljYXRpb25DbGllbnQ9dC5BY3Rpb25UeXBlcz10LlJPVVRFUl9OQU1FU1BBQ0U9dm9pZCAwO2NvbnN0IHI9big4Myk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJBY3Rpb25UeXBlc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLkFjdGlvblR5cGVzfX0pO2NvbnN0IG89aShuKDg0KSkscz1pKG4oODYpKSxhPWkobig4NykpLHU9aShuKDg4KSksYz1uKDkpLGw9big0KSxkPWkobigyMSkpLGY9aShuKDE0KSksaD1pKG4oMTYpKSxwPVwiYWN0aW9uLlwiLGc9XCJub3RpZmljYXRpb24uXCIsbT1cImRlbGV0ZVwiLHk9XCJmZXRjaF9oaXN0b3J5XCIsdz1cImxhc3RfaXNzdWVkXCIsYj1cIm1hcmtfcmVhZFwiLHY9XCJtYXJrX3VucmVhZFwiLFM9XCJtdXRlXCIsQz1cIm5vdGlmeVwiLF89XCJwZXJmb3JtX2FjdGlvblwiLFQ9XCJzdWJzY3JpYmVcIixFPVwidW5tdXRlXCIsQT1cInVuc3Vic2NyaWJlXCIsST1cInNvdXJjZXNcIixPPVwibXV0ZV9maWx0ZXJzXCIsTD1cInByZWZlcmVuY2VzXCI7dC5ST1VURVJfTkFNRVNQQUNFPXtBQ1RJT05fUFJFRklYOmcrcH07Y2xhc3MgTSBleHRlbmRzIGwuX0Jhc2VDbGllbnR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc3Vic2NyaXB0aW9ucz1bXSx0aGlzLk5vdGlmaWNhdGlvbj1vLmRlZmF1bHQsdGhpcy5BY3Rpb25UeXBlcz1yLkFjdGlvblR5cGVzLHRoaXMuU3Vic2NyaXB0aW9uPXMuZGVmYXVsdCx0aGlzLkFjdGlvbj1hLmRlZmF1bHQsdGhpcy5GaWx0ZXI9dS5kZWZhdWx0LHRoaXMuYWN0aW9uVHlwZXM9ci5BY3Rpb25UeXBlc31hc3luYyBhcHBseU92ZXJyaWRlcygpe3ZhciBlLHQ7Y29uc3R7ZGF0YTpufT1hd2FpdCBkLmRlZmF1bHQuZ2V0VmFsdWUoXCJmaW5zZW1ibGUuc2VydmljZXNDb25maWcubm90aWZpY2F0aW9ucy5hcHBseU5vdGlmaWNhdGlvbk92ZXJyaWRlc1wiKTtpZighbilyZXR1cm47Y29uc3QgaT1mLmRlZmF1bHQuZ2V0V2luZG93SWRlbnRpZmllcigpLndpbmRvd05hbWUse2RhdGE6cn09YXdhaXQgaC5kZWZhdWx0LmdldEFjdGl2ZURlc2NyaXB0b3JzKCksbz1PYmplY3Qua2V5cyhyKS5maWx0ZXIoZT0+ZT09PWkpLm1hcChlPT5yW2VdKTtsZXQgcyxhPVwiVW5rbm93biBTb3VyY2VcIjtmdW5jdGlvbiB1KGUsdCl7Y29uc3R7Y29tcG9uZW50VHlwZTpufT1mLmRlZmF1bHQuZ2V0V2luZG93SWRlbnRpZmllcigpO3QuZmluc2VtYmxlU291cmNlPWEsRC5ub3RpZnkoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh7dGl0bGU6ZSxvcHRpb25zOnR9KSkpfTEhPT1vLmxlbmd0aD90aGlzLmxvZ2dlci53YXJuKFwiVW5hYmxlIHRvIGZldGNoIGNvbXBvbmVudCB0byBleHRyYWN0IHR5cGUgb3IgZGlzcGxheSBuYW1lXCIpOihzPW9bMF0sYT0obnVsbD09PSh0PW51bGw9PT0oZT1zLmN1c3RvbURhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNvbXBvbmVudCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGlzcGxheU5hbWUpfHxzLmNvbXBvbmVudFR5cGUpO2NvbnN0IGM9d2luZG93Lk5vdGlmaWNhdGlvbjt1LnJlcXVlc3RQZXJtaXNzaW9uPWMucmVxdWVzdFBlcm1pc3Npb24uYmluZChjKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodSxcInBlcm1pc3Npb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMucGVybWlzc2lvbn19KSx3aW5kb3cuTm90aWZpY2F0aW9uPXV9c2V0dXAoKXt3aW5kb3cmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLCgpPT57dGhpcy51bnN1YnNjcmliZUFsbCgpfSl9YWRkRXZlbnRMaXN0ZW5lcihlLHQpe3N1cGVyLmFkZEV2ZW50TGlzdGVuZXIoZSx0KX1yZW1vdmVFdmVudExpc3RlbmVyKGUsdCl7c3VwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQpfXF1ZXJ5KGUsdCxuLGkpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhyLG8pPT57dHJ5e251bGw9PW4mJihuPWcpLHRoaXMubG9nZ2VyLnN5c3RlbS5pbmZvKGBzZW5kaW5nIG1lc3NhZ2Ugb24gJHtuK2V9IGNoYW5uZWxgLHQpO2NvbnN0IHM9YXdhaXQgdGhpcy5yb3V0ZXJDbGllbnQucXVlcnkobitlLHQsKCk9Pnt9KTtzLmVycj8odGhpcy5sb2dnZXIuc3lzdGVtLmVycm9yKFwiRXJyb3I6IFwiLHMuZXJyKSxvKHMuZXJyKSk6KHRoaXMubG9nZ2VyLnN5c3RlbS5sb2coZStcIiByYXcgcmVzcG9uc2U6IFwiLHMpLGkmJmkobnVsbCxzLnJlc3BvbnNlLmRhdGEuZGF0YSkscihzLnJlc3BvbnNlLmRhdGEuZGF0YSkpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLnN5c3RlbS5lcnJvcihcIkVycm9yOiBcIixlKSxpJiZpKGUpLG8oZSl9fSl9YXN5bmMgZmV0Y2hIaXN0b3J5KGUsdCl7cmV0dXJuIHRoaXMubG9nZ2VyLnN5c3RlbS5pbmZvKFwiRmV0Y2hIaXN0b3J5KCkgY2FsbGVkIHdpdGggcGFyYW1zOiBcIixlLHQpLGF3YWl0IHRoaXMucXVlcnkoeSx7b3B0aW9uczplLGZpbHRlcjp0fSl9YXN5bmMgZ2V0TGFzdElzc3VlZEF0KGUpe3JldHVybiB0aGlzLmxvZ2dlci5zeXN0ZW0uaW5mbyhcImdldExhc3RJc3N1ZWQgY2FsbGVkIHdpdGggcGFyYW1zOiBcIixlKSxhd2FpdCB0aGlzLnF1ZXJ5KHcsZSl9YXN5bmMgcGVyZm9ybUFjdGlvbihlLHQpe3JldHVybiB0aGlzLmxvZ2dlci5zeXN0ZW0uaW5mbyhcInBlcmZvcm1BY3Rpb24oKSBjYWxsZWQgd2l0aCBwYXJhbXM6IFwiLGUsdCksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSxhd2FpdCB0aGlzLnF1ZXJ5KF8se25vdGlmaWNhdGlvbnM6ZSxhY3Rpb246dH0pfWFzeW5jIG1hcmtSZWFkKGUpe3RoaXMubG9nZ2VyLmluZm8oXCJtYXJrUmVhZCgpIGNhbGxlZCB3aXRoIHBhcmFtczogXCIsZSksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSxhd2FpdCB0aGlzLnF1ZXJ5KGIse25vdGlmaWNhdGlvbnM6ZSxpc1JlYWQ6ITB9KX1hc3luYyBtYXJrVW5yZWFkKGUpe3RoaXMubG9nZ2VyLmluZm8oXCJtYXJrVW5yZWFkKCkgY2FsbGVkIHdpdGggcGFyYW1zOiBcIixlKSxBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLGF3YWl0IHRoaXMucXVlcnkodix7bm90aWZpY2F0aW9uczplLGlzUmVhZDohMX0pfWRlbGV0ZU5vdGlmaWNhdGlvbnMoZSl7cmV0dXJuIHRoaXMubG9nZ2VyLmluZm8oXCJkZWxldGVOb3RpZmljYXRpb25zKCkgY2FsbGVkIHdpdGggcGFyYW1zOiBcIixlKSxuZXcgUHJvbWlzZShhc3luYyh0LG4pPT57dHJ5e3QodGhpcy5xdWVyeShtLGUpKX1jYXRjaChlKXtuKGUpfX0pfWFzeW5jIG5vdGlmeShlKXt0aGlzLmxvZ2dlci5zeXN0ZW0uaW5mbyhcIm5vdGlmeSgpIGNhbGxlZCB3aXRoIHBhcmFtczogXCIsZSk7dHJ5e2F3YWl0IHRoaXMucXVlcnkoQyxBcnJheS5pc0FycmF5KGUpP2U6W2VdKX1jYXRjaCh0KXtpZighdC5pbmNsdWRlcyhcIk5vIHJlc3BvbmRlclwiKSl0aHJvdyB0O2F3YWl0IGMuc2xlZXAoNTAwKSxhd2FpdCB0aGlzLm5vdGlmeShlKX19YXN5bmMgc3Vic2NyaWJlKGUsdCl7dGhpcy5sb2dnZXIuc3lzdGVtLmluZm8oXCJzdWJzY3JpYmUoKSBjYWxsZWQgd2l0aCBwYXJhbXM6IFwiLGUsdCk7Y29uc3Qgbj1hd2FpdCB0aGlzLnF1ZXJ5KFQsSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpO3JldHVybiB0aGlzLmxvZ2dlci5zeXN0ZW0uaW5mbyhcIkdvdCBhIHJldHVybiB2YWx1ZSBjb250YWluaW5nIGEgY2hhbm5lbFwiLG4pLGF3YWl0IHRoaXMubW9uaXRvckNoYW5uZWwobi5jaGFubmVsLHQpLHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKG4pLG59YXN5bmMgdW5zdWJzY3JpYmUoZSl7dGhpcy5sb2dnZXIuc3lzdGVtLmluZm8oXCJ1bnN1YnNjcmliZSgpIGNhbGxlZCB3aXRoIHBhcmFtczogXCIsZSksYXdhaXQgdGhpcy5xdWVyeShBLGUpLHRoaXMuY2xlYW51cFN1YnNjcmlwdGlvbihlKX1yZW1vdmVSZXNwb25kZXIoZSx0KXtudWxsPT10JiYodD1nKSx0aGlzLnJvdXRlckNsaWVudC5yZW1vdmVSZXNwb25kZXIodCtlKX11bnN1YnNjcmliZUFsbCgpe3RoaXMubG9nZ2VyLnN5c3RlbS5pbmZvKFwidW5zdWJzY3JpYmVBbGwoKSBjYWxsZWRcIiksdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goZT0+e3RoaXMucXVlcnkoQSxlLmlkKS50aGVuKCksdGhpcy5yZW1vdmVSZXNwb25kZXIoZS5pZCl9KSx0aGlzLnN1YnNjcmlwdGlvbnM9W119YXN5bmMgbXV0ZShlKXtyZXR1cm4gdGhpcy5sb2dnZXIuc3lzdGVtLmluZm8oXCJtdXRlKCkgY2FsbGVkIHdpdGggcGFyYW1zOiBcIixlKSxhd2FpdCB0aGlzLnF1ZXJ5KFMse2ZpbHRlcjplfSl9YXN5bmMgdW5tdXRlKGUpe3JldHVybiB0aGlzLmxvZ2dlci5zeXN0ZW0uaW5mbyhcInVubXV0ZSgpIGNhbGxlZCB3aXRoIHBhcmFtczogXCIsZSksYXdhaXQgdGhpcy5xdWVyeShFLHtmaWx0ZXI6ZX0pfWFzeW5jIGdldFNvdXJjZXMoKXtyZXR1cm4gdGhpcy5sb2dnZXIuc3lzdGVtLmluZm8oXCJnZXRTb3VyY2VzKCkgY2FsbGVkXCIpLGF3YWl0IHRoaXMucXVlcnkoSSx7fSl9YXN5bmMgZ2V0TXV0ZUZpbHRlcnMoKXtyZXR1cm4gdGhpcy5sb2dnZXIuc3lzdGVtLmluZm8oXCJnZXRTb3VyY2VzKCkgY2FsbGVkXCIpLGF3YWl0IHRoaXMucXVlcnkoTyx7fSl9YXN5bmMgZ2V0UHJlZmVyZW5jZXMoKXtyZXR1cm4gdGhpcy5sb2dnZXIuc3lzdGVtLmluZm8oXCJnZXRQcmVmZXJlbmNlcygpIGNhbGxlZFwiKSxhd2FpdCB0aGlzLnF1ZXJ5KEwse30pfWNsZWFudXBTdWJzY3JpcHRpb24oZSl7Y29uc3QgdD10aGlzLnN1YnNjcmlwdGlvbnMuZmluZEluZGV4KHQ9PnQuaWQ9PT1lKTt0Pi0xJiYodGhpcy5yZW1vdmVSZXNwb25kZXIodGhpcy5zdWJzY3JpcHRpb25zW3RdLmNoYW5uZWwpLHRoaXMuc3Vic2NyaXB0aW9ucy5zcGxpY2UodCwxKSl9YWRkUmVzcG9uZGVyKGUsdCxuKXtudWxsPT1uJiYobj1nKSx0aGlzLmxvZ2dlci5zeXN0ZW0uaW5mbyhcIkFkZGluZyByZXNwb25kZXIgZm9yIGVuZHBvaW50OiBcIisobitlKSksdGhpcy5yb3V0ZXJDbGllbnQuYWRkUmVzcG9uZGVyKG4rZSwobixpKT0+e2lmKHRoaXMubG9nZ2VyLnN5c3RlbS5pbmZvKGBNZXNzYWdlIHJlY2VpdmVkIG9uICR7ZX06IGAsaSksbil0aGlzLmxvZ2dlci5zeXN0ZW0uZXJyb3IoYEZhaWxlZCB0byBzZXR1cCAke2V9IHJlc3BvbmRlcmAsbik7ZWxzZSB0cnl7dGhpcy5sb2dnZXIuc3lzdGVtLmluZm8oYFByb2Nlc3NpbmcgbWVzc2FnZSBvbiBjaGFubmVsICR7ZX06IGAsaSk7Y29uc3Qgbj10KGkuZGF0YSk7dGhpcy5sb2dnZXIuc3lzdGVtLmluZm8oYE1lc3NhZ2UgcmVzcG9uc2Ugb24gJHtlfTogYCxuKSxpLnNlbmRRdWVyeVJlc3BvbnNlKG51bGwse3N0YXR1czpcInN1Y2Nlc3NcIixkYXRhOm59KX1jYXRjaChuKXt0aGlzLmxvZ2dlci5zeXN0ZW0uZXJyb3IoXCJGYWlsZWQgdG8gcHJvY2VzcyBxdWVyeVwiLG4pLGkuc2VuZFF1ZXJ5UmVzcG9uc2Uobil9fSl9bW9uaXRvckNoYW5uZWwoZSx0KXtyZXR1cm4gbmV3IFByb21pc2Uobj0+e3RoaXMubG9nZ2VyLnN5c3RlbS5pbmZvKFwiTGlzdGVuaW5nIGZvciBtZXNzYWdlcyBvbiBjaGFubmVsXCIsZSksdGhpcy5hZGRSZXNwb25kZXIoZSxlPT57dGhpcy5sb2dnZXIuc3lzdGVtLmluZm8oXCJOb3RpZmljYXRpb24gcmVjZWl2ZWQ6IFwiLGUuaWQpO3RyeXt0KGUpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLnN5c3RlbS5lcnJvcihcIkVycm9yIHRocm93biBpbiB0aGUgc3Vic2NyaXB0aW9uLm9uTm90aWZpY2F0aW9uKClcIixlKX1yZXR1cm57bWVzc2FnZTpcInN1Y2Nlc3NcIn19KSxuKCl9KX19dC5Ob3RpZmljYXRpb25DbGllbnQ9TTtjb25zdCBEPW5ldyBNKHtvblJlYWR5OmZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLnN5c3RlbS5sb2coXCJub3RpZmljYXRpb25DbGllbnQgT25saW5lXCIpLGUoKX0sbmFtZTpcIm5vdGlmaWNhdGlvbkNsaWVudFwifSk7RC5hcHBseU92ZXJyaWRlcygpLEQuaW5pdGlhbGl6ZSgpLEQuc2V0dXAoKSx0LmRlZmF1bHQ9RH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRmluc2VtYmxlTm90aWZpY2F0aW9uT3B0aW9ucz10LkFjdGlvblR5cGVzPXZvaWQgMCxmdW5jdGlvbihlKXtlLkRJU01JU1M9XCJESVNNSVNTXCIsZS5TTk9PWkU9XCJTTk9PWkVcIixlLlNQQVdOPVwiU1BBV05cIixlLlFVRVJZPVwiUVVFUllcIixlLlBVQkxJU0g9XCJQVUJMSVNIXCIsZS5UUkFOU01JVD1cIlRSQU5TTUlUXCJ9KHQuQWN0aW9uVHlwZXN8fCh0LkFjdGlvblR5cGVzPXt9KSksZnVuY3Rpb24oZSl7ZS5NQVJLX0FTX1VOUkVBRD1cIk1BUktfQVNfVU5SRUFEXCIsZS5NQVJLX0FTX1JFQUQ9XCJNQVJLX0FTX1JFQURcIixlLlNOT09aRT1cIlNOT09aRVwiLGUuRElTTUlTUz1cIkRJU01JU1NcIixlLlNFVFRJTkdTPVwiU0VUVElOR1NcIixlLkRFVEFJTFM9XCJERVRBSUxTXCJ9KHQuRmluc2VtYmxlTm90aWZpY2F0aW9uT3B0aW9uc3x8KHQuRmluc2VtYmxlTm90aWZpY2F0aW9uT3B0aW9ucz17fSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgcj1pKG4oODUpKTt0LmRlZmF1bHQ9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmFjdGlvbnM9W10sdGhpcy5pc1JlYWQ9ITEsdGhpcy5pc1Nub296ZWQ9ITEsdGhpcy5pc011dGVkPSExLHRoaXMuaXNEZWxldGVkPSExLHRoaXMuYWN0aW9uc0hpc3Rvcnk9W10sdGhpcy5tZXRhPW5ldyByLmRlZmF1bHQsdGhpcy5zdGF0ZUhpc3Rvcnk9W119fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3QuZGVmYXVsdD1jbGFzc3t9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dC5kZWZhdWx0PWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5pZD1lfHxudWxsLHRoaXMuZmlsdGVyPXR9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3QuZGVmYXVsdD1jbGFzc3t9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dC5kZWZhdWx0PWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5pbmNsdWRlPVtdLHRoaXMuZXhjbHVkZT1bXX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLGZ1bmN0aW9uKGUpe3QuZGVmYXVsdD1mdW5jdGlvbih0KXtpZih0KXRyeXtlLmFkYXB0ZXJSZWNlaXZlcj9lLmFkYXB0ZXJSZWNlaXZlci5sb2FkZWQodFswXSx0aGlzKTpjb25zb2xlLmVycm9yKFwiR2xvYmFsIEFkYXB0ZXIgUmVjZWl2ZXIgbm90IGZvdW5kIG9uIHRoZSBnbG9iYWwgb2JqZWN0LiBGYXRhbCBlcnJvci5cIil9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIkJhc2VTdG9yYWdlIGNvbnN0cnVjdG9yXCIsZSl9dGhpcy5zZXRCYXNlTmFtZT1mdW5jdGlvbihlKXt0aGlzLmJhc2VOYW1lPWV9LHRoaXMuc2V0VXNlcj1mdW5jdGlvbihlKXt0aGlzLnVzZXJOYW1lPWV9LHRoaXMuc2F2ZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIlNhdmUgbWV0aG9kIG5vdCBmdWxmaWxsZWQgaW4gdGhlIGFjdGl2ZSBzdG9yYWdlIG1vZGVsLlwiKX0sdGhpcy5nZXQ9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJHZXQgbWV0aG9kIG5vdCBmdWxmaWxsZWQgaW4gdGhlIGFjdGl2ZSBzdG9yYWdlIG1vZGVsLlwiKX0sdGhpcy5rZXlzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiS2V5cyBtZXRob2Qgbm90IGZ1bGZpbGxlZCBpbiB0aGUgYWN0aXZlIHN0b3JhZ2UgbW9kZWwuXCIpfSx0aGlzLmRlbGV0ZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIkRlbGV0ZSBtZXRob2Qgbm90IGZ1bGZpbGxlZCBpbiB0aGUgYWN0aXZlIHN0b3JhZ2UgbW9kZWwuXCIpfSx0aGlzLmNsZWFyQ2FjaGU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJDbGVhciBjYWNoZSBtZXRob2Qgbm90IGZ1bGZpbGxlZCBpbiB0aGUgYWN0aXZlIHN0b3JhZ2UgbW9kZWwuXCIpfSx0aGlzLmVtcHR5PWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiRW1wdHkgbWV0aG9kIG5vdCBmdWxmaWxsZWQgaW4gdGhlIGFjdGl2ZSBzdG9yYWdlIG1vZGVsLlwiKX0sdGhpcy5nZXRNdWx0aXBsZT1mdW5jdGlvbigpe30sdGhpcy5nZXRDb21iaW5lZEtleT1mdW5jdGlvbihlLHQpe3JldHVybmAke2UuYmFzZU5hbWV9OiR7ZS51c2VyTmFtZX06JHt0LnRvcGljfToke3Qua2V5fWB9LHRoaXMuZ2V0S2V5UHJlZmFjZT1mdW5jdGlvbihlLHQpe2xldCBuPWAke2UuYmFzZU5hbWV9OiR7ZS51c2VyTmFtZX06JHt0LnRvcGljfTpgO3JldHVyblwia2V5UHJlZml4XCJpbiB0JiYobis9dC5rZXlQcmVmaXgpLG59fX0uY2FsbCh0aGlzLG4oNSkpfV0pfSkpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@finsemble/finsemble-core/dist/index.js\n");

/***/ }),

/***/ "./src/adapters/indexedDBAdapter.js":
/*!******************************************!*\
  !*** ./src/adapters/indexedDBAdapter.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * This file is a copy of the default IndexedDBAdapter adapter, the default storage model used by finsemble-seed.\n * It's provided as an example. Feel free to modify, add to, or erase parts of it.\n *\n * Core Finsemble calls are written with key-value pair databases in mind. If you want to use a different database type, you will need to translate the key/value pairs passed in from finsemble so that you can successfully retrieve them at a later time.\n */\n\n/**\n * We have a baseStorage model that provides some methods, such as `getCombinedKey`, which will return a nice key to save our value under. Example: `Finsemble:defaultUser:finsemble:activeWorkspace`. That key would hold the value of our activeWorkspace.\n */\nconst BaseStorage = __webpack_require__(/*! @finsemble/finsemble-core */ \"./node_modules/@finsemble/finsemble-core/dist/index.js\").models.baseStorage;\n\nconst {\n  Logger\n} = __webpack_require__(/*! @finsemble/finsemble-core */ \"./node_modules/@finsemble/finsemble-core/dist/index.js\").Clients; // Because calls to this storage adapter will likely come from many different windows, we will log successes and\n// failures in the central logger.\n\n\nLogger.start();\n/**\n * The schema version for the IndexedDB. Changing this signals onupgradeneeded so the existing database can be upgraded\n * to the new schema.\n */\n\nconst SCHEMA_VERSION = 1;\n/**\n * Flag indicating that the IndexedDB connection is initialized. Will be set in releaseQueue after the connection has been created and any schema version changes applied.\n */\n\nlet initialized = false; // #region\n\n/**\n * PolyFill IDBKeyRange for a key prefix search.\n *\n * In IndexedDB, Primary keys are ordered, and a key range is used to selectively retrieve them without having\n * to iterate the whole set and test each. We use string keys built up with various prefixes. This polyfill makes it\n * possible to easily retrieve all keys with a specified prefix.\n *\n * @param prefix The string by which to filter the primary keys.\n */\n\nIDBKeyRange.forPrefix = prefix => {\n  /**\n   * Determines the string that would sort immediately after all strings with the specified prefix and hence can be\n   * used as the upper bound for an IDBKeyRange to retrieve all keys with a specified prefix (where the lower bound is\n   * the prefix itself).\n   *\n   * @param key\n   */\n  const successor = key => {\n    let len = key.length;\n\n    while (len > 0) {\n      const head = key.substring(0, len - 1);\n      const tail = key.charCodeAt(len - 1);\n\n      if (tail !== 0xffff) {\n        return head + String.fromCharCode(tail + 1);\n      }\n\n      key = head;\n      --len;\n    }\n    /** DH 6/9/2020 - I infer this is a dead code path, because\n     * it previously returned a undefined variable.\n     */\n\n\n    return [];\n  };\n\n  const upperKey = successor(prefix);\n\n  if (upperKey === undefined) {\n    return IDBKeyRange.lowerBound(prefix);\n  }\n\n  return IDBKeyRange.bound(prefix, upperKey, false, true);\n}; // #endregion\n\n/**\n * IndexedDB Storage Adapter.\n *\n * We have a baseStorage model that provides some methods, such as `getCombinedKey`, which will return a nice key to\n * save our value under. Example: `Finsemble:defaultUser:finsemble:activeWorkspace`. That key would hold the value of\n * our activeWorkspace.\n */\n\n\nconst IndexedDBAdapter = function (uuid) {\n  // #region Initializes a new instance of the IndexedDBAdapter.\n  BaseStorage.call(this, arguments);\n  /**\n   * The IndexedDB instance.\n   */\n\n  this.db;\n  /**\n   * Array of commands received before the IndexedDB is initialized. These commands are executed once the connection\n   * has been established.\n   */\n\n  this.queue = [];\n  Logger.system.log(\"IndexedDBAdapter init\");\n  console.log(\"IndexedDBAdapter init\"); // #region Initialize IndexedDB connection.\n  // Open the IndexedDB connection\n\n  const request = window.indexedDB.open(\"finsemble\", SCHEMA_VERSION); // Create the object store if necessary\n\n  request.onupgradeneeded = event => {\n    // Save the IDBDatabase interface\n    this.db = event.target.result; // Create an objectStore for this database\n\n    const objectStore = this.db.createObjectStore(\"fsbl\", {\n      keyPath: \"key\"\n    }); // Use transaction oncomplete to make sure the objectStore creation is\n    // finished before adding data into it.\n\n    objectStore.transaction.oncomplete = () => {\n      Logger.system.debug(\"IndexedDBAdapter object store created\");\n      console.debug(\"IndexedDBAdapter object store created\");\n      this.releaseQueue();\n    };\n  };\n\n  request.onsuccess = event => {\n    Logger.system.log(\"IndexedDBAdapter initialized successfully\");\n    console.log(\"IndexedDBAdapter initialized successfully\");\n    this.db = event.target.result;\n    this.releaseQueue();\n  };\n\n  request.onerror = err => {\n    Logger.system.error(\"IndexedDBAdapter DB connection initialization failed, Error: \", err);\n    console.error(\"IndexedDBAdapter DB connection initialization failed, Error: \", err);\n  }; // #endregion\n  // #endregion\n\n  /**\n   * Get the prefix used to filter keys for particular topics and key prefixes.\n   *\n   * @param {object} params\n   * @param {string} params.topic The topic\n   * @param {string} params.keyPrefix The key prefix (optional).\n   * @private\n   */\n\n\n  this.getKeyPreface = params => {\n    const keyPrefix = \"keyPrefix\" in params ? params.keyPrefix : \"\";\n    const preface = `${this.getUserPreface()}:${params.topic}:${keyPrefix}`;\n    return preface;\n  };\n  /**\n   * Get prefix for all the users stored data.\n   * @private\n   */\n\n\n  this.getUserPreface = () => {\n    const preface = `${this.baseName}:${this.userName}`;\n    return preface;\n  };\n  /**\n   * Process the commands queued for execution after the IndexedDB connection is established.\n   * @private\n   */\n\n\n  this.releaseQueue = () => {\n    initialized = true;\n    Logger.system.log(`IndexedDBAdapter.releaseQueue: ${this.queue.length} commands`);\n    console.log(`IndexedDBAdapter.releaseQueue: ${this.queue.length} commands`);\n\n    while (this.queue.length) {\n      const action = this.queue.shift();\n      this[action.method].apply(this, action.args);\n    }\n  }; // #region Interface Methods\n\n  /**\n   * This method should be used very, very judiciously. It's essentially a method designed to wipe the database for a\n   * particular user.\n   */\n\n\n  this.clearCache = (params, cb) => {\n    if (!initialized) {\n      Logger.system.debug(\"queuing\", \"clearCache\", [params, cb]);\n      console.debug(\"queuing\", \"clearCache\", [params, cb]);\n      this.queue.push({\n        method: \"clearCache\",\n        args: [params, cb]\n      });\n      return;\n    }\n\n    const userPreface = this.getUserPreface(this);\n    Logger.system.log(`IndexedDBAdapter.clearCache for userPreface=${userPreface}`);\n    console.log(`IndexedDBAdapter.clearCache for userPreface=${userPreface}`);\n    const keyRange = IDBKeyRange.forPrefix(userPreface);\n    const objectStore = this.db.transaction([\"fsbl\"], \"readwrite\").objectStore(\"fsbl\");\n    const request = objectStore.delete(keyRange);\n\n    request.onsuccess = () => {\n      Logger.system.log(`IndexedDBAdapter.clearCache Success: userPreface=${userPreface}`);\n      console.log(`IndexedDBAdapter.clearCache Success: userPreface=${userPreface}`);\n      cb(null, {\n        status: \"success\"\n      });\n    };\n\n    request.onerror = err => {\n      Logger.system.error(\"IndexedDBAdapter.clearCache failed Error\", err, `userPreface=${userPreface}`);\n      console.error(\"IndexedDBAdapter.clearCache failed Error\", err, `userPreface=${userPreface}`);\n      cb(err, {\n        status: \"failed\"\n      });\n    };\n  };\n  /**\n   * Delete method.\n   *\n   * @param {object} params\n   * @param {string} params.topic A topic under which the data should be stored.\n   * @param {string} params.key The key whose value is being deleted.\n   * @param {function} cb callback to be invoked upon completion\n   */\n\n\n  this.delete = (params, cb) => {\n    if (!initialized) {\n      Logger.system.debug(\"queuing\", \"delete\", [params, cb]);\n      console.debug(\"queuing\", \"delete\", [params, cb]);\n      this.queue.push({\n        method: \"delete\",\n        args: [params, cb]\n      });\n      return;\n    }\n\n    const combinedKey = this.getCombinedKey(this, params);\n    Logger.system.debug(`IndexedDBAdapter.delete for key=${combinedKey}`);\n    console.debug(`IndexedDBAdapter.delete for key=${combinedKey}`);\n    const objectStore = this.db.transaction([\"fsbl\"], \"readwrite\").objectStore(\"fsbl\");\n    const request = objectStore.delete(combinedKey);\n\n    request.onsuccess = () => {\n      Logger.system.debug(`IndexedDBAdapter.delete key=${combinedKey}, Success`);\n      console.debug(`IndexedDBAdapter.delete key=${combinedKey}, Success`);\n      cb(null, {\n        status: \"success\"\n      });\n    };\n\n    request.onerror = err => {\n      Logger.system.error(`IndexedDBAdapter.delete key=${combinedKey}, Error`, err);\n      console.error(`IndexedDBAdapter.delete key=${combinedKey}, Error`, err);\n      cb(err, {\n        status: \"failed\"\n      });\n    };\n  };\n  /**\n   * Wipes the storage container.\n   * @param {function} cb\n   */\n\n\n  this.empty = cb => {\n    if (!initialized) {\n      Logger.system.debug(\"queuing\", \"empty\", [cb]);\n      console.debug(\"queuing\", \"empty\", [cb]);\n      this.queue.push({\n        method: \"empty\",\n        args: [cb]\n      });\n      return;\n    }\n\n    Logger.system.log(\"IndexedDBAdapter.empty\");\n    console.log(\"IndexedDBAdapter.empty\");\n    const objectStore = this.db.transaction([\"fsbl\"], \"readwrite\").objectStore(\"fsbl\");\n    const request = objectStore.clear();\n\n    request.onerror = err => {\n      Logger.system.error(\"IndexedDBAdapter.empty failed Error\", err);\n      console.error(\"IndexedDBAdapter.empty failed Error\", err);\n      return cb(err, {\n        status: \"failed\"\n      });\n    };\n\n    request.onsuccess = () => {\n      Logger.system.log(\"IndexedDBAdapter.empty Success\");\n      console.log(\"IndexedDBAdapter.empty Success\");\n      cb();\n    };\n  };\n  /**\n   * Get method.\n   *\n   * @param {object} params\n   * @param {string} params.topic A topic under which the data should be stored.\n   * @param {string} params.key The key whose value is being set.\n   * @param {function} cb callback to be invoked upon completion\n   */\n\n\n  this.get = (params, cb) => {\n    if (!initialized) {\n      Logger.system.debug(\"queuing\", \"get\", [params, cb]);\n      console.debug(\"queuing\", \"get\", [params, cb]);\n      this.queue.push({\n        method: \"get\",\n        args: [params, cb]\n      });\n      return;\n    }\n\n    Logger.system.debug(\"IndexedDBAdapter.get, params: \", params);\n    console.debug(\"IndexedDBAdapter.get, params: \", params);\n    const combinedKey = this.getCombinedKey(this, params);\n    const objectStore = this.db.transaction([\"fsbl\"], \"readwrite\").objectStore(\"fsbl\");\n    const request = objectStore.get(combinedKey);\n\n    request.onsuccess = event => {\n      let data;\n      if (event.target.result) data = event.target.result.value;\n      Logger.system.debug(`IndexedDBAdapter.get for key=${combinedKey} data=`, data);\n      console.debug(`IndexedDBAdapter.get for key=${combinedKey} data=`, data);\n      cb(null, data);\n    };\n\n    request.onerror = err => {\n      Logger.system.error(`IndexedDBAdapter.get key=${combinedKey}, Error`, err);\n      console.error(`IndexedDBAdapter.get key=${combinedKey}, Error`, err);\n      cb(err, {\n        status: \"failed\"\n      });\n    };\n  };\n  /**\n   * Returns all keys stored in IndexDB.\n   *\n   * @param {object} params\n   * @param {function} cb\n   */\n\n\n  this.keys = (params, cb) => {\n    if (!initialized) {\n      Logger.system.debug(\"queuing\", \"keys\", [params, cb]);\n      console.debug(\"queuing\", \"keys\", [params, cb]);\n      this.queue.push({\n        method: \"keys\",\n        args: [params, cb]\n      });\n      return;\n    }\n\n    const keyPreface = this.getKeyPreface(params);\n    const keyRange = IDBKeyRange.forPrefix(keyPreface);\n    const objectStore = this.db.transaction([\"fsbl\"], \"readwrite\").objectStore(\"fsbl\");\n    const request = objectStore.getAllKeys(keyRange);\n\n    request.onsuccess = event => {\n      // Get results, if defined, otherwise default to an empty array\n      const data = event.target.result ? event.target.result : []; // Remove the keyPreface from the key, the methods add the key preface back in.\n\n      const keys = data.map(key => key.replace(keyPreface, \"\"));\n      Logger.system.debug(`IndexedDBAdapter.keys for keyPreface=${keyPreface} keys=`, keys);\n      console.debug(`IndexedDBAdapter.get keys keyPreface=${keyPreface} keys=`, keys);\n      cb(null, keys);\n    };\n\n    request.onerror = err => {\n      Logger.system.error(`Failed to retrieve IndexedDBAdapter.keys keyPreface=${keyPreface}, Error`, err);\n      console.error(`Failed to retrieve IndexedDBAdapter.keys keyPreface=${keyPreface}, Error`, err);\n      cb(err, {\n        status: \"failed\"\n      });\n    };\n  };\n  /**\n   * Save method.\n   *\n   * @param {object} params\n   * @param {string} params.topic A topic under which the data should be stored.\n   * @param {string} params.key The key whose value is being set.\n   * @param {any} params.value The value being saved.\n   * @param {function} cb callback to be invoked upon save completion\n   */\n\n\n  this.save = (params, cb) => {\n    if (!initialized) {\n      Logger.system.debug(\"queuing\", \"save\", [params, cb]);\n      console.debug(\"queuing\", \"save\", [params, cb]);\n      this.queue.push({\n        method: \"save\",\n        args: [params, cb]\n      });\n      return;\n    }\n\n    Logger.system.debug(\"IndexedDBAdapter.save, params: \", params);\n    console.debug(\"IndexedDBAdapter.save, params: \", params);\n    const combinedKey = this.getCombinedKey(this, params);\n    const objectStore = this.db.transaction([\"fsbl\"], \"readwrite\").objectStore(\"fsbl\");\n    const request = objectStore.put({\n      key: combinedKey,\n      value: params.value\n    });\n\n    request.onsuccess = () => {\n      Logger.system.debug(\"IndexedDBAdapter.save Request Succeeded\");\n      console.debug(\"IndexedDBAdapter.save Request Succeeded\");\n      cb(null, {\n        status: \"success\"\n      });\n    };\n\n    request.onerror = err => {\n      Logger.system.error(\"IndexedDBAdapter.save Request Failed: \", err);\n      console.error(\"IndexedDBAdapter.save Request Failed: \", err);\n      cb(err, {\n        status: \"failed\"\n      });\n    };\n  }; // #endregion\n\n};\n\nIndexedDBAdapter.prototype = new BaseStorage();\nnew IndexedDBAdapter(\"IndexedDBAdapter\");\nmodule.exports = IndexedDBAdapter; //Allows us to get access to the uninitialized object//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWRhcHRlcnMvaW5kZXhlZERCQWRhcHRlci5qcz9mMzMwIl0sIm5hbWVzIjpbIkJhc2VTdG9yYWdlIiwicmVxdWlyZSIsIm1vZGVscyIsImJhc2VTdG9yYWdlIiwiTG9nZ2VyIiwiQ2xpZW50cyIsInN0YXJ0IiwiU0NIRU1BX1ZFUlNJT04iLCJpbml0aWFsaXplZCIsIklEQktleVJhbmdlIiwiZm9yUHJlZml4IiwicHJlZml4Iiwic3VjY2Vzc29yIiwia2V5IiwibGVuIiwibGVuZ3RoIiwiaGVhZCIsInN1YnN0cmluZyIsInRhaWwiLCJjaGFyQ29kZUF0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwidXBwZXJLZXkiLCJ1bmRlZmluZWQiLCJsb3dlckJvdW5kIiwiYm91bmQiLCJJbmRleGVkREJBZGFwdGVyIiwidXVpZCIsImNhbGwiLCJhcmd1bWVudHMiLCJkYiIsInF1ZXVlIiwic3lzdGVtIiwibG9nIiwiY29uc29sZSIsInJlcXVlc3QiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwiZXZlbnQiLCJ0YXJnZXQiLCJyZXN1bHQiLCJvYmplY3RTdG9yZSIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsInRyYW5zYWN0aW9uIiwib25jb21wbGV0ZSIsImRlYnVnIiwicmVsZWFzZVF1ZXVlIiwib25zdWNjZXNzIiwib25lcnJvciIsImVyciIsImVycm9yIiwiZ2V0S2V5UHJlZmFjZSIsInBhcmFtcyIsImtleVByZWZpeCIsInByZWZhY2UiLCJnZXRVc2VyUHJlZmFjZSIsInRvcGljIiwiYmFzZU5hbWUiLCJ1c2VyTmFtZSIsImFjdGlvbiIsInNoaWZ0IiwibWV0aG9kIiwiYXBwbHkiLCJhcmdzIiwiY2xlYXJDYWNoZSIsImNiIiwicHVzaCIsInVzZXJQcmVmYWNlIiwia2V5UmFuZ2UiLCJkZWxldGUiLCJzdGF0dXMiLCJjb21iaW5lZEtleSIsImdldENvbWJpbmVkS2V5IiwiZW1wdHkiLCJjbGVhciIsImdldCIsImRhdGEiLCJ2YWx1ZSIsImtleXMiLCJrZXlQcmVmYWNlIiwiZ2V0QWxsS2V5cyIsIm1hcCIsInJlcGxhY2UiLCJzYXZlIiwicHV0IiwicHJvdG90eXBlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7OztBQU9BOzs7QUFHQSxNQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMseUZBQUQsQ0FBUCxDQUFxQ0MsTUFBckMsQ0FBNENDLFdBQWhFOztBQUNBLE1BQU07QUFBRUM7QUFBRixJQUFhSCxtQkFBTyxDQUFDLHlGQUFELENBQVAsQ0FBcUNJLE9BQXhELEMsQ0FFQTtBQUNBOzs7QUFDQUQsTUFBTSxDQUFDRSxLQUFQO0FBRUE7Ozs7O0FBSUEsTUFBTUMsY0FBYyxHQUFHLENBQXZCO0FBRUE7Ozs7QUFHQSxJQUFJQyxXQUFXLEdBQUcsS0FBbEIsQyxDQUVBOztBQUNBOzs7Ozs7Ozs7O0FBU0FDLFdBQVcsQ0FBQ0MsU0FBWixHQUF5QkMsTUFBRCxJQUFZO0FBQ25DOzs7Ozs7O0FBT0EsUUFBTUMsU0FBUyxHQUFJQyxHQUFELElBQVM7QUFDMUIsUUFBSUMsR0FBRyxHQUFHRCxHQUFHLENBQUNFLE1BQWQ7O0FBQ0EsV0FBT0QsR0FBRyxHQUFHLENBQWIsRUFBZ0I7QUFDZixZQUFNRSxJQUFJLEdBQUdILEdBQUcsQ0FBQ0ksU0FBSixDQUFjLENBQWQsRUFBaUJILEdBQUcsR0FBRyxDQUF2QixDQUFiO0FBQ0EsWUFBTUksSUFBSSxHQUFHTCxHQUFHLENBQUNNLFVBQUosQ0FBZUwsR0FBRyxHQUFHLENBQXJCLENBQWI7O0FBRUEsVUFBSUksSUFBSSxLQUFLLE1BQWIsRUFBcUI7QUFDcEIsZUFBT0YsSUFBSSxHQUFHSSxNQUFNLENBQUNDLFlBQVAsQ0FBb0JILElBQUksR0FBRyxDQUEzQixDQUFkO0FBQ0E7O0FBRURMLFNBQUcsR0FBR0csSUFBTjtBQUNBLFFBQUVGLEdBQUY7QUFDQTtBQUVEOzs7OztBQUdBLFdBQU8sRUFBUDtBQUNBLEdBbEJE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Q0FBQ3lCO0FBQWxDLEtBQWhCLENBQWhCOztBQUVBN0MsV0FBTyxDQUFDZSxTQUFSLEdBQW9CLE1BQU07QUFDekI5QyxZQUFNLENBQUM0QixNQUFQLENBQWNnQixLQUFkLENBQW9CLHlDQUFwQjtBQUNBZCxhQUFPLENBQUNjLEtBQVIsQ0FBYyx5Q0FBZDtBQUVBb0IsUUFBRSxDQUFDLElBQUQsRUFBTztBQUFFSyxjQUFNLEVBQUU7QUFBVixPQUFQLENBQUY7QUFDQSxLQUxEOztBQU9BdEMsV0FBTyxDQUFDZ0IsT0FBUixHQUFtQkMsR0FBRCxJQUFTO0FBQzFCaEQsWUFBTSxDQUFDNEIsTUFBUCxDQUFjcUIsS0FBZCxDQUFvQix3Q0FBcEIsRUFBOERELEdBQTlEO0FBQ0FsQixhQUFPLENBQUNtQixLQUFSLENBQWMsd0NBQWQsRUFBd0RELEdBQXhEO0FBRUFnQixRQUFFLENBQUNoQixHQUFELEVBQU07QUFBRXFCLGNBQU0sRUFBRTtBQUFWLE9BQU4sQ0FBRjtBQUNBLEtBTEQ7QUFNQSxHQTVCRCxDQW5Td0MsQ0FnVXhDOztBQUNBLENBalVEOztBQW1VQS9DLGdCQUFnQixDQUFDOEQsU0FBakIsR0FBNkIsSUFBSXhGLFdBQUosRUFBN0I7QUFDQSxJQUFJMEIsZ0JBQUosQ0FBcUIsa0JBQXJCO0FBQ0ErRCxNQUFNLENBQUNDLE9BQVAsR0FBaUJoRSxnQkFBakIsQyxDQUFtQyIsImZpbGUiOiIuL3NyYy9hZGFwdGVycy9pbmRleGVkREJBZGFwdGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGZpbGUgaXMgYSBjb3B5IG9mIHRoZSBkZWZhdWx0IEluZGV4ZWREQkFkYXB0ZXIgYWRhcHRlciwgdGhlIGRlZmF1bHQgc3RvcmFnZSBtb2RlbCB1c2VkIGJ5IGZpbnNlbWJsZS1zZWVkLlxuICogSXQncyBwcm92aWRlZCBhcyBhbiBleGFtcGxlLiBGZWVsIGZyZWUgdG8gbW9kaWZ5LCBhZGQgdG8sIG9yIGVyYXNlIHBhcnRzIG9mIGl0LlxuICpcbiAqIENvcmUgRmluc2VtYmxlIGNhbGxzIGFyZSB3cml0dGVuIHdpdGgga2V5LXZhbHVlIHBhaXIgZGF0YWJhc2VzIGluIG1pbmQuIElmIHlvdSB3YW50IHRvIHVzZSBhIGRpZmZlcmVudCBkYXRhYmFzZSB0eXBlLCB5b3Ugd2lsbCBuZWVkIHRvIHRyYW5zbGF0ZSB0aGUga2V5L3ZhbHVlIHBhaXJzIHBhc3NlZCBpbiBmcm9tIGZpbnNlbWJsZSBzbyB0aGF0IHlvdSBjYW4gc3VjY2Vzc2Z1bGx5IHJldHJpZXZlIHRoZW0gYXQgYSBsYXRlciB0aW1lLlxuICovXG5cbi8qKlxuICogV2UgaGF2ZSBhIGJhc2VTdG9yYWdlIG1vZGVsIHRoYXQgcHJvdmlkZXMgc29tZSBtZXRob2RzLCBzdWNoIGFzIGBnZXRDb21iaW5lZEtleWAsIHdoaWNoIHdpbGwgcmV0dXJuIGEgbmljZSBrZXkgdG8gc2F2ZSBvdXIgdmFsdWUgdW5kZXIuIEV4YW1wbGU6IGBGaW5zZW1ibGU6ZGVmYXVsdFVzZXI6Zmluc2VtYmxlOmFjdGl2ZVdvcmtzcGFjZWAuIFRoYXQga2V5IHdvdWxkIGhvbGQgdGhlIHZhbHVlIG9mIG91ciBhY3RpdmVXb3Jrc3BhY2UuXG4gKi9cbmNvbnN0IEJhc2VTdG9yYWdlID0gcmVxdWlyZShcIkBmaW5zZW1ibGUvZmluc2VtYmxlLWNvcmVcIikubW9kZWxzLmJhc2VTdG9yYWdlO1xuY29uc3QgeyBMb2dnZXIgfSA9IHJlcXVpcmUoXCJAZmluc2VtYmxlL2ZpbnNlbWJsZS1jb3JlXCIpLkNsaWVudHM7XG5cbi8vIEJlY2F1c2UgY2FsbHMgdG8gdGhpcyBzdG9yYWdlIGFkYXB0ZXIgd2lsbCBsaWtlbHkgY29tZSBmcm9tIG1hbnkgZGlmZmVyZW50IHdpbmRvd3MsIHdlIHdpbGwgbG9nIHN1Y2Nlc3NlcyBhbmRcbi8vIGZhaWx1cmVzIGluIHRoZSBjZW50cmFsIGxvZ2dlci5cbkxvZ2dlci5zdGFydCgpO1xuXG4vKipcbiAqIFRoZSBzY2hlbWEgdmVyc2lvbiBmb3IgdGhlIEluZGV4ZWREQi4gQ2hhbmdpbmcgdGhpcyBzaWduYWxzIG9udXBncmFkZW5lZWRlZCBzbyB0aGUgZXhpc3RpbmcgZGF0YWJhc2UgY2FuIGJlIHVwZ3JhZGVkXG4gKiB0byB0aGUgbmV3IHNjaGVtYS5cbiAqL1xuY29uc3QgU0NIRU1BX1ZFUlNJT04gPSAxO1xuXG4vKipcbiAqIEZsYWcgaW5kaWNhdGluZyB0aGF0IHRoZSBJbmRleGVkREIgY29ubmVjdGlvbiBpcyBpbml0aWFsaXplZC4gV2lsbCBiZSBzZXQgaW4gcmVsZWFzZVF1ZXVlIGFmdGVyIHRoZSBjb25uZWN0aW9uIGhhcyBiZWVuIGNyZWF0ZWQgYW5kIGFueSBzY2hlbWEgdmVyc2lvbiBjaGFuZ2VzIGFwcGxpZWQuXG4gKi9cbmxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xuXG4vLyAjcmVnaW9uXG4vKipcbiAqIFBvbHlGaWxsIElEQktleVJhbmdlIGZvciBhIGtleSBwcmVmaXggc2VhcmNoLlxuICpcbiAqIEluIEluZGV4ZWREQiwgUHJpbWFyeSBrZXlzIGFyZSBvcmRlcmVkLCBhbmQgYSBrZXkgcmFuZ2UgaXMgdXNlZCB0byBzZWxlY3RpdmVseSByZXRyaWV2ZSB0aGVtIHdpdGhvdXQgaGF2aW5nXG4gKiB0byBpdGVyYXRlIHRoZSB3aG9sZSBzZXQgYW5kIHRlc3QgZWFjaC4gV2UgdXNlIHN0cmluZyBrZXlzIGJ1aWx0IHVwIHdpdGggdmFyaW91cyBwcmVmaXhlcy4gVGhpcyBwb2x5ZmlsbCBtYWtlcyBpdFxuICogcG9zc2libGUgdG8gZWFzaWx5IHJldHJpZXZlIGFsbCBrZXlzIHdpdGggYSBzcGVjaWZpZWQgcHJlZml4LlxuICpcbiAqIEBwYXJhbSBwcmVmaXggVGhlIHN0cmluZyBieSB3aGljaCB0byBmaWx0ZXIgdGhlIHByaW1hcnkga2V5cy5cbiAqL1xuSURCS2V5UmFuZ2UuZm9yUHJlZml4ID0gKHByZWZpeCkgPT4ge1xuXHQvKipcblx0ICogRGV0ZXJtaW5lcyB0aGUgc3RyaW5nIHRoYXQgd291bGQgc29ydCBpbW1lZGlhdGVseSBhZnRlciBhbGwgc3RyaW5ncyB3aXRoIHRoZSBzcGVjaWZpZWQgcHJlZml4IGFuZCBoZW5jZSBjYW4gYmVcblx0ICogdXNlZCBhcyB0aGUgdXBwZXIgYm91bmQgZm9yIGFuIElEQktleVJhbmdlIHRvIHJldHJpZXZlIGFsbCBrZXlzIHdpdGggYSBzcGVjaWZpZWQgcHJlZml4ICh3aGVyZSB0aGUgbG93ZXIgYm91bmQgaXNcblx0ICogdGhlIHByZWZpeCBpdHNlbGYpLlxuXHQgKlxuXHQgKiBAcGFyYW0ga2V5XG5cdCAqL1xuXHRjb25zdCBzdWNjZXNzb3IgPSAoa2V5KSA9PiB7XG5cdFx0bGV0IGxlbiA9IGtleS5sZW5ndGg7XG5cdFx0d2hpbGUgKGxlbiA+IDApIHtcblx0XHRcdGNvbnN0IGhlYWQgPSBrZXkuc3Vic3RyaW5nKDAsIGxlbiAtIDEpO1xuXHRcdFx0Y29uc3QgdGFpbCA9IGtleS5jaGFyQ29kZUF0KGxlbiAtIDEpO1xuXG5cdFx0XHRpZiAodGFpbCAhPT0gMHhmZmZmKSB7XG5cdFx0XHRcdHJldHVybiBoZWFkICsgU3RyaW5nLmZyb21DaGFyQ29kZSh0YWlsICsgMSk7XG5cdFx0XHR9XG5cblx0XHRcdGtleSA9IGhlYWQ7XG5cdFx0XHQtLWxlbjtcblx0XHR9XG5cblx0XHQvKiogREggNi85LzIwMjAgLSBJIGluZmVyIHRoaXMgaXMgYSBkZWFkIGNvZGUgcGF0aCwgYmVjYXVzZVxuXHRcdCAqIGl0IHByZXZpb3VzbHkgcmV0dXJuZWQgYSB1bmRlZmluZWQgdmFyaWFibGUuXG5cdFx0ICovXG5cdFx0cmV0dXJuIFtdO1xuXHR9O1xuXG5cdGNvbnN0IHVwcGVyS2V5ID0gc3VjY2Vzc29yKHByZWZpeCk7XG5cdGlmICh1cHBlcktleSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIElEQktleVJhbmdlLmxvd2VyQm91bmQocHJlZml4KTtcblx0fVxuXG5cdHJldHVybiBJREJLZXlSYW5nZS5ib3VuZChwcmVmaXgsIHVwcGVyS2V5LCBmYWxzZSwgdHJ1ZSk7XG59O1xuLy8gI2VuZHJlZ2lvblxuXG4vKipcbiAqIEluZGV4ZWREQiBTdG9yYWdlIEFkYXB0ZXIuXG4gKlxuICogV2UgaGF2ZSBhIGJhc2VTdG9yYWdlIG1vZGVsIHRoYXQgcHJvdmlkZXMgc29tZSBtZXRob2RzLCBzdWNoIGFzIGBnZXRDb21iaW5lZEtleWAsIHdoaWNoIHdpbGwgcmV0dXJuIGEgbmljZSBrZXkgdG9cbiAqIHNhdmUgb3VyIHZhbHVlIHVuZGVyLiBFeGFtcGxlOiBgRmluc2VtYmxlOmRlZmF1bHRVc2VyOmZpbnNlbWJsZTphY3RpdmVXb3Jrc3BhY2VgLiBUaGF0IGtleSB3b3VsZCBob2xkIHRoZSB2YWx1ZSBvZlxuICogb3VyIGFjdGl2ZVdvcmtzcGFjZS5cbiAqL1xuY29uc3QgSW5kZXhlZERCQWRhcHRlciA9IGZ1bmN0aW9uICh1dWlkKSB7XG5cdC8vICNyZWdpb24gSW5pdGlhbGl6ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIEluZGV4ZWREQkFkYXB0ZXIuXG5cdEJhc2VTdG9yYWdlLmNhbGwodGhpcywgYXJndW1lbnRzKTtcblxuXHQvKipcblx0ICogVGhlIEluZGV4ZWREQiBpbnN0YW5jZS5cblx0ICovXG5cdHRoaXMuZGI7XG5cblx0LyoqXG5cdCAqIEFycmF5IG9mIGNvbW1hbmRzIHJlY2VpdmVkIGJlZm9yZSB0aGUgSW5kZXhlZERCIGlzIGluaXRpYWxpemVkLiBUaGVzZSBjb21tYW5kcyBhcmUgZXhlY3V0ZWQgb25jZSB0aGUgY29ubmVjdGlvblxuXHQgKiBoYXMgYmVlbiBlc3RhYmxpc2hlZC5cblx0ICovXG5cdHRoaXMucXVldWUgPSBbXTtcblxuXHRMb2dnZXIuc3lzdGVtLmxvZyhcIkluZGV4ZWREQkFkYXB0ZXIgaW5pdFwiKTtcblx0Y29uc29sZS5sb2coXCJJbmRleGVkREJBZGFwdGVyIGluaXRcIik7XG5cblx0Ly8gI3JlZ2lvbiBJbml0aWFsaXplIEluZGV4ZWREQiBjb25uZWN0aW9uLlxuXHQvLyBPcGVuIHRoZSBJbmRleGVkREIgY29ubmVjdGlvblxuXHRjb25zdCByZXF1ZXN0ID0gd2luZG93LmluZGV4ZWREQi5vcGVuKFwiZmluc2VtYmxlXCIsIFNDSEVNQV9WRVJTSU9OKTtcblxuXHQvLyBDcmVhdGUgdGhlIG9iamVjdCBzdG9yZSBpZiBuZWNlc3Nhcnlcblx0cmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZXZlbnQpID0+IHtcblx0XHQvLyBTYXZlIHRoZSBJREJEYXRhYmFzZSBpbnRlcmZhY2Vcblx0XHR0aGlzLmRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcblxuXHRcdC8vIENyZWF0ZSBhbiBvYmplY3RTdG9yZSBmb3IgdGhpcyBkYXRhYmFzZVxuXHRcdGNvbnN0IG9iamVjdFN0b3JlID0gdGhpcy5kYi5jcmVhdGVPYmplY3RTdG9yZShcImZzYmxcIiwgeyBrZXlQYXRoOiBcImtleVwiIH0pO1xuXG5cdFx0Ly8gVXNlIHRyYW5zYWN0aW9uIG9uY29tcGxldGUgdG8gbWFrZSBzdXJlIHRoZSBvYmplY3RTdG9yZSBjcmVhdGlvbiBpc1xuXHRcdC8vIGZpbmlzaGVkIGJlZm9yZSBhZGRpbmcgZGF0YSBpbnRvIGl0LlxuXHRcdG9iamVjdFN0b3JlLnRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG5cdFx0XHRMb2dnZXIuc3lzdGVtLmRlYnVnKFwiSW5kZXhlZERCQWRhcHRlciBvYmplY3Qgc3RvcmUgY3JlYXRlZFwiKTtcblx0XHRcdGNvbnNvbGUuZGVidWcoXCJJbmRleGVkREJBZGFwdGVyIG9iamVjdCBzdG9yZSBjcmVhdGVkXCIpO1xuXHRcdFx0dGhpcy5yZWxlYXNlUXVldWUoKTtcblx0XHR9O1xuXHR9O1xuXG5cdHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XG5cdFx0TG9nZ2VyLnN5c3RlbS5sb2coXCJJbmRleGVkREJBZGFwdGVyIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseVwiKTtcblx0XHRjb25zb2xlLmxvZyhcIkluZGV4ZWREQkFkYXB0ZXIgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuXG5cdFx0dGhpcy5kYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG5cdFx0dGhpcy5yZWxlYXNlUXVldWUoKTtcblx0fTtcblxuXHRyZXF1ZXN0Lm9uZXJyb3IgPSAoZXJyKSA9PiB7XG5cdFx0TG9nZ2VyLnN5c3RlbS5lcnJvcihcIkluZGV4ZWREQkFkYXB0ZXIgREIgY29ubmVjdGlvbiBpbml0aWFsaXphdGlvbiBmYWlsZWQsIEVycm9yOiBcIiwgZXJyKTtcblx0XHRjb25zb2xlLmVycm9yKFwiSW5kZXhlZERCQWRhcHRlciBEQiBjb25uZWN0aW9uIGluaXRpYWxpemF0aW9uIGZhaWxlZCwgRXJyb3I6IFwiLCBlcnIpO1xuXHR9O1xuXHQvLyAjZW5kcmVnaW9uXG5cdC8vICNlbmRyZWdpb25cblxuXHQvKipcblx0ICogR2V0IHRoZSBwcmVmaXggdXNlZCB0byBmaWx0ZXIga2V5cyBmb3IgcGFydGljdWxhciB0b3BpY3MgYW5kIGtleSBwcmVmaXhlcy5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IHBhcmFtc1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLnRvcGljIFRoZSB0b3BpY1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLmtleVByZWZpeCBUaGUga2V5IHByZWZpeCAob3B0aW9uYWwpLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0dGhpcy5nZXRLZXlQcmVmYWNlID0gKHBhcmFtcykgPT4ge1xuXHRcdGNvbnN0IGtleVByZWZpeCA9IFwia2V5UHJlZml4XCIgaW4gcGFyYW1zID8gcGFyYW1zLmtleVByZWZpeCA6IFwiXCI7XG5cdFx0Y29uc3QgcHJlZmFjZSA9IGAke3RoaXMuZ2V0VXNlclByZWZhY2UoKX06JHtwYXJhbXMudG9waWN9OiR7a2V5UHJlZml4fWA7XG5cblx0XHRyZXR1cm4gcHJlZmFjZTtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IHByZWZpeCBmb3IgYWxsIHRoZSB1c2VycyBzdG9yZWQgZGF0YS5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHRoaXMuZ2V0VXNlclByZWZhY2UgPSAoKSA9PiB7XG5cdFx0Y29uc3QgcHJlZmFjZSA9IGAke3RoaXMuYmFzZU5hbWV9OiR7dGhpcy51c2VyTmFtZX1gO1xuXHRcdHJldHVybiBwcmVmYWNlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQcm9jZXNzIHRoZSBjb21tYW5kcyBxdWV1ZWQgZm9yIGV4ZWN1dGlvbiBhZnRlciB0aGUgSW5kZXhlZERCIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHR0aGlzLnJlbGVhc2VRdWV1ZSA9ICgpID0+IHtcblx0XHRpbml0aWFsaXplZCA9IHRydWU7XG5cdFx0TG9nZ2VyLnN5c3RlbS5sb2coYEluZGV4ZWREQkFkYXB0ZXIucmVsZWFzZVF1ZXVlOiAke3RoaXMucXVldWUubGVuZ3RofSBjb21tYW5kc2ApO1xuXHRcdGNvbnNvbGUubG9nKGBJbmRleGVkREJBZGFwdGVyLnJlbGVhc2VRdWV1ZTogJHt0aGlzLnF1ZXVlLmxlbmd0aH0gY29tbWFuZHNgKTtcblxuXHRcdHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuXHRcdFx0Y29uc3QgYWN0aW9uID0gdGhpcy5xdWV1ZS5zaGlmdCgpO1xuXHRcdFx0dGhpc1thY3Rpb24ubWV0aG9kXS5hcHBseSh0aGlzLCBhY3Rpb24uYXJncyk7XG5cdFx0fVxuXHR9O1xuXHQvLyAjcmVnaW9uIEludGVyZmFjZSBNZXRob2RzXG5cdC8qKlxuXHQgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCB2ZXJ5LCB2ZXJ5IGp1ZGljaW91c2x5LiBJdCdzIGVzc2VudGlhbGx5IGEgbWV0aG9kIGRlc2lnbmVkIHRvIHdpcGUgdGhlIGRhdGFiYXNlIGZvciBhXG5cdCAqIHBhcnRpY3VsYXIgdXNlci5cblx0ICovXG5cdHRoaXMuY2xlYXJDYWNoZSA9IChwYXJhbXMsIGNiKSA9PiB7XG5cdFx0aWYgKCFpbml0aWFsaXplZCkge1xuXHRcdFx0TG9nZ2VyLnN5c3RlbS5kZWJ1ZyhcInF1ZXVpbmdcIiwgXCJjbGVhckNhY2hlXCIsIFtwYXJhbXMsIGNiXSk7XG5cdFx0XHRjb25zb2xlLmRlYnVnKFwicXVldWluZ1wiLCBcImNsZWFyQ2FjaGVcIiwgW3BhcmFtcywgY2JdKTtcblx0XHRcdHRoaXMucXVldWUucHVzaCh7IG1ldGhvZDogXCJjbGVhckNhY2hlXCIsIGFyZ3M6IFtwYXJhbXMsIGNiXSB9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCB1c2VyUHJlZmFjZSA9IHRoaXMuZ2V0VXNlclByZWZhY2UodGhpcyk7XG5cblx0XHRMb2dnZXIuc3lzdGVtLmxvZyhgSW5kZXhlZERCQWRhcHRlci5jbGVhckNhY2hlIGZvciB1c2VyUHJlZmFjZT0ke3VzZXJQcmVmYWNlfWApO1xuXHRcdGNvbnNvbGUubG9nKGBJbmRleGVkREJBZGFwdGVyLmNsZWFyQ2FjaGUgZm9yIHVzZXJQcmVmYWNlPSR7dXNlclByZWZhY2V9YCk7XG5cblx0XHRjb25zdCBrZXlSYW5nZSA9IElEQktleVJhbmdlLmZvclByZWZpeCh1c2VyUHJlZmFjZSk7XG5cdFx0Y29uc3Qgb2JqZWN0U3RvcmUgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFtcImZzYmxcIl0sIFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKFwiZnNibFwiKTtcblx0XHRjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUuZGVsZXRlKGtleVJhbmdlKTtcblxuXHRcdHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuXHRcdFx0TG9nZ2VyLnN5c3RlbS5sb2coYEluZGV4ZWREQkFkYXB0ZXIuY2xlYXJDYWNoZSBTdWNjZXNzOiB1c2VyUHJlZmFjZT0ke3VzZXJQcmVmYWNlfWApO1xuXHRcdFx0Y29uc29sZS5sb2coYEluZGV4ZWREQkFkYXB0ZXIuY2xlYXJDYWNoZSBTdWNjZXNzOiB1c2VyUHJlZmFjZT0ke3VzZXJQcmVmYWNlfWApO1xuXG5cdFx0XHRjYihudWxsLCB7IHN0YXR1czogXCJzdWNjZXNzXCIgfSk7XG5cdFx0fTtcblxuXHRcdHJlcXVlc3Qub25lcnJvciA9IChlcnIpID0+IHtcblx0XHRcdExvZ2dlci5zeXN0ZW0uZXJyb3IoXCJJbmRleGVkREJBZGFwdGVyLmNsZWFyQ2FjaGUgZmFpbGVkIEVycm9yXCIsIGVyciwgYHVzZXJQcmVmYWNlPSR7dXNlclByZWZhY2V9YCk7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiSW5kZXhlZERCQWRhcHRlci5jbGVhckNhY2hlIGZhaWxlZCBFcnJvclwiLCBlcnIsIGB1c2VyUHJlZmFjZT0ke3VzZXJQcmVmYWNlfWApO1xuXG5cdFx0XHRjYihlcnIsIHsgc3RhdHVzOiBcImZhaWxlZFwiIH0pO1xuXHRcdH07XG5cdH07XG5cblx0LyoqXG5cdCAqIERlbGV0ZSBtZXRob2QuXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXNcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy50b3BpYyBBIHRvcGljIHVuZGVyIHdoaWNoIHRoZSBkYXRhIHNob3VsZCBiZSBzdG9yZWQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMua2V5IFRoZSBrZXkgd2hvc2UgdmFsdWUgaXMgYmVpbmcgZGVsZXRlZC5cblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB1cG9uIGNvbXBsZXRpb25cblx0ICovXG5cdHRoaXMuZGVsZXRlID0gKHBhcmFtcywgY2IpID0+IHtcblx0XHRpZiAoIWluaXRpYWxpemVkKSB7XG5cdFx0XHRMb2dnZXIuc3lzdGVtLmRlYnVnKFwicXVldWluZ1wiLCBcImRlbGV0ZVwiLCBbcGFyYW1zLCBjYl0pO1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhcInF1ZXVpbmdcIiwgXCJkZWxldGVcIiwgW3BhcmFtcywgY2JdKTtcblx0XHRcdHRoaXMucXVldWUucHVzaCh7IG1ldGhvZDogXCJkZWxldGVcIiwgYXJnczogW3BhcmFtcywgY2JdIH0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGNvbWJpbmVkS2V5ID0gdGhpcy5nZXRDb21iaW5lZEtleSh0aGlzLCBwYXJhbXMpO1xuXG5cdFx0TG9nZ2VyLnN5c3RlbS5kZWJ1ZyhgSW5kZXhlZERCQWRhcHRlci5kZWxldGUgZm9yIGtleT0ke2NvbWJpbmVkS2V5fWApO1xuXHRcdGNvbnNvbGUuZGVidWcoYEluZGV4ZWREQkFkYXB0ZXIuZGVsZXRlIGZvciBrZXk9JHtjb21iaW5lZEtleX1gKTtcblxuXHRcdGNvbnN0IG9iamVjdFN0b3JlID0gdGhpcy5kYi50cmFuc2FjdGlvbihbXCJmc2JsXCJdLCBcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZShcImZzYmxcIik7XG5cdFx0Y29uc3QgcmVxdWVzdCA9IG9iamVjdFN0b3JlLmRlbGV0ZShjb21iaW5lZEtleSk7XG5cblx0XHRyZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcblx0XHRcdExvZ2dlci5zeXN0ZW0uZGVidWcoYEluZGV4ZWREQkFkYXB0ZXIuZGVsZXRlIGtleT0ke2NvbWJpbmVkS2V5fSwgU3VjY2Vzc2ApO1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgSW5kZXhlZERCQWRhcHRlci5kZWxldGUga2V5PSR7Y29tYmluZWRLZXl9LCBTdWNjZXNzYCk7XG5cblx0XHRcdGNiKG51bGwsIHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiB9KTtcblx0XHR9O1xuXG5cdFx0cmVxdWVzdC5vbmVycm9yID0gKGVycikgPT4ge1xuXHRcdFx0TG9nZ2VyLnN5c3RlbS5lcnJvcihgSW5kZXhlZERCQWRhcHRlci5kZWxldGUga2V5PSR7Y29tYmluZWRLZXl9LCBFcnJvcmAsIGVycik7XG5cdFx0XHRjb25zb2xlLmVycm9yKGBJbmRleGVkREJBZGFwdGVyLmRlbGV0ZSBrZXk9JHtjb21iaW5lZEtleX0sIEVycm9yYCwgZXJyKTtcblxuXHRcdFx0Y2IoZXJyLCB7IHN0YXR1czogXCJmYWlsZWRcIiB9KTtcblx0XHR9O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBXaXBlcyB0aGUgc3RvcmFnZSBjb250YWluZXIuXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiXG5cdCAqL1xuXHR0aGlzLmVtcHR5ID0gKGNiKSA9PiB7XG5cdFx0aWYgKCFpbml0aWFsaXplZCkge1xuXHRcdFx0TG9nZ2VyLnN5c3RlbS5kZWJ1ZyhcInF1ZXVpbmdcIiwgXCJlbXB0eVwiLCBbY2JdKTtcblx0XHRcdGNvbnNvbGUuZGVidWcoXCJxdWV1aW5nXCIsIFwiZW1wdHlcIiwgW2NiXSk7XG5cdFx0XHR0aGlzLnF1ZXVlLnB1c2goeyBtZXRob2Q6IFwiZW1wdHlcIiwgYXJnczogW2NiXSB9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRMb2dnZXIuc3lzdGVtLmxvZyhcIkluZGV4ZWREQkFkYXB0ZXIuZW1wdHlcIik7XG5cdFx0Y29uc29sZS5sb2coXCJJbmRleGVkREJBZGFwdGVyLmVtcHR5XCIpO1xuXG5cdFx0Y29uc3Qgb2JqZWN0U3RvcmUgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFtcImZzYmxcIl0sIFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKFwiZnNibFwiKTtcblx0XHRjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUuY2xlYXIoKTtcblxuXHRcdHJlcXVlc3Qub25lcnJvciA9IChlcnIpID0+IHtcblx0XHRcdExvZ2dlci5zeXN0ZW0uZXJyb3IoXCJJbmRleGVkREJBZGFwdGVyLmVtcHR5IGZhaWxlZCBFcnJvclwiLCBlcnIpO1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkluZGV4ZWREQkFkYXB0ZXIuZW1wdHkgZmFpbGVkIEVycm9yXCIsIGVycik7XG5cblx0XHRcdHJldHVybiBjYihlcnIsIHsgc3RhdHVzOiBcImZhaWxlZFwiIH0pO1xuXHRcdH07XG5cblx0XHRyZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcblx0XHRcdExvZ2dlci5zeXN0ZW0ubG9nKFwiSW5kZXhlZERCQWRhcHRlci5lbXB0eSBTdWNjZXNzXCIpO1xuXHRcdFx0Y29uc29sZS5sb2coXCJJbmRleGVkREJBZGFwdGVyLmVtcHR5IFN1Y2Nlc3NcIik7XG5cblx0XHRcdGNiKCk7XG5cdFx0fTtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IG1ldGhvZC5cblx0ICpcblx0ICogQHBhcmFtIHtvYmplY3R9IHBhcmFtc1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLnRvcGljIEEgdG9waWMgdW5kZXIgd2hpY2ggdGhlIGRhdGEgc2hvdWxkIGJlIHN0b3JlZC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5rZXkgVGhlIGtleSB3aG9zZSB2YWx1ZSBpcyBiZWluZyBzZXQuXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgdXBvbiBjb21wbGV0aW9uXG5cdCAqL1xuXHR0aGlzLmdldCA9IChwYXJhbXMsIGNiKSA9PiB7XG5cdFx0aWYgKCFpbml0aWFsaXplZCkge1xuXHRcdFx0TG9nZ2VyLnN5c3RlbS5kZWJ1ZyhcInF1ZXVpbmdcIiwgXCJnZXRcIiwgW3BhcmFtcywgY2JdKTtcblx0XHRcdGNvbnNvbGUuZGVidWcoXCJxdWV1aW5nXCIsIFwiZ2V0XCIsIFtwYXJhbXMsIGNiXSk7XG5cdFx0XHR0aGlzLnF1ZXVlLnB1c2goeyBtZXRob2Q6IFwiZ2V0XCIsIGFyZ3M6IFtwYXJhbXMsIGNiXSB9KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRMb2dnZXIuc3lzdGVtLmRlYnVnKFwiSW5kZXhlZERCQWRhcHRlci5nZXQsIHBhcmFtczogXCIsIHBhcmFtcyk7XG5cdFx0Y29uc29sZS5kZWJ1ZyhcIkluZGV4ZWREQkFkYXB0ZXIuZ2V0LCBwYXJhbXM6IFwiLCBwYXJhbXMpO1xuXG5cdFx0Y29uc3QgY29tYmluZWRLZXkgPSB0aGlzLmdldENvbWJpbmVkS2V5KHRoaXMsIHBhcmFtcyk7XG5cdFx0Y29uc3Qgb2JqZWN0U3RvcmUgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFtcImZzYmxcIl0sIFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKFwiZnNibFwiKTtcblx0XHRjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUuZ2V0KGNvbWJpbmVkS2V5KTtcblxuXHRcdHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRsZXQgZGF0YTtcblx0XHRcdGlmIChldmVudC50YXJnZXQucmVzdWx0KSBkYXRhID0gZXZlbnQudGFyZ2V0LnJlc3VsdC52YWx1ZTtcblxuXHRcdFx0TG9nZ2VyLnN5c3RlbS5kZWJ1ZyhgSW5kZXhlZERCQWRhcHRlci5nZXQgZm9yIGtleT0ke2NvbWJpbmVkS2V5fSBkYXRhPWAsIGRhdGEpO1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgSW5kZXhlZERCQWRhcHRlci5nZXQgZm9yIGtleT0ke2NvbWJpbmVkS2V5fSBkYXRhPWAsIGRhdGEpO1xuXG5cdFx0XHRjYihudWxsLCBkYXRhKTtcblx0XHR9O1xuXG5cdFx0cmVxdWVzdC5vbmVycm9yID0gKGVycikgPT4ge1xuXHRcdFx0TG9nZ2VyLnN5c3RlbS5lcnJvcihgSW5kZXhlZERCQWRhcHRlci5nZXQga2V5PSR7Y29tYmluZWRLZXl9LCBFcnJvcmAsIGVycik7XG5cdFx0XHRjb25zb2xlLmVycm9yKGBJbmRleGVkREJBZGFwdGVyLmdldCBrZXk9JHtjb21iaW5lZEtleX0sIEVycm9yYCwgZXJyKTtcblxuXHRcdFx0Y2IoZXJyLCB7IHN0YXR1czogXCJmYWlsZWRcIiB9KTtcblx0XHR9O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGFsbCBrZXlzIHN0b3JlZCBpbiBJbmRleERCLlxuXHQgKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiXG5cdCAqL1xuXHR0aGlzLmtleXMgPSAocGFyYW1zLCBjYikgPT4ge1xuXHRcdGlmICghaW5pdGlhbGl6ZWQpIHtcblx0XHRcdExvZ2dlci5zeXN0ZW0uZGVidWcoXCJxdWV1aW5nXCIsIFwia2V5c1wiLCBbcGFyYW1zLCBjYl0pO1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhcInF1ZXVpbmdcIiwgXCJrZXlzXCIsIFtwYXJhbXMsIGNiXSk7XG5cdFx0XHR0aGlzLnF1ZXVlLnB1c2goeyBtZXRob2Q6IFwia2V5c1wiLCBhcmdzOiBbcGFyYW1zLCBjYl0gfSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3Qga2V5UHJlZmFjZSA9IHRoaXMuZ2V0S2V5UHJlZmFjZShwYXJhbXMpO1xuXHRcdGNvbnN0IGtleVJhbmdlID0gSURCS2V5UmFuZ2UuZm9yUHJlZml4KGtleVByZWZhY2UpO1xuXHRcdGNvbnN0IG9iamVjdFN0b3JlID0gdGhpcy5kYi50cmFuc2FjdGlvbihbXCJmc2JsXCJdLCBcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZShcImZzYmxcIik7XG5cdFx0Y29uc3QgcmVxdWVzdCA9IG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UpO1xuXG5cdFx0cmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcblx0XHRcdC8vIEdldCByZXN1bHRzLCBpZiBkZWZpbmVkLCBvdGhlcndpc2UgZGVmYXVsdCB0byBhbiBlbXB0eSBhcnJheVxuXHRcdFx0Y29uc3QgZGF0YSA9IGV2ZW50LnRhcmdldC5yZXN1bHQgPyBldmVudC50YXJnZXQucmVzdWx0IDogW107XG5cblx0XHRcdC8vIFJlbW92ZSB0aGUga2V5UHJlZmFjZSBmcm9tIHRoZSBrZXksIHRoZSBtZXRob2RzIGFkZCB0aGUga2V5IHByZWZhY2UgYmFjayBpbi5cblx0XHRcdGNvbnN0IGtleXMgPSBkYXRhLm1hcCgoa2V5KSA9PiBrZXkucmVwbGFjZShrZXlQcmVmYWNlLCBcIlwiKSk7XG5cblx0XHRcdExvZ2dlci5zeXN0ZW0uZGVidWcoYEluZGV4ZWREQkFkYXB0ZXIua2V5cyBmb3Iga2V5UHJlZmFjZT0ke2tleVByZWZhY2V9IGtleXM9YCwga2V5cyk7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGBJbmRleGVkREJBZGFwdGVyLmdldCBrZXlzIGtleVByZWZhY2U9JHtrZXlQcmVmYWNlfSBrZXlzPWAsIGtleXMpO1xuXG5cdFx0XHRjYihudWxsLCBrZXlzKTtcblx0XHR9O1xuXG5cdFx0cmVxdWVzdC5vbmVycm9yID0gKGVycikgPT4ge1xuXHRcdFx0TG9nZ2VyLnN5c3RlbS5lcnJvcihgRmFpbGVkIHRvIHJldHJpZXZlIEluZGV4ZWREQkFkYXB0ZXIua2V5cyBrZXlQcmVmYWNlPSR7a2V5UHJlZmFjZX0sIEVycm9yYCwgZXJyKTtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byByZXRyaWV2ZSBJbmRleGVkREJBZGFwdGVyLmtleXMga2V5UHJlZmFjZT0ke2tleVByZWZhY2V9LCBFcnJvcmAsIGVycik7XG5cblx0XHRcdGNiKGVyciwgeyBzdGF0dXM6IFwiZmFpbGVkXCIgfSk7XG5cdFx0fTtcblx0fTtcblxuXHQvKipcblx0ICogU2F2ZSBtZXRob2QuXG5cdCAqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXNcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy50b3BpYyBBIHRvcGljIHVuZGVyIHdoaWNoIHRoZSBkYXRhIHNob3VsZCBiZSBzdG9yZWQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMua2V5IFRoZSBrZXkgd2hvc2UgdmFsdWUgaXMgYmVpbmcgc2V0LlxuXHQgKiBAcGFyYW0ge2FueX0gcGFyYW1zLnZhbHVlIFRoZSB2YWx1ZSBiZWluZyBzYXZlZC5cblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB1cG9uIHNhdmUgY29tcGxldGlvblxuXHQgKi9cblx0dGhpcy5zYXZlID0gKHBhcmFtcywgY2IpID0+IHtcblx0XHRpZiAoIWluaXRpYWxpemVkKSB7XG5cdFx0XHRMb2dnZXIuc3lzdGVtLmRlYnVnKFwicXVldWluZ1wiLCBcInNhdmVcIiwgW3BhcmFtcywgY2JdKTtcblx0XHRcdGNvbnNvbGUuZGVidWcoXCJxdWV1aW5nXCIsIFwic2F2ZVwiLCBbcGFyYW1zLCBjYl0pO1xuXHRcdFx0dGhpcy5xdWV1ZS5wdXNoKHsgbWV0aG9kOiBcInNhdmVcIiwgYXJnczogW3BhcmFtcywgY2JdIH0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdExvZ2dlci5zeXN0ZW0uZGVidWcoXCJJbmRleGVkREJBZGFwdGVyLnNhdmUsIHBhcmFtczogXCIsIHBhcmFtcyk7XG5cdFx0Y29uc29sZS5kZWJ1ZyhcIkluZGV4ZWREQkFkYXB0ZXIuc2F2ZSwgcGFyYW1zOiBcIiwgcGFyYW1zKTtcblxuXHRcdGNvbnN0IGNvbWJpbmVkS2V5ID0gdGhpcy5nZXRDb21iaW5lZEtleSh0aGlzLCBwYXJhbXMpO1xuXHRcdGNvbnN0IG9iamVjdFN0b3JlID0gdGhpcy5kYi50cmFuc2FjdGlvbihbXCJmc2JsXCJdLCBcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZShcImZzYmxcIik7XG5cdFx0Y29uc3QgcmVxdWVzdCA9IG9iamVjdFN0b3JlLnB1dCh7IGtleTogY29tYmluZWRLZXksIHZhbHVlOiBwYXJhbXMudmFsdWUgfSk7XG5cblx0XHRyZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcblx0XHRcdExvZ2dlci5zeXN0ZW0uZGVidWcoXCJJbmRleGVkREJBZGFwdGVyLnNhdmUgUmVxdWVzdCBTdWNjZWVkZWRcIik7XG5cdFx0XHRjb25zb2xlLmRlYnVnKFwiSW5kZXhlZERCQWRhcHRlci5zYXZlIFJlcXVlc3QgU3VjY2VlZGVkXCIpO1xuXG5cdFx0XHRjYihudWxsLCB7IHN0YXR1czogXCJzdWNjZXNzXCIgfSk7XG5cdFx0fTtcblxuXHRcdHJlcXVlc3Qub25lcnJvciA9IChlcnIpID0+IHtcblx0XHRcdExvZ2dlci5zeXN0ZW0uZXJyb3IoXCJJbmRleGVkREJBZGFwdGVyLnNhdmUgUmVxdWVzdCBGYWlsZWQ6IFwiLCBlcnIpO1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkluZGV4ZWREQkFkYXB0ZXIuc2F2ZSBSZXF1ZXN0IEZhaWxlZDogXCIsIGVycik7XG5cblx0XHRcdGNiKGVyciwgeyBzdGF0dXM6IFwiZmFpbGVkXCIgfSk7XG5cdFx0fTtcblx0fTtcblx0Ly8gI2VuZHJlZ2lvblxufTtcblxuSW5kZXhlZERCQWRhcHRlci5wcm90b3R5cGUgPSBuZXcgQmFzZVN0b3JhZ2UoKTtcbm5ldyBJbmRleGVkREJBZGFwdGVyKFwiSW5kZXhlZERCQWRhcHRlclwiKTtcbm1vZHVsZS5leHBvcnRzID0gSW5kZXhlZERCQWRhcHRlcjsgLy9BbGxvd3MgdXMgdG8gZ2V0IGFjY2VzcyB0byB0aGUgdW5pbml0aWFsaXplZCBvYmplY3RcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/adapters/indexedDBAdapter.js\n");

/***/ })

/******/ });