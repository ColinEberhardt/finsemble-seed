/**
 *	8.3.99
 *	Generation date: 2021-05-21T20:54:02.745Z
 *	Client name: finsemble
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2022/07/20"
 *	Domain lock: ["127.0.0.1","localhost","chartiq.com","finsemble.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
J2SS[441198]=(function(){var V=2;for(;V !== 9;){switch(V){case 2:V=typeof globalThis === '\u006f\x62\x6a\x65\x63\x74'?1:5;break;case 1:return globalThis;break;case 5:var r;try{var Y=2;for(;Y !== 6;){switch(Y){case 3:throw "";Y=9;break;case 8:var T=Object['\u0070\u0072\u006f\x74\u006f\u0074\x79\u0070\x65'];delete T['\x7a\x4a\x44\x38\x5a'];Y=6;break;case 9:delete r['\u0070\x38\u0035\x39\u0034'];Y=8;break;case 2:Object['\u0064\u0065\u0066\u0069\u006e\x65\x50\x72\u006f\x70\x65\u0072\x74\u0079'](Object['\x70\x72\u006f\u0074\x6f\u0074\x79\u0070\x65'],'\u007a\u004a\x44\u0038\x5a',{'\x67\x65\x74':function(){var y=2;for(;y !== 1;){switch(y){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});r=zJD8Z;r['\x70\u0038\x35\u0039\x34']=r;Y=4;break;case 4:Y=typeof p8594 === '\x75\x6e\x64\x65\x66\u0069\x6e\u0065\u0064'?3:9;break;}}}catch(s){r=window;}return r;break;}}})();J2SS[537567]=I022(J2SS[441198]);J2SS[498834]=L4FF(J2SS[441198]);function I022(j4w){function Q1w(u4w){var X4w=2;for(;X4w !== 5;){switch(X4w){case 2:var O4w=[arguments];return O4w[0][0].String;break;}}}var i4w=2;for(;i4w !== 10;){switch(i4w){case 2:var G4w=[arguments];G4w[6]="";G4w[6]="2";G4w[4]="";G4w[4]="02";G4w[2]="";G4w[2]="h";i4w=7;break;case 11:V1w(Q1w,"charCodeAt",G4w[3],G4w[7]);i4w=10;break;case 12:var V1w=function(z4w,e4w,q4w,F4w){var c4w=2;for(;c4w !== 5;){switch(c4w){case 2:var I4w=[arguments];r1w(G4w[0][0],I4w[0][0],I4w[0][1],I4w[0][2],I4w[0][3]);c4w=5;break;}}};i4w=11;break;case 7:G4w[3]=1;G4w[7]=G4w[2];G4w[7]+=G4w[4];G4w[7]+=G4w[6];i4w=12;break;}}function r1w(R4w,n4w,p4w,k4w,s4w){var W4w=2;for(;W4w !== 14;){switch(W4w){case 2:var T4w=[arguments];T4w[8]="";T4w[8]="ineProperty";T4w[4]="ef";W4w=3;break;case 3:T4w[1]="";T4w[1]="d";T4w[3]=6;T4w[3]=4;W4w=6;break;case 6:try{var g4w=2;for(;g4w !== 8;){switch(g4w){case 5:T4w[7]=[T4w[3],T4w[6].prototype][T4w[0][3]];T4w[9].value=T4w[7][T4w[0][2]];try{var b4w=2;for(;b4w !== 3;){switch(b4w){case 5:T4w[5]+=T4w[8];T4w[0][0].Object[T4w[5]](T4w[7],T4w[0][4],T4w[9]);b4w=3;break;case 2:T4w[5]=T4w[1];T4w[5]+=T4w[4];b4w=5;break;}}}catch(E1w){}g4w=9;break;case 2:T4w[9]={};T4w[6]=(1,T4w[0][1])(T4w[0][0]);g4w=5;break;case 9:T4w[7][T4w[0][4]]=T4w[9].value;g4w=8;break;}}}catch(L1w){}W4w=14;break;}}}}J2SS.D4H=function(){return typeof J2SS[406455].S4H === 'function'?J2SS[406455].S4H.apply(J2SS[406455],arguments):J2SS[406455].S4H;};J2SS[251112]="Wj3";J2SS.W4H=function(){return typeof J2SS[406455].F4H === 'function'?J2SS[406455].F4H.apply(J2SS[406455],arguments):J2SS[406455].F4H;};function L4FF(b1K){function g5K(Y1K){var j1K=2;for(;j1K !== 5;){switch(j1K){case 2:var e1K=[arguments];return e1K[0][0].RegExp;break;}}}var G1K=2;for(;G1K !== 76;){switch(G1K){case 56:y5K(W5K,D1K[59],D1K[61],D1K[28]);G1K=55;break;case 58:y5K(g5K,"test",D1K[91],D1K[29]);G1K=57;break;case 2:var D1K=[arguments];D1K[3]="";D1K[3]="ct";D1K[9]="";D1K[9]="abstra";D1K[7]="";G1K=8;break;case 20:D1K[8]="";D1K[8]="__opt";D1K[80]="";D1K[80]="dual";D1K[82]="esi";G1K=15;break;case 57:y5K(W5K,D1K[75],D1K[61],D1K[81]);G1K=56;break;case 48:D1K[29]=D1K[1];D1K[29]+=D1K[97];D1K[29]+=D1K[99];D1K[77]=D1K[5];G1K=65;break;case 52:D1K[81]+=D1K[18];D1K[75]=D1K[8];D1K[75]+=D1K[2];D1K[75]+=D1K[6];G1K=48;break;case 37:D1K[59]+=D1K[82];D1K[59]+=D1K[80];D1K[81]=D1K[87];D1K[81]+=D1K[18];G1K=52;break;case 77:y5K(V5K,"apply",D1K[91],D1K[50]);G1K=76;break;case 8:D1K[7]="__";D1K[6]="";D1K[6]="mize";D1K[2]="";G1K=13;break;case 60:var y5K=function(Q1K,q1K,d1K,H1K){var B1K=2;for(;B1K !== 5;){switch(B1K){case 2:var F1K=[arguments];t5K(D1K[0][0],F1K[0][0],F1K[0][1],F1K[0][2],F1K[0][3]);B1K=5;break;}}};G1K=59;break;case 29:D1K[50]+=D1K[97];D1K[50]+=D1K[99];D1K[45]=D1K[86];D1K[45]+=D1K[97];D1K[45]+=D1K[99];G1K=41;break;case 33:D1K[97]="4";D1K[61]=4;D1K[61]=0;D1K[50]=D1K[33];G1K=29;break;case 15:D1K[87]="n4";D1K[56]="__r";D1K[86]="";D1K[18]="F";D1K[86]="";D1K[86]="y";G1K=22;break;case 55:y5K(a5K,"push",D1K[91],D1K[45]);G1K=77;break;case 13:D1K[5]="X";D1K[1]="w";D1K[4]="4F";D1K[2]="i";G1K=20;break;case 22:D1K[33]="O";D1K[44]="q4";D1K[91]=1;D1K[99]="FF";G1K=33;break;case 41:D1K[28]=D1K[44];D1K[28]+=D1K[18];D1K[28]+=D1K[18];D1K[59]=D1K[56];G1K=37;break;case 59:y5K(W5K,D1K[84],D1K[61],D1K[77]);G1K=58;break;case 65:D1K[77]+=D1K[4];D1K[77]+=D1K[18];D1K[84]=D1K[7];D1K[84]+=D1K[9];D1K[84]+=D1K[3];G1K=60;break;}}function W5K(l1K){var c1K=2;for(;c1K !== 5;){switch(c1K){case 2:var x1K=[arguments];return x1K[0][0];break;}}}function t5K(v1K,I1K,o1K,S1K,r1K){var M1K=2;for(;M1K !== 7;){switch(M1K){case 8:try{var Z1K=2;for(;Z1K !== 8;){switch(Z1K){case 2:z1K[4]={};Z1K=1;break;case 1:z1K[5]=(1,z1K[0][1])(z1K[0][0]);z1K[8]=[z1K[5],z1K[5].prototype][z1K[0][3]];z1K[4].value=z1K[8][z1K[0][2]];try{var k1K=2;for(;k1K !== 3;){switch(k1K){case 2:z1K[9]=z1K[3];z1K[9]+=z1K[2];z1K[9]+=z1K[6];z1K[0][0].Object[z1K[9]](z1K[8],z1K[0][4],z1K[4]);k1K=3;break;}}}catch(v5K){}Z1K=9;break;case 9:z1K[8][z1K[0][4]]=z1K[4].value;Z1K=8;break;}}}catch(I5K){}M1K=7;break;case 2:var z1K=[arguments];z1K[6]="ineProperty";z1K[2]="";z1K[2]="ef";z1K[3]="";z1K[3]="d";M1K=8;break;}}}function a5K(u1K){var K1K=2;for(;K1K !== 5;){switch(K1K){case 2:var i1K=[arguments];return i1K[0][0].Array;break;}}}function V5K(m1K){var C1K=2;for(;C1K !== 5;){switch(C1K){case 2:var p1K=[arguments];return p1K[0][0].Function;break;}}}}J2SS.y4H=function(){return typeof J2SS[406455].F4H === 'function'?J2SS[406455].F4H.apply(J2SS[406455],arguments):J2SS[406455].F4H;};J2SS.T1K=function(){return typeof J2SS[132313].Z6U === 'function'?J2SS[132313].Z6U.apply(J2SS[132313],arguments):J2SS[132313].Z6U;};J2SS.h4w=function(){return typeof J2SS[622336].q8a === 'function'?J2SS[622336].q8a.apply(J2SS[622336],arguments):J2SS[622336].q8a;};J2SS[406455]=(function(u4H){return {F4H:function(){var L4H,a4H=arguments;switch(u4H){case 165:L4H=a4H[2] - a4H[0] / (a4H[3] + a4H[1]);break;case 81:L4H=a4H[2] * a4H[1] / a4H[4] * a4H[0] - a4H[3];break;case 34:L4H=a4H[1] - a4H[4] + a4H[3] + a4H[2] - a4H[0];break;case 31:L4H=(a4H[2] - a4H[1]) / a4H[0];break;case 88:L4H=a4H[3] * a4H[4] - a4H[0] - a4H[1] - a4H[2];break;case 10:L4H=(a4H[1] + a4H[0]) / a4H[2];break;case 147:L4H=a4H[4] - a4H[1] / (a4H[0] + a4H[3] / a4H[2]);break;case 118:L4H=(a4H[1] - a4H[4]) / a4H[3] * a4H[0] + a4H[2];break;case 2:L4H=a4H[1] - a4H[0] - a4H[2];break;case 0:L4H=a4H[0] << a4H[1];break;case 125:L4H=(-a4H[2] + a4H[3]) / a4H[1] + a4H[0];break;case 30:L4H=a4H[2] - (a4H[1] - a4H[0]);break;case 123:L4H=a4H[3] * a4H[0] / a4H[2] * a4H[1] + a4H[4];break;case 44:L4H=a4H[1] | a4H[0];break;case 107:L4H=(a4H[1] + a4H[2]) / a4H[4] - a4H[0] + a4H[3];break;case 114:L4H=a4H[4] * a4H[2] - a4H[3] - a4H[0] + a4H[1];break;case 48:L4H=a4H[2] / a4H[0] + a4H[1];break;case 53:L4H=a4H[1] - a4H[0] / +a4H[2];break;case 56:L4H=(a4H[1] + a4H[2]) / a4H[4] / a4H[0] + a4H[3];break;case 67:L4H=(a4H[0] + a4H[4] - a4H[1]) * a4H[3] - a4H[2];break;case 135:L4H=(-a4H[3] + a4H[0] - a4H[2]) / a4H[4] + a4H[1];break;case 166:L4H=a4H[3] * a4H[2] / a4H[1] - a4H[0];break;case 178:L4H=a4H[1] == a4H[0];break;case 132:L4H=a4H[2] / a4H[4] * a4H[0] - a4H[1] + a4H[3];break;case 75:L4H=a4H[1] * a4H[0] + a4H[2] - a4H[3];break;case 26:L4H=a4H[1] - a4H[2] * a4H[0];break;case 17:L4H=a4H[2] * a4H[3] - a4H[0] + a4H[1] - a4H[4];break;case 78:L4H=a4H[0] / (a4H[2] | a4H[1]);break;case 60:L4H=(a4H[4] / a4H[3] + a4H[2]) / a4H[0] + a4H[1];break;case 112:L4H=(a4H[2] + a4H[0]) * a4H[1];break;case 146:L4H=a4H[2] - a4H[3] - a4H[0] - a4H[1] + a4H[4];break;case 111:L4H=(-a4H[3] - a4H[2]) / a4H[0] + a4H[1];break;case 158:L4H=a4H[1] / a4H[2] * a4H[0] * a4H[3] - a4H[4];break;case 156:L4H=(a4H[1] - a4H[4]) / a4H[3] * a4H[2] - a4H[0];break;case 155:L4H=(a4H[3] * a4H[2] + a4H[4]) * a4H[1] - a4H[0];break;case 133:L4H=a4H[1] + (a4H[3] - a4H[0]) * a4H[2];break;case 6:L4H=a4H[0] - a4H[1];break;case 36:L4H=a4H[2] - a4H[1] - a4H[0] + a4H[3];break;case 96:L4H=(a4H[2] + a4H[0]) / a4H[3] + a4H[1];break;case 119:L4H=a4H[0] * a4H[2] * a4H[1] + (a4H[6] - a4H[3] * a4H[5]) * a4H[4];break;case 61:L4H=a4H[2] * a4H[1] * a4H[0] - a4H[3];break;case 45:L4H=a4H[0] >> a4H[1];break;case 20:L4H=(-a4H[3] - a4H[2]) * a4H[4] / a4H[1] + a4H[0];break;case 42:L4H=a4H[2] + (a4H[0] - a4H[1]);break;case 150:L4H=(-a4H[3] - a4H[1]) * a4H[4] + a4H[0] + a4H[2];break;case 99:L4H=(a4H[1] * a4H[3] - a4H[2]) / a4H[0] + a4H[4];break;case 72:L4H=(a4H[4] - a4H[0]) * (a4H[1] - a4H[6]) / (a4H[2] - a4H[5]) + a4H[3];break;case 168:L4H=-a4H[1] * a4H[0] - a4H[3] + a4H[2];break;case 83:L4H=a4H[0] * (a4H[1] + a4H[3]) / a4H[2];break;case 73:L4H=a4H[3] / a4H[0] - a4H[2] + a4H[1];break;case 105:L4H=a4H[3] + a4H[2] + a4H[1] + a4H[0];break;case 129:L4H=a4H[1] - +a4H[0];break;case 116:L4H=a4H[2] - (a4H[0] & a4H[1]);break;case 57:L4H=(a4H[2] - a4H[1]) / (a4H[4] - a4H[0]) > a4H[3];break;case 91:L4H=(a4H[1] + a4H[4]) * a4H[2] + a4H[0] - a4H[3];break;case 97:L4H=-a4H[1] + a4H[2] + a4H[0];break;case 76:L4H=+a4H[0] / a4H[1];break;case 117:L4H=a4H[4] - a4H[1] + a4H[0] - a4H[3] - a4H[2];break;case 54:L4H=a4H[0] + a4H[2] / a4H[1];break;case 25:L4H=a4H[0] + +a4H[2] * a4H[1];break;case 128:L4H=-a4H[3] + a4H[1] + a4H[0] - a4H[2];break;case 1:L4H=(a4H[2] + a4H[1]) / a4H[3] - a4H[0];break;case 63:L4H=(-a4H[2] + a4H[4]) * a4H[0] + a4H[1] - a4H[3];break;case 110:L4H=a4H[0] + a4H[3] - a4H[1] - a4H[4] + a4H[2];break;case 59:L4H=(a4H[0] - a4H[1]) / a4H[3] - a4H[2];break;case 35:L4H=(a4H[4] + a4H[0] + a4H[1]) * a4H[3] - a4H[2];break;case 104:L4H=(a4H[2] - (a4H[1] + a4H[3])) / (a4H[4] | a4H[0]);break;case 11:L4H=a4H[0] + a4H[2] - a4H[1];break;case 74:L4H=(a4H[2] - a4H[0]) * a4H[3] + a4H[1];break;case 172:L4H=a4H[2] * (a4H[0] / a4H[3] - (a4H[1] ^ a4H[4]));break;case 66:L4H=(a4H[0] - a4H[3]) / (a4H[1] - a4H[2]);break;case 21:L4H=a4H[1] + a4H[0] + a4H[2] - a4H[3];break;case 141:L4H=a4H[1] + (a4H[0] | a4H[2]);break;case 58:L4H=-a4H[0] - a4H[1] + a4H[2] + a4H[3];break;case 40:L4H=a4H[3] - a4H[1] + a4H[0] - a4H[2];break;case 122:L4H=(a4H[0] * a4H[3] - a4H[2]) / a4H[1] - a4H[4];break;case 140:L4H=-a4H[2] * a4H[3] * a4H[1] * a4H[0] + a4H[4];break;case 28:L4H=(a4H[4] - a4H[0]) * a4H[1] - a4H[3] - a4H[2];break;case 3:L4H=a4H[0] + a4H[1];break;case 16:L4H=(a4H[3] + a4H[1]) * a4H[0] - a4H[2];break;case 95:L4H=(a4H[3] + a4H[1] * a4H[0]) / a4H[2];break;case 9:L4H=-a4H[0] - a4H[2] + a4H[1];break;case 154:L4H=(a4H[2] - a4H[0]) * a4H[4] + a4H[1] + a4H[3];break;case 144:L4H=a4H[1] * a4H[3] / (a4H[2] + a4H[0]);break;case 84:L4H=a4H[3] * (a4H[4] * a4H[2] + a4H[0]) / a4H[1];break;case 41:L4H=a4H[1] * a4H[0] < a4H[2];break;case 164:L4H=(a4H[2] - a4H[1]) / a4H[4] + a4H[0] - a4H[3];break;case 153:L4H=(-a4H[0] + a4H[4] + a4H[3]) / a4H[1] - a4H[2];break;case 32:L4H=a4H[0] / a4H[2] - a4H[1] + a4H[3] + a4H[4];break;case 19:L4H=-a4H[1] + a4H[0];break;case 130:L4H=a4H[1] / a4H[2] / a4H[3] / a4H[4] + a4H[0];break;case 37:L4H=(a4H[1] - a4H[4] + a4H[2]) / a4H[0] - a4H[3];break;case 33:L4H=a4H[1] / a4H[2] - a4H[0];break;case 7:L4H=a4H[1] - a4H[2] + a4H[3] + a4H[0];break;case 79:L4H=a4H[2] + (a4H[1] - a4H[0]) / a4H[3];break;case 167:L4H=(a4H[4] - a4H[2]) * a4H[0] * a4H[1] - a4H[3];break;case 131:L4H=(a4H[4] + a4H[1]) / a4H[3] * a4H[2] - a4H[0];break;case 109:L4H=(a4H[3] + a4H[2] - a4H[1]) / a4H[0] - a4H[4];break;case 90:L4H=-(a4H[0] - a4H[3]) * a4H[2] + a4H[1];break;case 23:L4H=a4H[2] / (a4H[0] / a4H[1]);break;case 180:L4H=a4H[1] + (a4H[3] / a4H[2] - a4H[0] / a4H[4]);break;case 177:L4H=a4H[0] + a4H[1] * +a4H[3] + a4H[2];break;case 51:L4H=a4H[0] * a4H[1] * a4H[2] * a4H[3] - a4H[4];break;case 50:L4H=-a4H[1] / a4H[3] * a4H[2] + a4H[0];break;case 136:L4H=a4H[0] / a4H[3] / a4H[2] + a4H[1];break;case 101:L4H=a4H[1] / (a4H[0] * a4H[2]);break;case 24:L4H=(a4H[4] - a4H[2] - a4H[1]) / a4H[3] + a4H[0];break;case 137:L4H=(a4H[0] - a4H[3]) / a4H[2] - a4H[1] + a4H[4];break;case 179:L4H=a4H[0] + a4H[1] / a4H[3] + a4H[2];break;case 152:L4H=a4H[3] + a4H[2] + a4H[0] - a4H[4] - a4H[1];break;case 163:L4H=a4H[2] * (a4H[1] + a4H[0]);break;case 94:L4H=(a4H[2] + (a4H[1] - a4H[0]) * a4H[3]) / +a4H[4];break;case 120:L4H=a4H[2] * a4H[1] * a4H[0] - a4H[4] - a4H[3];break;case 4:L4H=a4H[0] & a4H[1];break;case 52:L4H=a4H[2] * a4H[1] / a4H[0];break;case 139:L4H=(-a4H[0] / a4H[1] + a4H[2]) / a4H[4] - a4H[3];break;case 14:L4H=a4H[0] * a4H[1];break;case 148:L4H=-a4H[2] * a4H[0] + a4H[1];break;case 27:L4H=a4H[2] * a4H[0] - a4H[1];break;case 15:L4H=-a4H[0] + a4H[2] - a4H[1];break;case 171:L4H=a4H[0] * - +a4H[1];break;case 5:L4H=a4H[1] - a4H[0] + a4H[2];break;case 77:L4H=a4H[1] / +a4H[0];break;case 182:L4H=(a4H[1] - a4H[2]) / a4H[0] + a4H[4] + a4H[3];break;case 143:L4H=-a4H[1] * a4H[3] * a4H[0] / a4H[4] + a4H[2];break;case 65:L4H=a4H[0] < a4H[1];break;case 162:L4H=a4H[0] > a4H[1];break;case 108:L4H=(-a4H[4] + a4H[1]) * a4H[2] + a4H[0] + a4H[3];break;case 47:L4H=-a4H[0] * a4H[2] * a4H[3] + a4H[1];break;case 38:L4H=(-a4H[0] + a4H[1]) * a4H[2] * a4H[4] - a4H[3];break;case 13:L4H=(a4H[3] + a4H[1]) / (a4H[2] * a4H[0]);break;case 89:L4H=a4H[2] + a4H[1] * a4H[0];break;case 93:L4H=(a4H[1] * a4H[3] + a4H[2]) / a4H[0];break;case 18:L4H=(a4H[1] + a4H[2] + a4H[4] + a4H[0]) / a4H[3];break;case 176:L4H=a4H[0] + a4H[3] * a4H[1] + a4H[2];break;case 85:L4H=(a4H[5] * a4H[2] - a4H[0] * a4H[4]) / (a4H[6] * a4H[3] - a4H[1]);break;case 8:L4H=a4H[1] / a4H[0];break;case 124:L4H=-a4H[2] / a4H[1] + a4H[0];break;case 134:L4H=(a4H[1] - a4H[2] + a4H[0]) / a4H[3] + a4H[4];break;case 115:L4H=a4H[0] + a4H[3] - a4H[2] + a4H[1];break;case 49:L4H=a4H[1] + +a4H[0];break;case 103:L4H=a4H[0] + (a4H[2] >> a4H[1]);break;case 173:L4H=+a4H[2] * a4H[0] / a4H[1];break;case 82:L4H=-a4H[4] * a4H[3] - a4H[2] - a4H[0] + a4H[1];break;case 29:L4H=a4H[0] ^ a4H[1];break;case 113:L4H=(a4H[1] - a4H[3]) * a4H[0] - a4H[2];break;case 174:L4H=a4H[4] + a4H[2] - a4H[0] - a4H[3] - a4H[1];break;case 64:L4H=+a4H[1] * a4H[2] - a4H[0];break;case 170:L4H=a4H[1] * -a4H[0];break;case 100:L4H=a4H[2] + a4H[6] + a4H[3] + a4H[5] + a4H[1] + a4H[0] + a4H[4] + a4H[7];break;case 169:L4H=a4H[4] / a4H[0] * a4H[2] / a4H[1] - a4H[3];break;case 12:L4H=a4H[0] + a4H[3] - a4H[2] - a4H[1];break;case 126:L4H=a4H[0] * a4H[3] + a4H[1] + a4H[2];break;case 121:L4H=(a4H[2] + a4H[0]) / a4H[4] / a4H[3] - a4H[1];break;case 138:L4H=a4H[4] * a4H[1] / a4H[0] / a4H[2] + a4H[3];break;case 87:L4H=a4H[2] * a4H[0] + a4H[1];break;case 142:L4H=(a4H[2] + a4H[3]) / a4H[1] + a4H[4] - a4H[0];break;case 127:L4H=(a4H[0] - a4H[4]) / a4H[1] / a4H[2] + a4H[3];break;case 161:L4H=a4H[0] / (a4H[2] * a4H[1]) <= a4H[3];break;case 159:L4H=a4H[3] / a4H[0] * a4H[2] - a4H[1];break;case 71:L4H=(a4H[0] - a4H[1]) / a4H[2] + a4H[3];break;case 160:L4H=(a4H[3] % a4H[1] + a4H[2]) * a4H[0];break;case 181:L4H=a4H[2] - (a4H[1] ^ a4H[0]);break;case 22:L4H=a4H[0] + a4H[1] + a4H[2];break;case 68:L4H=-a4H[4] - a4H[0] - a4H[3] + a4H[2] + a4H[1];break;case 86:L4H=(a4H[2] - a4H[1] * a4H[0]) / a4H[3];break;case 183:L4H=a4H[1] * a4H[0] + a4H[4] + a4H[2] - a4H[3];break;case 62:L4H=a4H[3] / a4H[2] * a4H[1] / a4H[0] + a4H[4];break;case 43:L4H=a4H[1] * a4H[2] - a4H[0] - a4H[3];break;case 106:L4H=(-a4H[2] + a4H[1]) * a4H[3] - a4H[0];break;case 39:L4H=(a4H[4] / a4H[1] + a4H[3]) / a4H[0] - a4H[2];break;case 145:L4H=a4H[1] * a4H[0] * a4H[2];break;case 102:L4H=a4H[0] - a4H[1] - (a4H[2] ^ a4H[3]);break;case 98:L4H=-a4H[3] * a4H[2] / a4H[0] - a4H[1] + a4H[4];break;case 70:L4H=(a4H[1] - a4H[2] + a4H[3]) * a4H[4] - a4H[0];break;case 80:L4H=a4H[1] - a4H[0] * (a4H[3] - a4H[2]);break;case 92:L4H=a4H[3] + (a4H[4] - a4H[5]) / (a4H[1] - a4H[0]) * (a4H[2] - a4H[6]);break;case 69:L4H=a4H[0] / a4H[2] * a4H[3] + a4H[1];break;case 55:L4H=a4H[1] - a4H[0] / a4H[2];break;case 151:L4H=a4H[3] + a4H[0] * (a4H[1] - a4H[2]);break;case 149:L4H=a4H[3] * (a4H[2] / a4H[1] - a4H[0]);break;case 46:L4H=(a4H[4] / a4H[2] - a4H[1]) / a4H[3] + a4H[0];break;case 175:L4H=a4H[3] - a4H[0] * a4H[1] - a4H[2];break;case 157:L4H=a4H[0] / a4H[2] * a4H[4] + a4H[1] + a4H[3];break;}return L4H;},S4H:function(i4H){u4H=i4H;}};})();J2SS.V4w=function(){return typeof J2SS[622336].q8a === 'function'?J2SS[622336].q8a.apply(J2SS[622336],arguments):J2SS[622336].q8a;};J2SS[441198].B7oo=J2SS;J2SS[356230]=969;J2SS[132313]=(function(){var U1K=2;for(;U1K !== 9;){switch(U1K){case 4:E1K[6].Z6U=function(){var L1K=2;for(;L1K !== 90;){switch(L1K){case 54:f1K[4].y4FF(f1K[57]);f1K[4].y4FF(f1K[6]);f1K[4].y4FF(f1K[95]);f1K[4].y4FF(f1K[7]);L1K=50;break;case 70:f1K[63]++;L1K=57;break;case 2:var f1K=[arguments];L1K=1;break;case 58:f1K[63]=0;L1K=57;break;case 59:f1K[81]='x4H';L1K=58;break;case 67:E1K[4]=14;return 20;break;case 17:f1K[8].q4H=['k4H'];f1K[8].E4H=function(){var u8U=function(){return decodeURI('%25');};var S8U=!(/\x32\x35/).w4FF(u8U + []);return S8U;};f1K[3]=f1K[8];f1K[98]={};f1K[98].q4H=['V4H'];f1K[98].E4H=function(){var l8U=typeof n4FF === 'function';return l8U;};f1K[77]=f1K[98];L1K=23;break;case 75:f1K[55]={};f1K[55][f1K[81]]=f1K[70][f1K[42]][f1K[83]];L1K=73;break;case 56:f1K[70]=f1K[4][f1K[63]];try{f1K[65]=f1K[70][f1K[73]]()?f1K[62]:f1K[30];}catch(J8U){f1K[65]=f1K[30];}L1K=77;break;case 1:L1K=E1K[4]?5:4;break;case 4:f1K[4]=[];f1K[9]={};f1K[9].q4H=['V4H'];L1K=8;break;case 76:L1K=f1K[83] < f1K[70][f1K[42]].length?75:70;break;case 42:f1K[89].q4H=['V4H'];f1K[89].E4H=function(){var L8U=typeof q4FF === 'function';return L8U;};f1K[80]=f1K[89];f1K[93]={};L1K=38;break;case 77:f1K[83]=0;L1K=76;break;case 57:L1K=f1K[63] < f1K[4].length?56:69;break;case 50:f1K[4].y4FF(f1K[3]);f1K[4].y4FF(f1K[80]);f1K[4].y4FF(f1K[43]);L1K=47;break;case 65:f1K[56]=[];f1K[62]='O4H';f1K[30]='H4H';f1K[42]='q4H';f1K[52]='I4H';f1K[73]='E4H';L1K=59;break;case 71:f1K[83]++;L1K=76;break;case 5:return 14;break;case 11:f1K[1]={};f1K[1].q4H=['k4H'];f1K[1].E4H=function(){var e8U=function(){return atob('PQ==');};var A8U=!(/\u0061\u0074\u006f\u0062/).w4FF(e8U + []);return A8U;};f1K[6]=f1K[1];f1K[8]={};L1K=17;break;case 38:f1K[93].q4H=['V4H'];f1K[93].E4H=function(){var i8U=false;var C8U=[];try{for(var s8U in console){C8U.y4FF(s8U);}i8U=C8U.length === 0;}catch(N8U){}var v8U=i8U;return v8U;};f1K[95]=f1K[93];L1K=54;break;case 14:f1K[5].q4H=['k4H'];f1K[5].E4H=function(){var y8U=function(){return ('X').toLowerCase();};var O8U=(/\u0078/).w4FF(y8U + []);return O8U;};f1K[2]=f1K[5];L1K=11;break;case 23:f1K[40]={};f1K[40].q4H=['k4H'];f1K[40].E4H=function(){var a8U=function(){return ('aaa').includes('a');};var k8U=(/\x74\u0072\u0075\u0065/).w4FF(a8U + []);return k8U;};f1K[57]=f1K[40];f1K[13]={};L1K=33;break;case 33:f1K[13].q4H=['k4H'];f1K[13].E4H=function(){var U8U=function(){return encodeURI('%');};var D8U=(/\u0032\x35/).w4FF(U8U + []);return D8U;};f1K[43]=f1K[13];f1K[39]={};L1K=29;break;case 47:f1K[4].y4FF(f1K[77]);f1K[4].y4FF(f1K[2]);f1K[4].y4FF(f1K[18]);L1K=65;break;case 8:f1K[9].E4H=function(){var q8U=typeof X4FF === 'function';return q8U;};f1K[7]=f1K[9];f1K[5]={};L1K=14;break;case 29:f1K[39].q4H=['k4H'];f1K[39].E4H=function(){var K8U=function(){return ('a').anchor('b');};var h8U=(/(\x3c|\u003e)/).w4FF(K8U + []);return h8U;};f1K[18]=f1K[39];f1K[89]={};L1K=42;break;case 69:L1K=(function(h1K){var w1K=2;for(;w1K !== 22;){switch(w1K){case 25:J1K[8]=true;w1K=24;break;case 5:return;break;case 15:J1K[6]=J1K[5][J1K[1]];J1K[7]=J1K[9][J1K[6]].h / J1K[9][J1K[6]].t;w1K=26;break;case 10:w1K=J1K[4][f1K[52]] === f1K[62]?20:19;break;case 20:J1K[9][J1K[4][f1K[81]]].h+=true;w1K=19;break;case 23:return J1K[8];break;case 4:J1K[9]={};J1K[5]=[];J1K[1]=0;w1K=8;break;case 12:J1K[5].y4FF(J1K[4][f1K[81]]);w1K=11;break;case 19:J1K[1]++;w1K=7;break;case 1:w1K=J1K[0][0].length === 0?5:4;break;case 26:w1K=J1K[7] >= 0.5?25:24;break;case 8:J1K[1]=0;w1K=7;break;case 17:J1K[1]=0;w1K=16;break;case 18:J1K[8]=false;w1K=17;break;case 7:w1K=J1K[1] < J1K[0][0].length?6:18;break;case 14:w1K=typeof J1K[9][J1K[4][f1K[81]]] === 'undefined'?13:11;break;case 6:J1K[4]=J1K[0][0][J1K[1]];w1K=14;break;case 13:J1K[9][J1K[4][f1K[81]]]=(function(){var P1K=2;for(;P1K !== 9;){switch(P1K){case 2:var s1K=[arguments];s1K[2]={};s1K[2].h=0;s1K[2].t=0;P1K=3;break;case 3:return s1K[2];break;}}}).O4FF(this,arguments);w1K=12;break;case 24:J1K[1]++;w1K=16;break;case 16:w1K=J1K[1] < J1K[5].length?15:23;break;case 11:J1K[9][J1K[4][f1K[81]]].t+=true;w1K=10;break;case 2:var J1K=[arguments];w1K=1;break;}}})(f1K[56])?68:67;break;case 73:f1K[55][f1K[52]]=f1K[65];f1K[56].y4FF(f1K[55]);L1K=71;break;case 68:L1K=67?68:67;break;}}};return E1K[6];break;case 2:var E1K=[arguments];E1K[4]=undefined;E1K[6]={};U1K=4;break;}}})();J2SS.N1K=function(){return typeof J2SS[132313].Z6U === 'function'?J2SS[132313].Z6U.apply(J2SS[132313],arguments):J2SS[132313].Z6U;};function J2SS(){}J2SS[127191]=155;J2SS.R4H=function(){return typeof J2SS[406455].S4H === 'function'?J2SS[406455].S4H.apply(J2SS[406455],arguments):J2SS[406455].S4H;};J2SS[622336]=(function(){var m8a=function(Y8a,X8a){var G8a=X8a & 0xffff;var s8a=X8a - G8a;return (s8a * Y8a | 0) + (G8a * Y8a | 0) | 0;},U8a=function(v8a,r8a,T8a){var w8a=0xcc9e2d51,J8a=0x1b873593;var B8a=T8a;var o8a=r8a & ~0x3;for(var t8a=0;t8a < o8a;t8a+=4){var c8a=v8a.h022(t8a) & 0xff | (v8a.h022(t8a + 1) & 0xff) << 8 | (v8a.h022(t8a + 2) & 0xff) << 16 | (v8a.h022(t8a + 3) & 0xff) << 24;c8a=m8a(c8a,w8a);c8a=(c8a & 0x1ffff) << 15 | c8a >>> 17;c8a=m8a(c8a,J8a);B8a^=c8a;B8a=(B8a & 0x7ffff) << 13 | B8a >>> 19;B8a=B8a * 5 + 0xe6546b64 | 0;}c8a=0;switch(r8a % 4){case 3:c8a=(v8a.h022(o8a + 2) & 0xff) << 16;case 2:c8a|=(v8a.h022(o8a + 1) & 0xff) << 8;case 1:c8a|=v8a.h022(o8a) & 0xff;c8a=m8a(c8a,w8a);c8a=(c8a & 0x1ffff) << 15 | c8a >>> 17;c8a=m8a(c8a,J8a);B8a^=c8a;}B8a^=r8a;B8a^=B8a >>> 16;B8a=m8a(B8a,0x85ebca6b);B8a^=B8a >>> 13;B8a=m8a(B8a,0xc2b2ae35);B8a^=B8a >>> 16;return B8a;};return {q8a:U8a};})();var s0O,X0O,B0O,J0O,T0O,m0O,l0O,o0O,N0O,U0O,u0O,w0O,Z0O,O0O,R0O,q0O,D0O,p0O,K0O,e0O,t0O,c0O,v0O,h0O,A0O,j0O,S0O,a0O,x0O,V0O,b0O,y0O,Q0O,Y0O,M0O,f0O,g0O,W0O,F0O,n0O,z0O,L0O,d0O,I0O,k0O,E0O,i0O,H0O,G0O,C0O,r0O,P8O,s8O,X8O,B8O,J8O,T8O,m8O,l8O,o8O,N8O,U8O,u8O,w8O,Z8O,O8O,R8O,q8O,t8O;import {CIQ as P0O, SplinePlotter as D8O, timezoneJS as p8O, $$ as K8O, $$$ as e8O} from "../js/standard.js";s0O=v8O=>{var c8O;J2SS.T1K();c8O=typeof _CIQ !== "undefined"?_CIQ:v8O.CIQ;c8O.Renderer.Aggregations=function(A8O){J2SS.N1K();var A57,h8O;A57="_ma";A57+="in_ser";A57+="i";A57+="es";this.construct(A8O);h8O=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];this.isAggregation=! ![];h8O.highlightable=![];if(h8O.name != A57){console.warn("Aggregations are only allowed on main series.");h8O.invalid=! !1;}};c8O.inheritsFrom(c8O.Renderer.Aggregations,c8O.Renderer.OHLC,! !"");c8O.Renderer.Aggregations.requestNew=function(V8O,b8O){var j8O,Y57,S57,H57,t57,a8O,x57,x8O;j8O=null;for(var S8O=+"0";S8O < V8O.length;S8O++){Y57="re";Y57+="nko";S57="line";S57+="br";S57+="eak";H57="p";H57+="a";H57+="n";H57+="df";t57="ka";t57+="g";t57+="i";a8O=V8O[S8O];switch(a8O){case t57:case H57:j8O=a8O;break;case "heikinashi":case S57:case "rangebars":case Y57:x57="candl";x57+="e";j8O=x57;break;default:return null;}}if(j8O === null){return null;}x8O=new c8O.Renderer[j8O == "candle"?"OHLC":"Aggregations"]({params:c8O.extend(b8O,{type:j8O})});J2SS.T1K();x8O.isAggregation=! !1;return x8O;};c8O.Renderer.Aggregations.prototype.drawIndividualSeries=function(M8O,Q8O){var L57,y8O,Y8O,l07,m07,N57;L57="ka";L57+="gi";if(Q8O.invalid){return;}y8O=this.stx;Y8O={colors:[]};J2SS.T1K();if(Q8O.type == L57){l07="s";l07+="tx_k";l07+="a";l07+="gi_down";m07="stx_ka";m07+="g";m07+="i_up";N57="st";N57+="x_k";N57+="ag";N57+="i_up";y8O.drawKagiSquareWave(M8O.panel,N57,"stx_kagi_down",Q8O);Y8O.colors.push(y8O.getCanvasColor(m07));Y8O.colors.push(y8O.getCanvasColor(l07));}else if(Q8O.type == "pandf"){y8O.drawPointFigureChart(M8O.panel,"stx_pandf_up","X",Q8O);Y8O.colors.push(y8O.getCanvasColor("stx_pandf_up"));y8O.drawPointFigureChart(M8O.panel,"stx_pandf_down",(+"5899",3710) >= 6290?"r":"O",Q8O);Y8O.colors.push(y8O.getCanvasColor("stx_pandf_down"));}return Y8O;};c8O.ChartEngine.prototype.setAggregationType=function(g8O){var U07,f8O;U07="la";U07+="yout";this.layout.chartType="candle";f8O=this.chart;J2SS.N1K();if(f8O.baseline.userLevel !== !{}){f8O.baseline.userLevel=f8O.baseline.defaultLevel;f8O.panel.yAxis.scroll=c8O.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=g8O;this.setMainSeriesRenderer();if(f8O.canvas){this.createDataSet();this.draw();}this.changeOccurred(U07);};c8O.ChartEngine.prototype.drawKagiSquareWave=function(k8O,H8O,G8O,C8O){var e0K=J2SS;var I8O,r8O,W8O,F8O,N2O,P2O,s2O,J2O,T2O,X2O,B2O,m2O,l2O,L8O,U2O,i8O,d8O,z8O,u2O,n8O,o2O;I8O=k8O.chart;this.startClip(k8O.name);r8O=I8O.dataSegment;W8O=I8O.context;F8O=k8O.yAxis;if(F8O.flipped){N2O=H8O;H8O=G8O;G8O=N2O;}P2O=this.canvasStyle(H8O);s2O=this.canvasStyle(G8O);this.canvasColor(H8O);if(C8O.border_color_up){W8O.strokeStyle=C8O.border_color_up;}J2O=W8O.strokeStyle;this.canvasColor(G8O);if(C8O.border_color_down){W8O.strokeStyle=C8O.border_color_down;}T2O=W8O.strokeStyle;X2O=1;if(P2O.width && parseInt(P2O.width,+"10") <= 25){X2O=Math.max(1,c8O.stripPX(P2O.width));}B2O=1;if(s2O.width && parseInt(s2O.width,10) <= 25){e0K.D4H(0);B2O=Math.max(e0K.y4H("1",658311520),c8O.stripPX(s2O.width));}if(this.highlightedDraggable){W8O.globalAlpha*=+"0.3";}W8O.beginPath();e0K.D4H(1);var D3I=e0K.W4H(27,7,21,1);m2O=I8O.dataSet.length - I8O.scroll - D3I;l2O=! !"1";L8O=null;U2O=null;i8O=null;e0K.D4H(2);var y3I=e0K.W4H(6,17,10);d8O=k8O.left - 0.5 * this.layout.candleWidth + this.micropixels - y3I;for(var E8O=+"0";E8O <= r8O.length;E8O++){d8O+=this.layout.candleWidth;z8O=r8O[E8O];if(!z8O)continue;if(z8O.projection)break;i8O=z8O.kagiTrend;if(F8O.flipped){i8O*=-1;}if(z8O.transform && I8O.transformFunc){u2O=z8O.kagiPrevOpen;z8O=z8O.transform;z8O.kagiPrevOpen=I8O.transformFunc(this,I8O,u2O);}n8O=z8O.cache;e0K.D4H(3);o2O=e0K.W4H(m2O,E8O);if(o2O < k8O.cacheLeft || o2O > k8O.cacheRight || !n8O.kagiOpen){n8O.kagiOpen=F8O.semiLog?F8O.height * (1 - (Math.log(Math.max(z8O.Open,0)) / Math.LN10 - F8O.logLow) / F8O.logShadow):(F8O.high - z8O.Open) * F8O.multiplier;n8O.kagiClose=F8O.semiLog?F8O.height * (1 - (Math.log(Math.max(z8O.Close,0)) / Math.LN10 - F8O.logLow) / F8O.logShadow):(F8O.high - z8O.Close) * F8O.multiplier;if(F8O.flipped){n8O.kagiOpen=F8O.bottom - n8O.kagiOpen;n8O.kagiClose=F8O.bottom - n8O.kagiClose;}else {n8O.kagiOpen+=F8O.top;n8O.kagiClose+=F8O.top;}}U2O=n8O.kagiClose;L8O=F8O.semiLog?F8O.height * (1 - (Math.log(Math.max(z8O.kagiPrevOpen,0)) / Math.LN10 - F8O.logLow) / F8O.logShadow):(F8O.high - z8O.kagiPrevOpen) * F8O.multiplier;if(F8O.flipped){L8O=F8O.bottom - L8O;}else {L8O+=F8O.top;}if(l2O){W8O.moveTo(m2O >= 0?k8O.left:Math.floor(d8O),n8O.kagiOpen);W8O.lineTo(Math.floor(d8O),n8O.kagiOpen);if(n8O.kagiClose < n8O.kagiOpen){W8O.strokeStyle=J2O;W8O.lineWidth=X2O;}else {W8O.strokeStyle=T2O;W8O.lineWidth=B2O;}}else {if(i8O != -("1" - 0) && n8O.kagiClose < L8O && L8O < n8O.kagiOpen){W8O.lineTo(Math.floor(d8O),L8O);W8O.stroke();W8O.beginPath();W8O.moveTo(Math.floor(d8O),L8O);W8O.strokeStyle=J2O;W8O.lineWidth=X2O;}else if(i8O != 1 && n8O.kagiClose > L8O && L8O > n8O.kagiOpen){W8O.lineTo(Math.floor(d8O),L8O);W8O.stroke();W8O.beginPath();W8O.moveTo(Math.floor(d8O),L8O);W8O.strokeStyle=T2O;W8O.lineWidth=B2O;}}W8O.lineTo(Math.floor(d8O),n8O.kagiClose);if(E8O + 1 < r8O.length){W8O.lineTo(Math.floor(d8O + this.layout.candleWidth),n8O.kagiClose);}l2O=! !"";}e0K.T1K();W8O.stroke();this.endClip();W8O.lineWidth=1;};c8O.ChartEngine.prototype.drawPointFigureChart=function(c2O,n2O,v2O,y2O){var F0K=J2SS;var D2O,f2O,Z2O,p2O,K2O,h2O,S2O,a2O,g2O,d2O,w2O,W2O,e2O,O2O,R2O,Q2O,Y2O,q2O,A2O,j2O,I2O,M2O,t2O,F2O,V2O,b2O;D2O=c2O.chart;this.startClip(c2O.name);f2O=D2O.dataSegment;Z2O=D2O.context;this.canvasColor(n2O);if(v2O == (2470 >= +"812.31"?("213.01" - 0,616) !== (1150,7760)?("9735" >> 1631171808,4390) >= 4346?"X":"x":("0xb8c" * 1,! !"1"):539.93) && y2O.border_color_up){Z2O.strokeStyle=y2O.border_color_up;}else if(v2O == "O" && y2O.border_color_down){Z2O.strokeStyle=y2O.border_color_down;}p2O=this.canvasStyle(n2O);K2O=parseInt(p2O.paddingTop,+"10");h2O=parseInt(p2O.paddingBottom,10);S2O=parseInt(p2O.paddingLeft,10);a2O=parseInt(p2O.paddingRight,10);if(p2O.width && parseInt(p2O.width,10) <= 25){Z2O.lineWidth=Math.max(1,c8O.stripPX(p2O.width));}else {F0K.R4H(4);Z2O.lineWidth=F0K.y4H("2",2147483647);}if(this.highlightedDraggable){Z2O.globalAlpha*=+"0.3";}Z2O.beginPath();g2O=this.chart.state.aggregation.box;d2O=D2O.dataSet.length - D2O.scroll - +"1";function z2O(E2O,i2O,k2O){F0K.R4H(3);F0K.N1K();Z2O.moveTo(F0K.y4H(E2O,S2O),F0K.W4H(h2O,k2O,R2O,F0K.D4H(5)));F0K.D4H(6);Z2O.lineTo(F0K.W4H(i2O,a2O),F0K.y4H(R2O,k2O,O2O,K2O,F0K.D4H(7)));F0K.D4H(3);Z2O.moveTo(F0K.W4H(E2O,S2O),F0K.y4H(R2O,k2O,O2O,K2O,F0K.D4H(7)));F0K.R4H(6);Z2O.lineTo(F0K.y4H(i2O,a2O),F0K.y4H(h2O,k2O,R2O,F0K.D4H(5)));}w2O=c2O.yAxis;O2O=g2O * w2O.multiplier;F0K.R4H(8);F0K.T1K();R2O=F0K.y4H(2,O2O);Q2O=this.layout.candleWidth;F0K.D4H(9);var A3I=F0K.y4H(4,13,8);Y2O=c2O.left - Q2O + this.micropixels - A3I;function L2O(G2O,C2O,H2O){F0K.D4H(10);Z2O.moveTo(F0K.y4H(C2O,G2O,2),F0K.y4H(H2O,R2O,K2O,F0K.D4H(11)));F0K.N1K();F0K.D4H(3);Z2O.bezierCurveTo(F0K.y4H(C2O,a2O),F0K.W4H(H2O,R2O,K2O,F0K.D4H(11)),F0K.W4H(C2O,a2O,F0K.R4H(3)),F0K.y4H(H2O,R2O,h2O,O2O,F0K.R4H(12)),F0K.W4H(1,C2O,"2",G2O,F0K.R4H(13)),F0K.W4H(H2O,R2O,h2O,O2O,F0K.R4H(12)));F0K.D4H(6);Z2O.bezierCurveTo(F0K.W4H(G2O,S2O),F0K.W4H(H2O,R2O,h2O,O2O,F0K.R4H(12)),F0K.W4H(G2O,S2O,F0K.R4H(6)),F0K.y4H(H2O,R2O,K2O,F0K.D4H(11)),F0K.W4H(C2O,G2O,2,F0K.D4H(10)),F0K.y4H(H2O,R2O,K2O,F0K.D4H(11)));}for(var x2O=0;x2O < f2O.length;x2O++){Y2O+=Q2O;q2O=f2O[x2O];if(!q2O)continue;if(q2O.projection)break;A2O=q2O.pfOpen;j2O=q2O.pfClose;I2O=q2O.pfTrend;M2O=q2O.pfStepBack;if(q2O.transform && D2O.transformFunc){q2O=q2O.transform;A2O=D2O.transformFunc(this,D2O,A2O);j2O=D2O.transformFunc(this,D2O,j2O);}t2O=q2O.cache;F0K.D4H(3);F2O=F0K.y4H(d2O,x2O);if(F2O < c2O.cacheLeft || F2O > c2O.cacheRight || !t2O.pfOpen){if(w2O.flipped){t2O.pfOpen=w2O.bottom - (w2O.high - A2O) * w2O.multiplier;t2O.pfClose=w2O.bottom - (w2O.high - j2O) * w2O.multiplier;}else {t2O.pfOpen=(w2O.high - A2O) * w2O.multiplier + w2O.top;t2O.pfClose=(w2O.high - j2O) * w2O.multiplier + w2O.top;}}V2O=Math.round(Y2O);F0K.D4H(3);b2O=Math.round(F0K.y4H(Y2O,Q2O));W2O=Math.abs(Math.round((j2O - A2O) / g2O));e2O=t2O.pfOpen;if(v2O == M2O){if(M2O == ((2730,872.37) === 784?537 == 5810?("J",399.94):(8.76e+3,728.81):"X")){F0K.D4H(6);z2O(V2O,b2O,F0K.W4H(e2O,O2O));}else if(M2O == (("1770" | 1578) === 350.87?(+"3.38e+3",26.57):("373.95" * 1,+"7320") < (6987,2600)?(9.39e+2,239):(5630,+"812.83") <= (3097,+"622.86")?0x622:"O")){F0K.R4H(3);L2O(V2O,b2O,F0K.y4H(e2O,O2O));}}if(v2O == I2O){for(;W2O >= "0" << 202234432;W2O--){if(v2O == "X"){z2O(V2O,b2O,e2O,O2O,R2O);e2O-=w2O.flipped?-O2O:O2O;}else if(v2O == (2033 !== (363,"4620" - 0)?"O":(![],"2.30e+3" - 0))){L2O(V2O,b2O,e2O,O2O,R2O);e2O+=w2O.flipped?-O2O:O2O;}}}}Z2O.stroke();this.endClip();F0K.D4H(14);Z2O.lineWidth=F0K.y4H("1",1);};c8O.ChartEngine.calculateAggregation=function(r2O,s3O,X3O,B3O){var Z07,M07,P3O,J3O;Z07="pan";Z07+="d";Z07+="f";M07="h";M07+="eik";M07+="inash";M07+="i";J2SS.T1K();J3O=r2O.layout;if([M07,"heikenashi"].indexOf(s3O) > -1){P3O=c8O.calculateHeikinAshi(r2O,X3O,B3O);}else if(s3O == "rangebars"){P3O=c8O.calculateRangeBars(r2O,X3O,J3O.rangebars,B3O);}else if(s3O == "kagi"){P3O=c8O.calculateKagi(r2O,X3O,J3O.kagi,B3O);}else if(s3O == "linebreak"){P3O=c8O.calculateLineBreak(r2O,X3O,J3O.priceLines,B3O);}else if(s3O == "renko"){P3O=c8O.calculateRenkoBars(r2O,X3O,J3O.renko,B3O);}else if(s3O == Z07){P3O=c8O.calculatePointFigure(r2O,X3O,J3O.pandf,B3O);}return P3O;};c8O.calculateHeikinAshi=function(e3O,q3O,D3O){var V0K=J2SS;var u3O,T3O,m3O,Z3O,N3O,l3O,o3O,U3O,p3O,K3O,O3O;if(!q3O.length){return q3O;}if(!D3O){D3O=[];}u3O=[];for(var w3O=0;w3O < q3O.length;w3O++){T3O=q3O[w3O];if(!T3O)continue;V0K.R4H(15);var w3I=V0K.y4H(10,6,17);m3O=u3O[u3O.length - w3I];if(!m3O && !w3O){V0K.R4H(16);var t3I=V0K.y4H(9,14,125,0);m3O=D3O[D3O.length - t3I];}if(!m3O){m3O=T3O;}Z3O=T3O.Close;N3O=T3O.Open;l3O=T3O.High;o3O=T3O.Low;U3O=m3O.Open;N3O=N3O || N3O === "0" << 143012832?N3O:Z3O;l3O=l3O || l3O === 0?l3O:Z3O;o3O=o3O || o3O === 0?o3O:Z3O;U3O=U3O || U3O === 0?U3O:m3O.Close;V0K.R4H(17);var J3I=V0K.y4H(11,16,6,12,75);p3O=(U3O + m3O.Close) / J3I;V0K.R4H(18);K3O=V0K.W4H(Z3O,N3O,l3O,4,o3O);O3O={DT:T3O.DT,displayDate:T3O.displayDate,Date:T3O.Date,Open:p3O,Close:K3O,High:Math.max(l3O,Math.max(p3O,K3O)),Low:Math.min(o3O,Math.min(p3O,K3O)),Volume:T3O.Volume,iqPrevClose:m3O.Close};for(var R3O in T3O){if(!O3O[R3O] && O3O[R3O] !== +"0"){O3O[R3O]=T3O[R3O];}}u3O.push(O3O);}return u3O;};c8O.calculateKagi=function(y3O,A3O,h3O,V3O){var a0K=J2SS;a0K.T1K();var b3O,a3O,S3O,t3O,Y3O,v3O,Q3O,c3O;if(!A3O.length){return A3O;}if(!V3O){V3O=[];}b3O=y3O.layout;a3O=y3O.chart;h3O=parseFloat(h3O);a3O.defaultChartStyleConfig.kagi=c8O.ChartEngine.isDailyInterval(b3O.interval)?4:0.4;if(isNaN(h3O) || h3O <= 0){h3O=a3O.defaultChartStyleConfig.kagi;if(c8O.Market.Symbology.isForexSymbol(a3O.symbol)){h3O/=4;}if(b3O.kagi !== null){b3O.kagi=null;y3O.changeOccurred("layout");}}h3O/=+"100";S3O=[];a0K.D4H(19);var H3I=a0K.y4H(13,12);t3O=V3O[V3O.length - H3I];Y3O=t3O?t3O.DT:0;for(var j3O=0;j3O < A3O.length;j3O++){v3O=A3O[j3O];if(!v3O)continue;if(!t3O){a0K.R4H(6);t3O=A3O[a0K.y4H(j3O,1)];}if(!t3O)continue;Q3O=t3O.Open || t3O.Open === "0" * 1?t3O.Open:t3O.Close;if(Q3O > t3O.Close){if(v3O.Close > t3O.Close * (+"1" + h3O)){v3O.Open=t3O.Close;}else {if(t3O.Close > v3O.Close){t3O.Close=v3O.Close;}t3O.Volume+=v3O.Volume;if(j3O < A3O.length - 1)continue;}}else if(Q3O < t3O.Close){if(v3O.Close < t3O.Close * (1 - h3O)){v3O.Open=t3O.Close;}else {if(t3O.Close < v3O.Close){t3O.Close=v3O.Close;}t3O.Volume+=v3O.Volume;if(j3O < A3O.length - +"1")continue;}}else {t3O.Close=v3O.Close;t3O.Volume+=v3O.Volume;if(j3O < A3O.length - 1)continue;}c3O={DT:t3O.DT,displayDate:t3O.displayDate,Date:t3O.Date,Open:t3O.Open,Close:t3O.Close,High:Math.max(t3O.Open,t3O.Close),Low:Math.min(t3O.Open,t3O.Close),Volume:t3O.Volume,iqPrevClose:t3O.iqPrevClose};for(var x3O in t3O){if(!c3O[x3O] && c3O[x3O] !== "0" << 1503690240){c3O[x3O]=t3O[x3O];}}if(S3O.length){c3O.kagiPrevOpen=S3O[S3O.length - 1].Open;}else {c3O.kagiPrevOpen=c3O.Open;}if(c3O.Close > c3O.kagiPrevOpen && c3O.kagiPrevOpen > c3O.Open){c3O.kagiTrend=1;}else if(c3O.Close < c3O.kagiPrevOpen && c3O.kagiPrevOpen < c3O.Open){c3O.kagiTrend=-1;}if(Y3O < c3O.DT){S3O.push(c3O);}t3O=v3O;a3O.currentQuote={Close:v3O.Close};}return S3O;};c8O.calculateLineBreak=function(P4O,i3O,g3O,s4O){var t0K=J2SS;t0K.T1K();var H3O,G3O,W3O,X4O,C3O,M3O,F3O,n3O,d3O,I3O,z3O,f3O,L3O,k3O;if(!i3O.length){return i3O;}if(!s4O){s4O=[];}H3O=P4O.layout;G3O=P4O.chart;G3O.defaultChartStyleConfig.priceLines=3;g3O=parseInt(g3O,10);if(isNaN(g3O) || g3O <= 0){g3O=G3O.defaultChartStyleConfig.priceLines;if(H3O.priceLines !== null){H3O.priceLines=null;P4O.changeOccurred("layout");}}else if(g3O > 10){H3O.priceLines=g3O=+"10";}W3O=s4O.slice(-g3O);X4O=W3O.length;t0K.D4H(4);C3O=t0K.y4H("0",2147483647);a:for(var r3O=0;r3O < i3O.length;r3O++){M3O=i3O[r3O];if(!M3O)continue;C3O+=M3O.Volume;t0K.D4H(20);var S3I=t0K.y4H(13,3,6,12,2);F3O=W3O[W3O.length - S3I];if(!F3O){F3O={Open:M3O.Open,Close:M3O.Open,High:M3O.Open,Low:M3O.Open};}n3O=F3O.Close;d3O=F3O.High;I3O=F3O.Low;z3O=F3O.Open;d3O=d3O || d3O === +"0"?d3O:n3O;I3O=I3O || I3O === 0?I3O:n3O;z3O=z3O || z3O === 0?z3O:n3O;f3O={DT:M3O.DT,displayDate:M3O.displayDate,Date:M3O.Date,Close:M3O.Close,Volume:C3O,iqPrevClose:n3O};G3O.currentQuote={Close:M3O.Close};if(M3O.Close > n3O && F3O.Close > z3O){;}else if(M3O.Close < n3O && F3O.Close < z3O){;}else if(M3O.Close > d3O){for(L3O=2;L3O <= g3O;L3O++){k3O=W3O[W3O.length - L3O];if(k3O && M3O.Close <= k3O.High){continue a;}}}else if(M3O.Close < I3O){for(L3O="2" | 2;L3O <= g3O;L3O++){k3O=W3O[W3O.length - L3O];if(k3O && M3O.Close >= k3O.Low){continue a;}}}else continue;if(M3O.Close < F3O.Close){f3O.Open=Math.min(z3O,n3O);}else {f3O.Open=Math.max(z3O,n3O);}f3O.Low=Math.min(f3O.Open,f3O.Close);f3O.High=Math.max(f3O.Open,f3O.Close);for(var E3O in M3O){if(!f3O[E3O] && f3O[E3O] !== 0){f3O[E3O]=M3O[E3O];}}W3O.push(f3O);C3O=0;}return W3O.slice(X4O);};c8O.getMaxRenkoBarsPerRecord=function(B4O){J2SS.T1K();return 200;};c8O.calculateRenkoBars=function(w4O,T4O,J4O,Z4O,j4O){var O0K=J2SS;var O4O,u4O,S4O,U4O,a4O,f07,B07,p4O,R4O,x4O,b4O,K4O,y4O,o07,e4O,m4O,l4O,N4O,t4O,o4O,c4O,v4O,h4O,A4O,Q4O,Y4O,M4O,f4O,g4O;if(!T4O.length){return [];}if(!Z4O){Z4O=[];}O4O=w4O.layout;u4O=w4O.chart;S4O=J4O;function q4O(L4O,d4O){var I4O;L4O=Number(L4O.toFixed(8));d4O=Number(d4O.toFixed(8));I4O={DT:N4O.DT,displayDate:N4O.displayDate,Date:N4O.Date,Open:L4O,Close:d4O,High:Math.max(L4O,d4O),Low:Math.min(L4O,d4O),Volume:0,iqPrevClose:L4O != d4O?L4O:null};for(var k4O in N4O){if(!I4O[k4O] && I4O[k4O] !== 0){I4O[k4O]=N4O[k4O];}}e4O.push(I4O);}U4O=u4O.state.aggregation;if(!U4O){U4O=u4O.state.aggregation={};}a4O=Math.min(300,T4O.length);if(!U4O.minMax){f07="H";f07+="i";f07+="g";f07+="h";B07="Cl";B07+="o";B07+="se";U4O.minMax=w4O.determineMinMax(T4O.slice(T4O.length - a4O),[B07,f07,"Low"]);}function V4O(W4O){return W4O > 0.001?Number(W4O.toFixed("4" * 1)):W4O;}O0K.R4H(21);var Y3I=O0K.y4H(6,0,5,10);p4O=U4O.minMax[Y3I] - U4O.minMax[0];R4O=w4O.panels[u4O.name].height;if(!R4O){return [];}O0K.R4H(22);var a3I=O0K.y4H(48534707,9,922159428);x4O=Z4O.length > "0" << a3I;O0K.R4H(23);b4O=V4O(O0K.y4H(R4O,30,p4O));K4O=c8O.getMaxRenkoBarsPerRecord(u4O.symbolObject);if(j4O){y4O=T4O.reduce((n4O,z4O)=>{var F4O;F4O=Math.abs(z4O.Close - z4O.iqPrevClose);return F4O > n4O?F4O:n4O;},0);O0K.R4H(8);U4O.minAutoRenko=V4O(O0K.y4H(K4O,y4O));}u4O.defaultChartStyleConfig.renko=U4O.minAutoRenko || b4O;if(J4O === null || isNaN(J4O) || J4O <= 0){J4O=u4O.defaultChartStyleConfig.renko;if(O4O.renko !== null){O4O.renko=null;w4O.changeOccurred("layout");}}else {O0K.R4H(8);J4O=Math.max(J4O,O0K.W4H(R4O,p4O));if(O4O.renko !== J4O){o07="l";o07+="ay";o07+="ou";o07+="t";O4O.renko=J4O;w4O.changeOccurred(o07);}}e4O=[];m4O=null;l4O=null;N4O=null;if(Z4O.length){O0K.R4H(24);var x3I=O0K.W4H(7,8,5,2,1);t4O=Z4O[Z4O.length - x3I];m4O=t4O.Low - J4O;l4O=t4O.High + J4O;}for(var D4O=0;D4O < T4O.length;D4O++){o4O=T4O[D4O];if(!o4O)continue;if(!m4O && !l4O){c4O=o4O.Open || o4O.Open === 0?o4O.Open:o4O.Close;v4O=Math.floor(c4O / J4O) * J4O;h4O=isNaN(v4O)?c4O:v4O;O0K.D4H(6);m4O=O0K.W4H(h4O,J4O);O0K.D4H(3);l4O=O0K.y4H(h4O,J4O);}O0K.D4H(14);A4O=O0K.W4H(J4O,K4O);Q4O=!O4O.renko;Y4O=m4O - o4O.Close;M4O=o4O.Close - l4O;f4O=Y4O > A4O || M4O > A4O;g4O=Q4O && f4O && !j4O && !x4O;if(g4O){return c8O.calculateRenkoBars(w4O,T4O,S4O,Z4O,! ![]);}while(! !1){if(!N4O){N4O=o4O;}if(o4O.Close <= m4O){O0K.R4H(3);q4O(O0K.y4H(m4O,J4O),m4O);O0K.R4H(25);l4O=O0K.y4H(m4O,J4O,"2");m4O-=J4O;N4O=null;}else if(o4O.Close >= l4O){O0K.D4H(6);q4O(O0K.y4H(l4O,J4O),l4O);O0K.R4H(26);m4O=O0K.y4H(J4O,l4O,2);l4O+=J4O;N4O=null;}else break;}u4O.currentQuote=o4O;}if(m4O < T4O[T4O.length - 1].Close && m4O + J4O > T4O[T4O.length - 1].Close){O0K.R4H(3);q4O(O0K.y4H(m4O,J4O),T4O[T4O.length - 1].Close);}else if(l4O > T4O[T4O.length - 1].Close && l4O - J4O < T4O[T4O.length - 1].Close){O0K.D4H(6);q4O(O0K.W4H(l4O,J4O),T4O[T4O.length - 1].Close);}return e4O;};c8O.calculateRangeBars=function(N5O,P5O,i4O,w5O){var W0K=J2SS;var P07,u5O,U5O,m5O,K5O,R5O,Z5O,G07,q5O,E4O,s5O,X5O,O5O,B5O,H4O,o5O,J5O,G4O,C4O,r4O,p5O,t5O;P07="C";P07+="l";P07+="ose";if(!P5O.length){return P5O;}if(!w5O){w5O=[];}u5O=N5O.layout;W0K.N1K();U5O=N5O.chart;m5O=U5O.state.aggregation;if(!m5O){m5O=U5O.state.aggregation={};}function D5O(){W0K.D4H(3);s5O=W0K.W4H(E4O,i4O);W0K.R4H(6);X5O=W0K.y4H(E4O,i4O);O5O=E4O;}K5O=Math.min(300,P5O.length);function e5O(h5O){var c5O;c5O={DT:B5O.DT,displayDate:B5O.displayDate,Date:B5O.Date,Open:Number(O5O.toFixed(8)),Close:Number(h5O.toFixed(8)),High:Number(s5O.toFixed(8)),Low:Number(X5O.toFixed("8" ^ 0)),Volume:0};W0K.T1K();c5O.iqPrevClose=c5O.Open;for(var v5O in B5O){if(!c5O[v5O] && c5O[v5O] !== 0){c5O[v5O]=B5O[v5O];}}q5O.push(c5O);}if(!m5O.minMax){m5O.minMax=N5O.determineMinMax(P5O.slice(P5O.length - K5O),[P07,"High","Low"]);}R5O=m5O.minMax["1" ^ 0] - m5O.minMax[0];Z5O=N5O.panels[U5O.name].height;if(!Z5O){return [];}W0K.D4H(27);var E3I=W0K.W4H(7,690000,100000);W0K.R4H(28);var L3I=W0K.y4H(8,19,8931,7,480);U5O.defaultChartStyleConfig.range=Math.floor(E3I * R5O / (Z5O / L3I)) / +"10000";function l5O(j5O,A5O){W0K.N1K();while(1){if(!B5O){B5O=j5O;}if(E4O < A5O){E4O=Math.min(A5O,s5O);W0K.R4H(6);X5O=Math.max(X5O,W0K.W4H(E4O,i4O));if(A5O < s5O)break;}else if(E4O >= A5O){E4O=Math.max(A5O,X5O);W0K.R4H(3);s5O=Math.min(s5O,W0K.y4H(E4O,i4O));if(A5O > X5O)break;}if(typeof E4O == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}e5O(E4O);B5O=null;D5O();}}if(i4O === null || isNaN(i4O) || i4O < 0){i4O=U5O.defaultChartStyleConfig.range;if(u5O.range !== null){u5O.range=null;N5O.changeOccurred("layout");}}else {W0K.R4H(8);i4O=Math.max(i4O,W0K.y4H(Z5O,R5O));if(u5O.range !== i4O){G07="l";G07+="ay";G07+="out";u5O.range=i4O;N5O.changeOccurred(G07);}}q5O=[];E4O=null;s5O=null;X5O=null;O5O=null;B5O=null;for(var T5O="0" << 736079296;T5O < P5O.length;T5O++){H4O=P5O[T5O];if(!H4O)continue;W0K.R4H(6);o5O=P5O[W0K.W4H(T5O,1)];if(!T5O){if(!o5O){W0K.D4H(6);var N3I=W0K.y4H(14,13);o5O=w5O[w5O.length - N3I];}if(o5O){E4O=o5O.Close;if(E4O || E4O === 0){D5O();}}}if(!o5O)continue;J5O=H4O.Close;G4O=H4O.Open;C4O=H4O.High;r4O=H4O.Low;if(!J5O && J5O !== 0)continue;G4O=G4O || G4O === +"0"?G4O:J5O;C4O=C4O || C4O === 0?C4O:J5O;r4O=r4O || r4O === +"0"?r4O:J5O;if(!E4O && E4O !== 0){p5O=Math.floor(G4O / i4O) * i4O;E4O=isNaN(p5O)?G4O:p5O;D5O();l5O(o5O,G4O);}if(T5O){l5O(H4O,G4O);}if(C4O - G4O < G4O - r4O){if(C4O){l5O(H4O,C4O);}if(r4O){l5O(H4O,r4O);}}else {if(r4O){l5O(H4O,r4O);}if(C4O){l5O(H4O,C4O);}}l5O(H4O,J5O);if(T5O == P5O.length - ("1" | 0) && J5O != O5O){t5O=s5O;W0K.D4H(3);s5O=W0K.W4H(X5O,i4O);W0K.D4H(6);X5O=W0K.W4H(t5O,i4O);e5O(J5O);}}return q5O;};c8O.calculatePointFigure=function(k5O,E5O,H5O,G5O){var y0K=J2SS;var Y5O,g5O,C5O,S5O,I07,y5O,W5O,O07,x4w,E4w,L4w,d5O,I5O,z5O,Q5O,b5O,M5O,a5O,f5O,L5O,x5O,V5O,F5O,n5O;if(!E5O.length){return E5O;}if(!G5O){G5O=[];}Y5O=k5O.layout;g5O=k5O.chart;C5O=g5O.state.aggregation;if(!C5O){C5O=g5O.state.aggregation={};}g5O.defaultChartStyleConfig.box=1;g5O.defaultChartStyleConfig.reversal=3;y0K.N1K();if(!H5O){H5O={};}S5O=H5O.box;if(!S5O){if(Y5O.pandf){if(Y5O.pandf.box !== null){I07="l";I07+="ay";I07+="out";Y5O.pandf.box=null;k5O.changeOccurred(I07);}}S5O=g5O.defaultChartStyleConfig.box;y5O=E5O[E5O.length - 1].Close;if(y5O){if(y5O < 0.25){S5O=0.0625;}else if(y5O < 1){S5O=0.125;}else if(y5O < 5){S5O=0.25;}else if(y5O < 20){S5O=0.5;}else if(y5O < 100){S5O=1;}else if(y5O < 200){S5O=2;}else if(y5O < 500){S5O=4;}else if(y5O < 1000){S5O=5;}else if(y5O < 25000){S5O=50;}else {S5O=500;}}if(!c8O.ChartEngine.isDailyInterval(Y5O.interval)){S5O/=10;}if(c8O.Market.Symbology.isForexSymbol(g5O.symbol)){if(y5O){if(y5O < 1){S5O=0.001;}else if(y5O < "2" >> 1553011296){S5O=0.002;}else if(y5O < 50){S5O=0.02;}else if(y5O < 200){S5O=0.2;}}if(c8O.ChartEngine.isDailyInterval(Y5O.interval)){S5O*=10;}}g5O.defaultChartStyleConfig.box=S5O;}S5O=parseFloat(S5O);if(isNaN(S5O) || S5O <= 0){if(Y5O.pandf){if(Y5O.pandf.box !== null){Y5O.pandf.box=null;k5O.changeOccurred("layout");}}g5O.defaultChartStyleConfig.box=S5O=1;}W5O=Math.ceil(parseFloat(H5O.reversal));if(W5O > "0" >> 2130628640 && W5O > H5O.reversal){O07="la";O07+="y";O07+="o";O07+="ut";Y5O.pandf.reversal=W5O;k5O.changeOccurred(O07);}else if(isNaN(W5O) || W5O <= 0){if(Y5O.pandf){if(Y5O.pandf.reversal !== null){x4w=+"342720230";E4w=-98502483;L4w=2;for(var m37=+"1";y0K.V4w(m37.toString(),m37.toString().length,14330) !== x4w;m37++){Y5O.pandf.reversal=+"1";k5O.changeOccurred("");L4w+=2;}if(y0K.V4w(L4w.toString(),L4w.toString().length,5955) !== E4w){Y5O.pandf.reversal=5;k5O.changeOccurred("");}Y5O.pandf.reversal=null;k5O.changeOccurred("layout");}}W5O=g5O.defaultChartStyleConfig.reversal;}function i5O(T6O,m6O,l6O,o6O,N6O){T6O.High=Math.max(m6O,T6O.High);T6O.Low=Math.min(l6O,T6O.Low);T6O.Close=o6O;T6O.Volume+=N6O;}C5O.box=S5O;W5O*=S5O;function s6O(U6O,u6O,w6O,Z6O,O6O,R6O,q6O,D6O,p6O){y0K.T1K();return {DT:U6O.DT,Date:U6O.Date,pfOpen:D6O,pfClose:p6O,Open:u6O,Close:O6O,High:w6O,Low:Z6O,Volume:R6O,iqPrevClose:q6O};}d5O=0.00000001;I5O=(S5O.toString() + ((9061,353.59) <= 6143?(7000,4420) != 790.29?".":("3770" ^ 0,9796) >= 8900?("1.10e+3" * 1,202.77):! ![]:! !"1")).split(8630 >= 8108?".":9402 >= (3230,1660)?(917.76,7254) !== 8051?(115.02,! !{}):(! !"1","o"):"A")[1].length;z5O=[];Q5O=0;for(var r5O=0;r5O < E5O.length;r5O++){M5O=E5O[r5O];if(!M5O)continue;Q5O+=M5O.Volume;f5O=M5O.Close;L5O=M5O.Open;x5O=M5O.High;V5O=M5O.Low;L5O=L5O || L5O === +"0"?L5O:f5O;x5O=x5O || x5O === 0?x5O:f5O;V5O=V5O || V5O === 0?V5O:f5O;if(!z5O.length && !G5O.length){b5O=P6O(M5O,s6O(M5O,L5O,x5O,V5O,f5O,Q5O,x5O + S5O,Number((Math.ceil(V5O / S5O - d5O) * S5O).toFixed(I5O)),Number((Math.floor(x5O / S5O + d5O) * S5O).toFixed(I5O))));b5O.pfTrend=725.07 >= (+"1980","420" ^ 0)?"X":(789.66,2779) < +"1107"?(!{},! ![]):(0x21d8,0x1d59);if(b5O.pfOpen == b5O.pfClose){b5O.pfStepBack="-";}z5O.push(b5O);Q5O=0;continue;}y0K.D4H(3);var m8I=y0K.y4H(0,1);a5O=z5O[z5O.length - m8I];if(!a5O){a5O=c8O.clone(G5O[G5O.length - 1]);}if(a5O.pfTrend == (6557 >= ("8160" << 596682944,"20.26" * 1)?1873 == (9932,+"3882")?(+"42.22",0x1c47):"O":! !1)){if(V5O <= a5O.pfClose - S5O){a5O.pfClose=Number((Math.ceil(V5O / S5O - d5O) * S5O).toFixed(I5O));if(a5O.pfStepBack == ((6801,7810) >= 12.11?"O":(0x4d3,208.55))){a5O.pfStepBack=null;}i5O(a5O,x5O,V5O,f5O,Q5O);}else if(x5O >= a5O.pfClose + W5O){F5O=a5O.pfClose + S5O;n5O=Number((Math.floor(x5O / S5O + d5O) * S5O).toFixed(I5O));b5O=s6O(M5O,L5O,x5O,V5O,f5O,Q5O,a5O.pfClose,F5O,n5O);if(F5O == n5O){b5O.pfStepBack="X";}if(a5O.pfStepBack == "O"){a5O.pfOpen=F5O;a5O.pfClose=n5O;a5O.pfTrend="X";i5O(a5O,x5O,V5O,f5O,Q5O);}else {b5O=P6O(M5O,b5O);b5O.pfTrend=(406,771) === (4480,221.6)?(3003,6591) !== (231,4350)?+"1.01e+3":("1.03e+3" << 1697122048,211.32):"X";z5O.push(b5O);}}else {i5O(a5O,x5O,V5O,f5O,Q5O);}Q5O=0;}else if(a5O.pfTrend == ((1730,839.64) <= (6618,9470)?"X":"l")){if(x5O >= a5O.pfClose + S5O){a5O.pfClose=Number((Math.floor(x5O / S5O + d5O) * S5O).toFixed(I5O));if(a5O.pfStepBack == "X" || a5O.pfStepBack == "-"){a5O.pfStepBack=null;}i5O(a5O,x5O,V5O,f5O,Q5O);}else if(V5O <= a5O.pfClose - W5O){F5O=a5O.pfClose - S5O;n5O=Number((Math.ceil(V5O / S5O - d5O) * S5O).toFixed(I5O));b5O=s6O(M5O,L5O,x5O,V5O,f5O,Q5O,a5O.pfClose,F5O,n5O);if(F5O == n5O){b5O.pfStepBack="O";}if(a5O.pfStepBack == (9490 >= (620.78,491)?8520 != 810?(+"540.6",60.63) < (+"6199","6261" * 1)?"X":0x1bcf:!{}:14.67) || a5O.pfStepBack == (+"9569" <= (+"6843","7241" >> 1729824128)?"0x26" ^ 0:76.67 === (368.48,65.67)?914.41 >= (+"2558",781.79)?"X":(0x18ec,"L"):"-")){a5O.pfOpen=F5O;a5O.pfClose=n5O;a5O.pfTrend=2450 == (6274,387.83)?"U":(9442,136.98) <= 6870?"O":63.73 === 803.2?"g":152.04;i5O(a5O,x5O,V5O,f5O,Q5O);if(F5O != n5O && a5O.pfStepBack == "-"){a5O.pfStepBack=null;}}else {b5O=P6O(M5O,b5O);b5O.pfTrend=(644.53,+"5710") >= (+"924.49",3010)?"O":781.05 === 792.93?"K":(29.78,9534) !== 6230?(!0,! !"1"):(357.95,"u");z5O.push(b5O);}}else {i5O(a5O,x5O,V5O,f5O,Q5O);}y0K.D4H(4);Q5O=y0K.y4H("0",2147483647);}}function P6O(J6O,B6O){y0K.T1K();for(var X6O in J6O){if(!B6O[X6O] && B6O[X6O] !== "0" * 1){B6O[X6O]=J6O[X6O];}}return B6O;}return z5O;};};X0O=t6O=>{var f6K=J2SS;var T07,K6O,e6O,Z47,M47,U47,l47,m47,N77,L77,J77,r77,W77,c77,i77,s77,k77,B77,Z77,a07,Y07,S07,K07,d07,r07,g07,W07,k07,u07,F07,e07;T07="und";T07+="e";T07+="fi";T07+="ned";K6O=typeof _CIQ !== "undefined"?_CIQ:t6O.CIQ;e6O=typeof _timezoneJS !== T07?_timezoneJS:t6O.timezoneJS;if(!K6O.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {Z47="cq-wave-pa";Z47+="ramete";Z47+="rs";M47="br[cq-wave-";M47+="parameters]";U47="p";U47+="a";U47+="t";U47+="tern";l47="l";l47+="ineColo";l47+="r";m47="l";m47+="ineWidth";N77="e";N77+="nclos";N77+="ed";L77="I";L77+="I";J77="li";J77+="neWidth";r77="f";r77+="o";r77+="n";r77+="t";W77="cq-cvp-co";W77+="ntroller[cq-cvp-he";W77+="a";W77+="der=\"1\"]";c77="col";c77+="or2";i77="lin";i77+="e";i77+="Width";i77+="1";s77="patt";s77+="ern";k77="line";k77+="Width";B77="l";B77+="ine";B77+="Width";Z77="c";Z77+="ol";Z77+="or";a07="par";a07+="am";a07+="eter";a07+="s";Y07="patter";Y07+="n";S07="p";S07+="l";K07="p";K07+="at";K07+="t";K07+="ern";d07="fil";d07+="lC";d07+="ol";d07+="or";r07="col";r07+="o";r07+="r";g07="pat";g07+="t";g07+="e";g07+="rn";W07="lin";W07+="e";W07+="Width";k07="l";k07+="ineWidth";u07="l";u07+="in";u07+="eWi";u07+="dth";F07="f";F07+="il";F07+="lColo";F07+="r";e07="col";e07+="or";K6O.Drawing.ray=function(){this.name="ray";};K6O.inheritsFrom(K6O.Drawing.ray,K6O.Drawing.line);K6O.Drawing.ray.prototype.calculateOuterSet=function(h6O){f6K.T1K();var c6O,v6O;if(this.p0[+"0"] == this.p1[0] || this.p0[+"1"] == this.p1[1] || K6O.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}c6O={x0:this.p0[+"0"],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};f6K.D4H(28);var l8I=f6K.y4H(19,3,1908,5,990);v6O=c6O.x1 + l8I;if(c6O.x0 > c6O.x1){f6K.D4H(3);var U8I=f6K.W4H(996,4);v6O=c6O.x1 - U8I;}this.v0B=this.v0;this.v1B=K6O.yIntersection(c6O,v6O);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(v6O,h6O.chart);};K6O.Drawing.ray.prototype.adjust=function(){var A6O;A6O=this.stx.panels[this.panelName];if(!A6O){return;}this.setPoint(0,this.d0,this.v0,A6O.chart);this.setPoint(1,this.d1,this.v1,A6O.chart);if(K6O.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,A6O.chart);}};K6O.Drawing.continuous=function(){this.name="continuous";f6K.N1K();this.dragToDraw=![];this.maxSegments=null;};K6O.inheritsFrom(K6O.Drawing.continuous,K6O.Drawing.segment);K6O.Drawing.continuous.prototype.click=function(y6O,S6O,a6O){var j6O,V6O,x6O,E87,L87,N87,b6O;j6O=this.stx.panels[this.panelName];if(!j6O){return;}this.copyConfig();if(!this.penDown){f6K.R4H(14);this.setPoint(f6K.W4H("0",1),S6O,a6O,j6O.chart);this.penDown=!0;return ![];}if(this.accidentalClick(S6O,a6O)){this.stx.undo();return ! !{};}this.setPoint(1,S6O,a6O,j6O.chart);V6O=K6O.Drawing.segment;x6O=new V6O();f6K.D4H(0);E87=-f6K.y4H("1853091024",839435296);L87=-840818028;f6K.D4H(29);N87=f6K.y4H("2",0);for(var l97=1;f6K.h4w(l97.toString(),l97.toString().length,6554) !== E87;l97++){b6O=this.serialize(this.stx);N87+=2;}if(f6K.V4w(N87.toString(),N87.toString().length,75106) !== L87){b6O=this.serialize(this.stx);}x6O.reconstruct(this.stx,b6O);this.stx.addDrawing(x6O);this.stx.changeOccurred("vector");f6K.N1K();this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return !0;}this.setPoint(0,S6O,a6O,j6O.chart);return ![];};K6O.Drawing.ellipse=function(){var j07;j07="el";j07+="li";f6K.T1K();j07+="pse";this.name=j07;};K6O.inheritsFrom(K6O.Drawing.ellipse,K6O.Drawing.BaseTwoPoint);K6O.Drawing.ellipse.prototype.render=function(Q6O){var z07,f6O,i6O,n6O,z6O,L6O,g6O,d6O,I6O,k6O,E6O,W6O,Y6O,M6O,F6O,H6O;z07="no";z07+="n";z07+="e";f6O=this.stx.panels[this.panelName];if(!f6O){return;}i6O=this.stx.pixelFromTick(this.p0[0],f6O.chart);n6O=this.stx.pixelFromTick(this.p1[+"0"],f6O.chart);z6O=this.stx.pixelFromValueAdjusted(f6O,this.p0[0],this.p0[1]);L6O=this.stx.pixelFromValueAdjusted(f6O,this.p1[0],this.p1[+"1"]);f6K.R4H(30);g6O=f6K.W4H(i6O,n6O,i6O);d6O=n6O;I6O=z6O;k6O=L6O;f6K.D4H(30);E6O=f6K.y4H(z6O,L6O,z6O);f6K.D4H(31);W6O=f6K.W4H(6,E6O,k6O);Y6O=this.lineWidth;if(!Y6O){Y6O=1.1;}M6O=this.color;if(M6O == "auto" || K6O.isTransparent(M6O)){M6O=this.stx.defaultColor;}if(this.highlighted){M6O=this.stx.getCanvasColor("stx_highlight_vector");if(Y6O == 0.1){Y6O=1.1;}}F6O=this.fillColor;Q6O.beginPath();Q6O.moveTo(g6O,I6O);f6K.D4H(3);Q6O.bezierCurveTo(g6O,f6K.W4H(k6O,W6O),d6O,f6K.y4H(k6O,W6O),d6O,I6O);f6K.R4H(6);Q6O.bezierCurveTo(d6O,f6K.W4H(E6O,W6O),g6O,f6K.y4H(E6O,W6O),g6O,I6O);if(F6O && !K6O.isTransparent(F6O) && F6O != "auto"){Q6O.fillStyle=F6O;Q6O.globalAlpha=0.2;Q6O.fill();f6K.D4H(6);Q6O.globalAlpha=f6K.y4H("1",0);}if(M6O && this.pattern != z07){Q6O.strokeStyle=M6O;Q6O.lineWidth=Y6O;if(Q6O.setLineDash){Q6O.setLineDash(K6O.borderPatternToArray(Y6O,this.pattern));Q6O.lineDashOffset=0;;}Q6O.stroke();}Q6O.closePath();if(this.highlighted){H6O=this.highlighted == "p1"?! !{}:!{};this.littleCircle(Q6O,n6O,L6O,H6O);}};K6O.Drawing.ellipse.prototype.intersected=function(X7O,B7O,G6O){f6K.N1K();var B57,o57,G57,C6O,r6O,P7O,s7O;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],G6O)){this.highlighted="p1";return {action:"drag",point:"p1"};}B57=-26685153;o57=-1261744216;G57=2;for(var F57=1;f6K.V4w(F57.toString(),F57.toString().length,+"84750") !== B57;F57++){C6O=this.p0[0] - (this.p1[0] - this.p0[0]);r6O=this.p1[0];P7O=this.p1[1];f6K.D4H(32);var M8I=f6K.W4H(11,14,11,2,12);f6K.R4H(33);var Z8I=f6K.y4H(2,3,1);f6K.R4H(34);var B8I=f6K.W4H(26,7,8,14,2);s7O=this.p0[M8I] - (this.p1[Z8I] - this.p0[B8I]);G57+=+"2";}if(f6K.h4w(G57.toString(),G57.toString().length,13155) !== o57){f6K.D4H(16);var f8I=f6K.y4H(20,12,935,35);f6K.R4H(35);var o8I=f6K.W4H(18,5,400,17,1);f6K.R4H(9);var P8I=f6K.W4H(10,21,5);C6O=this.p0[f8I] / (this.p1[o8I] * this.p0[P8I]);r6O=this.p1[2];f6K.R4H(4);P7O=this.p1[f6K.W4H("7",2147483647)];f6K.R4H(19);var G8I=f6K.y4H(10,5);f6K.D4H(36);var I8I=f6K.y4H(20,6,1,31);s7O=this.p0[G8I] * (this.p1[I8I] % this.p0[0]);}if(G6O.x0 > Math.max(C6O,r6O) || G6O.x1 < Math.min(C6O,r6O)){return !{};}if(G6O.y1 > Math.max(s7O,P7O) || G6O.y0 < Math.min(s7O,P7O)){return ![];}this.highlighted=! ![];return {action:"move",p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),tick:X7O,value:B7O};};K6O.Drawing.ellipse.prototype.configs=[e07,"fillColor","lineWidth","pattern"];K6O.Drawing.ellipse.prototype.reconstruct=function(T7O,J7O){this.stx=T7O;this.color=J7O.col;this.fillColor=J7O.fc;this.panelName=J7O.pnl;this.pattern=J7O.ptrn;this.lineWidth=J7O.lw;this.d0=J7O.d0;this.d1=J7O.d1;this.tzo0=J7O.tzo0;this.tzo1=J7O.tzo1;this.v0=J7O.v0;this.v1=J7O.v1;this.adjust();};K6O.Drawing.ellipse.prototype.serialize=function(){f6K.T1K();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};K6O.Drawing.channel=function(){var q07;q07="c";q07+="han";q07+="ne";q07+="l";this.name=q07;this.dragToDraw=! !"";this.p2=null;};K6O.inheritsFrom(K6O.Drawing.channel,K6O.Drawing.segment);K6O.Drawing.channel.prototype.configs=["color",F07,u07,"pattern"];K6O.Drawing.channel.prototype.move=function(N7O,m7O,l7O){var o7O;if(!this.penDown){return;}this.copyConfig();f6K.N1K();if(this.p2 === null){this.p1=[m7O,l7O];}else {f6K.D4H(37);var O8I=f6K.y4H(1,6,2,2,5);o7O=l7O - (this.p1[+"1"] - this.p0[O8I]) / (this.p1[0] - this.p0[0]) * (m7O - this.p1[+"0"]);this.p2=[this.p1[0],o7O];}this.render(N7O);};K6O.Drawing.channel.prototype.click=function(Z7O,u7O,w7O){var U7O,h37,V37,v37;U7O=this.stx.panels[this.panelName];if(!U7O){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,u7O,w7O,U7O.chart);this.penDown=! !{};return ! !"";}if(this.accidentalClick(u7O,w7O)){this.stx.undo();return ! !"1";}if(this.p2 !== null){this.setPoint(2,this.p2[+"0"],this.p2["1" >> 1434976160],U7O.chart);this.penDown=!"1";return !0;}this.setPoint(1,u7O,w7O,U7O.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return ![];}this.p2=[this.p1[0],this.p1[1]];f6K.R4H(6);h37=f6K.W4H("1680279579",0);V37=294172475;v37=2;for(var r37=1;f6K.h4w(r37.toString(),r37.toString().length,+"51260") !== h37;r37++){return ! ![];}if(f6K.h4w(v37.toString(),v37.toString().length,51991) !== V37){return ! !0;}return ![];};K6O.Drawing.channel.prototype.boxIntersection=function(p7O,t7O,q7O){var O7O,R7O,D7O,K7O,e7O;O7O=this.p0;R7O=this.p1;D7O=this.p2;if(!O7O || !R7O || !D7O){return !{};}if(q7O.x0 > Math.max(O7O[0],R7O[+"0"]) || q7O.x1 < Math.min(O7O[0],R7O["0" - 0])){return !{};}f6K.R4H(38);var T8I=f6K.y4H(2,17,13,3119,16);f6K.R4H(39);var j8I=f6K.W4H(6,19,1,11,19);f6K.D4H(33);var z8I=f6K.W4H(2,21,7);f6K.R4H(40);var e8I=f6K.W4H(4,15,3,15);f6K.R4H(6);var q8I=f6K.W4H(9,8);K7O=(R7O[0] - O7O[0]) * ((D7O[T8I] < O7O[j8I]?q7O.y1:q7O.y0) - O7O[z8I]) - (R7O[e8I] - O7O[q8I]) * (p7O - O7O[0]);f6K.R4H(19);var F8I=f6K.y4H(7,6);f6K.D4H(27);var u8I=f6K.y4H(13,116,9);f6K.D4H(11);var R8I=f6K.W4H(7,22,16);f6K.D4H(5);var n8I=f6K.y4H(4,0,5);f6K.R4H(1);var p8I=f6K.y4H(11,20,4,2);f6K.D4H(11);f6K.N1K();var k8I=f6K.W4H(0,18,19);e7O=(D7O[0] - O7O[0]) * ((D7O[F8I] > O7O[u8I]?q7O.y1:q7O.y0) - (O7O[+"1"] + D7O[R8I] - R7O[n8I])) - (R7O[p8I] - O7O[k8I]) * (p7O - O7O[+"0"]);f6K.D4H(41);return f6K.y4H(e7O,K7O,0);};K6O.Drawing.channel.prototype.intersected=function(h7O,A7O,j7O){var v7O,G87,I87,O87;if(!this.p0 || !this.p1 || !this.p2){return null;}f6K.T1K();v7O={0:this.p0,1:this.p1,2:this.p2};for(var c7O in v7O){if(this.pointIntersection(v7O[c7O][0],v7O[c7O]["1" >> 1243152096],j7O)){f6K.R4H(3);this.highlighted=f6K.y4H(8650 !== (1920,+"2320")?(3324,"448.18" - 0) >= (638.23,"4190" & 2147483647)?(+"5440",8906) > 4338?("P",472.27):(!"","z"):"p":724.99,c7O);return {action:"drag",point:("8982" << 1273805408 !== (9837,+"321.18")?(6966,986.11) === 890.02?"G":"p":(238.01,353.68)) + c7O};}}if(this.boxIntersection(h7O,A7O,j7O)){G87=-240178265;I87=-1796804263;O87=2;for(var j87=1;f6K.V4w(j87.toString(),j87.toString().length,"51759" | 18438) !== G87;j87++){this.highlighted=! !"";O87+=+"2";}if(f6K.h4w(O87.toString(),O87.toString().length,71872) !== I87){this.highlighted=!0;}return {action:"move",p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),p2:K6O.clone(this.p2),tick:h7O,value:A7O};}return null;};K6O.Drawing.channel.prototype.render=function(S7O){var a7O,b7O,x7O,y7O,Q7O,V7O,g7O,f7O,Y7O,M7O,n07,R07,W7O,F7O,n7O;a7O=this.stx.panels[this.panelName];if(!a7O){return;}b7O=this.stx.pixelFromTick(this.p0[0],a7O.chart);x7O=this.stx.pixelFromTick(this.p1[0],a7O.chart);y7O=this.stx.pixelFromValueAdjusted(a7O,this.p0[0],this.p0[1]);Q7O=this.stx.pixelFromValueAdjusted(a7O,this.p1[0],this.p1[1]);V7O=null;if(this.p2){V7O=this.stx.pixelFromValueAdjusted(a7O,this.p2[0],this.p2["1" & 2147483647]);}g7O=this.lineWidth;f7O=this.getLineColor();Y7O=this.fillColor;if(this.p2 && Y7O && !K6O.isTransparent(Y7O) && Y7O != "auto"){S7O.beginPath();S7O.moveTo(b7O,y7O);S7O.lineTo(x7O,Q7O);S7O.lineTo(x7O,V7O);f6K.D4H(42);S7O.lineTo(b7O,f6K.y4H(V7O,Q7O,y7O));S7O.closePath();S7O.globalAlpha=0.2;S7O.fillStyle=Y7O;S7O.fill();f6K.D4H(0);S7O.globalAlpha=f6K.y4H("1",1975966336);}M7O={pattern:this.pattern,lineWidth:g7O};if((this.penDown || this.highlighted) && this.pattern == "none"){M7O.pattern="dotted";}this.stx.plotLine(b7O,x7O,y7O,Q7O,f7O,"segment",S7O,a7O,M7O);if(this.p2){f6K.R4H(42);this.stx.plotLine(b7O,x7O,f6K.W4H(V7O,Q7O,y7O),V7O,f7O,"segment",S7O,a7O,M7O);}if(this.highlighted){n07="p";n07+="2";R07="p";R07+="1";W7O=this.highlighted == "p0"?! ![]:!{};F7O=this.highlighted == R07?! ![]:! !"";n7O=this.highlighted == n07?! !{}:!{};this.littleCircle(S7O,b7O,y7O,W7O);this.littleCircle(S7O,x7O,Q7O,F7O);this.littleCircle(S7O,x7O,V7O,n7O);}};K6O.Drawing.channel.prototype.reposition=function(k7O,z7O,E7O,i7O){var p07,L7O,d7O,I7O;p07="m";p07+="ov";f6K.T1K();p07+="e";if(!z7O){return;}L7O=this.stx.panels[this.panelName];d7O=z7O.tick - E7O;I7O=z7O.value - i7O;if(z7O.action == p07){this.setPoint(0,z7O.p0[+"0"] - d7O,z7O.p0[1] - I7O,L7O.chart);this.setPoint(+"1",z7O.p1[0] - d7O,z7O.p1[1] - I7O,L7O.chart);this.setPoint(2,z7O.p2[0] - d7O,z7O.p2[1] - I7O,L7O.chart);this.render(k7O);}else if(z7O.action == "drag"){this[z7O.point]=[E7O,i7O];this.setPoint(+"0",this.p0[0],this.p0[1],L7O.chart);this.setPoint(1,this.p1[0],this.p1[1],L7O.chart);this.setPoint(2,this.p2[+"0"],this.p2[1],L7O.chart);this.render(k7O);}};K6O.Drawing.channel.prototype.adjust=function(){var H7O;H7O=this.stx.panels[this.panelName];if(!H7O){return;}this.setPoint(0,this.d0,this.v0,H7O.chart);this.setPoint(1,this.d1,this.v1,H7O.chart);f6K.T1K();this.setPoint(2,this.d1,this.v2,H7O.chart);;};K6O.Drawing.channel.prototype.reconstruct=function(C7O,G7O){this.stx=C7O;this.color=G7O.col;this.fillColor=G7O.fc;this.panelName=G7O.pnl;this.pattern=G7O.ptrn;this.lineWidth=G7O.lw;this.d0=G7O.d0;this.d1=G7O.d1;this.tzo0=G7O.tzo0;this.tzo1=G7O.tzo1;this.v0=G7O.v0;this.v1=G7O.v1;this.v2=G7O.v2;this.adjust();};K6O.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};K6O.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=![];this.p2=null;};K6O.inheritsFrom(K6O.Drawing.pitchfork,K6O.Drawing.channel);K6O.Drawing.pitchfork.prototype.configs=["color",k07,"pattern"];K6O.Drawing.pitchfork.prototype.move=function(s1O,r7O,P1O){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[r7O,P1O];}else {this.p2=[r7O,P1O];}this.render(s1O);};K6O.Drawing.pitchfork.prototype.intersected=function(m1O,l1O,o1O){var J1O,T1O,s07,i07;if(!this.p0 || !this.p1 || !this.p2){return null;}J1O={0:this.p0,1:this.p1,2:this.p2};for(var B1O in J1O){if(this.pointIntersection(J1O[B1O][0],J1O[B1O][1],o1O)){f6K.R4H(3);this.highlighted=f6K.W4H((2790,3690) !== (2860,"1440" | 1440)?193 !== 4459?(659.38,3610) === 2340?(7.35e+3,!{}):"p":![]:(!{},"E"),B1O);return {action:"drag",point:"p" + B1O};}}T1O=this.rays;for(var X1O=0;X1O < T1O.length;X1O++){s07="seg";s07+="ment";if(this.lineIntersection(m1O,l1O,o1O,X1O?"ray":s07,T1O[X1O][0],T1O[X1O][1],! !{})){i07="m";i07+="ov";i07+="e";this.highlighted=! !{};return {action:i07,p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),p2:K6O.clone(this.p2),tick:m1O,value:l1O};}}return null;};K6O.Drawing.pitchfork.prototype.render=function(K1O){var N1O,U1O,R1O,e1O,u1O,w1O,t1O,Z1O,O1O,h1O,A1O,j1O,q1O,c1O,v1O,c07,p1O,S1O,a1O,x1O,V1O;N1O=this.stx.panels[this.panelName];if(!N1O){return;}U1O=this.stx;R1O=this.p2;if(!R1O){R1O=this.p1;}e1O=U1O.pixelFromTick(this.p0[0],N1O.chart);u1O=U1O.pixelFromTick(this.p1[0],N1O.chart);w1O=U1O.pixelFromTick(R1O[0],N1O.chart);t1O=U1O.pixelFromValueAdjusted(N1O,this.p0["0" ^ 0],this.p0[1]);Z1O=U1O.pixelFromValueAdjusted(N1O,this.p1[+"0"],this.p1["1" << 496107168]);O1O=U1O.pixelFromValueAdjusted(N1O,R1O[0],R1O[1]);h1O=this.lineWidth;A1O=this.getLineColor();j1O={pattern:this.pattern,lineWidth:h1O};q1O=50;f6K.R4H(43);c1O=f6K.y4H(Z1O,2,t1O,O1O);f6K.D4H(43);v1O=f6K.y4H(u1O,2,e1O,w1O);if(v1O < +"0"){q1O*=- +"1";}f6K.R4H(8);c1O*=f6K.W4H(v1O,q1O);f6K.R4H(10);this.rays=[[[u1O,Z1O],[w1O,O1O]],[[e1O,t1O],[f6K.y4H(w1O,u1O,2),f6K.y4H(O1O,Z1O,2)]]];if(!(u1O == w1O && Z1O == O1O)){f6K.D4H(6);this.rays.push([[u1O,Z1O],[f6K.W4H(u1O,q1O),f6K.W4H(Z1O,c1O)]],[[w1O,O1O],[f6K.W4H(w1O,q1O),f6K.W4H(O1O,c1O)]]);}for(var D1O=0;D1O < this.rays.length;D1O++){c07="seg";c07+="m";c07+="ent";p1O=this.rays[D1O];S1O=D1O?"ray":c07;U1O.plotLine(p1O[0][0],p1O[1][0],p1O[0][1],p1O[1][1],A1O,S1O,K1O,N1O,j1O);}if(this.highlighted){a1O=this.highlighted == "p0"?! !{}:!"1";x1O=this.highlighted == "p1"?!"":!{};V1O=this.highlighted == "p2"?! !"1":! !0;this.littleCircle(K1O,e1O,t1O,a1O);this.littleCircle(K1O,u1O,Z1O,x1O);this.littleCircle(K1O,w1O,O1O,V1O);}};K6O.Drawing.pitchfork.prototype.adjust=function(){var b1O;b1O=this.stx.panels[this.panelName];if(!b1O){return;}f6K.R4H(29);this.setPoint(f6K.W4H("0",0),this.d0,this.v0,b1O.chart);this.setPoint(1,this.d1,this.v1,b1O.chart);this.setPoint(2,this.d2,this.v2,b1O.chart);};K6O.Drawing.pitchfork.prototype.reconstruct=function(Q1O,y1O){this.stx=Q1O;this.color=y1O.col;this.panelName=y1O.pnl;this.pattern=y1O.ptrn;this.lineWidth=y1O.lw;this.d0=y1O.d0;this.d1=y1O.d1;this.d2=y1O.d2;this.tzo0=y1O.tzo0;this.tzo1=y1O.tzo1;this.tzo2=y1O.tzo2;this.v0=y1O.v0;this.v1=y1O.v1;this.v2=y1O.v2;this.adjust();};K6O.Drawing.pitchfork.prototype.serialize=function(){f6K.T1K();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};K6O.Drawing.gartley=function(){this.name="gartley";f6K.T1K();this.dragToDraw=!"1";this.maxSegments=4;this.shape=null;this.points=[];};K6O.inheritsFrom(K6O.Drawing.gartley,K6O.Drawing.continuous);K6O.Drawing.gartley.prototype.check=function(M1O,Y1O){if(!Y1O){return ! ![];}if(M1O[0] >= Y1O[0] || M1O["1" & 2147483647] == Y1O[1]){return !1;}if(this.segment == 1){if(M1O[1] < Y1O[1]){this.shape=("1337" - 0,3180) <= 986?3.80e+3:"M";}else {this.shape="W";}}else if(this.segment == 2){if(this.shape == "M" && M1O[1] < Y1O[1]){return !"1";}else if(this.shape == (+"5710" !== (+"3990",498.31)?"W":9.25e+3) && M1O[1] > Y1O[1]){return ![];}else if((Y1O[1] - M1O[1]) / (this.points[+"0"][1] - M1O[1]) < 0.618){return ![];}else if((Y1O[1] - M1O[1]) / (this.points[0][1] - M1O[1]) >= "0.786" - 0){return !"1";}}else if(this.segment == +"3"){if(this.shape == "M" && M1O[1] > Y1O[1]){return ! !0;}else if(this.shape == "W" && M1O[+"1"] < Y1O[1]){return ![];}else if((Y1O[+"1"] - M1O[1]) / (this.points[1]["1" >> 629575808] - M1O[1]) < 0.618){return !{};}else if((Y1O[1] - M1O[1]) / (this.points[1][1] - M1O["1" >> 1597914240]) >= "0.786" - 0){return ![];}}else if(this.segment == 4){if(this.shape == ((4830,150.34) < 2890?17 >= 204?(4120,7147) === "75.28" - 0?550.50:(0x1e2e,9.20e+1):"M":(! !0,0x1f75)) && (M1O[1] < Y1O[1] || Y1O[1] < this.points[0][+"1"])){return !{};}else if(this.shape == "W" && (M1O[1] > Y1O[1] || Y1O[1] > this.points[0][1])){return ![];}else if((this.points[1][1] - Y1O["1" * 1]) / (this.points[1][1] - this.points["2" - 0][1]) < 1.27){return ![];}else if((this.points[1][1] - Y1O[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return ! !"";}}return ! !{};};K6O.Drawing.gartley.prototype.click=function(F1O,g1O,W1O){var f1O,B67,f67,o67,F97,u97,R97;f1O=this.stx.panels[this.panelName];if(!f1O){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",g1O,W1O,f1O.chart);this.pts=[];this.penDown=! ![];f6K.D4H(4);this.segment=f6K.y4H("1",2147483647);return ! !"";}if(this.accidentalClick(g1O,W1O)){B67=2021417378;f6K.R4H(0);f67=f6K.y4H("650849337",510806752);o67=2;for(var G67=+"1";f6K.V4w(G67.toString(),G67.toString().length,29533) !== B67;G67++){this.penDown=! ![];return ![];}if(f6K.h4w(o67.toString(),o67.toString().length,69422) !== f67){this.penDown=! !"";return !"";}}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,g1O,W1O,f1O.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[+"0"][1],f1O.chart);this.penDown=!{};F97=70020379;u97=276190186;R97=2;for(var p97=1;f6K.h4w(p97.toString(),p97.toString().length,48165) !== F97;p97++){return ! !0;}if(f6K.V4w(R97.toString(),R97.toString().length,33281) !== u97){return ! !"1";}}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,g1O,W1O,f1O.chart);;}return ![];};K6O.Drawing.gartley.prototype.render=function(z1O){var n1O,B9O,H1O,J9O,G1O,l37,U37,M37,I1O,T9O,C1O,i1O,E1O,d1O,r1O,P9O,s9O,X9O,a97,x97,E97;f6K.T1K();n1O=this.stx.panels[this.panelName];if(!n1O){return;}B9O=this.stx.pixelFromTick(this.p0[0],n1O.chart);H1O=this.stx.pixelFromTick(this.p1["0" | 0],n1O.chart);J9O=this.stx.pixelFromValueAdjusted(n1O,this.p0[0],this.p0[1]);G1O=this.stx.pixelFromValueAdjusted(n1O,this.p1[0],this.p1[1]);if(this.segment == "2" << 1595615296){l37=1976630333;U37=1443175607;M37=2;for(var B37=1;f6K.h4w(B37.toString(),B37.toString().length,90612) !== l37;B37++){this.drawDropZone(z1O,(16798 - this.points[3]["2" * 1]) / (95227 + this.p0[5]),34649 % this.points[2][9] * (73803 - this.p0[5]),this.p0[9]);M37+=2;}if(f6K.V4w(M37.toString(),M37.toString().length,90332) !== U37){this.drawDropZone(z1O,+"0.618" * this.points[0][1] + +"0.382" * this.p0[+"1"],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}}else if(this.segment == 3){this.drawDropZone(z1O,0.618 * this.points["1" * 1][1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[+"1"],this.p0[+"0"]);}else if(this.segment == 4){f6K.D4H(3);var s8I=f6K.y4H(0,1);f6K.D4H(11);var i8I=f6K.W4H(0,18,19);I1O=1.618 * this.points[+"2"][s8I] - +"0.618" * this.points["1" ^ 0][i8I];if(this.shape == "M"){I1O=Math.max(I1O,this.points[0][1]);}else {I1O=Math.min(I1O,this.points[0][1]);}this.drawDropZone(z1O,I1O,1.27 * this.points[2][1] - 0.27 * this.points[+"1"][1],this.p0[0]);}T9O=this.lineWidth;C1O=this.getLineColor();i1O={pattern:this.pattern,lineWidth:T9O};if((this.penDown || this.highlighted) && this.pattern == "none"){i1O.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(B9O,H1O,J9O,G1O,C1O,this.name,z1O,n1O,i1O);}E1O=this.fillColor;d1O=[];if(this.points.length){z1O.beginPath();for(var L1O=1;L1O < this.points.length && L1O <= 4;L1O++){r1O=this.stx.pixelFromTick(this.points[L1O - 1][0],n1O.chart);P9O=this.stx.pixelFromTick(this.points[L1O][+"0"],n1O.chart);s9O=this.stx.pixelFromValueAdjusted(n1O,this.points[L1O - 1][0],this.points[L1O - +"1"][1]);X9O=this.stx.pixelFromValueAdjusted(n1O,this.points[L1O][0],this.points[L1O][1]);if(L1O == 1){d1O.push(r1O,s9O);}d1O.push(P9O,X9O);this.stx.plotLine(r1O,P9O,s9O,X9O,C1O,this.name,z1O,n1O,i1O);}if(this.points.length == 2 || this.points.length == 4){d1O.push(H1O,G1O);}if(this.points[+"2"]){d1O.push(this.stx.pixelFromTick(this.points[2][0],n1O.chart),this.stx.pixelFromValueAdjusted(n1O,this.points[2][0],this.points["2" >> 2034632640][1]));}if(E1O && E1O != "auto" && !K6O.isTransparent(E1O)){for(var k1O=0;k1O < d1O.length;k1O+=2){if(k1O === ("0" ^ 0)){z1O.moveTo(d1O[0],d1O[1]);}z1O.lineTo(d1O[k1O],d1O[k1O + 1]);}z1O.fillStyle=E1O;f6K.D4H(14);z1O.globalAlpha=f6K.y4H("0.2",1);z1O.closePath();a97=1625577406;x97=-1361713687;E97=2;for(var N97=1;f6K.V4w(N97.toString(),N97.toString().length,9686) !== a97;N97++){z1O.fill();f6K.R4H(44);z1O.globalAlpha=f6K.y4H(0,"1");E97+=2;}if(f6K.h4w(E97.toString(),E97.toString().length,"18206" << 579524544) !== x97){z1O.fill();z1O.globalAlpha=9;}}};};K6O.Drawing.gartley.prototype.lineIntersection=function(N9O,U9O,u9O,w9O){var m9O,o9O;m9O=this.points;o9O=this.stx.panels[this.panelName];if(m9O.length != this.maxSegments + 1 || !o9O){return ! !"";}for(var l9O=0;l9O < m9O.length - 1;l9O++){if(K6O.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,N9O,U9O,u9O,"segment",m9O[l9O],m9O[l9O + 1])){return ! ![];}}return !"1";};K6O.Drawing.gartley.prototype.boxIntersection=function(D9O,p9O,O9O){var R9O,q9O;if(!this.p0 || !this.p1){return !{};}if(O9O.x0 > Math.max(this.p0[0],this.p1[0]) || O9O.x1 < Math.min(this.p0[0],this.p1[0])){return !{};}R9O=Math.min(this.p0[1],this.p1[1]);q9O=Math.max(this.p0[+"1"],this.p1[1]);for(var Z9O="0" ^ 0;Z9O < this.points.length;Z9O++){R9O=Math.min(R9O,this.points[Z9O][1]);q9O=Math.max(q9O,this.points[Z9O][1]);}if(O9O.y1 > q9O || O9O.y0 < R9O){return !{};}return !0;};K6O.Drawing.gartley.prototype.reposition=function(j9O,e9O,c9O,v9O){var X07,t9O,h9O,A9O;X07="m";X07+="ov";X07+="e";if(!e9O){return;}t9O=this.stx.panels[this.panelName];h9O=e9O.tick - c9O;e9O.tick=c9O;A9O=e9O.value - v9O;e9O.value=v9O;if(e9O.action == X07){this.pts=[];for(var K9O=0;K9O < this.points.length;K9O++){this.points[K9O][0]-=h9O;this.points[K9O][1]-=A9O;this.setPoint(1,this.points[K9O]["0" << 437256800],this.points[K9O][1],t9O.chart);if(K9O && K9O < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[K9O]=this.p1;}this.setPoint(+"0",this.points[0][0],this.points[0][1],t9O.chart);this.render(j9O);;}};K6O.Drawing.gartley.prototype.configs=["color","fillColor",W07,g07];K6O.Drawing.gartley.prototype.adjust=function(){f6K.N1K();var S9O;S9O=this.stx.panels[this.panelName];if(!S9O){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,S9O.chart);this.points.unshift(this.p0);f6K.R4H(14);this.setPoint(f6K.W4H("1",1),this.d1,this.v1,S9O.chart);this.points.push(this.p1);};K6O.Drawing.gartley.prototype.reconstructPoints=function(){var V9O,x9O;V9O=this.stx.panels[this.panelName];if(!V9O){return;}this.points=[];for(var a9O=0;a9O < this.pts.length;a9O+=3){x9O=K6O.strToDateTime(this.pts[a9O]);x9O.setMinutes(x9O.getMinutes() + Number(this.pts[a9O + 1]) - x9O.getTimezoneOffset());this.points.push([this.stx.tickFromDate(K6O.yyyymmddhhmmssmmm(x9O),V9O.chart),this.pts[a9O + 2]]);}};K6O.Drawing.gartley.prototype.reconstruct=function(y9O,b9O){var Y37,a37,x37;this.stx=y9O;Y37=68834785;f6K.R4H(45);a37=f6K.y4H("788588111",1534824032);f6K.D4H(6);x37=f6K.y4H("2",0);for(var L37=1;f6K.V4w(L37.toString(),L37.toString().length,63709) !== Y37;L37++){this.color=b9O.col;this.fillColor=b9O.fc;x37+=2;}if(f6K.V4w(x37.toString(),x37.toString().length,50611) !== a37){this.color=b9O.col;this.fillColor=b9O.fc;}this.color=b9O.col;this.fillColor=b9O.fc;this.panelName=b9O.pnl;this.pattern=b9O.ptrn;this.lineWidth=b9O.lw;this.d0=b9O.d0;this.d1=b9O.d1;this.tzo0=b9O.tzo0;this.tzo1=b9O.tzo1;this.v0=b9O.v0;this.v1=b9O.v1;this.pts=b9O.pts.split(1280 === (6941,4521)?(0x5ed,0x9ac):("9560" - 0,6440) == 926?"l":(6770,8570) <= (7424,126.95)?(0x24f2,471.96):",");this.adjust();};K6O.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(5375 >= +"3684"?",":(8630,858.97) < 2798?474.51 === +"5981"?("U","T"):877.53:(0x1a01,707.38))};};K6O.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;this.dragToDraw=! ![];};K6O.inheritsFrom(K6O.Drawing.freeform,K6O.Drawing.segment);K6O.Drawing.freeform.prototype.measure=function(){};K6O.Drawing.freeform.prototype.intersected=function(Y9O,M9O,Q9O){var b07;f6K.N1K();b07="mov";b07+="e";if(Q9O.x0 > this.hiX || Q9O.x1 < this.lowX){return null;}if(Q9O.y1 > this.hiY || Q9O.y0 < this.lowY){return null;}this.highlighted=! !"1";return {action:b07,p0:K6O.clone(this.p0),tick:Y9O,value:M9O};};K6O.Drawing.freeform.prototype.reposition=function(n9O,f9O,z9O,L9O){var g9O,W9O,F9O;if(!f9O){return;}g9O=this.stx.panels[this.panelName];W9O=f9O.tick - z9O;F9O=f9O.value - L9O;if(f9O.action == "move"){this.setPoint(0,f9O.p0[0] - W9O,f9O.p0[1] - F9O,g9O.chart);this.adjust();this.render(n9O);}};K6O.Drawing.freeform.prototype.click=function(i9O,I9O,E9O){var d9O,k9O;d9O=this.stx.panels[this.panelName];if(!d9O){return;}if(this.penDown === !"1"){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(I9O,d9O.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(d9O,I9O,E9O)));k9O=this.stx.dateFromTick(I9O,d9O.chart,!"");this.d0=K6O.yyyymmddhhmmssmmm(k9O);this.tzo0=k9O.getTimezoneOffset();this.v0=E9O;this.p0=[K6O.ChartEngine.crosshairX - this.startX,K6O.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=d9O.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=! !{};return ! !"";}this.penDown=!1;this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return ! !{};};K6O.Drawing.freeform.prototype.move=function(C9O,r9O,P0L){var H9O,G9O;if(!this.penDown){return;}H9O=this.stx.panels[this.panelName];G9O=this.stx.dateFromTick(r9O,H9O.chart,!0);this.d1=K6O.yyyymmddhhmmssmmm(G9O);this.tzo1=G9O.getTimezoneOffset();this.v1=P0L;this.p1=[K6O.ChartEngine.crosshairX - this.startX,H9O.yAxis.flipped?this.startY - K6O.ChartEngine.crosshairY:K6O.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;f6K.R4H(29);this.nodes.length-=f6K.W4H("2",0);}else if(this.p1["1" * 1] == this.pNodes[this.pNodes.length - 2][+"1"] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=+"2";}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(C9O);return ! !0;};K6O.Drawing.freeform.prototype.intervalRatio=function(T0L,s0L,U0L,u0L,B0L,J0L){var X0L,v07,U97,M97,Z97,C07,V07,h07,Q07;function l0L(O0L,R0L){f6K.T1K();return 5;}function m0L(K0L,p0L){if(K6O.Market.Symbology.isForexSymbol(p0L)){return +"1440";}f6K.N1K();return 390;}X0L=0;if(T0L == s0L){X0L=1;}else if(!isNaN(T0L) && !isNaN(s0L)){f6K.D4H(8);X0L=f6K.W4H(s0L,T0L);}else if(isNaN(T0L)){v07="w";v07+="e";v07+="ek";if(T0L == "month"){U97=981390835;M97=23816192;Z97=2;for(var f97=1;f6K.h4w(f97.toString(),f97.toString().length,54877) !== U97;f97++){C07="d";C07+="a";C07+="y";if(s0L === "day"){X0L=N0L(B0L,J0L);}else if(s0L === C07){X0L=o0L(B0L,J0L);}else if(~isNaN(s0L)){X0L=(o0L(B0L,J0L) + m0L(B0L,J0L)) * s0L;}f6K.R4H(4);Z97+=f6K.W4H("2",2147483647);}if(f6K.h4w(Z97.toString(),Z97.toString().length,64798) !== M97){V07="d";V07+="a";V07+="y";h07="w";h07+="e";h07+="ek";if(s0L == h07){X0L=N0L(B0L,J0L);}else if(s0L == V07){X0L=o0L(B0L,J0L);}else if(!isNaN(s0L)){X0L=o0L(B0L,J0L) * m0L(B0L,J0L) / s0L;}}}else if(T0L == v07){if(s0L == "month"){f6K.D4H(46);var c8I=f6K.y4H(2,17,10,15,20);X0L=c8I / N0L(B0L,J0L);}if(s0L == "day"){X0L=l0L(B0L,J0L);}else if(!isNaN(s0L)){X0L=l0L(B0L,J0L) * m0L(B0L,J0L) / s0L;}}else if(T0L == "day"){if(s0L == "week"){f6K.D4H(47);var X8I=f6K.y4H(15,6001,20,20);X0L=X8I / l0L(B0L,J0L);}else if(s0L == "month"){f6K.R4H(3);var W8I=f6K.y4H(0,1);X0L=W8I / o0L(B0L,J0L);}else if(!isNaN(s0L)){X0L=m0L(B0L,J0L) / s0L;}}}else if(!isNaN(T0L)){Q07="d";Q07+="ay";if(s0L == "month"){X0L=T0L / (o0L(B0L,J0L) * m0L(B0L,J0L));}else if(s0L == "week"){X0L=T0L / (l0L(B0L,J0L) * m0L(B0L,J0L));}else if(s0L == Q07){X0L=T0L / m0L(B0L,J0L);}}function N0L(w0L,Z0L){return +"5";}function o0L(q0L,D0L){f6K.D4H(44);return f6K.y4H(14,"30");}f6K.R4H(8);X0L*=f6K.y4H(u0L,U0L);return X0L;};K6O.Drawing.freeform.prototype.render=function(a0L){var e0L,h0L,x0L,V0L,b0L,A0L,t0L,y0L,j0L,S0L,Q0L,v0L,v57,Q57,r57;f6K.T1K();e0L=this.stx.panels[this.panelName];if(!e0L){return;}h0L=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,e0L.chart.symbol);if(h0L === +"0"){return;}x0L=this.stx.layout.candleWidth / this.candleWidth;V0L=e0L.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,e0L.chart);b0L=this.stx.pixelFromTick(this.p0[0],e0L.chart);A0L=this.stx.pixelFromValueAdjusted(e0L,this.p0[+"0"],this.p0["1" ^ 0]);t0L=[];y0L=this.lineWidth;j0L=this.getLineColor();S0L={pattern:this.pattern,lineWidth:y0L};for(var c0L=+"0";c0L < this.pNodes.length;c0L++){Q0L=h0L * x0L * this.pNodes[c0L]["0" & 2147483647] + b0L;f6K.R4H(48);var g8I=f6K.W4H(2,754850243,1509700474);v0L=V0L * this.pNodes[c0L]["1" << g8I];if(e0L.yAxis.flipped){f6K.R4H(6);v0L=f6K.W4H(A0L,v0L);}else {v0L+=A0L;}t0L.push(Q0L,v0L);}v57=-707931274;Q57=-1526847129;r57=2;for(var y57=1;f6K.V4w(y57.toString(),y57.toString().length,49397) !== v57;y57++){if(!t0L.length){return;}r57+=2;}if(f6K.h4w(r57.toString(),r57.toString().length,"72942" << 1117559552) !== Q57){if(+t0L.length){return;}}if(this.splineTension < 0){this.stx.connectTheDots(t0L,j0L,this.name,a0L,e0L,S0L);}else {this.stx.plotSpline(t0L,this.splineTension,j0L,this.name,a0L,! !{},S0L);}};K6O.Drawing.freeform.prototype.adjust=function(){var Y0L,L0L,M0L,F0L,n0L,g0L,z0L,W0L;Y0L=this.stx.panels[this.panelName];if(!Y0L){return;}f6K.R4H(6);L0L=[this.nodes[0],this.nodes[f6K.y4H("1",0)]];this.pNodes=[L0L];this.lowX=this.nodes[0];this.hiX=this.nodes[0];f6K.R4H(6);this.lowY=this.nodes[f6K.W4H("1",0)];this.hiY=this.nodes[1];for(var f0L=+"2";f0L < this.nodes.length;f0L+="2" << 1802449792){f6K.D4H(49);M0L=[this.nodes[f0L],this.nodes[f6K.W4H("1",f0L)]];this.pNodes.push(M0L);this.lowX=Math.min(this.lowX,M0L[0]);this.hiX=Math.max(this.hiX,M0L[0]);this.lowY=Math.max(this.lowY,M0L[1]);this.hiY=Math.min(this.hiY,M0L[1]);}F0L=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,Y0L.chart.symbol);if(F0L === 0){return;}n0L=this.stx.layout.candleWidth / this.candleWidth;g0L=Y0L.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,Y0L.chart);z0L=this.stx.pixelFromTick(this.p0[0],Y0L.chart);W0L=this.stx.pixelFromValueAdjusted(Y0L,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(F0L * n0L * this.lowX) + z0L,Y0L.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(F0L * n0L * this.hiX) + z0L,Y0L.chart);if(Y0L.yAxis.flipped){this.lowY=this.stx.valueFromPixel(W0L - Math.floor(g0L * this.lowY),Y0L);this.hiY=this.stx.valueFromPixel(W0L - Math.ceil(g0L * this.hiY),Y0L);}else {this.lowY=this.stx.valueFromPixel(Math.floor(g0L * this.lowY) + W0L,Y0L);this.hiY=this.stx.valueFromPixel(Math.ceil(g0L * this.hiY) + W0L,Y0L);}};K6O.Drawing.freeform.prototype.serialize=function(){f6K.T1K();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(+"4")),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};K6O.Drawing.freeform.prototype.reconstruct=function(I0L,d0L){this.stx=I0L;this.color=d0L.col;this.panelName=d0L.pnl;this.pattern=d0L.ptrn;this.lineWidth=d0L.lw;this.candleWidth=d0L.cw;this.multiplier=d0L.mlt;this.d0=d0L.d0;this.tzo0=d0L.tzo0;this.v0=d0L.v0;this.interval=d0L.inter;this.periodicity=d0L.pd;this.nodes=d0L.nodes;this.adjust();};K6O.Drawing.callout=function(){this.name="callout";this.arr=[];f6K.R4H(0);this.w=f6K.y4H("0",1086437856);this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};K6O.inheritsFrom(K6O.Drawing.callout,K6O.Drawing.annotation);K6O.Drawing.callout.prototype.configs=[r07,d07,"lineWidth",K07,"font"];K6O.Drawing.callout.prototype.copyConfig=function(k0L){K6O.Drawing.copyConfig(this,k0L);this.borderColor=this.color;};K6O.Drawing.callout.prototype.move=function(E0L,i0L,H0L){if(!this.penDown){return;}this.copyConfig();this.p0=[i0L,H0L];this.render(E0L);};K6O.Drawing.callout.prototype.onChange=function(P8L){var r0L,C0L,G0L;r0L=this.stx.panels[this.panelName];if(!r0L){return;}C0L=P8L.target;this.w=C0L.clientWidth;this.h=C0L.clientHeight;G0L=this.context || this.stx.chart.tempCanvas.context;K6O.clearCanvas(G0L.canvas,this.stx);this.render(G0L);this.edit(G0L);};K6O.Drawing.callout.prototype.render=function(s8L){var t07,D07,u8L,p8L,D8L,B8L,X8L,T8L,J8L,w8L,Z8L,U8L,l8L,O8L,o8L,R8L,m8L,N8L,I67,O67,T67,A07,y07,t97,J97,H97,w07,K8L;t07="alp";t07+="ha";t07+="b";t07+="etic";D07="au";D07+="to";this.context=s8L;u8L=this.stx.panels[this.panelName];if(!u8L){return;}p8L=this.stx.pixelFromTick(this.p0[0],u8L.chart);D8L=this.stx.pixelFromValueAdjusted(u8L,this.p0[0],this.p0[1]);if(isNaN(D8L)){return;}s8L.font=this.fontString;s8L.textBaseline="top";B8L=p8L;X8L=D8L;f6K.D4H(50);var b8I=f6K.W4H(18,15,16,15);T8L=this.w / b8I;f6K.R4H(51);var C8I=f6K.y4H(20,20,5,4,7998);J8L=this.h / C8I;if(this.penDown){T8L=this.defaultWidth;J8L=this.defaultHeight;if(!J8L){J8L=this.fontSize;}}w8L=this.lineWidth;if(!w8L){f6K.D4H(6);w8L=f6K.y4H("1.1",0);}Z8L=this.color;if(Z8L == D07 || K6O.isTransparent(Z8L)){Z8L=this.stx.defaultColor;}U8L=this.borderColor;if(U8L == "auto" || K6O.isTransparent(U8L)){U8L=this.stx.defaultColor;}if(this.highlighted){U8L=this.stx.getCanvasColor("stx_highlight_vector");}m8L=Math.min(Math.min(T8L,J8L) / +"2",8);if(this.stem){if(this.stem.t){l8L=this.stx.pixelFromTick(this.stem.t);o8L=this.stx.pixelFromValueAdjusted(u8L,this.stem.t,this.stem.v);}else if(this.stem.x){l8L=B8L;o8L=X8L;B8L+=this.stem.x;X8L+=this.stem.y;}N8L="";if(l8L >= B8L + T8L){f6K.R4H(3);O8L=f6K.W4H(B8L,T8L);N8L=("3448" ^ 0) <= (9810,8800)?(9090,+"3310") == 1551?("Q",968.03):(6910,+"586") !== 6700?"r":(+"575.36",!""):(!{},8.61e+3);}else if(l8L > B8L - T8L && l8L < B8L + T8L){O8L=B8L;N8L=(3180,2881) != 9705?"c":(862.54,7350) != +"2759"?(5.45e+3,"615.35" * 1):(3.87,7.18e+3);}else if(l8L <= B8L - T8L){f6K.D4H(6);O8L=f6K.y4H(B8L,T8L);N8L=124.13 <= 3685?"l":("0x1783" ^ 0,"s");}if(o8L >= X8L + J8L){f6K.R4H(3);R8L=f6K.y4H(X8L,J8L);N8L+=(992.46,67.37) == ("1617" ^ 0)?304.02:"b";}else if(o8L > X8L - J8L && o8L < X8L + J8L){R8L=X8L;N8L+=8940 !== 141.82?"m":(0x497,313.18);}else if(o8L <= X8L - J8L){f6K.R4H(6);R8L=f6K.W4H(X8L,J8L);I67=1528439483;O67=-385310522;f6K.D4H(0);T67=f6K.W4H("2",1250116512);for(var z67=1;f6K.h4w(z67.toString(),z67.toString().length,+"83671") !== I67;z67++){N8L%="646866" - 0 > (+"1766",6738)?"t":("t",964893);T67+=+"2";}if(f6K.V4w(T67.toString(),T67.toString().length,19954) !== O67){N8L+=479.71 < (3074,7280)?"t":("F",+"366.33");}}this.stemEntry=N8L;if(N8L != "cm"){l8L=Math.round(l8L);O8L=Math.round(O8L);o8L=Math.round(o8L);R8L=Math.round(R8L);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",s8L);}else {if(this.fillColor){s8L.fillStyle=this.fillColor;f6K.D4H(14);s8L.globalAlpha=f6K.y4H("0.4",1);}else if(this.stem){s8L.fillStyle=this.stx.containerColor;}}s8L.strokeStyle=U8L;if(s8L.setLineDash){s8L.setLineDash(K6O.borderPatternToArray(w8L,this.pattern));s8L.lineDashOffset=+"0";;}if(U8L){A07="r";A07+="b";y07="r";y07+="m";s8L.beginPath();s8L.lineWidth=w8L;f6K.R4H(11);s8L.moveTo(f6K.W4H(B8L,m8L,T8L),f6K.W4H(X8L,J8L,f6K.D4H(6)));if(this.stemEntry != "rt"){f6K.R4H(3);s8L.quadraticCurveTo(f6K.W4H(B8L,T8L),f6K.y4H(X8L,J8L,f6K.D4H(6)),f6K.y4H(B8L,T8L,f6K.D4H(3)),f6K.y4H(J8L,X8L,m8L,f6K.D4H(5)));;}else {t97=+"2066590852";J97=-1184820015;H97=+"2";for(var Y97=1;f6K.h4w(Y97.toString(),Y97.toString().length,83855) !== t97;Y97++){s8L.lineTo(l8L,o8L);f6K.R4H(8);s8L.lineTo(f6K.y4H(T8L,B8L),f6K.W4H(m8L,J8L,X8L,f6K.D4H(52)));H97+=2;}if(f6K.h4w(H97.toString(),H97.toString().length,87428) !== J97){s8L.lineTo(l8L,o8L);f6K.R4H(3);s8L.lineTo(f6K.W4H(B8L,T8L),f6K.y4H(J8L,X8L,m8L,f6K.R4H(5)));}}f6K.R4H(3);s8L.lineTo(f6K.y4H(B8L,T8L),f6K.W4H(m8L,X8L,"2",f6K.D4H(53)));if(this.stemEntry == y07){s8L.lineTo(l8L,o8L);}f6K.R4H(3);s8L.lineTo(f6K.W4H(B8L,T8L),f6K.W4H(X8L,2,m8L,f6K.D4H(54)));f6K.R4H(3);s8L.lineTo(f6K.y4H(B8L,T8L),f6K.y4H(X8L,m8L,J8L,f6K.R4H(11)));if(this.stemEntry != A07){f6K.D4H(3);s8L.quadraticCurveTo(f6K.y4H(B8L,T8L),f6K.W4H(X8L,J8L,f6K.D4H(3)),f6K.W4H(B8L,m8L,T8L,f6K.R4H(11)),f6K.y4H(X8L,J8L,f6K.D4H(3)));;}else {s8L.lineTo(l8L,o8L);f6K.D4H(11);s8L.lineTo(f6K.W4H(B8L,m8L,T8L),f6K.y4H(X8L,J8L,f6K.R4H(3)));}f6K.R4H(54);s8L.lineTo(f6K.y4H(B8L,2,m8L),f6K.y4H(X8L,J8L,f6K.D4H(3)));if(this.stemEntry == "cb"){s8L.lineTo(l8L,o8L);}f6K.D4H(55);s8L.lineTo(f6K.W4H(m8L,B8L,2),f6K.y4H(X8L,J8L,f6K.R4H(3)));f6K.D4H(5);s8L.lineTo(f6K.W4H(T8L,B8L,m8L),f6K.y4H(X8L,J8L,f6K.R4H(3)));if(this.stemEntry != "lb"){f6K.R4H(6);s8L.quadraticCurveTo(f6K.y4H(B8L,T8L),f6K.W4H(X8L,J8L,f6K.R4H(3)),f6K.y4H(B8L,T8L,f6K.R4H(6)),f6K.y4H(X8L,m8L,J8L,f6K.D4H(11)));;}else {s8L.lineTo(l8L,o8L);f6K.D4H(6);s8L.lineTo(f6K.y4H(B8L,T8L),f6K.y4H(X8L,m8L,J8L,f6K.D4H(11)));}f6K.R4H(6);s8L.lineTo(f6K.W4H(B8L,T8L),f6K.W4H(X8L,2,m8L,f6K.R4H(54)));if(this.stemEntry == "lm"){s8L.lineTo(l8L,o8L);}f6K.R4H(6);s8L.lineTo(f6K.y4H(B8L,T8L),f6K.y4H(m8L,X8L,2,f6K.D4H(55)));f6K.D4H(6);s8L.lineTo(f6K.y4H(B8L,T8L),f6K.W4H(J8L,X8L,m8L,f6K.D4H(5)));if(this.stemEntry != "lt"){f6K.R4H(6);s8L.quadraticCurveTo(f6K.W4H(B8L,T8L),f6K.y4H(X8L,J8L,f6K.R4H(6)),f6K.W4H(T8L,B8L,m8L,f6K.R4H(5)),f6K.y4H(X8L,J8L,f6K.R4H(6)));;}else {s8L.lineTo(l8L,o8L);f6K.D4H(5);s8L.lineTo(f6K.W4H(T8L,B8L,m8L),f6K.W4H(X8L,J8L,f6K.R4H(6)));}f6K.R4H(55);s8L.lineTo(f6K.W4H(m8L,B8L,2),f6K.y4H(X8L,J8L,f6K.D4H(6)));if(this.stemEntry == "ct"){s8L.lineTo(l8L,o8L);}f6K.D4H(54);s8L.lineTo(f6K.W4H(B8L,2,m8L),f6K.y4H(X8L,J8L,f6K.R4H(6)));f6K.R4H(11);s8L.lineTo(f6K.W4H(B8L,m8L,T8L),f6K.W4H(X8L,J8L,f6K.R4H(6)));s8L.fill();s8L.globalAlpha=1;if(this.pattern != "none"){s8L.stroke();}}if(this.highlighted){w07="stx";w07+="_ann";w07+="otati";w07+="on_highlight";this.stx.canvasColor(w07,s8L);}else {s8L.fillStyle=Z8L;}X8L+=this.padding;if(!this.ta){for(var q8L=0;q8L < this.arr.length;q8L++){s8L.fillText(this.arr[q8L],B8L - T8L + this.padding,X8L - J8L);X8L+=this.fontSize;}}s8L.textBaseline=t07;if(this.highlighted && !this.noHandles){K8L=this.highlighted == "p0"?! ![]:![];this.littleCircle(s8L,l8L,o8L,K8L);};};K6O.Drawing.callout.prototype.click=function(t8L,c8L,v8L){var e8L;if(this.stx.overXAxis || this.stx.overYAxis){return;}e8L=this.stx.panels[this.panelName];f6K.N1K();this.copyConfig();this.setPoint(0,c8L,v8L,e8L.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !{};this.adjust();return ![];}this.adjust();this.edit(t8L);this.penDown=![];return ![];};K6O.Drawing.callout.prototype.reposition=function(V8L,h8L,a8L,x8L){var A8L,j8L,S8L;if(!h8L){return;}A8L=this.stx.panels[this.panelName];j8L=h8L.tick - a8L;S8L=h8L.value - x8L;if(h8L.stem){if(h8L.action == "drag"){this.stem={d:this.stx.dateFromTick(a8L,A8L.chart,! ![]),v:x8L};}else if(h8L.action == "move"){this.setPoint(0,h8L.p0[0] - j8L,h8L.p0["1" ^ 0] - S8L,A8L.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(h8L.stem.d,A8L.chart) - j8L),v:h8L.stem.v - S8L};}this.adjust();}else {this.setPoint(+"0",h8L.p0[0] - j8L,h8L.p0[1] - S8L,A8L.chart);}this.render(V8L);};K6O.Drawing.callout.prototype.lineIntersection=function(k8L,E8L,d8L,I8L){var g8L,b8L,Y8L,W8L,F8L,n8L,y8L,M8L,f8L,z8L,L8L,Q8L;g8L=this.stx.panels[this.panelName];b8L=this.stem;Y8L=this.p0;W8L=this.stx;if(!Y8L || !b8L || !g8L){return !{};}F8L=b8L.t || this.stx.tickFromDate(b8L.d,g8L.chart);n8L={x0:Y8L["0" * 1],x1:F8L,y0:Y8L[1],y1:b8L.v};y8L=K6O.convertBoxToPixels(W8L,this.panelName,n8L);M8L=y8L.x0;f8L=y8L.y0;z8L=y8L.x1;L8L=y8L.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf(93 == 902.28?892.42:"l") > -1){f6K.D4H(33);var h8I=f6K.W4H(4,18,3);M8L-=this.w / h8I;}else if(this.stemEntry.indexOf(5600 === 799.27?+"486.6" <= (9390,3040)?(2683,3387) > 187.22?![]:("T",0x99f):"0x2412" ^ 0:"r") > -1){f6K.R4H(56);var V8I=f6K.W4H(1,22,5,1,27);M8L+=this.w / V8I;}if(this.stemEntry.indexOf((958.22,+"2586") == (107.88,549.44)?"H":(85.33,392.9) > (947.54,1485)?("Q","U"):(+"219.06",3430) !== (920.82,+"8548")?"t":"R") > -1){f8L-=this.h / +"2";}else if(this.stemEntry.indexOf("b") > -1){f6K.R4H(3);var v8I=f6K.W4H(1,1);f8L+=this.h / v8I;}}Q8L=K6O.convertBoxToPixels(W8L,this.panelName,d8L);return K6O.boxIntersects(Q8L.x0,Q8L.y0,Q8L.x1,Q8L.y1,M8L,f8L,z8L,L8L,I8L);};K6O.Drawing.callout.prototype.intersected=function(H8L,C8L,i8L){var G8L,r8L,P2L,s2L,X2L,B2L,J2L,T2L,J07;G8L=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,i8L)){this.highlighted="p0";return {action:"drag",stem:!""};}f6K.D4H(27);var Q8I=f6K.y4H(17,377348528512,22284361920);r8L=this.stx.pixelFromTick(this.p0[0],G8L.chart) - this.w / ("2" >> Q8I);f6K.R4H(6);var r8I=f6K.y4H(9,8);f6K.R4H(6);var d8I=f6K.y4H(19,17);P2L=this.stx.pixelFromValueAdjusted(G8L,this.p0[0],this.p0[r8I]) - this.h / d8I;s2L=r8L + this.w;X2L=P2L + this.h;if(this.stem && this.stem.x){r8L+=this.stem.x;s2L+=this.stem.x;P2L+=this.stem.y;X2L+=this.stem.y;}B2L=this.stx.pixelFromTick(H8L,G8L.chart);J2L=this.stx.pixelFromValueAdjusted(G8L,H8L,C8L);if(B2L + i8L.r >= r8L && B2L - i8L.r <= s2L && J2L + i8L.r >= P2L && J2L - i8L.r <= X2L){this.highlighted=! !1;return {p0:K6O.clone(this.p0),tick:H8L,value:C8L};}T2L=this.lineIntersection(H8L,C8L,i8L,"segment");if(T2L){J07="m";J07+="ov";J07+="e";this.highlighted=! ![];return {action:J07,stem:K6O.clone(this.stem),p0:K6O.clone(this.p0),tick:H8L,value:C8L};}return null;};K6O.Drawing.fibonacci=function(){var H07;H07="fibon";H07+="acci";this.name=H07;this.configurator="fibonacci";};K6O.inheritsFrom(K6O.Drawing.fibonacci,K6O.Drawing.BaseTwoPoint);K6O.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:"p",pattern:"pt",opacity:"o",lineWidth:"lw",level:(+"1450",1770) <= 1220?(55.75,8350) == (456,425.21)?"O":+"766.34":"l",extendLeft:8880 < (225.03,7323)?637.19:387 == 4169?(9.21e+3,+"0xd16"):(194.19,+"369.44") >= 2889?0x1636:"e",printLevels:S07,printValues:"pv",timezone:"tz",display:+"8543" !== 9029?"940" - 0 != 578?"d":(0xaf5,! ![]):4.14e+3};f6K.D4H(6);K6O.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,0.5,f6K.y4H("0.618",0),1,1.382,1.618];K6O.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth",Y07,a07];K6O.Drawing.fibonacci.prototype.initializeSettings=function(U2L){var o2L,l2L;o2L=this.recommendedLevels;if(o2L && !U2L.currentVectorParameters.fibonacci.fibsAlreadySet){l2L=U2L.currentVectorParameters.fibonacci.fibs;for(var m2L=0;m2L < l2L.length;m2L++){delete l2L[m2L].display;for(var N2L=0;N2L < o2L.length;N2L++){if(l2L[m2L].level == o2L[N2L]){l2L[m2L].display=!"";}}}}};K6O.Drawing.fibonacci.prototype.setOuter=function(){var u2L,w2L,p2L,K2L,e2L,t2L,c2L,h2L,A2L,O2L,R2L,Z2L,D2L,v2L;u2L=this.stx;w2L=u2L.panels[this.panelName];f6K.T1K();if(!w2L){return;}p2L=Math.max(this.p0[1],this.p1[1]);K2L=Math.min(this.p0[1],this.p1[+"1"]);f6K.D4H(6);e2L=f6K.y4H(p2L,K2L);this.outer={p0:K6O.clone(this.p0),p1:K6O.clone(this.p1)};t2L=u2L.pixelFromValueAdjusted(w2L,this.p0[0],this.p0[1]);c2L=u2L.pixelFromValueAdjusted(w2L,this.p1[0],this.p1["1" ^ 0]);h2L=u2L.pixelFromTick(this.p0[0],w2L.chart);A2L=u2L.pixelFromTick(this.p1[0],w2L.chart);O2L=0;R2L=1;for(var q2L="0" & 2147483647;q2L < this.parameters.fibs.length;q2L++){Z2L=this.parameters.fibs[q2L];if(Z2L.level >= O2L && Z2L.level <= R2L || !Z2L.display)continue;D2L=u2L.pixelFromValueAdjusted(w2L,this.p0[0],c2L < t2L?p2L - e2L * Z2L.level:K2L + e2L * Z2L.level);v2L=K6O.xIntersection({x0:h2L,x1:A2L,y0:t2L,y1:c2L},D2L);if(Z2L.level < O2L){O2L=Z2L.level;this.outer.p1[1]=u2L.valueFromPixel(D2L,w2L);this.outer.p1[0]=u2L.tickFromPixel(v2L,w2L.chart);}else if(Z2L.level > R2L){R2L=Z2L.level;this.outer.p0[1]=u2L.valueFromPixel(D2L,w2L);this.outer.p0[0]=u2L.tickFromPixel(v2L,w2L.chart);}}};K6O.Drawing.fibonacci.prototype.click=function(x2L,S2L,a2L){var j2L;j2L=this.stx.panels[this.panelName];if(!j2L){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",S2L,a2L,j2L.chart);this.penDown=! !{};return !{};}if(this.accidentalClick(S2L,a2L)){return this.dragToDraw;}this.setPoint(1,S2L,a2L,j2L.chart);this.setOuter();this.parameters=K6O.clone(this.parameters);this.penDown=! !0;return ! !{};;};K6O.Drawing.fibonacci.prototype.render=function(V2L){var N07,x07,b2L,G2L,C2L,r2L,B3L,d2L,z2L,M2L,Q2L,J3L,T3L,m3L,U3L,u3L,l3L,w3L,P3L,I2L,s3L,k2L,L2L,L07,E07,W2L,y2L,i2L,F2L,Y2L,Z3L,E2L,n2L,f2L,o3L,g2L,N3L,m27,O3L,R3L;N07="s";N07+="egm";N07+="e";N07+="nt";x07="16";x07+="1.8";x07+="%";b2L=this.stx.panels[this.panelName];if(!b2L){return;}G2L=b2L.yAxis;if(!this.p1){return;}C2L=Math.max(this.p0[1],this.p1["1" - 0]);r2L=Math.min(this.p0[1],this.p1[1]);B3L=G2L.flipped?r2L - C2L:C2L - r2L;d2L=this.stx.pixelFromTick(this.p0[0],b2L.chart);z2L=this.stx.pixelFromTick(this.p1[0],b2L.chart);M2L=this.stx.pixelFromValueAdjusted(b2L,this.p0[0],this.p0[+"1"]);Q2L=this.stx.pixelFromValueAdjusted(b2L,this.p1[0],this.p1[1]);J3L=Math.min(Q2L,M2L);T3L=Math.max(Q2L,M2L);f6K.R4H(6);m3L=f6K.y4H(T3L,J3L);f6K.R4H(57);U3L=f6K.W4H(d2L,M2L,Q2L,0,z2L);u3L={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=u3L;}l3L=this.getLineColor(this.parameters.trend.color);V2L.textBaseline="middle";this.stx.canvasFont("stx_yaxis",V2L);f6K.R4H(58);var K8I=f6K.W4H(8,17,8,27);w3L=V2L.measureText(x07).width + K8I;P3L=Number.MAX_VALUE;I2L=Number.MAX_VALUE;f6K.D4H(59);var D8I=f6K.W4H(9,15,0,6);s3L=Number.MAX_VALUE * D8I;f6K.R4H(15);var y8I=f6K.W4H(6,7,12);k2L=Number.MAX_VALUE * y8I;L2L=this.color;if(L2L == "auto" || K6O.isTransparent(L2L)){L2L=this.stx.defaultColor;}this.rays=[];for(var X3L=0;X3L < this.parameters.fibs.length;X3L++){L07="a";L07+="u";L07+="t";L07+="o";E07="a";E07+="u";E07+="t";E07+="o";V2L.textAlign="left";V2L.fillStyle=L2L;W2L=this.parameters.fibs[X3L];if(!W2L.display)continue;y2L=this.stx.pixelFromValueAdjusted(b2L,this.p0[0],Q2L < M2L?C2L - B3L * W2L.level:r2L + B3L * W2L.level);i2L=K6O.xIntersection({x0:d2L,x1:z2L,y0:M2L,y1:Q2L},y2L);F2L=this.parameters.extendLeft?0:i2L;Y2L=b2L.left + b2L.width;if(this.parameters.printLevels){f6K.D4H(48);var A8I=f6K.W4H(67,999,67);f6K.D4H(6);var w8I=f6K.W4H(91300,82170);f6K.D4H(60);var t8I=f6K.y4H(1,1137,12,1153,1153);f6K.D4H(61);var J8I=f6K.W4H(13,16,9251,1914968);f6K.D4H(27);var H8I=f6K.y4H(8,41468,5925);f6K.R4H(62);var S8I=f6K.y4H(5,17,1493,14930,7431);f6K.D4H(36);var Y8I=f6K.y4H(19,6,1335414643,6);f6K.D4H(6);var a8I=f6K.W4H(5094,4245);Z3L=Math.round(W2L.level * A8I) / +"10" + (w8I < (t8I,J8I)?"%":(477.62,+"5569") != H8I?646.14 !== (+"1040",498.1)?S8I:"0x1808" >> Y8I:a8I);Y2L-=w3L;if(this.parameters.printValues){V2L.fillStyle=L2L;this.stx.canvasFont("stx_yaxis",V2L);;}if(Y2L < F2L){V2L.textAlign="right";}V2L.fillText(Z3L,Y2L,y2L);if(Y2L < F2L){Y2L+=5;}else {Y2L-=5;}}if(this.parameters.printValues){if(i2L < b2L.width){E2L=this.stx.transformedPriceFromPixel(y2L,b2L);if(G2L.priceFormatter){E2L=G2L.priceFormatter(this.stx,b2L,E2L);}else {E2L=this.stx.formatYAxisPrice(E2L,b2L);}if(V2L == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(b2L,E2L,y2L,L2L,null,V2L);if(V2L == this.stx.chart.context){this.stx.startClip(b2L.name);}}}n2L=W2L.color;if(n2L == E07 || K6O.isTransparent(n2L)){n2L=this.color;}if(n2L == L07 || K6O.isTransparent(n2L)){n2L=this.stx.defaultColor;}f2L=W2L.color;if(f2L == "auto" || K6O.isTransparent(f2L)){f2L=this.fillColor;}if(f2L == "auto" || K6O.isTransparent(f2L)){f2L=this.stx.defaultColor;}V2L.fillStyle=f2L;o3L=K6O.clone(W2L.parameters);if(this.highlighted){o3L.opacity=1;}this.stx.plotLine(F2L,Y2L,y2L,y2L,this.highlighted?l3L:n2L,"segment",V2L,b2L,o3L);this.rays.push([[F2L,y2L],[Y2L,y2L]]);V2L.globalAlpha=0.05;V2L.beginPath();V2L.moveTo(Y2L,y2L);V2L.lineTo(F2L,y2L);if(F2L){V2L.lineTo(z2L,Q2L);}else {V2L.lineTo(F2L,Q2L);}V2L.lineTo(Y2L,Q2L);if(typeof f2L != "undefined"){V2L.fill();}V2L.globalAlpha=+"1";if(y2L < I2L){P3L=i2L;I2L=y2L;}if(y2L > k2L){s3L=i2L;k2L=y2L;}}for(var H2L=0;H2L <= 1;H2L++){g2L=U3L?T3L - m3L * H2L:J3L + m3L * H2L;g2L=Math.round(g2L);if(g2L < I2L){P3L=K6O.xIntersection({x0:d2L,x1:z2L,y0:M2L,y1:Q2L},g2L);I2L=g2L;}if(g2L > k2L){s3L=K6O.xIntersection({x0:d2L,x1:z2L,y0:M2L,y1:Q2L},g2L);k2L=g2L;}}N3L=K6O.clone(this.parameters.trend.parameters);f6K.T1K();if(this.highlighted){N3L.opacity=1;}this.stx.plotLine(P3L,s3L,I2L,k2L,l3L,N07,V2L,b2L,N3L);if(this.highlighted){m27="p";m27+="1";O3L=this.highlighted == "p0"?! ![]:!"1";R3L=this.highlighted == m27?! !{}:! !"";this.littleCircle(V2L,d2L,M2L,O3L);this.littleCircle(V2L,z2L,Q2L,R3L);}};K6O.Drawing.fibonacci.prototype.reposition=function(D3L,q3L,p3L,K3L){if(!q3L){return;}K6O.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};K6O.Drawing.fibonacci.prototype.intersected=function(a3L,x3L,V3L){var c3L,v3L,h3L,A3L,j3L,S3L,M27;c3L=this.p0;v3L=this.p1;if(!c3L || !v3L){return null;}h3L={0:c3L,1:v3L};for(var e3L in h3L){if(this.pointIntersection(h3L[e3L][+"0"],h3L[e3L][1],V3L)){f6K.D4H(3);this.highlighted=f6K.W4H("p",e3L);return {action:"drag",point:(("7239" & 2147483647,830.82) === (5281,1410)?63.75 > +"7134"?("V",!""):(! !"",!"1"):"p") + e3L};}}A3L=this.outer;j3L=this.rays;S3L=A3L && this.lineIntersection(a3L,x3L,V3L,"segment",A3L.p0,A3L.p1);if(!S3L){for(var t3L=0;t3L < j3L.length;t3L++){M27="r";M27+="a";M27+="y";if(this.lineIntersection(a3L,x3L,V3L,M27,j3L[t3L][0],j3L[t3L][1],! ![])){S3L=!0;break;}}}if(S3L){this.highlighted=! !1;return {action:"move",p0:K6O.clone(c3L),p1:K6O.clone(v3L),tick:a3L,value:x3L};}f6K.T1K();return null;};K6O.Drawing.fibonacci.prototype.reconstruct=function(y3L,b3L){b3L=K6O.replaceFields(b3L,K6O.reverseObject(K6O.Drawing.fibonacci.mapping));this.stx=y3L;this.parameters=b3L.parameters;if(!this.parameters){this.parameters=K6O.clone(this.stx.currentVectorParameters.fibonacci);}this.color=b3L.col;this.fillColor=b3L.fc;this.panelName=b3L.pnl;f6K.T1K();this.d0=b3L.d0;this.d1=b3L.d1;this.d2=b3L.d2;this.tzo0=b3L.tzo0;this.tzo1=b3L.tzo1;this.tzo2=b3L.tzo2;this.v0=b3L.v0;this.v1=b3L.v1;this.v2=b3L.v2;this.adjust();};K6O.Drawing.fibonacci.prototype.adjust=function(){var Q3L;Q3L=this.stx.panels[this.panelName];if(!Q3L){return;}f6K.N1K();this.setPoint(0,this.d0,this.v0,Q3L.chart);this.setPoint(+"1",this.d1,this.v1,Q3L.chart);this.setOuter();};K6O.Drawing.fibonacci.prototype.serialize=function(){f6K.T1K();var Y3L;Y3L={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return K6O.replaceFields(Y3L,K6O.Drawing.fibonacci.mapping);};K6O.Drawing.retracement=function(){f6K.T1K();this.name="retracement";};K6O.inheritsFrom(K6O.Drawing.retracement,K6O.Drawing.fibonacci);K6O.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=![];this.p2=null;};K6O.inheritsFrom(K6O.Drawing.fibprojection,K6O.Drawing.fibonacci);f6K.R4H(14);K6O.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,f6K.W4H("2.618",1),4.236];K6O.Drawing.fibprojection.prototype.click=function(W3L,f3L,g3L){var M3L;M3L=this.stx.panels[this.panelName];if(!M3L){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,f3L,g3L,M3L.chart);this.penDown=! !"1";return !1;}if(this.accidentalClick(f3L,g3L)){this.stx.undo();return ! !1;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],M3L.chart);this.parameters=K6O.clone(this.parameters);return !"";}this.setPoint(1,f3L,g3L,M3L.chart);f6K.R4H(45);this.p2=[this.p1[f6K.y4H("0",2001761984)],this.p1[1]];return !{};;};K6O.Drawing.fibprojection.prototype.render=function(F3L){var P27,B27,Z27,n3L,m4L,o4L,G3L,r3L,s4L,P4L,X4L,E3L,N4L,B4L,U4L,i3L,b87,C87,h87,o27,f27,H3L,z3L,u4L,I3L,L3L,w4L,C3L,k3L,d3L,l4L,T4L,Z4L,O4L,R4L;P27="seg";f6K.N1K();P27+="m";P27+="ent";B27="stx_yax";B27+="is";Z27="mi";Z27+="d";Z27+="dle";n3L=this.stx.panels[this.panelName];if(!n3L){return;}m4L=n3L.yAxis;if(!this.p1){return;}f6K.R4H(63);var x8I=f6K.W4H(11,12,13,88,20);f6K.D4H(5);var E8I=f6K.W4H(17,9,9);o4L=this.p1[x8I] - this.p0[E8I];G3L=this.stx.pixelFromTick(this.p0[0],n3L.chart);r3L=this.stx.pixelFromTick(this.p1[+"0"],n3L.chart);s4L=this.stx.pixelFromValueAdjusted(n3L,this.p0[0],this.p0[1]);P4L=this.stx.pixelFromValueAdjusted(n3L,this.p1[0],this.p1[1]);X4L=null;E3L=null;if(this.p2){X4L=this.stx.pixelFromTick(this.p2[0],n3L.chart);E3L=this.stx.pixelFromValueAdjusted(n3L,this.p2[0],this.p2[1]);}N4L={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"}};if(!this.parameters.trend){this.parameters.trend=N4L;}B4L=this.getLineColor(this.parameters.trend.color);F3L.textBaseline=Z27;this.stx.canvasFont(B27,F3L);f6K.R4H(47);var L8I=f6K.y4H(6,721,15,8);U4L=F3L.measureText("161.8%").width + "10" * L8I;i3L=this.color;if(i3L == "auto" || K6O.isTransparent(i3L)){i3L=this.stx.defaultColor;}if(this.p2){b87=-83807846;C87=227318239;h87=2;for(var v87="1" << 739208576;f6K.V4w(v87.toString(),v87.toString().length,53289) !== b87;v87++){this.rays=[];h87+=2;}if(f6K.V4w(h87.toString(),h87.toString().length,63228) !== C87){this.rays=[];}for(var J4L=0;J4L < this.parameters.fibs.length;J4L++){o27="undefi";o27+="n";o27+="ed";f27="seg";f27+="m";f27+="e";f27+="nt";F3L.textAlign="left";F3L.fillStyle=i3L;H3L=this.parameters.fibs[J4L];if(!H3L.display)continue;z3L=this.stx.pixelFromValueAdjusted(n3L,this.p2[0],this.p2[+"1"] + o4L * H3L.level);u4L=K6O.xIntersection({x0:G3L,x1:r3L,y0:s4L,y1:P4L},z3L);I3L=this.parameters.extendLeft?0:G3L;L3L=n3L.left + n3L.width;if(this.parameters.printLevels){f6K.R4H(33);var N8I=f6K.y4H(3000,4000,1);w4L=Math.round(H3L.level * N8I) / +"10" + "%";L3L-=U4L;if(this.parameters.printValues){F3L.fillStyle=i3L;this.stx.canvasFont("stx_yaxis",F3L);;}if(L3L < I3L){F3L.textAlign="right";}F3L.fillText(w4L,L3L,z3L);if(L3L < I3L){L3L+=5;}else {L3L-=5;}}if(this.parameters.printValues){if(u4L < n3L.width){C3L=this.stx.transformedPriceFromPixel(z3L,n3L);if(m4L.priceFormatter){C3L=m4L.priceFormatter(this.stx,n3L,C3L);}else {C3L=this.stx.formatYAxisPrice(C3L,n3L);}if(F3L == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(n3L,C3L,z3L,i3L,null,F3L);if(F3L == this.stx.chart.context){this.stx.startClip(n3L.name);}}}k3L=H3L.color;if(k3L == "auto" || K6O.isTransparent(k3L)){k3L=this.color;}if(k3L == "auto" || K6O.isTransparent(k3L)){k3L=this.stx.defaultColor;}d3L=H3L.color;if(d3L == "auto" || K6O.isTransparent(d3L)){d3L=this.fillColor;}if(d3L == "auto" || K6O.isTransparent(d3L)){d3L=this.stx.defaultColor;}F3L.fillStyle=d3L;l4L=K6O.clone(H3L.parameters);if(this.highlighted){l4L.opacity=1;}this.stx.plotLine(I3L,L3L,z3L,z3L,this.highlighted?B4L:k3L,f27,F3L,n3L,l4L);this.rays.push([[I3L,z3L],[L3L,z3L]]);F3L.globalAlpha=0.05;F3L.beginPath();F3L.moveTo(L3L,z3L);F3L.lineTo(I3L,z3L);if(I3L){F3L.lineTo(G3L,E3L);}else {F3L.lineTo(I3L,E3L);}F3L.lineTo(L3L,E3L);if(typeof d3L != o27){F3L.fill();}F3L.globalAlpha=1;}}T4L=K6O.clone(this.parameters.trend.parameters);if(this.highlighted){f6K.D4H(44);T4L.opacity=f6K.y4H(0,"1");}this.stx.plotLine(G3L,r3L,s4L,P4L,B4L,P27,F3L,n3L,T4L);if(this.p2){this.stx.plotLine(r3L,X4L,P4L,E3L,B4L,"segment",F3L,n3L,T4L);}if(this.highlighted){Z4L=this.highlighted == "p0"?!0:![];O4L=this.highlighted == "p1"?! !{}:!1;R4L=this.highlighted == "p2"?! !{}:![];this.littleCircle(F3L,G3L,s4L,Z4L);this.littleCircle(F3L,r3L,P4L,O4L);this.littleCircle(F3L,X4L,E3L,R4L);}};K6O.Drawing.fibprojection.prototype.move=function(p4L,q4L,D4L){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[q4L,D4L];}else {this.p2=[q4L,D4L];}this.render(p4L);};K6O.Drawing.fibprojection.prototype.reposition=function(v4L,K4L,h4L,A4L){var I27,e4L,t4L,c4L;f6K.N1K();I27="mo";I27+="v";I27+="e";if(!K4L){return;}e4L=this.stx.panels[this.panelName];t4L=K4L.tick - h4L;c4L=K4L.value - A4L;if(K4L.action == I27){this.setPoint(0,K4L.p0[0] - t4L,K4L.p0[+"1"] - c4L,e4L.chart);this.setPoint(1,K4L.p1[+"0"] - t4L,K4L.p1[1] - c4L,e4L.chart);this.setPoint(2,K4L.p2[0] - t4L,K4L.p2[1] - c4L,e4L.chart);this.render(v4L);}else if(K4L.action == "drag"){this[K4L.point]=[h4L,A4L];this.setPoint(0,this.p0[0],this.p0[1],e4L.chart);this.setPoint(1,this.p1[0],this.p1[1],e4L.chart);this.setPoint(2,this.p2[0],this.p2["1" & 2147483647],e4L.chart);this.render(v4L);}};K6O.Drawing.fibprojection.prototype.intersected=function(b4L,y4L,Q4L){var j27,S4L,j4L,a4L,Y4L,O27,M4L,f4L,z27;j27="se";j27+="gme";j27+="nt";S4L=this.p0;j4L=this.p1;a4L=this.p2;if(!S4L || !j4L || !a4L){return null;}Y4L={0:S4L,1:j4L,2:a4L};for(var x4L in Y4L){if(this.pointIntersection(Y4L[x4L][0],Y4L[x4L][1],Q4L)){O27="d";O27+="r";O27+="a";O27+="g";f6K.R4H(3);this.highlighted=f6K.W4H((6720,"371.92" - 0) == (9521,5219)?(1.63e+3,"s"):9740 <= 4310?("p","f"):(7604,+"309") >= 5900?(8.95e+3,"X"):"p",x4L);return {action:O27,point:("799.31" * 1 <= 61.09?(3.61e+3,0x14ee):(1220,9022) >= (8650,8276)?1480 <= 1882?"p":983.42:"d") + x4L};}}M4L=this.rays;f4L=this.lineIntersection(b4L,y4L,Q4L,j27,S4L,j4L) || this.lineIntersection(b4L,y4L,Q4L,"segment",j4L,a4L);if(!f4L){for(var V4L=0;V4L < M4L.length;V4L++){if(this.lineIntersection(b4L,y4L,Q4L,"ray",M4L[V4L][0],M4L[V4L][1],!0)){f4L=!0;break;}}}if(f4L){z27="mo";z27+="v";z27+="e";this.highlighted=! !"1";return {action:z27,p0:K6O.clone(S4L),p1:K6O.clone(j4L),p2:K6O.clone(a4L),tick:b4L,value:y4L};}return null;};K6O.Drawing.fibprojection.prototype.adjust=function(){var g4L;g4L=this.stx.panels[this.panelName];if(!g4L){return;}this.setPoint(0,this.d0,this.v0,g4L.chart);this.setPoint(1,this.d1,this.v1,g4L.chart);this.setPoint(2,this.d2,this.v2,g4L.chart);};K6O.Drawing.fibarc=function(){this.name="fibarc";;};K6O.inheritsFrom(K6O.Drawing.fibarc,K6O.Drawing.fibonacci);K6O.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,1];K6O.Drawing.fibarc.prototype.setOuter=function(){var W4L,F4L,n4L,L4L,d4L,z4L,I4L;W4L=this.stx.panels[this.panelName];if(!W4L){return;}this.outer={p0:K6O.clone(this.p0),p1:K6O.clone(this.p1)};F4L=this.stx.pixelFromValueAdjusted(W4L,this.p0[0],this.p0["1" << 1669552704]);n4L=this.stx.pixelFromValueAdjusted(W4L,this.p1[0],this.p1[1]);L4L=this.stx.pixelFromTick(this.p0["0" ^ 0],W4L.chart);d4L=this.stx.pixelFromTick(this.p1[0],W4L.chart);f6K.R4H(64);z4L=f6K.W4H(n4L,"2",F4L);I4L=K6O.xIntersection({x0:L4L,x1:d4L,y0:F4L,y1:n4L},z4L);this.outer.p0[1]=this.stx.valueFromPixel(z4L,W4L);this.outer.p0[0]=this.stx.tickFromPixel(I4L,W4L.chart);};K6O.Drawing.fibarc.prototype.intersected=function(G4L,s5L,E4L){var p27,q27,X5L,i4L,H4L,J5L,B5L,e27,R27,m5L,k4L,r4L,T5L,P5L;p27="mo";p27+="v";p27+="e";q27="seg";q27+="ment";X5L=this.stx.panels[this.panelName];if(!X5L){return;}i4L=this.p0;H4L=this.p1;J5L=this.outer;f6K.N1K();if(!i4L || !H4L){return null;}B5L={0:i4L,1:H4L};for(var C4L in B5L){if(this.pointIntersection(B5L[C4L][0],B5L[C4L][1],E4L)){e27="dr";e27+="ag";f6K.R4H(3);this.highlighted=f6K.W4H(3255 !== 5898?(578.71,4251) >= 5679?"V":"p":"0xeb8" & 2147483647,C4L);return {action:e27,point:(7570 > (3660,9702)?720.24:"p") + C4L};}}if(this.lineIntersection(G4L,s5L,E4L,q27,J5L.p0,J5L.p1)){R27="mo";R27+="v";R27+="e";this.highlighted=! ![];return {action:R27,p0:K6O.clone(i4L),p1:K6O.clone(H4L),tick:G4L,value:s5L};}m5L={x0:i4L["0" | 0],x1:H4L[0],y0:i4L[+"1"],y1:H4L[1]};k4L=K6O.convertBoxToPixels(this.stx,this.panelName,m5L);r4L={x:Math.abs(Math.sqrt(2) * (k4L.x1 - k4L.x0)),y:Math.abs(Math.sqrt(2) * (k4L.y1 - k4L.y0))};T5L=this.stx.pixelFromTick(G4L,X5L.chart);P5L=this.stx.pixelFromValueAdjusted(X5L,G4L,s5L);if(T5L + E4L.r < k4L.x1 - r4L.x || T5L - E4L.r > k4L.x1 + r4L.x){return null;}if(P5L + E4L.r < k4L.y1 - r4L.y || P5L - E4L.r > k4L.y1 + r4L.y){return null;}if(k4L.y0 < k4L.y1 && P5L - E4L.r > k4L.y1){return null;}if(k4L.y0 > k4L.y1 && P5L + E4L.r < k4L.y1){return null;}this.highlighted=! ![];return {action:p27,p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),tick:G4L,value:s5L};};K6O.Drawing.fibarc.prototype.render=function(l5L){var o5L,p5L,R5L,u5L,Z5L,U5L,t5L,c5L,v5L,K5L,i27,N5L,j5L,h5L,q5L,S5L,a5L,k27,O5L,D5L,w5L,A5L,c27,x5L,V5L;o5L=this.stx.panels[this.panelName];if(!o5L){return;}p5L=o5L.yAxis;if(!this.p1){return;}R5L=this.stx.pixelFromTick(this.p0[+"0"],o5L.chart);u5L=this.stx.pixelFromTick(this.p1[0],o5L.chart);Z5L=this.stx.pixelFromValueAdjusted(o5L,this.p0[0],this.p0[1]);U5L=this.stx.pixelFromValueAdjusted(o5L,this.p1[0],this.p1[1]);f6K.R4H(65);t5L=f6K.y4H(U5L,Z5L);f6K.R4H(66);c5L=Math.abs(f6K.W4H(U5L,u5L,R5L,Z5L));v5L=this.getLineColor(this.parameters.trend.color);l5L.textBaseline="middle";this.stx.canvasFont("stx_yaxis",l5L);K5L=this.getLineColor();for(var e5L=0;e5L < this.parameters.fibs.length;e5L++){i27="aut";i27+="o";l5L.fillStyle=K5L;N5L=this.parameters.fibs[e5L];if(N5L.level < 0 || !N5L.display)continue;f6K.R4H(19);var m9I=f6K.W4H(17,16);f6K.R4H(67);var l9I=f6K.W4H(15,20,89,10,14);j5L=Math.abs(this.p1[m9I] - this.p0[l9I]) * Math.sqrt("2" ^ 0) * N5L.level;f6K.D4H(68);var U9I=f6K.W4H(12,23,2,7,5);f6K.R4H(6);var M9I=f6K.y4H(0,1);f6K.R4H(22);var Z9I=f6K.y4H(143330425,5,1146643394);f6K.D4H(6);var B9I=f6K.W4H(7,6);h5L=this.p1[U9I] + j5L * (t5L?M9I:+"1") * (p5L.flipped?-("1" << Z9I):B9I);q5L=this.stx.pixelFromValueAdjusted(o5L,this.p0["0" & 2147483647],h5L);S5L=K6O.xIntersection({x0:R5L,x1:u5L,y0:Z5L,y1:U5L},q5L);if(this.parameters.printLevels){l5L.textAlign="center";f6K.D4H(19);var f9I=f6K.y4H(19,9);f6K.D4H(69);var o9I=f6K.W4H(4863,4799,1621,17);f6K.D4H(3);var P9I=f6K.y4H(391,7419);f6K.D4H(3);var G9I=f6K.W4H(543,6515);f6K.R4H(70);var I9I=f6K.W4H(63111,3950,17,11,17);f6K.D4H(48);var O9I=f6K.W4H(26180,9516,104720);f6K.D4H(48);var T9I=f6K.W4H(23940,5981,95760);f6K.R4H(48);var j9I=f6K.y4H(1,12,2087483860);a5L=Math.round(N5L.level * +"1000") / f9I + (("818" & 2147483647) !== o9I?"%":(P9I,G9I) === (I9I,O9I)?! !"1":(T9I,"8.22e+3" << j9I));if(this.parameters.printValues){k27="stx";k27+="_";k27+="yaxis";l5L.fillStyle=K5L;this.stx.canvasFont(k27,l5L);;}l5L.fillText(a5L,u5L,Math.round(q5L - 5));}l5L.textAlign="left";if(this.parameters.printValues){if(S5L < o5L.width){O5L=h5L;if(p5L.priceFormatter){O5L=p5L.priceFormatter(this.stx,o5L,O5L);}else {O5L=this.stx.formatYAxisPrice(O5L,o5L);}if(l5L == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(o5L,O5L,q5L,K5L,null,l5L);if(l5L == this.stx.chart.context){this.stx.startClip(o5L.name);}}}D5L=N5L.color;if(D5L == "auto" || K6O.isTransparent(D5L)){D5L=this.getLineColor();}l5L.strokeStyle=this.highlighted?v5L:D5L;w5L=N5L.color;if(w5L == i27 || K6O.isTransparent(w5L)){w5L=this.fillColor;}if(w5L == "auto" || K6O.isTransparent(w5L)){w5L=this.stx.defaultColor;}l5L.fillStyle=w5L;l5L.globalAlpha=this.highlighted?"1" ^ 0:N5L.parameters.opacity;l5L.lineWidth=N5L.parameters.lineWidth;if(l5L.setLineDash){l5L.setLineDash(K6O.borderPatternToArray(l5L.lineWidth,N5L.parameters.pattern));l5L.lineDashOffset=+"0";;}l5L.save();l5L.beginPath();f6K.D4H(8);l5L.scale(f6K.W4H(c5L,1),1);f6K.R4H(14);l5L.arc(f6K.y4H(u5L,c5L),U5L,Math.abs(q5L - U5L),0,Math.PI,!t5L);if(this.pattern != "none"){l5L.stroke();}l5L.globalAlpha=0.05;l5L.fill();l5L.restore();if(l5L.setLineDash){l5L.setLineDash([]);}l5L.globalAlpha=1;}l5L.textAlign="left";A5L=K6O.clone(this.parameters.trend.parameters);if(this.highlighted){A5L.opacity=1;}f6K.R4H(27);this.stx.plotLine(u5L,f6K.y4H(R5L,u5L,2),U5L,f6K.W4H(Z5L,U5L,2),v5L,"segment",l5L,o5L,A5L);if(this.highlighted){c27="p";c27+="0";x5L=this.highlighted == c27?! !"1":! !"";V5L=this.highlighted == "p1"?! !{}:! !0;this.littleCircle(l5L,R5L,Z5L,x5L);this.littleCircle(l5L,u5L,U5L,V5L);}};K6O.Drawing.fibfan=function(){this.name="fibfan";;};K6O.inheritsFrom(K6O.Drawing.fibfan,K6O.Drawing.fibonacci);K6O.Drawing.fibfan.prototype.recommendedLevels=[+"0",0.382,0.5,0.618,1];K6O.Drawing.fibfan.prototype.setOuter=function(){};K6O.Drawing.fibfan.prototype.render=function(b5L){var g27,W27,Q5L,P6L,y5L,g5L,Y5L,I5L,s6L,X6L,B6L,T6L,m6L,E5L,i5L,H5L,n5L,z5L,f5L,G5L,M5L,L5L,l6L,k5L,W5L,F5L,J6L,d5L,o6L,N6L;g27="a";g27+="u";g27+="t";g27+="o";W27="s";W27+="tx_";W27+="yax";W27+="is";Q5L=this.stx.panels[this.panelName];if(!Q5L){return;}P6L=Q5L.yAxis;if(!this.p1){return;}y5L=this.stx.pixelFromTick(this.p0[0],Q5L.chart);g5L=this.stx.pixelFromTick(this.p1[0],Q5L.chart);Y5L=this.stx.pixelFromValueAdjusted(Q5L,this.p0[0],this.p0[+"1"]);I5L=this.stx.pixelFromValueAdjusted(Q5L,this.p1[0],this.p1[1]);s6L=Math.min(I5L,Y5L);X6L=Math.max(I5L,Y5L);f6K.D4H(6);B6L=f6K.y4H(X6L,s6L);f6K.T1K();f6K.R4H(57);T6L=f6K.y4H(y5L,Y5L,I5L,0,g5L);m6L=this.getLineColor(this.parameters.trend.color);b5L.textBaseline="middle";this.stx.canvasFont(W27,b5L);f6K.R4H(71);var z9I=f6K.W4H(14,7,7,9);E5L=b5L.measureText("161.8%").width + z9I;i5L=Number.MAX_VALUE;f6K.D4H(19);var e9I=f6K.W4H(13,14);H5L=Number.MAX_VALUE * e9I;n5L=this.color;if(n5L == g27 || K6O.isTransparent(n5L)){n5L=this.stx.defaultColor;}this.rays=[];for(var r5L=0;r5L < this.parameters.fibs.length;r5L++){b5L.fillStyle=n5L;z5L=this.parameters.fibs[r5L];if(!z5L.display)continue;f5L=this.stx.pixelFromValueAdjusted(Q5L,this.p0[0],(this.p0[1] - this.p1[1]) * z5L.level + this.p1[1]);G5L=K6O.xIntersection({x0:g5L,x1:g5L,y0:Y5L,y1:I5L},f5L);M5L=Q5L.left;if(g5L > y5L){M5L+=Q5L.width;}f6K.D4H(72);L5L=f6K.W4H(y5L,f5L,G5L,Y5L,M5L,y5L,Y5L);if(y5L > M5L - (this.parameters.printLevels?E5L + 5:0) && g5L > y5L)continue;else if(y5L < M5L + (this.parameters.printLevels?E5L + 5:0) && g5L < y5L)continue;if(this.parameters.printLevels){f6K.D4H(73);var q9I=f6K.y4H(20,20,11,20);f6K.R4H(3);var F9I=f6K.W4H(631,6939);f6K.R4H(48);var u9I=f6K.W4H(1363,4089,1363);l6L=Math.round(z5L.level * ("1000" ^ 0)) / q9I + (F9I == +"8990"?u9I:"%");if(g5L > y5L){M5L-=E5L;b5L.textAlign="left";}else {M5L+=E5L;b5L.textAlign="right";}if(this.parameters.printValues){b5L.fillStyle=n5L;this.stx.canvasFont("stx_yaxis",b5L);;}f6K.R4H(72);L5L=f6K.W4H(y5L,f5L,G5L,Y5L,M5L,y5L,Y5L);b5L.fillText(l6L,M5L,L5L);if(g5L > y5L){M5L-=5;}else {M5L+=5;}}b5L.textAlign="left";if(this.parameters.printValues){if(G5L < Q5L.width){k5L=this.stx.transformedPriceFromPixel(f5L,Q5L);if(P6L.priceFormatter){k5L=P6L.priceFormatter(this.stx,Q5L,k5L);}else {k5L=this.stx.formatYAxisPrice(k5L,Q5L);}if(b5L == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(Q5L,k5L,f5L,n5L,null,b5L);if(b5L == this.stx.chart.context){this.stx.startClip(Q5L.name);}}}W5L=z5L.color;if(W5L == "auto" || K6O.isTransparent(W5L)){W5L=this.color;}if(W5L == "auto" || K6O.isTransparent(W5L)){W5L=this.stx.defaultColor;}F5L=z5L.color;if(F5L == "auto" || K6O.isTransparent(F5L)){F5L=this.fillColor;}if(F5L == "auto" || K6O.isTransparent(F5L)){F5L=this.stx.defaultColor;}b5L.fillStyle=F5L;if(this.parameters.printLevels){f6K.D4H(72);L5L=f6K.W4H(y5L,f5L,G5L,Y5L,M5L,y5L,Y5L);}J6L=K6O.clone(z5L.parameters);if(this.highlighted){J6L.opacity=1;}this.stx.plotLine(y5L,M5L,Y5L,L5L,this.highlighted?m6L:W5L,"segment",b5L,Q5L,J6L);this.rays.push([[y5L,Y5L],[M5L,L5L]]);b5L.globalAlpha=+"0.05";b5L.beginPath();b5L.moveTo(M5L,L5L);b5L.lineTo(y5L,Y5L);b5L.lineTo(M5L,Y5L);b5L.fill();b5L.globalAlpha=1;if(f5L < i5L){i5L=f5L;}if(f5L > H5L){H5L=f5L;}}for(var C5L=0;C5L <= +"1";C5L++){d5L=T6L?X6L - B6L * C5L:s6L + B6L * C5L;d5L=Math.round(d5L);if(d5L < i5L){i5L=d5L;}if(d5L > H5L){H5L=d5L;}}if(this.highlighted){o6L=this.highlighted == "p0"?! !{}:!"1";N6L=this.highlighted == "p1"?! !{}:!{};this.littleCircle(b5L,y5L,Y5L,o6L);this.littleCircle(b5L,g5L,I5L,N6L);}};K6O.Drawing.fibtimezone=function(){f6K.T1K();this.name="fibtimezone";;};K6O.inheritsFrom(K6O.Drawing.fibtimezone,K6O.Drawing.fibonacci);K6O.Drawing.fibtimezone.prototype.render=function(U6L){var a27,S27,w27,D27,K27,u6L,w6L,q6L,c6L,v6L,e6L,h6L,a6L,A6L,K6L,Z6L,j6L,D6L,p6L,O6L,R6L,t6L,J27,x6L,V6L,S6L;a27="segmen";a27+="t";S27="le";S27+="ft";w27="aut";w27+="o";D27="cent";D27+="er";K27="a";K27+="uto";f6K.T1K();u6L=this.stx.panels[this.panelName];if(!u6L){return;}if(!this.p1){return;}w6L=this.stx.pixelFromTick(this.p0[0],u6L.chart);q6L=this.stx.pixelFromTick(this.p1["0" ^ 0],u6L.chart);c6L=this.stx.pixelFromValueAdjusted(u6L,this.p0[0],this.p0[1]);v6L=this.stx.pixelFromValueAdjusted(u6L,this.p1[0],this.p1[1]);e6L=[1,0];h6L=this.getLineColor(this.parameters.trend.color);U6L.textBaseline="middle";this.stx.canvasFont("stx_yaxis",U6L);a6L=20;A6L=this.p1[0] - this.p0[0];K6L=this.color;if(K6L == K27 || K6O.isTransparent(K6L)){K6L=this.stx.defaultColor;}U6L.textAlign=D27;Z6L=w6L;j6L=u6L.yAxis.top;D6L=u6L.yAxis.bottom;p6L=0;O6L=this.parameters.timezone.color;if(O6L == "auto" || K6O.isTransparent(O6L)){O6L=this.color;}if(O6L == w27 || K6O.isTransparent(O6L)){O6L=this.stx.defaultColor;}R6L=this.parameters.timezone.color;if(R6L == "auto" || K6O.isTransparent(R6L)){R6L=this.fillColor;}if(R6L == "auto" || K6O.isTransparent(R6L)){R6L=this.stx.defaultColor;}if(this.parameters.printLevels){f6K.D4H(6);D6L-=f6K.y4H(a6L,7);}t6L=K6O.clone(this.parameters.timezone.parameters);if(this.highlighted){t6L.opacity=1;}do {J27="segme";J27+="nt";Z6L=this.stx.pixelFromTick(this.p0[+"0"] + p6L * A6L,u6L.chart);if(w6L < q6L && Z6L > u6L.left + u6L.width)break;else if(w6L > q6L && Z6L < u6L.left)break;if(this.parameters.printLevels){U6L.fillStyle=K6L;U6L.fillText(q6L > w6L?p6L:p6L * -1,Z6L,D6L + 7);}U6L.fillStyle=R6L;this.stx.plotLine(Z6L,Z6L,0,D6L,this.highlighted?h6L:O6L,J27,U6L,u6L,t6L);U6L.globalAlpha=0.05;U6L.beginPath();U6L.moveTo(w6L,j6L);U6L.lineTo(Z6L,j6L);U6L.lineTo(Z6L,D6L);U6L.lineTo(w6L,D6L);U6L.fill();U6L.globalAlpha=1;f6K.R4H(74);var R9I=f6K.W4H(20,381,0,19);p6L=e6L[0] + e6L[R9I];e6L.unshift(p6L);}while(A6L);U6L.textAlign=S27;this.stx.plotLine(w6L,q6L,c6L,v6L,h6L,a27,U6L,u6L,t6L);if(this.highlighted){x6L=this.highlighted == "p0"?!"":!{};V6L=this.highlighted == "p1"?!"":!{};this.littleCircle(U6L,w6L,c6L,x6L);this.littleCircle(U6L,q6L,v6L,V6L);}else {S6L=this.stx.valueFromPixel(u6L.height / 2,u6L);this.setPoint(0,this.p0[0],S6L,u6L.chart);this.setPoint(1,this.p1[0],S6L,u6L.chart);}};K6O.Drawing.fibtimezone.prototype.intersected=function(f6L,g6L,Q6L){var b6L,Y6L,W6L,M6L,F6L;b6L=this.p0;Y6L=this.p1;W6L=this.stx.panels[this.panelName];if(!b6L || !Y6L || !W6L){return null;}f6K.T1K();M6L={0:b6L,1:Y6L};for(var y6L in M6L){if(this.pointIntersection(M6L[y6L][0],M6L[y6L]["1" ^ 0],Q6L)){f6K.D4H(3);this.highlighted=f6K.W4H(("4010" ^ 0,9377) <= (1310,7139)?! !"":"p",y6L);return {action:"drag",point:"p" + y6L};}}F6L=this.lineIntersection(f6L,g6L,Q6L,"segment");if(F6L || Q6L.x0 <= this.p0[0] && Q6L.x1 >= b6L[0]){this.highlighted=! ![];return {action:"move",p0:K6O.clone(b6L),p1:K6O.clone(Y6L),tick:f6L,value:g6L};}return null;};K6O.Drawing.arrow_v0=function(){var E27;E27="arro";E27+="w";this.name=E27;this.dimension=[11,11];f6K.R4H(14);f6K.N1K();this.points=[[(103.74,6242) >= ("9810" | 8720,315.33)?"M":(0x391,0x15b5),3,0,"L",7,0,1190 < (6490,8.53)?(2.42e+3,"H"):"L",7,5,"L",10,5,1030 >= (252.88,998.98)?6513 != 843.76?"L":+"5430" > 371.27?(6.31e+3,3.88):(! !"",! !0):29,+"5",10,(848.58,"593.61" * 1) < 687.13?"L":142.84 > (43,2040)?("U",! !""):"N",0,f6K.W4H("5",1),(660.64,19) == 8930?! !1:"L",+"3",5,"L",3,f6K.W4H("0",2147483647,f6K.R4H(4))]];};K6O.inheritsFrom(K6O.Drawing.arrow_v0,K6O.Drawing.shape);K6O.Drawing.xcross=function(){f6K.T1K();this.name="xcross";this.dimension=[7,7];f6K.R4H(6);this.points=[[(7849,2235) >= +"996"?(5503,583) > (405.7,4600)?0x25e0:(2028,+"4810") == (8.92,941.62)?643.17:"M":(273.96,8.11e+3),1,0,"L",3,2,4558 > (8948,3740)?"L":9.94e+3,5,0,"L",f6K.y4H("6",0),1,7937 == 591.35?"p":(+"6269","1502" & 2147483647) <= 256.02?"2.59e+3" ^ 0:"369" - 0 !== (1032,"339.86" - 0)?"L":"L",4,3,"L",+"6",5,(7911,6611) <= 9557?"L":0x7bd,f6K.W4H("5",2147483647,f6K.D4H(4)),6,"7517" << 2129593024 != (+"4610",4270)?"L":("0x2697" >> 1448885696,"I"),3,4,"L",1,6,(4910,"2395" | 256) == +"7349"?(0x1b13,0xfa7):"L",0,5,"L",+"2",3,661.4 < 8158?"L":(![],!0),0,1,"L",+"1",f6K.y4H("0",47888544,f6K.D4H(0))]];;};K6O.inheritsFrom(K6O.Drawing.xcross,K6O.Drawing.shape);K6O.Drawing.check=function(){this.name="check";f6K.D4H(44);this.dimension=[f6K.y4H(0,"8"),9];f6K.R4H(29);this.points=[["M",+"1",5,+"186.24" == 758.01?(567.82,5.81e+3):"L",0,+"6","L",2,8,("7380" ^ 0) === (2236,3085)?5567 == (139.37,3500)?"808.84" * 1:(+"2240",5540) === (3440,1333)?(0x15bc,"I"):(!"1",0x716):"L",7,f6K.y4H("1",0),(639.79,71.45) <= 7983?"L":(!1,0x53),6,0,"L",2,6,(989,+"3240") == (5951,3900)?"129.34" - 0 <= (941.15,2692)?+"1120" > 439?0x1eac:"c":(0x1dec,0x1220):"L",1,5]];f6K.N1K();;};K6O.inheritsFrom(K6O.Drawing.check,K6O.Drawing.shape);K6O.Drawing.star=function(){var L27;L27="s";L27+="t";L27+="a";L27+="r";this.name=L27;this.dimension=[12,12];f6K.D4H(14);this.points=[["M",0,4,+"6850" == (8113,670.3)?5.49e+3:(4080,+"639") < (3541,4030)?"L":0x140b,4,4,"L",f6K.y4H("5.5",1),0,"L",7,4,"L",11,4,(+"6852",+"9630") != 354?"L":(! ![],"58.79" * 1),8,7,(320.33,2470) == 4790?"v":"L",9,f6K.W4H(2,"11",f6K.D4H(44)),+"9197" == 906.74?"4280" << 995053056 > 618?(7270,905.79) == ("2220" << 528261632,898)?+"196.93":![]:!"":"L",5.5,9,"L",2,11,4788 <= 6850?"L":(5840,388.13) == 7889?3.45e+3:("h","823.07" - 0),3,7,"L",f6K.W4H(0,"0",f6K.D4H(44)),4]];;};K6O.inheritsFrom(K6O.Drawing.star,K6O.Drawing.shape);K6O.Drawing.heart=function(){var N27;N27="hear";N27+="t";this.name=N27;this.dimension=[23,20];f6K.R4H(4);this.points=[[4124 == (+"575.89",1511)?! !{}:"M",f6K.y4H("11",2147483647),3,2986 === 4660?(8.80e+3,752.12):"B",11,2.4,10,0,6,0,(1400,983.65) > 986.34?0x438:"B",+"0",0,+"0",f6K.W4H("7.5",0,f6K.R4H(6)),0,7.5,"B",0,11,4,15.4,11,19,"B",18,15.4,22,11,22,7.5,827.45 != "405.06" - 0?(698.56,574.48) != (749.81,3300)?"B":0xd02:"O",22,7.5,22,0,16,0,(3710,+"849.19") <= 924.99?"B":(+"275",929.57) == (6710,736.49)?+"5.09e+3":"406.18" * 1 !== (421,918.07)?0x108f:! ![],13,0,+"11",2.4,11,3]];;};K6O.inheritsFrom(K6O.Drawing.heart,K6O.Drawing.shape);K6O.Drawing.focusarrow=function(){this.name="focusarrow";f6K.R4H(44);this.dimension=[f6K.y4H(2,"7"),5];f6K.T1K();this.points=[["M",0,0,(5740,+"9030") != 390.86?(+"5621",889.72) != 445.92?"L":6150 <= (9760,5630)?0x1a3f:446.75:+"0x509",2,2,"L",0,4,(8719,3035) === +"8980"?(0x12c4,+"338.18"):"L",0,0],[961 >= (2232,"743.7" * 1)?"M":(776.16,8249) >= (+"76.04",634.66)?0x111b:0x9df,6,0,8160 < (5469,"5676" * 1)?5300 == 6371?"N":+"835.43":"L",4,2,(64.01,425.13) <= ("9050" & 2147483647,4553)?"L":+"6250" !== "3180" << 142823200?"g":9.19e+3,6,4,(8118,5624) <= (7490,427.58)?(9.96e+3,+"2.91e+3"):"L",6,0]];;};K6O.inheritsFrom(K6O.Drawing.focusarrow,K6O.Drawing.shape);K6O.Drawing.crossline=function(){var m77;m77="c";f6K.T1K();m77+="rossline";this.name=m77;};K6O.inheritsFrom(K6O.Drawing.crossline,K6O.Drawing.horizontal);K6O.extend(K6O.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(n6L,z6L){return !{};},adjust:function(){var L6L;f6K.T1K();L6L=this.stx.panels[this.panelName];if(!L6L){return;}this.setPoint(0,this.d0,this.v0,L6L.chart);this.p1=K6O.clone(this.p0);},intersected:function(I6L,k6L,E6L){var d6L,p37,k37,s37,l77;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;d6L=this.lineIntersection(I6L,k6L,E6L,"line");this.p1=K6O.clone(this.p0);if(!d6L){this.p1[1]+=+"1";d6L=this.lineIntersection(I6L,k6L,E6L,"line");this.p1=K6O.clone(this.p0);if(!d6L){return null;}}this.highlighted=! !{};if(this.pointIntersection(this.p0[0],this.p0[1],E6L)){this.highlighted="p0";}p37=833764381;k37=-1153750779;s37=2;for(var c37=1;f6K.V4w(c37.toString(),c37.toString().length,57164) !== p37;c37++){l77="m";l77+="ov";l77+="e";return {action:l77,p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),tick:I6L,value:k6L};}f6K.N1K();if(f6K.h4w(s37.toString(),s37.toString().length,+"62094") !== k37){return {action:"",p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),tick:I6L,value:k6L};}},render:function(J7L){var M77,U77,i6L,C6L,r6L,s7L,T7L,G6L,H6L,P7L,m7L,X7L,B7L,l7L;M77="v";M77+="e";M77+="r";M77+="tical";U77="horizonta";U77+="l";i6L=this.stx.panels[this.panelName];if(!i6L){return;}C6L=this.stx.pixelFromTick(this.p0[0],i6L.chart);r6L=this.stx.pixelFromValueAdjusted(i6L,this.p0[0],this.p0[1]);f6K.T1K();s7L=this.getLineColor();T7L={pattern:this.pattern,lineWidth:this.lineWidth};f6K.R4H(3);this.stx.plotLine(C6L,f6K.y4H(C6L,100),r6L,r6L,s7L,U77,J7L,i6L,T7L);f6K.R4H(3);this.stx.plotLine(C6L,C6L,r6L,f6K.W4H(r6L,100),s7L,M77,J7L,i6L,T7L);if(this.axisLabel && !this.repositioner){this.stx.endClip();G6L=this.p0[1];if(i6L.chart.transformFunc){G6L=i6L.chart.transformFunc(this.stx,i6L.chart,G6L);}if(i6L.yAxis.priceFormatter){G6L=i6L.yAxis.priceFormatter(this.stx,i6L,G6L);}else {G6L=this.stx.formatYAxisPrice(G6L,i6L);}this.stx.createYAxisLabel(i6L,G6L,r6L,s7L);this.stx.startClip(i6L.name);if(this.p0["0" - 0] >= 0 && !this.stx.chart.xAxis.noDraw){H6L=this.stx.dateFromTick(this.p0[0],i6L.chart,! !{});if(!K6O.ChartEngine.isDailyInterval(this.stx.layout.interval)){f6K.R4H(5);var n9I=f6K.W4H(20,997,23);m7L=H6L.getSeconds() * n9I + H6L.getMilliseconds();if(e6O.Date && this.stx.displayZone){P7L=new e6O.Date(H6L.getTime(),this.stx.displayZone);H6L=new Date(P7L.getFullYear(),P7L.getMonth(),P7L.getDate(),P7L.getHours(),P7L.getMinutes());H6L=new Date(H6L.getTime() + m7L);}}else {H6L.setHours(0,0,0,0);}X7L=K6O.mmddhhmm(K6O.yyyymmddhhmm(H6L));if(i6L.chart.xAxis.formatter){X7L=i6L.chart.xAxis.formatter(H6L,this.name,null,null,X7L);}else if(this.stx.internationalizer){if(H6L.getHours() !== +"0" || H6L.getMinutes() !== 0){B7L=this.stx.internationalizer.monthDay.format(H6L);B7L+=" " + this.stx.internationalizer.hourMinute.format(H6L);}else {B7L=this.stx.internationalizer.yearMonthDay.format(H6L);}X7L=B7L;}this.stx.endClip();this.stx.createXAxisLabel({panel:i6L,txt:X7L,x:C6L,backgroundColor:s7L,color:null,pointed:! ![],padding:+"2"});this.stx.startClip(i6L.name);}}if(this.highlighted){l7L=this.highlighted == "p0"?! !"1":!1;this.littleCircle(J7L,C6L,r6L,l7L);}}},! ![]);K6O.Drawing.speedarc=function(){this.name="speedarc";this.printLevels=! ![];};K6O.inheritsFrom(K6O.Drawing.speedarc,K6O.Drawing.segment);K6O.extend(K6O.Drawing.speedarc.prototype,{defaultOpacity:+"0.25",configs:[Z77,"fillColor",B77,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(o7L,N7L,q7L){var n67,p67,k67,u7L,f77,D7L,o77,w7L,Z7L,O7L,R7L;if(!this.p0 || !this.p1){return null;}n67=-1093526537;p67=183806813;k67=2;for(var i67=1;f6K.h4w(i67.toString(),i67.toString().length,80828) !== n67;i67++){u7L={0:this.p0,1:this.p1};k67+=2;}if(f6K.V4w(k67.toString(),k67.toString().length,85416) !== p67){u7L={0:this.p0,1:this.p1};}for(var U7L in u7L){if(this.pointIntersection(u7L[U7L][0],u7L[U7L][1],q7L)){f77="d";f77+="r";f77+="a";f77+="g";f6K.D4H(3);this.highlighted=f6K.y4H("p",U7L);return {action:f77,point:"p" + U7L};}}D7L=this.lineIntersection(o7L,N7L,q7L,this.name);if(D7L){o77="mov";o77+="e";this.highlighted=!"";return {action:o77,p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),tick:o7L,value:N7L};}f6K.N1K();w7L=this.p1[0] - (this.p0[0] - this.p1[0]);Z7L=this.p0[0];O7L=this.p1[1];R7L=this.p0[1];if(o7L > Math.max(w7L,Z7L) || o7L < Math.min(w7L,Z7L)){return null;}if(N7L > Math.max(R7L,O7L) || N7L < Math.min(R7L,O7L)){return null;}this.highlighted=! !{};return {action:"move",p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),tick:o7L,value:N7L};},render:function(p7L){var G77,K7L,A7L,t7L,v7L,e7L,S7L,a7L,j7L,c7L,P77,V7L,b7L,x7L,y7L,Q7L,I77,Y7L,M7L;G77="l";G77+="eft";K7L=this.stx.panels[this.panelName];if(!K7L){return;}if(!this.p1){return;}A7L=this.stx.pixelFromTick(this.p0[+"0"],K7L.chart);t7L=this.stx.pixelFromTick(this.p1[0],K7L.chart);v7L=this.stx.pixelFromValueAdjusted(K7L,this.p0[0],this.p0[1]);e7L=this.stx.pixelFromValueAdjusted(K7L,this.p1[0],this.p1[1]);f6K.R4H(65);S7L=f6K.W4H(e7L,v7L);f6K.D4H(66);a7L=Math.abs(f6K.y4H(e7L,t7L,A7L,v7L));j7L=this.getLineColor();p7L.strokeStyle=j7L;c7L=this.fillColor;if(c7L == "auto" || K6O.isTransparent(c7L)){c7L=this.stx.defaultColor;}p7L.fillStyle=c7L;if(p7L.setLineDash){p7L.setLineDash(K6O.borderPatternToArray(this.lineWidth,this.pattern));p7L.lineDashOffset=0;;}this.stx.canvasFont("stx_yaxis",p7L);for(var h7L=1;h7L < 3;h7L++){P77="n";P77+="o";P77+="n";P77+="e";f6K.R4H(15);var p9I=f6K.y4H(7,3,11);f6K.D4H(21);var k9I=f6K.W4H(12,14,15,39);f6K.D4H(19);var s9I=f6K.W4H(7,4);V7L=Math.abs(this.p1[p9I] - this.p0[+"1"]) * Math.sqrt(k9I) * h7L / s9I;f6K.R4H(5);var i9I=f6K.W4H(17,0,18);f6K.D4H(75);var c9I=f6K.W4H(19,3,7,65);f6K.R4H(6);var X9I=f6K.W4H(11,10);f6K.D4H(58);var W9I=f6K.y4H(11,17,17,10);f6K.D4H(1);var g9I=f6K.W4H(1,9,17,13);b7L=this.p1[i9I] + V7L * (S7L?c9I:X9I) * (K7L.yAxis.flipped?W9I:g9I);x7L=this.stx.pixelFromValueAdjusted(K7L,this.p0[+"0"],b7L);p7L.save();p7L.beginPath();f6K.D4H(76);p7L.scale(f6K.y4H("1",a7L),f6K.W4H("1",1769169888,f6K.R4H(0)));f6K.R4H(14);p7L.arc(f6K.y4H(t7L,a7L),e7L,Math.abs(x7L - e7L),0,Math.PI,!S7L);p7L.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != P77){p7L.stroke();}p7L.globalAlpha=0.1;p7L.fill();p7L.restore();p7L.globalAlpha=+"1";if(this.printLevels){p7L.fillStyle=j7L;p7L.textAlign="center";f6K.R4H(3);y7L=f6K.y4H(h7L,"/3");p7L.fillText(y7L,t7L,Math.round(x7L - 5));p7L.fillStyle=c7L;}}p7L.textAlign=G77;Q7L={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(A7L,t7L,v7L,e7L,j7L,"segment",p7L,K7L,Q7L);if(p7L.setLineDash){p7L.setLineDash([]);}if(this.highlighted){I77="p";I77+="1";Y7L=this.highlighted == "p0"?!"":![];M7L=this.highlighted == I77?! !1:! !"";this.littleCircle(p7L,A7L,v7L,Y7L);this.littleCircle(p7L,t7L,e7L,M7L);}},reconstruct:function(g7L,f7L){this.stx=g7L;this.color=f7L.col;this.fillColor=f7L.fc;this.panelName=f7L.pnl;this.pattern=f7L.ptrn;this.lineWidth=f7L.lw;this.d0=f7L.d0;this.d1=f7L.d1;f6K.N1K();this.tzo0=f7L.tzo0;this.tzo1=f7L.tzo1;this.v0=f7L.v0;this.v1=f7L.v1;this.adjust();},serialize:function(){f6K.N1K();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},!0);K6O.Drawing.speedline=function(){this.name="speedline";this.printLevels=! ![];};K6O.inheritsFrom(K6O.Drawing.speedline,K6O.Drawing.speedarc);K6O.extend(K6O.Drawing.speedline.prototype,{intersected:function(I7L,k7L,E7L){var n7L,z7L,L7L,d7L;n7L=this.p0;z7L=this.p1;f6K.N1K();if(!n7L || !z7L){return null;}L7L={0:n7L,1:z7L};for(var W7L in L7L){if(this.pointIntersection(L7L[W7L][0],L7L[W7L][1],E7L)){f6K.D4H(3);this.highlighted=f6K.W4H("p",W7L);return {action:"drag",point:((856,"8624" | 16) > (945.02,+"41.22")?"p":(4280,2180) == 185.44?("897.50" * 1,33.94):(!{},"9.38e+3" | 0)) + W7L};}}d7L=this.rays;for(var F7L=0;F7L < d7L.length;F7L++){if(this.lineIntersection(I7L,k7L,E7L,"ray",d7L[F7L][0],d7L[F7L][+"1"],! ![])){this.highlighted=! ![];return {action:"move",p0:K6O.clone(n7L),p1:K6O.clone(z7L),tick:I7L,value:k7L};}}return null;},render:function(i7L){var j77,T77,O77,P1L,H7L,C7L,G7L,s1L,O1L,J1L,m1L,R1L,q1L,D1L,w1L,Z1L,r7L,X1L,T1L,N1L,B1L,o1L,U1L,u1L,z77,e77,p1L,K1L;j77="3";j77+="/";j77+="2";T77="au";T77+="to";O77="a";O77+="u";O77+="t";O77+="o";P1L=this.stx.panels[this.panelName];if(!P1L){return;}if(!this.p1){return;}H7L=this.stx.pixelFromTick(this.p0[0],P1L.chart);C7L=this.stx.pixelFromTick(this.p1[0],P1L.chart);G7L=this.stx.pixelFromValueAdjusted(P1L,this.p0[0],this.p0[1]);s1L=this.stx.pixelFromValueAdjusted(P1L,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",i7L);O1L=this.getLineColor();J1L=this.color;if(J1L == O77 || K6O.isTransparent(J1L)){J1L=this.stx.defaultColor;}i7L.strokeStyle=J1L;m1L=this.fillColor;if(m1L == T77 || K6O.isTransparent(m1L)){m1L=this.stx.defaultColor;}i7L.fillStyle=m1L;R1L={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};w1L=[(459,485.8) < 3880?(5530,1150) < 291.02?7830 != "6154" * 1?(3.83e+3,"Q"):(6.58e+3,4.75e+3):"1":"x","2/3","1/3",j77,"3"];f6K.D4H(77);Z1L=[1,f6K.W4H("3",2),f6K.y4H(3,1,f6K.R4H(8)),f6K.y4H(3,2,"2",f6K.D4H(78)),3];r7L=[];this.rays=[];for(var l1L=+"0";l1L < Z1L.length;l1L++){X1L=Z1L[l1L];if(X1L > ("1" | 1) && !this.extension)continue;T1L=this.stx.pixelFromValueAdjusted(P1L,this.p0[+"0"],this.p0[1] - (this.p0[1] - this.p1[1]) * X1L);if(X1L > 1){N1L=K6O.xIntersection({x0:H7L,x1:C7L,y0:G7L,y1:T1L},s1L);r7L.push(N1L);}else {N1L=K6O.xIntersection({x0:C7L,x1:C7L,y0:G7L,y1:s1L},T1L);r7L.push(T1L);}B1L=X1L > +"1"?N1L:C7L;o1L=X1L > 1?s1L:T1L;if(!this.confineToGrid){B1L=P1L.left;if(C7L > H7L){B1L+=P1L.width;}f6K.D4H(72);o1L=f6K.y4H(H7L,T1L,C7L,G7L,B1L,H7L,G7L);}if(this.printLevels){if(X1L != "1" - 0 || this.extension){i7L.fillStyle=J1L;U1L=0;u1L=0;if(G7L > s1L){u1L=-5;i7L.textBaseline="bottom";}else {z77="to";z77+="p";u1L=5;i7L.textBaseline=z77;}if(H7L > C7L){e77="rig";e77+="ht";f6K.D4H(6);U1L=f6K.y4H("5",0);i7L.textAlign=e77;}else {f6K.D4H(45);U1L=-f6K.W4H("5",1113344448);i7L.textAlign="left";}if(X1L > +"1"){i7L.fillText(w1L[l1L],N1L + (this.confineToGrid?0:U1L),s1L);}else {i7L.fillText(w1L[l1L],C7L,T1L + (this.confineToGrid?0:u1L));}i7L.fillStyle=m1L;}}this.stx.plotLine(H7L,B1L,G7L,o1L,this.highlighted?O1L:J1L,"segment",i7L,P1L,R1L);if(X1L == 1){q1L=B1L;D1L=o1L;}this.rays.push([[H7L,G7L],[B1L,o1L]]);i7L.globalAlpha=0.1;i7L.beginPath();i7L.moveTo(B1L,o1L);i7L.lineTo(H7L,G7L);i7L.lineTo(q1L,D1L);i7L.fill();i7L.globalAlpha=1;}f6K.N1K();i7L.textAlign="left";i7L.textBaseline="middle";if(this.confineToGrid){i7L.globalAlpha=+"0.3";i7L.beginPath();f6K.R4H(6);i7L.strokeRect(H7L,G7L,f6K.W4H(C7L,H7L),f6K.W4H(s1L,G7L));i7L.moveTo(H7L,r7L[1]);i7L.lineTo(C7L,r7L["1" * 1]);i7L.moveTo(H7L,r7L[2]);i7L.lineTo(C7L,r7L[2]);if(this.extension){i7L.moveTo(r7L[+"3"],G7L);i7L.lineTo(r7L[3],s1L);i7L.moveTo(r7L[4],G7L);i7L.lineTo(r7L[4],s1L);}i7L.stroke();i7L.globalAlpha=1;}if(this.highlighted){p1L=this.highlighted == "p0"?!"":! !0;K1L=this.highlighted == "p1"?! !{}:!"1";this.littleCircle(i7L,H7L,G7L,p1L);this.littleCircle(i7L,C7L,s1L,K1L);}}},! ![]);K6O.Drawing.gannfan=function(){this.name="gannfan";this.printLevels=! !{};};K6O.inheritsFrom(K6O.Drawing.gannfan,K6O.Drawing.speedline);K6O.extend(K6O.Drawing.gannfan.prototype,{render:function(e1L){var n77,F77,q77,v1L,t1L,h1L,c1L,x1L,f1L,A1L,a1L,g1L,W1L,F1L,Y1L,j1L,n1L,M1L,S1L,V1L,y1L,Q1L,u77,R77,z1L,L1L;n77="mi";n77+="ddle";F77="a";F77+="u";F77+="t";F77+="o";q77="a";q77+="u";q77+="t";q77+="o";v1L=this.stx.panels[this.panelName];if(!v1L){return;}if(!this.p1){return;}t1L=this.stx.pixelFromTick(this.p0[+"0"],v1L.chart);h1L=this.stx.pixelFromTick(this.p1[0],v1L.chart);c1L=this.stx.pixelFromValueAdjusted(v1L,this.p0[0],this.p0["1" * 1]);x1L=this.stx.pixelFromValueAdjusted(v1L,this.p1["0" >> 705478400],this.p1[1]);this.stx.canvasFont("stx_yaxis",e1L);f1L=this.getLineColor();A1L=this.color;if(A1L == q77 || K6O.isTransparent(A1L)){A1L=this.stx.defaultColor;}e1L.strokeStyle=A1L;a1L=this.fillColor;if(a1L == F77 || K6O.isTransparent(a1L)){a1L=this.stx.defaultColor;}e1L.fillStyle=a1L;g1L={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};f6K.R4H(76);Y1L=[1,2,3,4,8,f6K.W4H("1",2),f6K.W4H(3,1,f6K.R4H(8)),f6K.W4H(4,1,f6K.R4H(8)),f6K.W4H(8,1,f6K.D4H(8))];this.rays=[];for(var b1L=0;b1L < Y1L.length;b1L++){j1L=Y1L[b1L];f6K.D4H(79);n1L=f6K.y4H(t1L,h1L,t1L,j1L);f6K.D4H(80);M1L=f6K.W4H(j1L,c1L,x1L,c1L);S1L=v1L.left;if(h1L > t1L){S1L+=v1L.width;}f6K.D4H(72);V1L=f6K.y4H(t1L,M1L,h1L,c1L,S1L,t1L,c1L);if(this.printLevels){e1L.fillStyle=A1L;y1L=0;f6K.D4H(14);Q1L=f6K.y4H("0",1);if(c1L > x1L){Q1L=5;e1L.textBaseline="top";}else {u77="b";u77+="ott";u77+="o";u77+="m";Q1L=-5;e1L.textBaseline=u77;}if(t1L > h1L){y1L=5;e1L.textAlign="left";}else {y1L=-5;e1L.textAlign="right";}if(j1L > 1){f6K.D4H(3);e1L.fillText(f6K.W4H(j1L,"x1"),f6K.y4H(n1L,y1L),x1L);}else {R77="1";R77+="x";f6K.R4H(54);e1L.fillText(f6K.y4H(R77,j1L,1),h1L,f6K.W4H(M1L,Q1L,f6K.R4H(3)));}e1L.fillStyle=a1L;}this.stx.plotLine(t1L,S1L,c1L,V1L,this.highlighted?f1L:A1L,"segment",e1L,v1L,g1L);this.rays.push([[t1L,c1L],[S1L,V1L]]);if(j1L == 1){W1L=S1L;F1L=V1L;}e1L.globalAlpha=0.1;e1L.beginPath();e1L.moveTo(S1L,V1L);e1L.lineTo(t1L,c1L);e1L.lineTo(W1L,F1L);e1L.fill();e1L.globalAlpha=1;}e1L.textAlign="left";e1L.textBaseline=n77;if(this.highlighted){z1L=this.highlighted == "p0"?! !1:![];L1L=this.highlighted == "p1"?!"":! !0;this.littleCircle(e1L,t1L,c1L,z1L);this.littleCircle(e1L,h1L,x1L,L1L);}}},! ![]);K6O.Drawing.timecycle=function(){this.name="timecycle";this.printLevels=!"";};K6O.inheritsFrom(K6O.Drawing.timecycle,K6O.Drawing.speedarc);K6O.extend(K6O.Drawing.timecycle.prototype,{intersected:function(H1L,G1L,k1L){var d1L,E1L,C1L,i1L,r1L;d1L=this.p0;E1L=this.p1;C1L=this.stx.panels[this.panelName];if(!d1L || !E1L || !C1L){return null;}i1L={0:d1L,1:E1L};for(var I1L in i1L){if(this.pointIntersection(i1L[I1L][0],i1L[I1L][1],k1L)){f6K.D4H(3);this.highlighted=f6K.y4H((1738,7060) == 275.48?3.19e+3:"p",I1L);return {action:"drag",point:((224.28,4520) < (+"777.8",4721)?"p":7840 == (112,+"5050")?("19" * 1,0x1990):2.51e+3) + I1L};}}r1L=this.lineIntersection(H1L,G1L,k1L,"segment");if(r1L || k1L.x0 <= this.p0[0] && k1L.x1 >= d1L[0]){this.highlighted=! !{};return {action:"move",p0:K6O.clone(d1L),p1:K6O.clone(E1L),tick:H1L,value:G1L};}return null;},render:function(P9L){var s9L,B9L,o9L,w9L,Z9L,U9L,O9L,K9L,R9L,X9L,q9L,m9L,l9L,N9L,D9L,J9L,u9L,e9L,t9L,c9L,p9L;s9L=this.stx.panels[this.panelName];if(!s9L){return;}if(!this.p1){return;}B9L=this.stx.pixelFromTick(this.p0[0],s9L.chart);o9L=this.stx.pixelFromTick(this.p1[0],s9L.chart);w9L=this.stx.pixelFromValueAdjusted(s9L,this.p0[0],this.p0[1]);Z9L=this.stx.pixelFromValueAdjusted(s9L,this.p1[+"0"],this.p1[1]);U9L=0;O9L=this.getLineColor();P9L.textBaseline="middle";this.stx.canvasFont("stx_yaxis",P9L);K9L=20;R9L=this.p1[0] - this.p0[0];P9L.textAlign="center";X9L=B9L;q9L=s9L.yAxis.top;m9L=s9L.yAxis.bottom;l9L=this.color;if(l9L == "auto" || K6O.isTransparent(l9L)){l9L=this.stx.defaultColor;}N9L=this.fillColor;if(N9L == "auto" || K6O.isTransparent(N9L)){N9L=this.stx.defaultColor;}if(this.printLevels){f6K.R4H(6);m9L-=f6K.y4H(K9L,7);}D9L={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};J9L=[];P9L.save();P9L.fillStyle=N9L;P9L.globalAlpha=0.05;do {X9L=this.stx.pixelFromTick(this.p0[0] + U9L * R9L,s9L.chart);U9L++;if(B9L < o9L && X9L > s9L.left + s9L.width)break;else if(B9L > o9L && X9L < s9L.left)break;else if(X9L < s9L.left || X9L > s9L.left + s9L.width)continue;P9L.beginPath();P9L.moveTo(B9L,q9L);P9L.lineTo(X9L,q9L);P9L.lineTo(X9L,m9L);P9L.lineTo(B9L,m9L);P9L.fill();J9L.push({c:U9L,x:X9L});}while(R9L);P9L.globalAlpha=1;u9L=0;for(var T9L=0;T9L < J9L.length;T9L++){this.stx.plotLine(J9L[T9L].x,J9L[T9L].x,0,m9L,this.highlighted?O9L:l9L,"segment",P9L,s9L,D9L);if(this.printLevels){P9L.fillStyle=l9L;f6K.R4H(81);var b9I=f6K.W4H(11,2,6,30,4);e9L=this.stx.chart.context.measureText(J9L[T9L].c).width + b9I;if(e9L < this.stx.layout.candleWidth + u9L){P9L.fillText(J9L[T9L].c,J9L[T9L].x,m9L + 7);u9L=0;}else {u9L+=this.stx.layout.candleWidth;}}}P9L.restore();P9L.textAlign="left";this.stx.plotLine(B9L,o9L,w9L,Z9L,O9L,"segment",P9L,s9L,D9L);if(this.highlighted){t9L=this.highlighted == "p0"?! !{}:! !0;c9L=this.highlighted == "p1"?!"":![];this.littleCircle(P9L,B9L,w9L,t9L);this.littleCircle(P9L,o9L,Z9L,c9L);}else {p9L=this.stx.valueFromPixel(s9L.height / 2,s9L);this.setPoint(0,this.p0[0],p9L,s9L.chart);this.setPoint(1,this.p1[0],p9L,s9L.chart);}}},! !{});K6O.Drawing.regression=function(){var p77;p77="re";p77+="gressi";p77+="on";f6K.N1K();this.name=p77;};K6O.inheritsFrom(K6O.Drawing.regression,K6O.Drawing.segment);K6O.extend(K6O.Drawing.regression.prototype,{configs:["color",k77,s77,"active1","color1",i77,"pattern1","active2",c77,"lineWidth2","pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(h9L){f6K.N1K();var X77,v9L;X77="au";X77+="to";K6O.Drawing.copyConfig(this,h9L);v9L=this.stx.currentVectorParameters;this.active1=! !v9L.active1;this.active2=! !v9L.active2;this.active3=! !v9L.active3;this.color1=v9L.color1 || X77;this.color2=v9L.color2 || "auto";this.color3=v9L.color3 || "auto";this.lineWidth1=v9L.lineWidth1;this.lineWidth2=v9L.lineWidth2;this.lineWidth3=v9L.lineWidth3;this.pattern1=v9L.pattern1;this.pattern2=v9L.pattern2;this.pattern3=v9L.pattern3;},$controls:[W77,'cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(Q9L,S9L,a9L){var j9L,A9L,x9L,V9L;if(S9L < 0){return;}this.copyConfig();j9L=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,S9L,a9L,j9L.chart);this.penDown=! ![];A9L=this.stx;this.field=A9L.highlightedDataSetField;if(!this.field && j9L != A9L.chart.panel){for(var b9L in A9L.chart.seriesRenderers){x9L=A9L.chart.seriesRenderers[b9L];if(x9L.params.panel == j9L.name){this.field=x9L.seriesParams[+"0"].field;break;}}for(var y9L in A9L.layout.studies){V9L=A9L.layout.studies[y9L];if(V9L.panel == j9L.name){this.field=Object.keys(V9L.outputMap)[0];break;}}}return ![];}if(this.accidentalClick(S9L,a9L)){return this.dragToDraw;}f6K.R4H(45);this.setPoint(f6K.y4H("1",2063986400),S9L,a9L,j9L.chart);this.penDown=!"1";return ! !"1";;},getYValue:function(n9L){f6K.N1K();var f9L,g9L,W9L,z9L,M9L,Y9L,F9L,g77,Q87,r87,d87;f9L=this.stx.chart.dataSet[n9L];g9L=this.stx.chart.dataSet[n9L];if(!f9L){return null;}W9L=this.stx.panels[this.panelName];z9L=this.stx.getYAxisByField(W9L,this.field) || W9L.yAxis;if(this.stx.charts[W9L.name] && W9L.chart.transformFunc && z9L == W9L.yAxis){g9L=f9L.transform;}if(!g9L){return null;}M9L=null;Y9L=null;F9L=this.stx.defaultPlotField || "Close";if(this.field){g77="o";g77+="bj";g77+="ec";g77+="t";Y9L=K6O.existsInObjectChain(g9L,this.field);if(!Y9L){return null;}M9L=Y9L=Y9L.obj[Y9L.member];if(f9L != g9L){M9L=K6O.existsInObjectChain(f9L,this.field);M9L=M9L.obj[M9L.member];}if(typeof Y9L == g77){Y9L=Y9L[F9L];Q87=702007032;f6K.R4H(44);r87=-f6K.y4H(892511332,"1970975861");d87=+"2";for(var D87=1;f6K.V4w(D87.toString(),D87.toString().length,+"73660") !== Q87;D87++){M9L=M9L[F9L];d87+=2;}if(f6K.h4w(d87.toString(),d87.toString().length,69318) !== r87){M9L=M9L[F9L];}}}else {Y9L=g9L[F9L];M9L=f9L[F9L];}return {transformed:Y9L,untransformed:M9L};},render:function(G9L){var b77,d9L,k9L,E9L,l09,C9L,o09,r9L,X09,O09,R09,q09,D09,B09,N09,L9L,i9L,p09,K09,J09,T09,e09,m09,U09,u09,P09,s09,w09,Z09,c09,t09,v09,H9L,C77,h09,A09;b77="segm";b77+="en";b77+="t";d9L=this.stx.panels[this.panelName];if(!d9L){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < +"0"){return;}k9L=this.stx.pixelFromTick(this.p0[+"0"],d9L.chart);E9L=this.stx.pixelFromTick(this.p1[0],d9L.chart);if(k9L < d9L.left && E9L < d9L.left){return;}if(k9L > d9L.right && E9L > d9L.right){return;}l09=this.stx.getYAxisByField(d9L,this.field);C9L=[];o09=[];r9L=0;X09=0;O09=0;R09=0;q09=Math.min(this.p1[0],this.p0[0]);f6K.R4H(48);var C9I=f6K.W4H(1583860477,1583860479,1583860477);f6K.D4H(82);var h9I=f6K.W4H(18,56,3,2,17);D09=Math.max(this.p1[0],this.p0["0" << C9I]) + h9I;f6K.D4H(6);B09=f6K.W4H(D09,q09);for(var I9L=q09;I9L < D09;I9L++){N09=this.getYValue(I9L);if(N09){C9L.push(N09.transformed);o09.push(N09.untransformed);}}L9L=C9L.length;f6K.R4H(83);i9L=f6K.y4H(L9L,L9L,2,1);p09=Math.pow(i9L,2);f6K.D4H(84);K09=f6K.y4H(1,3,L9L,i9L,2);for(I9L=0;I9L < L9L;I9L++){O09+=L9L * C9L[I9L] - r9L;r9L+=C9L[I9L];R09+=L9L * o09[I9L] - X09;X09+=o09[I9L];}f6K.D4H(85);J09=f6K.W4H(i9L,p09,O09,K09,r9L,L9L,L9L);f6K.D4H(86);T09=f6K.W4H(i9L,J09,r9L,L9L);f6K.D4H(85);e09=f6K.y4H(i9L,p09,R09,K09,X09,L9L,L9L);f6K.R4H(86);m09=f6K.W4H(i9L,J09,X09,L9L);if(this.p0[0] < this.p1[0]){U09=T09;f6K.R4H(87);u09=f6K.y4H(B09,T09,J09);this.p0[1]=m09;f6K.R4H(87);this.p1[1]=f6K.y4H(B09,m09,e09);}else {f6K.D4H(87);U09=f6K.y4H(B09,T09,J09);u09=T09;f6K.R4H(87);this.p0[1]=f6K.y4H(B09,m09,e09);this.p1[1]=m09;}P09=this.stx.pixelFromTransformedValue(U09,d9L,l09);s09=this.stx.pixelFromTransformedValue(u09,d9L,l09);w09=this.getLineColor();Z09={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(k9L,E9L,P09,s09,w09,"segment",G9L,d9L,Z09);f6K.D4H(6);this.stx.plotLine(k9L,k9L,f6K.W4H(P09,20),f6K.y4H("20",P09,f6K.D4H(49)),w09,"segment",G9L,d9L,Z09);f6K.D4H(6);this.stx.plotLine(E9L,E9L,f6K.W4H(s09,20),f6K.W4H(s09,20,f6K.D4H(3)),w09,b77,G9L,d9L,Z09);if(this.active1 || this.active2 || this.active3){f6K.R4H(8);c09=f6K.y4H(L9L,r9L);t09=0;for(I9L=0;I9L < L9L;I9L++){t09+=Math.pow(C9L[I9L] - c09,2);}f6K.R4H(8);v09=Math.sqrt(f6K.W4H(L9L,t09));H9L={context:G9L,panel:d9L,points:{0:{x:k9L,v:U09},1:{x:E9L,v:u09}},stddev:v09,yAxis:l09};this.lines={};if(this.active1){this.renderStddev("3790" >> 484562400 > +"8659"?(7945,"503.69" * 1) < (8630,8240)?2352 !== (8399,6456)?(0x1c07,"N"):("N",0x266a):0x599:"1",7589 < 7183?! ![]:"p",H9L);this.renderStddev(369.66 !== 8312?"1":2.62e+3,"n",H9L);}if(this.active2){this.renderStddev((7584,2620) != (1880,199)?"2":![],(58.24,1460) !== (3970,708)?"p":(5588,"3836" | 2168) > 630.12?4850 >= ("5200" | 1104,6710)?0x1acf:2.14e+3:!{},H9L);this.renderStddev((127.89,"6017" | 5889) === (894.76,+"6527")?+"7427" >= (140.93,3580)?("V",! !1):7.86e+3:"2","n",H9L);}if(this.active3){this.renderStddev((2943,+"4505") === 3060?(!"",0x8fc):"3",("7057" ^ 0) === 368.6?"7000" << 1377271520 === 8242?(8.33e+3,! ![]):52 === (372.34,"525.44" - 0)?695.75:4.81e+3:"p",H9L);this.renderStddev(1464 === +"5310"?(582.05,5089) <= (4109,486.59)?(0x2040,! !1):(1610,"2060" >> 1775533600) == (9479,+"8691")?0x2316:!"":"3",(148.56,3700) >= +"520.22"?"n":(1460,56.68) < (9170,625.21)?3025 <= +"3910"?(0x904,0xc35):("404" >> 678868640,815.41):799.48,H9L);}}if(!this.highlighted){this.pixelX=[k9L,E9L];this.pixelY=[P09,s09];}else {C77="p";C77+="0";h09=this.highlighted == C77?! ![]:!{};A09=this.highlighted == "p1"?! !1:![];this.littleCircle(G9L,k9L,P09,h09);this.littleCircle(G9L,E9L,s09,A09);}},renderStddev:function(y09,L09,Q09){var V77,h77,W09,d09,I09,k09,Y09,F09,n09,f09,g09,x09,S09,M09,j09,a09,V09,b09,E09,i09,z09,H09;V77="patt";V77+="e";V77+="rn";h77="s";h77+="td";h77+="d";h77+="ev";f6K.R4H(22);W09=f6K.W4H(h77,y09,L09);f6K.R4H(3);d09=f6K.y4H("color",y09);f6K.R4H(3);I09=f6K.y4H(V77,y09);f6K.D4H(3);k09=f6K.y4H("lineWidth",y09);Y09=Q09.points;F09=Y09[0].v;n09=Y09[1].v;f09=Q09.stddev;g09=L09 === "n"?y09 * -1:y09 * 1;x09=this.stx;S09=Q09.panel;M09=Q09.yAxis;j09={name:W09,color:this.getLineColor(this[d09]),type:"segment",y0:x09.pixelFromTransformedValue(F09 + f09 * g09,S09,M09),y1:x09.pixelFromTransformedValue(n09 + f09 * g09,S09,M09),params:{pattern:this[I09],lineWidth:this[k09]}};if(this.lines){this.lines[W09]=j09;}a09=Q09.context;V09=Y09[+"0"].x;b09=Y09[1].x;x09.plotLine(V09,b09,j09.y0,j09.y1,j09.color,j09.type,a09,S09,j09.params);x09.plotLine(V09,V09,j09.y0 - ("10" >> 1811068000),j09.y0 + 10,j09.color,j09.type,a09,S09,j09.params);x09.plotLine(b09,b09,j09.y1 - 10,j09.y1 + 10,j09.color,j09.type,a09,S09,j09.params);f6K.D4H(3);E09=f6K.y4H(y09,"\u03c3");f6K.R4H(88);var V9I=f6K.y4H(4,2,209,55,4);i09=Math.max(V09,b09) + V9I;z09=V09 < b09?j09.y1:j09.y0;a09.fillStyle=j09.color;a09.save();a09.textBaseline="middle";a09.fillText(E09,i09,z09);a09.restore();if(Q09.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(V09 >= S09.chart.left && V09 <= S09.chart.right || b09 >= S09.chart.left && b09 <= S09.chart.right){f6K.D4H(89);H09=f6K.y4H(g09,f09,V09 < b09?n09:F09);x09.endClip();x09.createYAxisLabel(S09,Q09.formatPrice(H09,M09),z09,j09.color,null,a09,M09);x09.startClip(S09.name);}}},intersected:function(r09,P89,T89){var s89,X89,v77,B89,m89,l89,J89,C09,Q77;if(!this.pixelX || !this.pixelY){return null;}s89=this.repositionIntersection(r09,P89);if(s89){return s89;}X89={0:this.pixelX,1:this.pixelY};for(var G09=0;G09 < 2;G09++){if(this.pointIntersection(X89[+"0"][G09],X89[1][G09],T89,!"")){v77="d";v77+="ra";v77+="g";f6K.D4H(3);this.highlighted=f6K.W4H((2460,6484) <= +"7580"?"p":(2530,2760) < 730.93?(0x21fe,"796" << 389582112):(93.62,"H"),G09);return {action:v77,point:"p" + G09};}}B89=this;m89=this.pixelX[+"0"];l89=this.pixelX[1];J89=function(N89){var U89,u89;U89=[m89,N89.y0];f6K.N1K();u89=[l89,N89.y1];return B89.lineIntersection(r09,P89,T89,B89.name,U89,u89,!0);};f6K.T1K();C09=J89({y0:this.pixelY[0],y1:this.pixelY[1]});if(!C09 && this.lines){for(var o89 in this.lines){if(J89(this.lines[o89])){C09=! !"1";break;}}}if(C09){Q77="m";Q77+="ov";Q77+="e";this.highlighted=! ![];return {action:Q77,p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),tick:r09,value:P89};}return null;},repositionIntersection:function(w89,Z89){if(!this.p0 || !this.p1){return ! !"";}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! !{}){return {action:"move",p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),tick:w89,value:Z89};}return {action:"drag",point:this.highlighted};}return !{};},lineIntersection:function(c89,v89,K89,e89,R89,q89,t89){f6K.N1K();var p89,O89,D89;if(!t89){f6K.D4H(3);console.log(f6K.y4H(e89," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !{};}if(!R89){R89=this.p0;}if(!q89){q89=this.p1;}if(!(R89 && q89)){return ![];}p89=this.stx;O89=K6O.convertBoxToPixels(p89,this.panelName,K89);if(O89.x0 === undefined){return ! !"";}D89={x0:R89[0],x1:q89["0" & 2147483647],y0:R89[1],y1:q89["1" - 0]};return K6O.boxIntersects(O89.x0,O89.y0,O89.x1,O89.y1,D89.x0,D89.y0,D89.x1,D89.y1);},boxIntersection:function(A89,j89,h89){if(h89.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || h89.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ![];}if(!this.stx.repositioningDrawing && (h89.cy1 < this.pixelY[0] || h89.cy0 > this.pixelY[1])){return ! !0;}f6K.T1K();return !"";},reconstruct:function(a89,S89){this.stx=a89;this.color=S89.col;this.color1=S89.col1;this.color2=S89.col2;this.color3=S89.col3;this.active1=S89.dev1;this.active2=S89.dev2;this.active3=S89.dev3;this.panelName=S89.pnl;this.pattern=S89.ptrn;this.pattern1=S89.ptrn1;this.pattern2=S89.ptrn2;this.pattern3=S89.ptrn3;this.lineWidth=S89.lw;this.lineWidth1=S89.lw1;this.lineWidth2=S89.lw2;this.lineWidth3=S89.lw3;this.d0=S89.d0;this.d1=S89.d1;this.tzo0=S89.tzo0;this.tzo1=S89.tzo1;this.field=S89.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !"1");K6O.Drawing.trendline=function(){f6K.N1K();this.name="trendline";};K6O.inheritsFrom(K6O.Drawing.trendline,K6O.Drawing.segment);K6O.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth","pattern",r77];K6O.Drawing.trendline.prototype.measure=function(){f6K.T1K();;};K6O.Drawing.trendline.prototype.reconstruct=function(x89,V89){f6K.N1K();K6O.Drawing.segment.prototype.reconstruct.call(this,x89,V89);this.callout=new K6O.Drawing.callout();this.callout.reconstruct(x89,V89.callout);};K6O.Drawing.trendline.prototype.serialize=function(){var b89;b89=K6O.Drawing.segment.prototype.serialize.call(this);b89.callout=this.callout.serialize();f6K.N1K();return b89;};K6O.Drawing.trendline.prototype.render=function(W89){var y89,k89,M89,f89,Q89,Y89,F89,g89,n89,E89,z89,i89,H89,L89,d89,I89,G89,C89,d77,r89,P29;y89=this.stx.panels[this.panelName];if(!y89){return;}K6O.Drawing.segment.prototype.render.call(this,W89);if(!this.callout){this.callout=new K6O.Drawing.callout();k89=K6O.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,k89);}this.callout.p0=K6O.clone(this.p0);M89=this.stx.pixelFromTick(this.p0[0],y89.chart);f89=this.stx.pixelFromTick(this.p1[0],y89.chart);Q89=this.stx.pixelFromValueAdjusted(y89,this.p0[0],this.p0[1]);Y89=this.stx.pixelFromValueAdjusted(y89,this.p1["0" | 0],this.p1[+"1"]);if(!isFinite(Q89) || !isFinite(Y89)){return;}f6K.D4H(10);F89=f6K.y4H(f89,M89,2);f6K.D4H(10);g89=f6K.W4H(Y89,Q89,2);this.fontSize=K6O.stripPX(this.font && this.font.size || 13);f6K.D4H(6);var v9I=f6K.y4H(61,11);n89=this.callout.w * 1.2 + (this.callout.stemEntry[0] == "c"?0:v9I);E89=Math.sqrt(Math.pow(f89 - M89,"2" | 2) + Math.pow(Y89 - Q89,2));f6K.D4H(6);var Q9I=f6K.y4H(4,3);f6K.D4H(75);var r9I=f6K.y4H(8,303614005,4,1518070028);f6K.D4H(5);var d9I=f6K.y4H(5,0,6);f6K.R4H(6);var K9I=f6K.W4H(0,1);z89=n89 / (E89 || n89) * (this.p1[Q9I] < this.p0["1" << r9I]?d9I:K9I);f6K.D4H(90);i89=f6K.y4H(Y89,F89,z89,g89);f6K.D4H(74);H89=f6K.y4H(F89,g89,f89,z89);this.callout.p0[0]=this.stx.tickFromPixel(i89,y89.chart);this.callout.p0[+"1"]=this.stx.priceFromPixel(H89,y89);f6K.R4H(6);this.callout.v0=this.callout.p0[f6K.W4H("1",0)];this.callout.p1=K6O.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! ![];f6K.R4H(6);var D9I=f6K.W4H(5,4);f6K.R4H(36);var y9I=f6K.y4H(2,12,0,15);L89=this.p1[D9I] - this.p0[y9I];f6K.R4H(91);var A9I=f6K.y4H(18,0,11,126,10);f6K.D4H(2);var w9I=f6K.y4H(8,12,3);f6K.R4H(11);var t9I=f6K.y4H(0,12,14);this.callout.text="" + Number(L89).toFixed(A9I) + (this.p0[w9I] === 0?"":" (" + Number(100 * L89 / this.p0[1]).toFixed(t9I) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";d89=Math.floor((this.p0["0" * 1] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){G89=this.stx.pixelFromTick(d89,y89.chart);f6K.D4H(92);C89=f6K.y4H(M89,f89,G89,Q89,Y89,Q89,M89);I89=this.stx.priceFromPixel(C89,y89) || g89;}else {I89=this.stx.priceFromPixel(g89,y89);}this.callout.stem={t:d89,v:I89};this.callout.renderText();this.callout.render(W89);if(this.highlighted){d77="p";d77+="0";r89=this.highlighted == d77?! !{}:!"1";P29=this.highlighted == "p1"?! ![]:!{};this.littleCircle(W89,M89,Q89,r89);this.littleCircle(W89,f89,Y89,P29);}};K6O.Drawing.trendline.prototype.lineIntersection=function(s29,X29,B29,J29){return K6O.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,s29,X29,B29,"segment");};K6O.Drawing.trendline.prototype.intersected=function(m29,l29,N29){var o29,T29,K77;if(!this.p0 || !this.p1){return null;}o29=this.callout.intersected(m29,l29,N29);T29=K6O.Drawing.segment.prototype.intersected.call(this,m29,l29,N29);this.callout.highlighted=! !(o29 || T29);if(T29){return T29;}else if(o29){K77="m";K77+="o";K77+="v";K77+="e";return {action:K77,p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),tick:m29,value:l29};}return null;};K6O.Drawing.average=function(){this.name="average";};K6O.inheritsFrom(K6O.Drawing.average,K6O.Drawing.regression);K6O.extend(K6O.Drawing.average.prototype,{configs:K6O.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){f6K.T1K();var y77,D77,U29,w29,O29,R29,Z29,A77,u29;if(this.p0 && this.p1){y77=".m";y77+="Me";y77+="a";y77+="sure";D77=",";D77+=" ";this.stx.setMeasure(0,![],this.p0[+"0"],this.p1[0],! ![],this.name);U29=[];w29="";if(this.active1){U29.push(("4630" | 534) >= (46.79,770.51)?(556.02,8280) !== (538.47,4139)?(2280,7358) > (+"6578",7360)?! !"1":"1":(! !"1","c"):"T");}if(this.active2){U29.push(("504.09" - 0,9540) < (6436,29.86)?(+"7.15e+3",8.48e+3):"2");}if(this.active3){U29.push((1630,642) !== 7120?+"3304" != (5950,6450)?"3":"1.76e+3" | 1728:(9.64e+3,9.56e+3));}if(U29.length){w29="&ensp;" + U29.join(D77) + " &sigma;";}O29=(this.stx.drawingContainer || document).querySelector(y77);R29=this.stx.controls.mSticky;Z29=R29 && R29.querySelector(".mStickyInterior");if(O29){O29.innerHTML+=w29;}if(Z29){A77="<";A77+="br";A77+=">";u29=[];u29.push(K6O.capitalize(this.name));u29.push(this.field || this.stx.defaultPlotField || "Close");u29.push(Z29.innerHTML + w29);Z29.innerHTML=u29.join(A77);}}},render:function(c29){var w77,q29,p29,K29,j29,e29,b29,y29,F29,Q29,x29,t29,h29,S29,A29,D29,a29,V29,Y29,f29,v29,c67,X67,W67,t77,g29,W29;w77="segme";w77+="nt";q29=this.stx.panels[this.panelName];if(!q29){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1["0" >> 408631520] < ("0" & 2147483647)){return;}p29=this.stx.pixelFromTick(this.p0[+"0"],q29.chart);K29=this.stx.pixelFromTick(this.p1[0],q29.chart);if(p29 < q29.left && K29 < q29.left){return;}if(p29 > q29.right && K29 > q29.right){return;}function M29(n29,z29){if(z29 && z29.priceFormatter){n29=z29.priceFormatter(e29,q29,n29);}else {n29=e29.formatYAxisPrice(n29,q29,null,z29);}return n29;}j29=this.stx.getYAxisByField(q29,this.field);e29=this.stx;b29=Math.min(this.p1["0" * 1],this.p0[+"0"]);y29=Math.max(this.p1[0],this.p0[0]) + +"1";f6K.R4H(6);F29=f6K.W4H(y29,b29);Q29=0;x29=[];for(t29=b29;t29 < y29;t29++){h29=this.getYValue(t29);if(h29 !== null){Q29+=h29.transformed;x29.push(h29);}}S29=x29.length;if(!S29){return;}f6K.R4H(8);A29=f6K.y4H(S29,Q29);D29=e29.pixelFromTransformedValue(A29,q29,j29);a29=this.getLineColor();V29={pattern:this.pattern,lineWidth:this.lineWidth};e29.plotLine(p29,K29,D29,D29,a29,w77,c29,q29,V29);f6K.R4H(6);e29.plotLine(p29,p29,f6K.W4H(D29,20),f6K.y4H(D29,20,f6K.D4H(3)),a29,"segment",c29,q29,V29);f6K.R4H(6);e29.plotLine(K29,K29,f6K.W4H(D29,20),f6K.y4H("20",D29,f6K.D4H(49)),a29,"segment",c29,q29,V29);if(this.axisLabel && !this.highlighted && !this.penDown){if(p29 >= q29.chart.left && p29 <= q29.chart.right || K29 >= q29.chart.left && K29 <= q29.chart.right){e29.endClip();e29.createYAxisLabel(q29,M29(A29,j29),D29,a29,null,c29,j29);e29.startClip(q29.name);}}if(this.active1 || this.active2 || this.active3){Y29=0;for(t29=+"0";t29 < S29;t29++){h29=x29[t29];Y29+=Math.pow(h29.transformed - A29,+"2");}f6K.D4H(8);f29=Math.sqrt(f6K.y4H(S29,Y29));v29={context:c29,formatPrice:M29,panel:q29,points:{0:{x:p29,v:A29},1:{x:K29,v:A29}},stddev:f29,yAxis:j29};this.lines={};if(this.active1){this.renderStddev((423.83,"234.48" * 1) !== 121.03?"1":(+"0x1837","233.34" * 1),(4877,3603) <= 483.48?"5.87e+3" << 1727047936:6983 !== 1162?"p":(724,286.27),v29);this.renderStddev("1","n",v29);}if(this.active2){this.renderStddev(+"6630" != (1869,1962)?"2":![],8080 == (159.84,"8980" ^ 0)?+"7880" != 304?(0x927,497.09):! ![]:"p",v29);this.renderStddev("2",8830 == "1930" * 1?(2.48e+2,"o"):"n",v29);}if(this.active3){c67=-2042808195;X67=125037069;f6K.D4H(45);W67=f6K.y4H("2",2011603104);for(var b67=1;f6K.h4w(b67.toString(),b67.toString().length,"89096" | 2056) !== c67;b67++){this.renderStddev("3",(358.42,750.13) !== 1920?"p":"k",v29);this.renderStddev("3","n",v29);W67+=2;}if(f6K.V4w(W67.toString(),W67.toString().length,82109) !== X67){this.renderStddev("p",(590932,433932) === 5796?"3":"k",v29);this.renderStddev("3","3",v29);}}}if(!this.highlighted){this.pixelX=[p29,K29];this.pixelY=[D29,D29];}else {t77="p";t77+="0";g29=this.highlighted == t77?!0:![];W29=this.highlighted == "p1"?! !1:! !0;this.littleCircle(c29,p29,D29,g29);this.littleCircle(c29,K29,D29,W29);}},reconstruct:function(d29,L29){f6K.T1K();this.axisLabel=L29.al;K6O.Drawing.regression.prototype.reconstruct.call(this,d29,L29);},serialize:function(){var I29;f6K.T1K();I29=K6O.Drawing.regression.prototype.serialize.call(this);I29.al=this.axisLabel;return I29;}},!0);K6O.Drawing.quadrant=function(){this.name="quadrant";};K6O.inheritsFrom(K6O.Drawing.quadrant,K6O.Drawing.regression);K6O.extend(K6O.Drawing.quadrant.prototype,{configs:["color","fillColor",J77,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(H29){var x77,a77,S77,H77,E29,k29,i29,G29,X39,C29,r29,T39,B39,m39,l39,o39,N39,U39,J39,P39,u39,s39,Y77,Z39,O39;x77="segme";x77+="nt";a77="s";a77+="e";a77+="gment";S77="tir";S77+="one";H77="se";H77+="gment";E29=this.stx;k29=E29.panels[this.panelName];if(!k29){return;}if(!this.p1){return;}i29=E29.pixelFromTick(this.p0[0],k29.chart);G29=E29.pixelFromTick(this.p1[0],k29.chart);if(i29 < k29.left && G29 < k29.left){return;}if(i29 > k29.right && G29 > k29.right){return;}X39=this.stx.getYAxisByField(k29,this.field);C29=null;r29=null;for(var w39=Math.max(0,Math.min(this.p1[0],this.p0[0]));w39 <= Math.min(E29.chart.dataSet.length - 1,Math.max(this.p1[0],this.p0[0]));w39++){T39=this.getYValue(w39);if(T39 !== null){if(C29 === null || T39.transformed > C29){C29=T39.transformed;}if(r29 === null || T39.transformed < r29){r29=T39.transformed;}}}B39=E29.pixelFromTransformedValue(C29,k29,X39);f6K.R4H(93);m39=E29.pixelFromTransformedValue(f6K.y4H(4,3,r29,C29),k29,X39);f6K.D4H(93);l39=E29.pixelFromTransformedValue(f6K.W4H(3,2,r29,C29),k29,X39);f6K.D4H(13);o39=E29.pixelFromTransformedValue(f6K.y4H(1,r29,"2",C29),k29,X39);f6K.D4H(94);N39=E29.pixelFromTransformedValue(f6K.y4H(0,"2",C29,r29,"3"),k29,X39);f6K.R4H(95);U39=E29.pixelFromTransformedValue(f6K.y4H(r29,3,4,C29),k29,X39);J39=E29.pixelFromTransformedValue(r29,k29,X39);this.p0[1]=0;this.p1[1]=![];P39=this.getLineColor();u39=this.fillColor;if(u39 == "auto" || K6O.isTransparent(u39)){u39=E29.defaultColor;}H29.fillStyle=u39;s39={pattern:this.pattern,lineWidth:this.lineWidth};E29.plotLine(i29,G29,B39,B39,P39,H77,H29,k29,s39);E29.plotLine(i29,G29,J39,J39,P39,"segment",H29,k29,s39);if(this.name == "quadrant"){E29.plotLine(i29,G29,m39,m39,P39,"segment",H29,k29,s39);E29.plotLine(i29,G29,U39,U39,P39,"segment",H29,k29,s39);}else if(this.name == S77){Y77="s";Y77+="egm";Y77+="en";Y77+="t";E29.plotLine(i29,G29,l39,l39,P39,"segment",H29,k29,s39);E29.plotLine(i29,G29,N39,N39,P39,Y77,H29,k29,s39);}E29.plotLine(i29,i29,B39,J39,P39,"segment",H29,k29,s39);E29.plotLine(G29,G29,B39,J39,P39,a77,H29,k29,s39);E29.plotLine(i29,G29,o39,o39,P39,x77,H29,k29,K6O.extend(s39,{opacity:this.name == "tirone"?0.2:1}));H29.globalAlpha=0.1;H29.beginPath();f6K.D4H(6);H29.fillRect(i29,B39,f6K.y4H(G29,i29),f6K.y4H(J39,B39));if(this.name == "quadrant"){f6K.R4H(6);H29.fillRect(i29,m39,f6K.W4H(G29,i29),f6K.W4H(U39,m39));}else if(this.name == "tirone"){f6K.D4H(6);H29.fillRect(i29,l39,f6K.W4H(G29,i29),f6K.y4H(N39,l39));}H29.globalAlpha=+"1";if(!this.highlighted){this.pixelX=[i29,G29];this.pixelY=[B39,J39,o39];if(this.name === "quadrant"){this.pixelY.push(m39,U39);}if(this.name === "tirone"){this.pixelY.push(l39,N39);}}else {Z39=this.highlighted == "p0"?! !{}:!"1";O39=this.highlighted == "p1"?! !{}:![];this.littleCircle(H29,i29,o39,Z39);this.littleCircle(H29,G29,o39,O39);}},intersected:function(e39,t39,v39){var c39,p39,h39;var {pixelX:R39, pixelY:q39}=this;if(!R39 || !q39){return null;}c39=this.repositionIntersection(e39,t39);if(c39){return c39;}for(var D39=0;D39 < +"2";D39++){if(this.pointIntersection(R39[D39],q39[2],v39,!"")){f6K.R4H(3);this.highlighted=f6K.y4H("p",D39);return {action:"drag",point:((1943,+"741.43") >= 2835?2.62e+3:848.9 <= 792.12?8711 >= 7100?8.48e+3:0x134d:"p") + D39};}}p39=[];R39.forEach(A39=>{f6K.T1K();p39.push({p0:[A39,q39[0]],p1:[A39,q39[1]]});});q39.forEach(j39=>{var L67,N67,l57;f6K.T1K();L67=1729755666;N67=-780015084;l57=+"2";for(var M57=1;f6K.h4w(M57.toString(),M57.toString().length,82662) !== L67;M57++){p39.push({p0:[R39[2],j39],p1:[R39[7],j39]});l57+=2;}if(f6K.V4w(l57.toString(),l57.toString().length,90672) !== N67){p39.push({p0:[R39[2],j39],p1:[R39[7],j39]});}p39.push({p0:[R39[0],j39],p1:[R39[1],j39]});});h39=p39.some(({p0:S39, p1:a39})=>{return this.lineIntersection(e39,t39,v39,this.name,S39,a39,!"");});if(h39){this.highlighted=! !"1";return {action:"move",p0:K6O.clone(this.p0),p1:K6O.clone(this.p1),tick:e39,value:t39};}return null;},reconstruct:function(V39,x39){this.stx=V39;this.color=x39.col;this.fillColor=x39.fc;this.panelName=x39.pnl;this.pattern=x39.ptrn;this.lineWidth=x39.lw;this.d0=x39.d0;this.d1=x39.d1;this.tzo0=x39.tzo0;this.tzo1=x39.tzo1;this.field=x39.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);K6O.Drawing.tirone=function(){f6K.T1K();this.name="tirone";};K6O.inheritsFrom(K6O.Drawing.tirone,K6O.Drawing.quadrant);K6O.Drawing.elliottwave=function(){var E77;E77="el";E77+="liott";E77+="w";E77+="ave";this.name=E77;this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!{};this.annotationPoints=[];this.edit=null;};K6O.inheritsFrom(K6O.Drawing.elliottwave,K6O.Drawing.annotation);K6O.Drawing.elliottwave.defaultTemplate={impulse:["I",L77,"III","IV",2300 !== 693.72?"V":(576,"8036" ^ 0) <= ("2393" ^ 0)?(0x2163,0x1401):"A"],corrective:[(9590,1470) !== 5470?"A":("L",+"438.18"),"B",2920 !== (779,+"9720")?"C":7.09e+3],decoration:N77,showLines:! !"1"};K6O.Drawing.elliottwave.prototype.initializeSettings=function(b39){b39.currentVectorParameters.waveParameters=K6O.clone(K6O.Drawing.elliottwave.defaultTemplate);};K6O.Drawing.elliottwave.prototype.configs=["color",m47,l47,U47,"font","waveParameters"];K6O.Drawing.elliottwave.prototype.$controls=[M47,Z47];K6O.Drawing.elliottwave.prototype.construct=function(y39,Y39){var Q39;f6K.T1K();this.stx=y39;this.panelName=Y39.name;Q39=y39.currentVectorParameters;Object.assign(this,Q39.waveParameters);};K6O.Drawing.elliottwave.prototype.serialize=function(){var f47,f39,B47;f47="w";f47+="t";f39={};for(var M39=+"0";M39 < this.points.length;M39++){B47="t";B47+="z";B47+="o";f6K.D4H(3);f39[f6K.W4H((6583,7200) > 2105?(4741,2424) <= (209,4870)?"d":912.36:("0xc6c" ^ 0,0x7a6),M39)]=this[f6K.W4H((1108,+"965") === (137,257.58)?(0xa97,0x14b6):"d",M39)];f6K.R4H(3);f39[f6K.W4H("tzo",M39)]=this[f6K.W4H(B47,M39)];f6K.D4H(3);f39[f6K.W4H((5396,119.15) > ("4010" ^ 0)?(! !"",+"0x1803"):(35,+"407.99") >= (+"553.73",868.94)?9970 != 761.53?("201.79" * 1,"7.21e+3" * 1):878.75:"v",M39)]=this[f6K.W4H("v",M39)];}f39.annotations=this.annotationPoints.join((988.85,5760) <= ("5600" | 352,8540)?",":9.00e+3);return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:K6O.removeNullValues(K6O.replaceFields(this.font,{style:"st",size:"sz",weight:f47,family:"fl"}))},f39);};K6O.Drawing.elliottwave.prototype.reconstruct=function(W39,g39){this.stx=W39;this.color=g39.col;this.panelName=g39.pnl;this.pattern=g39.ptrn;this.lineWidth=g39.lw;this.font=K6O.replaceFields(g39.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"});this.decoration=g39.decor;this.showLines=g39.show;this.dx=g39.dx;this.dy=g39.dy;this.trend=g39.trend;this.annotationPoints=g39.annotations.split((390.38,4070) <= 1961?926.98:",");if(g39.decor === "enclosed"){this.calculateRadius(W39.chart.tempCanvas.context);}this.maxSegments=g39.mxSeg;this.reconstructPoints(g39);this.adjust();};K6O.Drawing.elliottwave.prototype.reconstructPoints=function(L39){var d39,o47,I39,k39;d39=this.stx.panels[this.panelName];if(!d39){return;}for(var z39=0;z39 < this.annotationPoints.length;z39++){o47="t";o47+="z";o47+="o";f6K.D4H(3);this[f6K.y4H(("499" >> 1667379200,2110) != 2966?1515 == 194?("z",0x2dd):(+"956.12",3560) !== (9420,879.24)?"d":(! !{},! !""):(!{},"l"),z39)]=L39[f6K.y4H((+"3610",254) === 367?+"4440" == 918?"v":(+"597.07","9300" * 1) === (+"977.89",6073)?("r",![]):(5.06e+3,!"1"):"d",z39)];f6K.D4H(3);this[f6K.W4H("v",z39)]=L39[f6K.W4H("v",z39)];f6K.D4H(3);this[f6K.y4H(o47,z39)]=L39[f6K.y4H("tzo",z39)];I39=K6O.strToDateTime(L39[(486.35 !== +"8039"?"d":2393 >= (657.83,4530)?"h":3310 >= "7970" << 129427040?!"1":"s") + z39]);k39=this.stx.tickFromDate(I39,d39.chart);this.points.push([k39,L39["v" + z39]]);}};K6O.Drawing.elliottwave.prototype.calculateRadius=function(G39){var E39,H39;this.getFontString();f6K.N1K();G39.font=this.fontString;E39=0;for(var i39=0;i39 < this.annotationPoints.length;i39++){H39=G39.measureText(this.annotationPoints[i39]).width;if(E39 < H39){E39=H39;}}this.enclosedRadius=E39;};K6O.Drawing.elliottwave.prototype.check=function(s59,B59,C39){var r39,P59;if(C39 === 1 && this.points.length === "2" << 1819796832){return ! !{};}f6K.R4H(6);r39=this.points[f6K.y4H(C39,1)];if(r39 && s59 <= r39["0" - 0]){return !{};}function X59(T59){for(var J59="2" ^ 0;J59 < T59.length;J59++){if(Math.sign(T59[J59][1] - T59[J59 - 1]["1" ^ 0]) == Math.sign(T59[J59 - 1][1] - T59[J59 - 2][1])){return ![];}}return !0;}f6K.D4H(3);P59=this.points[f6K.W4H(C39,1)];if(P59 && s59 >= P59[0]){return !"1";}if(!X59(this.points)){return !"1";}return ! !{};};K6O.Drawing.elliottwave.prototype.move=function(m59,l59,o59){f6K.N1K();this.copyConfig();f6K.D4H(11);var J9I=f6K.y4H(9,25,17);this.points[this.lastPoint + J9I]=[l59,o59];this.render(m59);};K6O.Drawing.elliottwave.prototype.adjust=function(){var U59,u59;U59=this.stx.panels[this.panelName];if(!U59){return;}for(var N59=0;this.maxSegments + ("1" ^ 0) > N59;N59++){f6K.R4H(3);u59=this[f6K.W4H((165.03,3342) < (6320,9234)?"d":"e",N59)];this.setPoint(N59,u59,this[((107.31,6748) <= 997?(7.79e+3,+"7.98e+3"):"v") + N59],U59.chart);this.points[N59][0]=this.stx.tickFromDate(K6O.strToDateTime(u59),U59.chart);f6K.D4H(3);this.points[N59][1]=this[f6K.W4H(615.04 !== 4980?"v":205 == (6180,7046)?(0x22aa,"k"):0x554,N59)];}};K6O.Drawing.elliottwave.prototype.click=function(R59,w59,Z59){var O59;O59=this.stx.panels[this.panelName];if(!O59){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,w59,Z59,O59.chart);this.points.push(this.p0);this.penDown=! !1;f6K.D4H(0);this.segment=f6K.y4H("0",1975440416);this.lastPoint=+"0";if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift("0");if(this.decoration === "enclosed"){this.calculateRadius(R59);}this.maxSegments=this.annotationPoints.length - ("1" - 0);this.trend=1;return !"1";}if(this.accidentalClick(w59,Z59)){this.penDown=! ![];return ! !0;}if(this.check(w59,Z59,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,w59,Z59,O59.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!{};return ! !1;}}f6K.N1K();return !{};};K6O.Drawing.elliottwave.prototype.render=function(q59){var P47,p59,y59,W59,F59,n59,Q59,Y59,e59,t59,M59,c59,K59,G47,I47,h59,j59,v59,S59,a59,z59,L59,x59,V59,A59,f59,g59,d59,b59;P47="cen";P47+="t";P47+="er";p59=this.stx.panels[this.panelName];if(!p59){return;}y59=this.stx;W59=this.annotationPoints;F59=this.pattern?K6O.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();q59.font=this.fontString;q59.textAlign=P47;q59.textBaseline="middle";q59.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(q59);}this.lastFontString=this.fontString;n59=this.getLineColor();q59.fillStyle=q59.strokeStyle=n59;q59.save();q59.setLineDash(F59);Q59=this.dx;Y59=this.dy;e59=this.points;t59=this.pts;M59=!this.showLines && this.highlighted;c59=e59.length;if(this.penDown && this.segment){G47="bo";G47+="tt";G47+="o";G47+="m";f6K.D4H(36);var H9I=f6K.W4H(3,3,0,8);K59=this.trend * (c59 % H9I - 0.5) < "0" - 0;if(p59.yAxis.flipped){K59=!K59;}this.drawDropZone(q59,e59[c59 - 2][1],this.stx.priceFromPixel(p59.yAxis[K59?"top":G47]),e59[c59 - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){I47="m";I47+="a";I47+="x";h59=parseInt(this.highlighted.substring(1,this.highlighted.length),10);f6K.D4H(96);var S9I=f6K.W4H(7,1,0,7);f6K.D4H(97);var Y9I=f6K.y4H(7,13,7);K59=this.trend * (h59 % S9I - "0.5" * Y9I) > 0;f6K.D4H(26);j59=e59[f6K.W4H(1,h59,"1")];f6K.D4H(3);v59=e59[f6K.y4H(h59,1)];S59=h59 > 0?j59[1]:v59[1];if(v59){S59=Math[K59?I47:"min"](S59,v59["1" << 367270240]);}if(p59.yAxis.flipped){K59=!K59;}this.drawDropZone(q59,S59,this.stx.priceFromPixel(p59.yAxis[K59?"top":"bottom"]),j59?j59[+"0"]:null,v59?v59[0]:null);}for(var D59=0;D59 < c59;D59++){a59=e59[D59];z59=y59.pixelFromTick(a59[0],p59.chart);L59=y59.pixelFromValueAdjusted(p59,a59[0],a59[1]);t59[D59]=[z59,L59];}D59=0;if(this.showLines || M59){q59.beginPath();if(M59){q59.globalAlpha=0.3;}for(;D59 < t59.length;D59++){q59.lineTo(t59[D59][0],t59[D59][1]);}q59.stroke();f6K.D4H(45);D59=f6K.y4H("0",374218720);}q59.restore();for(;D59 < c59;D59++){x59=D59 % +"2"?Q59:-Q59;V59=D59 % 2?Y59:-Y59;x59*=this.trend;V59*=this.trend;if(p59.yAxis.flipped){x59*=-1;V59*=- +"1";}A59=t59[D59];f59=A59[+"2"]=A59[0] + x59;f6K.D4H(19);var a9I=f6K.y4H(8,7);f6K.R4H(6);g59=A59[f6K.y4H("3",0)]=A59[a9I] + V59;d59=this.enclosedRadius || 8;b59=W59[D59];if(this.decoration === "parentheses"){f6K.R4H(22);b59=f6K.y4H(+"617" < (8100,613.48)?9760 == 323?(! ![],! !1):(! !{},+"0x1986"):"(",b59,")");}q59.fillText(b59,f59,g59);if(this.decoration === "enclosed"){q59.beginPath();q59.arc(f59,g59,d59,0,2 * Math.PI,![]);q59.stroke();}if(this.highlighted){q59.save();this.littleCircle(q59,this.pts[D59][0],this.pts[D59]["1" * 1],this.highlighted === "p" + D59);q59.restore();}}};K6O.Drawing.elliottwave.prototype.reposition=function(T69,I59,i59,H59){var C59,r59,P69,E59,G59,s69,V97,v97,Q97;f6K.N1K();if(!I59){return;}C59=this.stx.panels[this.panelName];r59=I59.tick - i59;P69=I59.value - H59;if(I59.action === "move"){for(var k59=0;I59.points.length > k59;k59++){E59=I59.points[k59];this.setPoint(k59,E59[0] - r59,E59[1] - P69,C59.chart);f6K.D4H(98);var x9I=f6K.W4H(24,7,8,15,13);this.points[k59]=[E59[0] - r59,E59[x9I] - P69];}}if(I59.action === "drag"){G59=I59.point;s69=this.points;s69[G59]=[i59,H59];if(this.check(i59,H59,G59)){this.setPoint(G59,i59,H59,C59.chart);;};}V97=868678472;v97=713615581;Q97=2;for(var d97=1;f6K.h4w(d97.toString(),d97.toString().length,96350) !== V97;d97++){this.render(T69);Q97+=+"2";}if(f6K.h4w(Q97.toString(),Q97.toString().length,59645) !== v97){this.render(T69);}};K6O.Drawing.elliottwave.prototype.intersected=function(o69,N69,u69){var w69,l69;if(!this.p0 || !this.p1){return null;}for(var m69=0;this.points.length > m69;m69++){l69=this.points[m69];if(this.pointIntersection(l69["0" & 2147483647],l69[1],u69)){f6K.R4H(3);this.highlighted=f6K.y4H((983.08,212.8) < 9360?"p":"262.13" * 1 != 776.46?(+"3050",9826) === "1910" << 2054730144?0xdf1:("S",! !{}):(546.46,4.91e+3),m69);return {action:"drag",point:m69,tick:o69,value:N69};}if(this.points[m69 + 1] && this.lineIntersection(o69,N69,u69,"segment",l69,this.points[m69 + 1])){this.highlighted=! !"1";w69={action:"move",points:K6O.clone(this.points),tick:o69,value:N69};}}return w69;};K6O.Drawing.elliottwave.prototype.measure=function(){var O47,O69,K69,p69,T47,q69;if(this.points.length >= 2){O47=".mStickyInterio";O47+="r";O69=this.points;this.stx.setMeasure(O69[0][1],O69[O69.length - 1][1],O69[0]["0" * 1],O69[O69.length - 1][0],! !"1");K69=this.stx.controls.mSticky;p69=K69 && K69.querySelector(O47);if(p69){T47="Elliott W";T47+="ave";q69=[];q69.push(K6O.capitalize(T47));if(this.getYValue){q69.push(this.field || this.stx.defaultPlotField || "Close");}q69.push(p69.innerHTML);p69.innerHTML=q69.join("<br>");}}};K6O.Drawing.printProjection=function(Q69,G69,t69){var h69,j69,d69,Y69,k69,M69,E69,f69,x69,z69,a69,i69,L69,F69,v69,H69;h69=G69.arr;if(h69.length > 1){j69=h69[0][0];d69=Math.round(Q69.chart.maxTicks * 0.75);for(var S69=1;S69 < h69.length;S69++){f6K.D4H(6);Y69=h69[f6K.W4H(S69,1)][0];k69=h69[S69][0];M69=K6O.strToDateTime(Y69);E69=K6O.strToDateTime(k69).getTime();f69=Q69.standardMarketIterator(M69);x69=0;while(M69.getTime() < E69){M69=f69.next();x69+=1;}z69=K6O.strToDateTime(Y69).getTime();if(z69 > K6O.strToDateTime(t69[t69.length - 1].Date).getTime()){f6K.D4H(11);var E9I=f6K.W4H(0,6,7);a69=t69.length - E9I;x69+=1;}else {for(a69=t69.length - +"1";a69 >= 0;a69--){if(z69 <= K6O.strToDateTime(t69[a69].Date).getTime())break;}}i69={x0:0,x1:x69,y0:t69[a69].Close,y1:h69[S69][1]};j69=K6O.strToDateTime(Y69);f69=Q69.standardMarketIterator(j69);L69=! !0;for(var g69=0;g69 <= x69;g69++){if(!L69){L69=! !"1";}else {j69=f69.next();}if(j69.getTime() <= t69[t69.length - 1].DT.getTime())continue;F69=K6O.yIntersection(i69,g69);if(!F69){F69=0;}f6K.R4H(99);var L9I=f6K.y4H(2803,526,7,16,9997);f6K.D4H(12);var N9I=f6K.y4H(10012,16,7,11);v69=Math.round(F69 * L9I) / N9I;if(v69 === 0){v69=h69[S69][1];}H69={Date:K6O.yyyymmddhhmmssmmm(j69),DT:j69,Open:v69,Close:v69,High:v69,Low:v69,Volume:0,Adj_Close:v69,Split_Close:v69,projection:! !"1"};if(Q69.layout.interval == "minute")if(d69-- < 0)break;t69[t69.length]=H69;}}}};}};B0O=r69=>{var C69;C69=typeof _CIQ !== "undefined"?_CIQ:r69.CIQ;if(!C69.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {C69.formatEquation=function(m79){var Q4K=J2SS;var X79,J79,P79,B79,s79;X79="";J79=[];Q4K.N1K();P79="";B79=!"1";for(var T79=1;T79 < m79.length;T79++){s79=m79[T79];if(s79 == (3622 !== 4343?"[":![]) && !B79){B79=! ![];}else if(s79 == ((6851,1480) === (801.87,996)?("794.11" - 0,817.69):(388.07,708.69) > 9372?+"965.35":(6570,697.58) >= (+"4770",707.51)?(+"187.22",!{}):"]") && B79){B79=!{};if(P79 !== ""){J79.push(P79);Q4K.R4H(22);X79+=Q4K.y4H(4077 == 1670?8450 === ("464.21" - 0,4296)?(0x1c6a,0x1792):(642.37,8510) === (4150,"863.13" * 1)?(235.94,0x1e96):(! !"1",252.65):"[",P79,8565 == "550" << 1617431456?(916,9192) < +"4434"?(375,2.22e+3):1220 !== (+"217.12",810.44)?("424.92" * 1,+"0x2166"):0xd21:"]");}P79="";}else if(B79){P79+=s79;}else if(s79 == ((464.52,5773) != (3835,251.54)?"+":(0x155a,738)) || s79 == (("3190" >> 940481120,907.58) === (4640,1700)?(+"572",404.19) >= 4069?(0x1880,379.34):4.19e+3:"-") || s79 == "*" || s79 == "/" || s79 == ":" || s79 == "%" || s79 == "(" || s79 == ")"){if(P79 !== "" && isNaN(P79)){J79.push(P79);Q4K.R4H(22);X79+=Q4K.y4H((9410,8590) != 1380?"[":"o",P79,+"1300" != 6090?"5162" - 0 !== (419.48,401)?"]":780.62 == (4841,+"6860")?"0x6ab" << 1582405088:("9.00e+3" | 0,0x1039):148.39);}else {X79+=P79;}if(s79 == (5079 === 7097?3000 == 143?2.36e+3:826 == 531?"338" | 0:(! !0,! !"1"):":")){s79=(3870,9620) > 3770?"/":("845" * 1,+"1.38e+3");}X79+=s79;P79="";}else if(s79 != (307.47 <= 914?" ":(2780,"557" - 0) >= +"9520"?(865.41,"e"):(0xe5b,9.80e+3))){P79+=s79;}}if(P79 !== "" && isNaN(P79)){J79.push(P79);Q4K.R4H(22);X79+=Q4K.W4H(("1881" ^ 0,4386) !== 5550?8403 !== (2563,6569)?"[":0x642:"6.02e+2" - 0,P79,(3050,5950) < (2850,+"26")?("j",8.47e+3):1076 === (8740,3990)?(0xe2d,2.89e+3):"]");}else {X79+=P79;}return {equation:X79,symbols:J79};};C69.fetchEquationChart=function(l79,O79){var U79,u79,w79,Z79,N79;U79=C69.formatEquation(l79.symbol);u79=U79.symbols;w79=[];Z79=l79.stx;l79.stx=null;for(var o79=0;o79 < u79.length;o79++){N79=C69.shallowClone(l79);N79.stx=Z79;N79.symbol=u79[o79];N79.symbolObject={symbol:u79[o79]};w79.push(N79);}l79.stx=Z79;Z79.quoteDriver.multiFetch(w79,function(t79){var K79,R79,q79,D79,c79;K79={};l79.loadMoreReplace=! !1;R79={charge:0};for(var p79=0;p79 < t79.length;p79++){q79=t79[p79];if(q79.dataCallback.error){O79({error:q79.dataCallback.error});return;}K79[q79.params.symbol]=q79.dataCallback.quotes;l79.loadMoreReplace=l79.loadMoreReplace && q79.params.loadMoreReplace;l79.moreToLoad=l79.moreToLoad || q79.dataCallback.moreAvailable;D79=q79.dataCallback.attribution;if(D79){if(D79.charge){R79.charge+=D79.charge;}R79.source=D79.source;if(R79.exchange === undefined){R79.exchange=D79.exchange;}else if(R79.exchange != D79.exchange){R79.exchange="";};}}if(w79.length || !(l79.loadMore || l79.update)){try{c79=C69.computeEquationChart(U79.equation,K79);O79({quotes:c79,moreAvailable:l79.moreToLoad,attribution:R79});}catch(v79){var e79;e79={error:"Invalid equation: " + U79.equation};if(v79.name && v79.name == "NoException"){e79.suppressAlert=! !1;}O79(e79);}}});};}};J0O=A79=>{J2SS.T1K();var h79,j47;h79=typeof _CIQ !== "undefined"?_CIQ:A79.CIQ;if(!h79.Marker){j47="highPerformanceMar";j47+="kers feature requires first activating markers feature.";console.error(j47);}else if(!h79.Marker.Performance){h79.ChartEngine.prototype.removeDOMMarker=function(j79){J2SS.T1K();console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");h79.Marker.Performance.prototype.removeDOMMarker.call(j79.params.node,j79);};h79.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");h79.Marker.Performance.drawMarkers(this);};h79.ChartEngine.prototype.calculateMarkerStyles=function(S79,a79){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");h79.Marker.Performance.calculateMarkerStyles(this,S79,a79);};h79.ChartEngine.prototype.drawCircleMarker=function(x79,V79,b79){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");h79.Marker.Performance.drawCircleMarker(x79,V79,b79);};h79.ChartEngine.prototype.drawSquareMarker=function(y79,Q79,Y79){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");J2SS.N1K();h79.Marker.Performance.drawSquareMarker(y79,Q79,Y79);};h79.ChartEngine.prototype.drawCalloutMarker=function(M79,f79,g79){var z47;J2SS.N1K();z47="CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Mar";z47+="ker.Performance.drawCalloutMarker instead.";console.warn(z47);h79.Marker.Performance.drawCalloutMarker(M79,f79,g79);};h79.ChartEngine.prototype.drawMarkerStem=function(W79,F79,n79){var e47;e47="CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead";e47+=".";console.warn(e47);J2SS.T1K();h79.Marker.Performance.drawMarkerStem(W79,F79,n79);};h79.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");J2SS.T1K();h79.Marker.Performance.drawMarkers(this);};h79.Marker.Performance=function(d79){var p47,n47,R47,u47,F47,q47,L79,z79,k79,i79,I79,E79,H79,G79;p47=".stx-m";p47+="arker-expand";n47=".stx-v";n47+="is";n47+="ua";n47+="l";R47="</div";R47+=">";u47="<";u47+="/di";u47+="v>";F47="<div cla";F47+="ss=\"stx-marker highlight\">";q47="T";q47+="EMPLAT";q47+="E";this.params={displayCategory:!"",displayStem:!0,invert:!1,story:"",headline:""};h79.extend(this.params,d79);L79=this.template=document.createElement(q47);J2SS.R4H(100);J2SS.T1K();L79.innerHTML=J2SS.W4H(u47,"</div>",F47,'<div class="stx-marker-content">','<div class="stx-stem"></div>','<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>','<div class="stx-visual">',R47);z79=this.template.content.cloneNode(! ![]);k79=z79.querySelector(".stx-marker",L79);k79.classList.add(d79.type);k79.classList.add(d79.category);i79=z79.querySelector(n47,L79);I79=z79.querySelector(p47);E79=z79.querySelector("h4",L79);H79=z79.querySelector("p",L79);E79.innerText=this.params.headline;H79.innerText=this.params.story;this.hasText=! !d79.headline || ! !d79.story;this.deferAttach=! !{};this.node=z79.firstChild;this.node.params=this.params;this.visual=i79;this.expand=I79;if(d79.type === "callout"){G79=I79.removeChild(E79);z79.querySelector(".stx-marker-content",L79).insertBefore(G79,I79);}};h79.inheritsFrom(h79.Marker.Performance,h79.Marker.NodeCreator,!1);h79.Marker.Performance.consolidateExpanded=function(J99){var F4K=J2SS;F4K.T1K();var C79,r79,X99,s99,B99;C79=J99.markerHelper.highlighted;if(!C79.length){return;}F4K.R4H(16);var m6I=F4K.W4H(6,4,23,0);r79=C79[C79.length - m6I];X99=r79.params.node;if(!r79.consolidated){r79.consolidated=[];}for(var P99=C79.length - +"2";P99 >= 0;P99--){s99=T99(C79[P99]);F4K.R4H(22);B99=F4K.y4H("<consolidated>",s99,"</consolidated>");if(s99.length){X99.expand.innerHTML+=B99;}}r79.stxNodeCreator.quickCache(r79);function T99(N99){var k47,l99,m99,o99;k47="n";k47+="o";k47+="n";k47+="e";l99=N99.params.node;m99=l99.expand;if(!m99){return "";}o99=m99.style.display !== k47?m99.innerHTML:"";return o99;}};h79.Marker.Performance.reconstituteExpanded=function(Z99){J2SS.N1K();var U99,s47,O99,R99,w99;U99=Z99.markerHelper.highlighted;if(!U99.length || !Z99.activeMarker){return;}U99=[Z99.activeMarker];for(var u99=U99.length - "1" * 1;u99 >= 0;u99--){s47="CO";s47+="NSOLIDATED";O99=U99[u99];R99=O99.params.node;w99=R99.expand;while(w99.lastElementChild.nodeName === s47){w99.removeChild(w99.lastElementChild);}}};h79.Marker.Performance.drawMarkers=function(t99){var e99,q99,p99,K99,c99,v99;e99=t99.getMarkerArray("all");q99=t99.chart;for(var D99=0;D99 < e99.length;D99++){p99=e99[D99];K99=p99.stxNodeCreator;c99=q99.dataSegment[+"0"].tick;v99=q99.dataSegment[q99.dataSegment.length - ("1" ^ 0)].tick;if(c99 <= p99.tick <= v99){if(K99 && K99.drawMarker){K99.drawMarker(p99);}}}};h79.Marker.Performance.calculateMarkerStyles=function(A99,j99,x99){var h99,c47,i47,S99,a99;h99=document.querySelector(".stx-marker-templates");if(!h99){c47="-100";c47+="0";c47+="px";i47="DI";i47+="V";h99=document.createElement(i47);h99.style.visibility="hidden";h99.style.left=c47;document.body.append(h99);}h99.appendChild(j99.node);S99=getComputedStyle(j99.stxNodeCreator.visual);if(!A99.styles.stx_marker_stem){a99=getComputedStyle(document.querySelector(".stx-stem",j99.node));A99.styles.stx_marker_stem=A99.cloneStyle(a99);}A99.styles[x99]=A99.cloneStyle(S99);h99.removeChild(j99.node);};h79.Marker.Performance.drawCircleMarker=function(Y99,n99,b99){var V4K=J2SS;var X47,W99,F99,V99,y99,Q99,M99,f99,g99,W47,A67,w67,t67;X47="n";X47+="ormal bold";X47+=" 12px Roboto, Helvetica, sans-serif";W99=Y99.params.stx;F99=W99.chart;V99=F99.context;y99=b99.x;Q99=b99.y;M99=b99.radius;V4K.T1K();f99=b99.label;g99=b99.color?b99.color:n99.backgroundColor;V99.beginPath();V99.setLineDash([]);V99.lineWidth=1;V99.fillStyle=g99;V99.strokeStyle=g99;V99.font=X47;V99.arc(y99,Q99,M99,+"0",2 * Math.PI,! !0);V99.fill();V99.stroke();V99.closePath();if(f99){W47="whi";W47+="t";W47+="e";V99.fillStyle=h79.colorsEqual(W47,V99.fillStyle)?"black":"white";V99.fillText(f99.charAt(0).toUpperCase(),y99 - 4,Q99 + 1);}if(Y99.highlight || Y99.active){V99.beginPath();A67=146600771;w67=119136111;t67=2;for(var H67=1;V4K.V4w(H67.toString(),H67.toString().length,93169) !== A67;H67++){V4K.D4H(3);V99.arc(y99,Q99,V4K.y4H(M99,4),0,"2" * 1 * Math.PI,! !0);t67+=2;}if(V4K.V4w(t67.toString(),t67.toString().length,"64119" << 918132032) !== w67){V4K.R4H(101);V99.arc(y99,Q99,V4K.y4H("9",M99,1),1,("5" >> 1566281312) % Math.PI,! ![]);}V99.stroke();V99.closePath();}};h79.Marker.Performance.drawSquareMarker=function(i99,s0r,L99){var a4K=J2SS;var C99,r99,z99,k99,E99,d99,H99,G99,I99,b47,g47;C99=i99.params.stx;r99=C99.chart;z99=r99.context;k99=L99.x;E99=L99.y;d99=L99.half;H99=L99.label;G99=L99.color?L99.color:s0r.backgroundColor;a4K.R4H(14);I99=a4K.W4H(d99,2);z99.beginPath();z99.setLineDash([]);z99.lineWidth=1;z99.fillStyle=G99;z99.strokeStyle=G99;z99.font="normal bold 12px Roboto, Helvetica, sans-serif";a4K.N1K();a4K.D4H(6);z99.rect(a4K.y4H(k99,d99),a4K.W4H(E99,d99),I99,I99);z99.fill();if(i99.highlight || i99.active){a4K.R4H(2);z99.rect(a4K.W4H(d99,k99,4),a4K.y4H(E99,d99,"4",0,a4K.D4H(102)),a4K.y4H(I99,415385696,"8",a4K.D4H(103)),a4K.y4H(I99,8,a4K.R4H(3)));}z99.stroke();z99.closePath();if(H99){b47="blac";b47+="k";g47="w";g47+="hi";g47+="t";g47+="e";z99.fillStyle=h79.colorsEqual(g47,z99.fillStyle)?b47:"white";z99.fillText(H99.charAt(0).toUpperCase(),k99 - 4,E99 + 1);}};h79.Marker.Performance.drawCalloutMarker=function(o0r,V0r,J0r){var C47,h0r,A0r,B0r,l0r,b0r,U0r,u0r,O0r,p0r,t0r,x0r,N0r,c0r,v0r;C47="rgba(255,";C47+="255,255,0";C47+=".8)";h0r=o0r.params.stx;A0r=h0r.chart;B0r=A0r.context;l0r=o0r.params;b0r=J0r.x;U0r=J0r.y;u0r=J0r.half;O0r=J0r.midWidth;p0r=J0r.headline;t0r=J0r.color?J0r.color:V0r.backgroundColor;x0r=u0r * 2 || 25;N0r=Math.round(B0r.measureText(p0r).width);c0r=O0r?O0r * ("2" - 0):N0r + 8;B0r.beginPath();B0r.setLineDash([]);B0r.lineWidth=1;B0r.fillStyle=t0r;B0r.strokeStyle=t0r;B0r.font="normal bold 12px Roboto, Helvetica, sans-serif";B0r.rect(l0r.box.x0,l0r.box.y0,c0r,x0r);B0r.fill();J2SS.T1K();B0r.stroke();B0r.closePath();B0r.beginPath();B0r.fillStyle=o0r.highlight || o0r.active?C47:"rgba(255,255,255,0.65)";J2SS.R4H(104);v0r=J2SS.W4H(0,N0r,c0r,20,"2");B0r.rect(l0r.box.x0 + v0r,U0r - u0r,N0r + 40,22);B0r.fill();B0r.stroke();B0r.closePath();B0r.fillStyle="black";B0r.fillText(p0r,l0r.box.x0 + v0r + +"10",U0r);};h79.Marker.Performance.drawMarkerStem=function(Q0r,I0r,M0r){var E0r,i0r,y0r,W0r,P8r,L0r,G0r,C0r;E0r=Q0r.params.stx;i0r=E0r.chart;y0r=i0r.context;W0r=M0r.x;P8r=M0r.y;y0r.beginPath();y0r.strokeStyle=I0r.borderLeftColor;y0r.setLineDash([1,+"1"]);J2SS.N1K();L0r=h79.stripPX(I0r.height);G0r=M0r.invert?Q0r.params.box.y0:Q0r.params.box.y1;C0r=M0r.invert?Q0r.params.box.y0 - L0r:Q0r.params.box.y1 + L0r;y0r.moveTo(W0r,G0r);y0r.lineTo(W0r,C0r);y0r.stroke();y0r.closePath();};h79.Marker.Performance.prototype.drawMarker=function(s8r){var O4K=J2SS;var V47,h47,w8r,B8r,K8r,e8r,q8r,J8r,o8r,N8r,t8r,D8r,Z8r,p8r,O8r,T8r,R8r,X8r,U8r,u8r,c8r,v8r,m8r,l8r,v47;V47="ca";V47+="l";V47+="lo";V47+="ut";h47="circ";h47+="le";w8r=s8r.params;B8r=s8r.params.stx;if(!B8r){return;}K8r=B8r.chart;e8r=K8r.dataSegment;if(!e8r.length){return;}q8r=B8r.panels[s8r.params.panelName];J8r=s8r.stxNodeCreator.params;O4K.T1K();o8r=J8r.type;N8r=J8r.category;t8r=J8r.headline;D8r=J8r.displayCategory;Z8r=J8r.color;p8r=J8r.invert;O4K.R4H(105);O8r=O4K.y4H(N8r,1330 == 2976?9948 <= 912.62?(9.82e+3,1.72e+3):(+"4530",6118) == 1177?127.72:810.76:"_",o8r,"stx_marker_");if(!B8r.styles[O8r]){h79.Marker.Performance.calculateMarkerStyles(B8r,s8r,O8r);}T8r=s8r.style=B8r.styles[O8r];R8r=B8r.styles.stx_marker_stem;O4K.R4H(87);var l6I=O4K.W4H(6,4,1);O4K.R4H(106);var U6I=O4K.y4H(4,11,9,3);X8r=parseInt(T8r.height,l6I) / U6I;O4K.D4H(48);var M6I=O4K.y4H(1,9,1);O4K.D4H(27);var Z6I=O4K.y4H(15,208,14);U8r=parseInt(T8r.width,M6I) / Z6I;u8r=J8r.displayStem?parseInt(R8r.height,10) + parseInt(R8r.marginBottom,+"10"):0;c8r=u8r + parseInt(T8r.height,+"10");v8r=u8r?u8r + X8r:0;m8r=B8r.pixelFromDate(w8r.x);l8r=w8r.node.calculateYPosition({marker:s8r,panel:q8r,height:c8r,half:X8r,offset:v8r,inverted:p8r});if(!s8r.tick && s8r.tick !== 0){return;}w8r.box={x0:m8r - (U8r || X8r),y0:l8r - X8r,x1:m8r + (U8r || X8r),y1:l8r + X8r,midY:X8r,midX:U8r || X8r,stemHeight:u8r};if(!D8r){N8r=D8r;}B8r.startClip(q8r.name);if(o8r === h47){h79.Marker.Performance.drawCircleMarker(s8r,T8r,{x:m8r,y:l8r,radius:X8r,label:N8r,color:Z8r});}else if(o8r === "square"){h79.Marker.Performance.drawSquareMarker(s8r,T8r,{x:m8r,y:l8r,half:X8r,label:N8r,color:Z8r});}else if(o8r === V47){h79.Marker.Performance.drawCalloutMarker(s8r,T8r,{x:m8r,y:l8r,half:X8r,midWidth:U8r,headline:t8r,color:Z8r});}else {v47=" is unsu";v47+="pported";v47+=" with canvas markers!\nSupported Styles are Square, Circle, and Callout.";O4K.R4H(22);console.warn(O4K.W4H("Marker type: ",o8r,v47));}if(J8r.displayStem){h79.Marker.Performance.drawMarkerStem(s8r,R8r,{x:m8r,y:l8r,invert:p8r});}B8r.endClip();if(s8r.attached){this.positionPopUpNode(s8r);}};h79.Marker.Performance.prototype.positionPopUpNode=function(A8r){var W4K=J2SS;var b8r,S8r,h8r,y8r,x8r,j8r,Q8r,W8r,F8r,n8r,z8r,Y8r,a8r,g8r,M8r,V8r,f8r,L8r;if(!A8r.attached || !A8r.params.box){return;}b8r=A8r.params;S8r=b8r.stx;h8r=b8r.box;y8r=A8r.params.node.expand;x8r=S8r.chart.dataSet;j8r=S8r.chart.dataSegment;if(A8r.tick){W8r=[x8r[j8r[0] && j8r[0].tick - 1],x8r[j8r[0] && j8r[+"0"].tick - 2]];F8r=S8r.getFirstLastDataRecord(W8r.concat(j8r),"Date");W4K.D4H(67);var B6I=W4K.y4H(6,16,134,15,19);W4K.R4H(36);var f6I=W4K.W4H(7,15,12,11);W4K.D4H(107);var o6I=W4K.W4H(13,0,9,14,9);n8r=[x8r[j8r[j8r.length - B6I].tick + "1" * f6I],x8r[j8r[j8r.length - ("1" | 0)].tick + o6I]];z8r=S8r.getFirstLastDataRecord(j8r.concat(n8r),"Date",! !1);Q8r=F8r.DT <= x8r[A8r.tick].DT && x8r[A8r.tick].DT <= z8r.DT;}else {Q8r=!{};}if(!A8r.highlight && !A8r.active){Q8r=!{};}W4K.N1K();y8r.style.visibility=Q8r?"":"hidden";if(!Q8r){return;}Y8r=S8r.panels[b8r.panelName];a8r=y8r.rects;W4K.D4H(3);var P6I=W4K.y4H(0,2);g8r=a8r.height / P6I;V8r=A8r.node.params.infoOffset || 0;if(A8r.node.params.infoOnLeft){M8r=h8r.x0 - a8r.width - V8r < Y8r.left?h8r.x1 + V8r:h8r.x0 - a8r.width - V8r;}else {M8r=h8r.x0 + a8r.width > Y8r.right?h8r.x0 - a8r.width - V8r:h8r.x1 + V8r;}M8r-=S8r.chart.left;f8r=h8r.y0 - g8r >= Y8r.top?h8r.y0 + h8r.midY - g8r:h8r.y0;if(!b8r.avoidFlush && h8r.y1 + h8r.stemHeight === Y8r.yAxis.bottom && a8r.height > h8r.y1 - h8r.y0 + h8r.stemHeight){f8r=h8r.y1 - a8r.height + h8r.stemHeight;}f8r-=S8r.chart.panel.top;L8r="translateX(" + Math.floor(M8r) + "px) translateY(" + Math.floor(f8r) + "px) translateZ(0)";y8r.style.transform=L8r;y8r.transform={translateX:M8r,translateY:f8r};};h79.Marker.Performance.prototype.quickCache=function(k8r){var E8r,d8r,I8r,i8r;E8r=k8r.params.node;d8r=E8r.expand;I8r=k8r.style;i8r=h79.stripPX(I8r.marginLeft) + h79.stripPX(I8r.marginRight) + h79.stripPX(I8r.borderRight) + h79.stripPX(I8r.borderLeft);d8r.rects=d8r.getBoundingClientRect();d8r.scrollBarWidth=d8r.rects.width - d8r.clientWidth - i8r;};h79.Marker.Performance.prototype.calculateYPosition=function(X2r){var r47,Q47,s2r,G8r,T2r,B2r,P2r,m2r,C8r,l2r,o2r,r8r,J2r,N2r,H8r,U2r,u2r;r47="b";r47+="ot";r47+="tom";Q47="v";Q47+="a";Q47+="l";Q47+="ue";s2r=X2r.marker;G8r=X2r.panel;T2r=X2r.height;B2r=X2r.half;P2r=X2r.offset;m2r=X2r.inverted;C8r=s2r.params.stx;l2r=C8r.chart;o2r=C8r.chart.highLowBars;r8r=l2r.dataSet[s2r.tick];if(!r8r){return;}J2r=o2r?r8r.High:r8r.Close;N2r=s2r.params.yPositioner;switch(N2r){case Q47:if(s2r.params.y || s2r.params.y === "0" << 1565057664){H8r=C8r.pixelFromPrice(s2r.params.y,G8r) - T2r * 0.5 + B2r;}else {H8r=C8r.pixelFromPrice(J2r,G8r) - P2r;}break;case "above_candle":H8r=C8r.pixelFromPrice(J2r,G8r) - P2r;break;case "below_candle":H8r=C8r.pixelFromPrice(r8r.Low || J2r,G8r);if(m2r && P2r){H8r+=P2r;}else {H8r+=B2r;}break;case "on_candle":(U2r=r8r.High || r8r.Close,u2r=r8r.Low || r8r.Low === 0 || r8r.Close);H8r=C8r.pixelFromPrice((U2r + u2r) / ("2" ^ 0),G8r) - T2r * 0.5 + B2r;break;case "top":H8r=C8r.pixelFromPrice(G8r.yAxis.high,G8r);if(m2r && P2r){H8r+=P2r;}else {H8r+=B2r;}break;case r47:H8r=C8r.pixelFromPrice(G8r.yAxis.low,G8r) - (P2r || B2r);break;default:break;}return H8r;};h79.Marker.Performance.prototype.prepareForHolder=function(Z2r){var w2r,O2r;w2r=this.expand;O2r=Z2r.params.stx;w2r.classList.add(this.params.type);J2SS.T1K();O2r.markerHelper.domMarkers.push(Z2r);return w2r;};h79.Marker.Performance.prototype.addToHolder=function(D2r){var d47,q2r,R2r;d47="moused";d47+="ow";d47+="n";function p2r(K2r){R2r.activeMarker=D2r;R2r.activeMarker.click({cx:K2r.clientX,cy:K2r.clientY,panel:R2r.currentPanel});J2SS.N1K();K2r.stopPropagation();}q2r=this.expand;R2r=D2r.params.stx;h79.Marker.Performance.reconstituteExpanded(R2r);h79.Marker.Performance.consolidateExpanded(R2r);this.quickCache(D2r);if(q2r.clickClosure){return;}q2r.addEventListener(d47,p2r);q2r.addEventListener("touchstart",p2r,{passive:!1});q2r.clickClosure=p2r;};h79.Marker.Performance.prototype.remove=function(t2r){var e2r,v2r,h2r,c2r;e2r=t2r.params.stx;if(!e2r){return;}if(!e2r.markerHelper.domMarkers){return;}v2r=e2r.markerHelper.domMarkers.indexOf(t2r);J2SS.N1K();if(v2r != - +"1"){e2r.markerHelper.domMarkers.splice(v2r,1);}if(t2r.attached){h2r=e2r.panels[t2r.params.panelName];c2r=t2r.params.node.expand;if(c2r.parentNode === h2r.subholder){h2r.subholder.removeChild(c2r);}c2r.removeEventListener("click",c2r.clickClosure);}};h79.Marker.Performance.prototype.click=function(x2r){var S2r,V2r,j2r;if(!this.hasText){return;}if(typeof arguments[0] === "number"){x2r={cx:arguments["0" - 0],cy:arguments[1],marker:arguments[2],panel:arguments[+"3"]};}var {cx:a2r, cy:b2r, marker:A2r, panel:y2r}=x2r;S2r=A2r.params.stx;J2SS.T1K();if(A2r.attached){j2r=this.expand;if(j2r.rects.width - j2r.scrollBarWidth + j2r.transform.translateX < S2r.backOutX(a2r) && S2r.backOutX(a2r) < j2r.rects.width + j2r.transform.translateX){return;}this.remove(A2r);}else {S2r.addToHolder(A2r);V2r=! ![];}A2r.attached=!A2r.attached;A2r.active=!A2r.active;if(V2r){A2r.stxNodeCreator.positionPopUpNode(A2r);}};}};T0O=Y2r=>{var Q2r;Q2r=typeof _CIQ !== "undefined"?_CIQ:Y2r.CIQ;Q2r.Renderer.OHLC.requestNew=function(I2r,M2r){var f2r,W2r,F2r,n2r,z2r,L2r,D47,K47,d2r;f2r=null;W2r=M2r.hlc;J2SS.T1K();F2r=M2r.colored;n2r=M2r.hollow;z2r=M2r.volume;L2r=M2r.histogram;for(var g2r=0;g2r < I2r.length;g2r++){D47="col";D47+="o";D47+="re";D47+="d";K47="cand";K47+="le";d2r=I2r[g2r];switch(d2r){case "bar":case K47:f2r=d2r;break;case "volume":z2r=!0;break;case "hollow":n2r=! ![];break;case D47:F2r=! ![];break;case "histogram":L2r=!0;f2r="candle";break;case "hlc":W2r=! !{};f2r="bar";break;default:return null;}}if(f2r === null){return null;}return new Q2r.Renderer.OHLC({params:Q2r.extend(M2r,{type:f2r,hlc:W2r,colored:F2r,hollow:n2r,volume:z2r,histogram:L2r})});};Q2r.Renderer.OHLC.getChartParts=function(P3r,r2r){var u30,F30,q30,e30,z30,j30,T30,O30,I30,G30,P30,o30,f30,B30,Z30,M30,U30,l30,m30,N47,L47,E47,x47,a47,Y47,S47,H47,J47,t47,w47,A47,y47,i2r,H2r,G2r,k2r,E2r,C2r;u30="border_colo";u30+="r_even";F30="stx_hollow_c";F30+="andle_";F30+="do";F30+="wn";q30="fill_c";q30+="olor_";q30+="up";e30="stx_hollow_";e30+="candle_up";z30="h";z30+="o";z30+="llow";j30="b";j30+="or";j30+="der_color_even";T30="st";T30+="x_h";T30+="ollow_can";T30+="dle_down";O30="can";O30+="dle";I30="hol";I30+="lo";I30+="w";G30="c";G30+="an";G30+="dl";G30+="e";P30="h";P30+="oll";P30+="ow";o30="bo";o30+="rder_";o30+="color";o30+="_even";f30="stx_hollow_candle";f30+="_even";B30="border_col";B30+="or_";B30+="dow";B30+="n";Z30="stx_h";Z30+="ol";Z30+="low_can";Z30+="dle_down";M30="fill_";M30+="color";M30+="_down";U30="can";U30+="dle";l30="st";l30+="x_c";l30+="andle_u";l30+="p";m30="c";m30+="a";m30+="nd";m30+="le";N47="stx_candle_sha";N47+="dow_even";L47="bo";L47+="r";L47+="der_co";L47+="lor_down";E47="stx_candle_s";E47+="hadow_down";x47="shad";x47+="o";x47+="w";a47="stx_can";a47+="dle_sh";a47+="ad";a47+="ow_up";Y47="ca";Y47+="ndle";S47="stx";S47+="_candle_shadow";H47="border";H47+="_c";H47+="olor_";H47+="down";J47="b";J47+="a";J47+="r";t47="b";t47+="a";t47+="r";w47="b";w47+="a";w47+="r";A47="b";A47+="ord";A47+="er_color_do";A47+="wn";y47="fill_col";y47+="or_down";i2r=1;H2r=2;G2r=4;J2SS.D4H(44);k2r=J2SS.y4H(0,"8");E2r=+"16";C2r=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:k2r,fill:"fill_color_up",border:"border_color_up",useColorInMap:!"",useBorderStyleProp:!""},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:E2r,fill:y47,border:A47,useColorInMap:! !"1",useBorderStyleProp:! ![]},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:C2r,fill:"fill_color_even",border:"border_color_even",skipIfPass:! !"1",useColorInMap:!"",useBorderStyleProp:! !{}},{type:"bar",drawType:w47,style:P3r || "stx_bar_chart",border:"border_color",useColorInMap:!0},{type:t47,drawType:"bar",style:"stx_bar_up",condition:r2r?k2r:i2r,border:"border_color_up",useColorInMap:!""},{type:J47,drawType:"bar",style:"stx_bar_down",condition:r2r?E2r:H2r,border:H47,useColorInMap:! !"1"},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:r2r?C2r:G2r,border:"border_color_even",skipIfPass:! !"1",useColorInMap:! !1},{type:"candle",drawType:"shadow",style:S47,border:"border_color_up"},{type:Y47,drawType:"shadow",style:a47,condition:k2r,border:"border_color_up"},{type:"candle",drawType:x47,style:E47,condition:E2r,border:L47},{type:"candle",drawType:"shadow",style:N47,condition:C2r,border:"border_color_even",skipIfPass:! ![]},{type:m30,drawType:"candle",style:l30,condition:k2r,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:U30,drawType:"candle",style:"stx_candle_down",condition:E2r,fill:M30,border:"border_color_down",useColorInMap:! !{},useBorderStyleProp:!""},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:i2r,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:Z30,condition:H2r,border:B30},{type:"hollow",drawType:"shadow",style:f30,condition:G2r,border:o30,skipIfPass:!""},{type:P30,drawType:G30,style:"stx_hollow_candle_up",condition:i2r | E2r,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !{}},{type:I30,drawType:O30,style:T30,condition:H2r | E2r,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !"1"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:G2r | E2r,fill:"fill_color_even",border:j30,skipIfPass:! ![],useColorInMap:! !"1"},{type:z30,drawType:"candle",style:e30,condition:i2r | k2r,fill:q30,border:"border_color_up"},{type:"hollow",drawType:"candle",style:F30,condition:H2r | k2r,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:G2r | k2r,fill:"fill_color_even",border:u30}];;};Q2r.Renderer.Bars=function(X3r){var s3r;this.construct(X3r);s3r=this.params;s3r.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];s3r.hlc=s3r.volume=s3r.hollow=s3r.histogram=!{};};Q2r.inheritsFrom(Q2r.Renderer.Bars,Q2r.Renderer.OHLC,![]);Q2r.Renderer.HLC=function(J3r){var B3r;this.construct(J3r);B3r=this.params;B3r.type="bar";J2SS.N1K();B3r.hlc=! ![];this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];B3r.volume=B3r.hollow=B3r.histogram=!1;};J2SS.N1K();Q2r.inheritsFrom(Q2r.Renderer.HLC,Q2r.Renderer.Bars,!{});Q2r.Renderer.Shading=function(T3r){var R30;R30="rangecha";R30+="nnel";this.construct(T3r);this.beenSetup=! !0;J2SS.N1K();this.errTimeout=null;this.params.useChartLegend=![];this.shading=[];if(this.params.type == R30){this.highLowBars=!0;}};Q2r.inheritsFrom(Q2r.Renderer.Shading,Q2r.Renderer.Lines,!"1");Q2r.Renderer.Shading.requestNew=function(U3r,u3r){var m3r,o3r,n30,N3r;m3r=null;J2SS.T1K();o3r=null;for(var l3r=0;l3r < U3r.length;l3r++){n30="rangechan";n30+="n";n30+="el";N3r=U3r[l3r];if(N3r == "rangechannel"){m3r=n30;}else if(N3r == "step"){o3r=! !1;}}if(m3r === null){return null;}return new Q2r.Renderer.Shading({params:Q2r.extend(u3r,{type:m3r,step:o3r})});};Q2r.Renderer.Shading.prototype.setShading=function(w3r){if(w3r.constructor != Array){w3r=[w3r];}this.shading=w3r;};Q2r.Renderer.Shading.prototype.draw=function(){var A6K=J2SS;A6K.N1K();var q3r,Z3r,D3r,p30,S3r,K3r,a3r,c3r,f37,o37,P37,k30,i30,s30,x3r,p3r,R3r,v3r,c30,h3r,V3r,W30,X30,O3r,t3r,A3r,j3r,e3r;q3r=this.stx;Z3r=this.params;D3r=q3r.panels[Z3r.panel].chart;if(Z3r.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {p30="Hi";p30+="gh";this.beenSetup=!"";Z3r.display=this.seriesParams[0].display;Z3r.yAxis=this.seriesParams[0].yAxis;S3r=this.seriesParams[0].color || "auto";K3r=this.seriesParams[0].symbol;a3r="";if(K3r){A6K.D4H(3);a3r=A6K.W4H(K3r,".");}this.removeAllSeries(! ![]);c3r=Z3r.name;q3r.addSeries(null,{symbol:K3r,loadData:! !K3r,field:p30,renderer:"Shading",name:c3r,style:"stx_line_up",display:Z3r.display,shareYAxis:! ![]});f37=+"265293222";o37=-2069513187;P37=2;for(var I37=1;A6K.h4w(I37.toString(),I37.toString().length,"39599" >> 1044265440) !== f37;I37++){k30="s";k30+="tx_";k30+="lin";k30+="e_down";q3r.addSeries(1,{symbol:K3r,loadData:~ ~K3r,field:"stx_line_down",renderer:"stx_line_down",name:c3r,style:k30,display:Z3r.display,shareYAxis:!{}});this.setShading({primary:this.seriesParams[6].id,secondary:this.seriesParams[2].id,color:S3r});P37+=2;}if(A6K.h4w(P37.toString(),P37.toString().length,30484) !== o37){i30="Sh";i30+="ading";s30="L";s30+="o";s30+="w";q3r.addSeries(null,{symbol:K3r,loadData:! !K3r,field:s30,renderer:i30,name:c3r,style:"stx_line_down",display:Z3r.display,shareYAxis:!0});this.setShading({primary:this.seriesParams[+"0"].id,secondary:this.seriesParams[1].id,color:S3r});}}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");x3r=this;this.errTimeout=setTimeout(function(){x3r.errTimeout=null;},10000);}}p3r={};function b3r(Y3r){var y3r,M3r,Q3r;A6K.T1K();y3r=p3r[Y3r];if(y3r){M3r=y3r.parameters.field;Q3r=y3r.parameters.subField;A6K.R4H(3);return A6K.y4H(M3r,Q3r?(8290 <= 169?(+"133.54","619.77" - 0):(339.15,"7194" >> 1394167392) >= (+"1344",381)?".":(532,435.11) !== 3206?(+"814.93","G"):"D") + Q3r:"");}return Y3r;}for(R3r=0;R3r < this.seriesParams.length;R3r++){v3r={};if(D3r.series[this.seriesParams[R3r].id]){v3r=Q2r.clone(D3r.series[this.seriesParams[R3r].id].parameters);}p3r[this.seriesParams[R3r].id]={parameters:Q2r.extend(Q2r.extend(v3r,Z3r),this.seriesParams[R3r]),yValueCache:this.caches[this.seriesParams[R3r].id]};}q3r.drawSeries(D3r,p3r,Z3r.yAxis,this);if(D3r.legend && Z3r.type == "rangechannel"){c30="st";c30+="x";c30+="_";c30+="line_up";if(!D3r.legend.colorMap){D3r.legend.colorMap={};}h3r=Z3r.display;V3r=[q3r.getCanvasColor(c30),q3r.getCanvasColor("stx_line_down")];D3r.legend.colorMap[h3r]={color:V3r,display:h3r,isBase:this == q3r.mainSeriesRenderer};;}for(R3r in p3r){this.caches[R3r]=p3r[R3r].yValueCache;}for(R3r=0;R3r < this.shading.length;R3r++){W30="Clo";W30+="se";X30="Clo";X30+="s";X30+="e";O3r=this.shading[R3r];t3r=O3r.color;if(O3r.color == "auto"){t3r=q3r.defaultColor;}if(!O3r.primary){O3r.primary="Close";}if(!O3r.secondary && this.seriesParams[0]){O3r.secondary=this.seriesParams[0].field;}if(!O3r.secondary)continue;else if(!p3r[O3r.primary] && O3r.primary != X30)continue;else if(!p3r[O3r.secondary])continue;else if(O3r.primary == W30 && Z3r.yAxis && Z3r.yAxis != D3r.yAxis)continue;A3r=b3r(O3r.primary).split((6470,7110) > 404.46?".":0xe);j3r=b3r(O3r.secondary).split(".");e3r={topBand:A3r[0],topSubBand:A3r[1],topColor:O3r.greater || t3r || q3r.containerColor,topAxis:Z3r.yAxis,bottomBand:j3r[0],bottomSubBand:j3r[+"1"],bottomColor:O3r.lesser || t3r || q3r.containerColor,bottomAxis:O3r.primary == "Close"?null:Z3r.yAxis,tension:Z3r.tension || D3r.tension,opacity:0.1,step:Z3r.step};if(!e3r.topColor && !e3r.bottomColor)continue;if(!Z3r.highlight && q3r.highlightedDraggable){e3r.opacity*=0.3;}Q2r.fillIntersecting(q3r,Z3r.panel,e3r);}};Q2r.Renderer.Histogram=function(f3r){this.construct(f3r);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=! !"1";J2SS.T1K();if(this.params.yAxis){this.params.bindToYAxis=!0;if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};Q2r.inheritsFrom(Q2r.Renderer.Histogram,Q2r.Renderer,!"1");Q2r.Renderer.Histogram.prototype.adjustYAxis=function(){var g3r;g3r=this.params.yAxis;if(!g3r || g3r.baseline){return;}g3r.min=0;g3r.highValue/=this.params.heightPercentage || 1;};Q2r.Renderer.Histogram.prototype.draw=function(){var g30,W3r,F3r,b30,D4w,y4w,A4w,n3r,z3r;g30="st";g30+="acke";g30+="d";W3r=Q2r.clone(this.params);W3r.type=W3r.subtype;this.useSum=W3r.subtype == g30;if(!W3r.yAxis || W3r.yAxis == this.stx.chart.yAxis){W3r.bindToYAxis=!"";}this.stx.drawHistogram(W3r,this.seriesParams);F3r=W3r.yAxis && W3r.yAxis.baseline;if(F3r && F3r.color){b30="li";b30+="ne";D4w=- +"653339787";y4w=809227352;A4w=2;for(var t4w=1;J2SS.V4w(t4w.toString(),t4w.toString().length,33001) !== D4w;t4w++){n3r=this.stx.panels[this.params.panel];z3r=this.stx.pixelFromPrice(F3r.value,n3r,this.params.yAxis) / ("793" ^ 0);A4w+=2;}if(J2SS.V4w(A4w.toString(),A4w.toString().length,1086) !== y4w){n3r=this.stx.panels[this.params.panel];z3r=this.stx.pixelFromPrice(F3r.value,n3r,this.params.yAxis) - 0.5;}this.stx.plotLine({x0:n3r.left,x1:n3r.right,y0:z3r,y1:z3r,color:F3r.color,type:b30,context:n3r.chart.context,confineToPanel:n3r,pattern:F3r.pattern || "solid",lineWidth:F3r.lineWidth || "1" >> 208622912,opacity:F3r.opacity || 0.8,globalCompositeOperation:"destination-over"});}};Q2r.Renderer.Histogram.prototype.getBasis=function(E3r,i3r,H3r){J2SS.T1K();var I3r,C30,k3r,L3r;I3r=0;if(E3r && this.useSum){for(var d3r=0;d3r < this.seriesParams.length;d3r++){C30="o";C30+="bje";C30+="c";C30+="t";k3r=this.seriesParams[d3r].field;if(k3r === i3r)break;L3r=E3r[k3r];if(L3r && typeof L3r === C30){L3r=L3r[H3r || this.seriesParams[d3r].subField || this.stx.chart.defaultPlotField || "Close"];}if(L3r){I3r+=L3r;}}}return I3r;};Q2r.Renderer.Heatmap=function(G3r){J2SS.N1K();this.construct(G3r);this.params.type="heatmap";this.params.highlightable=![];this.barsHaveWidth=this.standaloneBars=! !{};};Q2r.inheritsFrom(Q2r.Renderer.Heatmap,Q2r.Renderer,!1);Q2r.Renderer.Heatmap.requestNew=function(P4r,X4r){var C3r,s4r;C3r=null;for(var r3r=0;r3r < P4r.length;r3r++){s4r=P4r[r3r];if(s4r == "heatmap"){C3r="heatmap";}}if(C3r === null){return null;}return new Q2r.Renderer.Heatmap({params:Q2r.extend(X4r,{type:C3r})});};Q2r.Renderer.Heatmap.prototype.draw=function(){J2SS.N1K();this.stx.drawHeatmap(Q2r.clone(this.params),this.seriesParams);};Q2r.Renderer.Scatter=function(B4r){this.construct(B4r);this.standaloneBars=this.barsHaveWidth=!0;this.bounded=!0;};Q2r.inheritsFrom(Q2r.Renderer.Scatter,Q2r.Renderer.Lines,!"1");Q2r.Renderer.Scatter.requestNew=function(m4r,o4r){var J4r,h30,l4r;J4r=null;for(var T4r=0;T4r < m4r.length;T4r++){h30="sca";h30+="tter";l4r=m4r[T4r];if(l4r == "scatterplot"){J4r=h30;}}J2SS.N1K();if(J4r === null){return null;}return new Q2r.Renderer.Scatter({params:Q2r.extend(o4r,{type:J4r})});};Q2r.Renderer.Scatter.prototype.drawIndividualSeries=function(w4r,U4r){var V30,u4r,N4r;V30="Error, Scatte";V30+="r renderer requires customCh";V30+="art.js";u4r=this.stx.panels[U4r.panel] || w4r.panel;N4r={colors:[]};if(this.stx.scatter){N4r=this.stx.scatter(u4r,U4r);}else {console.warn(V30);}return N4r;};};m0O=O4r=>{var K6K=J2SS;var N37,m87,l87,Z4r,J4w,H4w,S4w;N37=-1510396379;m87=-891000715;l87=2;for(var M87=1;K6K.h4w(M87.toString(),M87.toString().length,41096) !== N37;M87++){Z4r=-_CIQ != ""?_CIQ:O4r.CIQ;l87+=2;}K6K.T1K();if(K6K.h4w(l87.toString(),l87.toString().length,12959) !== m87){Z4r=-_CIQ != ""?_CIQ:O4r.CIQ;}Z4r=typeof _CIQ !== "undefined"?_CIQ:O4r.CIQ;if(!Z4r.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {Z4r.Studies.calculateAccumulationDistribution=function(c4r,p4r){var t4r,v30,R4r,D4r,K4r,e4r;t4r=p4r.chart.scrubbed;for(var q4r=p4r.startFrom;q4r < t4r.length;q4r++){v30="R";v30+="esult ";if(!q4r)continue;R4r=t4r[q4r];if(R4r.futureTick)break;K6K.D4H(6);D4r=t4r[K6K.W4H(q4r,1)];K4r=0;if(R4r.Close > D4r.Close){K4r=R4r.Close - Math.min(R4r.Low,D4r.Close);}else if(R4r.Close < D4r.Close){K4r=R4r.Close - Math.max(R4r.High,D4r.Close);}if(p4r.inputs["Use Volume"]){K4r*=R4r.Volume;}e4r=D4r["Result " + p4r.name];if(!e4r){e4r=0;}e4r+=K4r;if(!isNaN(R4r.Close)){R4r[v30 + p4r.name]=e4r;}}};J4w=1273447712;H4w=1685107566;S4w=2;for(var a4w=1;K6K.h4w(a4w.toString(),a4w.toString().length,57104) !== J4w;a4w++){Z4r.Studies.studyLibrary=Z4r.extend(Z4r.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:Z4r.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!{}}}});S4w+=2;}if(K6K.h4w(S4w.toString(),S4w.toString().length,39474) !== H4w){Z4r.Studies.studyLibrary=Z4r.extend(Z4r.Studies.studyLibrary,{"W Acc Dist":{name:"Use Volume",calculateFN:Z4r.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":! ![]}}});}}};l0O=h4r=>{var v4r,Q30,y30;v4r=typeof _CIQ !== "undefined"?_CIQ:h4r.CIQ;if(!v4r.Studies){Q30="a";Q30+="dx feature requires first activating stu";Q30+="dies feature.";console.error(Q30);}else {y30="#";y30+="FF";y30+="000";y30+="0";v4r.Studies.calculateADX=function(L4r,A4r){var n9K=J2SS;var a4r,x4r,V4r,Y4r,M4r,f4r,g4r,j4r,b4r,y4r,r30,W4r,F4r,n4r,d30,K30,D30,z4r;v4r.Studies.calculateStudyATR(L4r,A4r);a4r=A4r.chart.scrubbed;x4r=A4r.days;V4r=parseInt(A4r.inputs["Smoothing Period"],10);if(!V4r && V4r !== 0){V4r=x4r;}if(a4r.length < A4r.days + 1){A4r.error=! !"1";return;}n9K.D4H(14);Y4r=n9K.y4H("0",1);M4r=0;f4r=0;g4r=0;for(var S4r=Math.max("1" << 592628736,A4r.startFrom);S4r < a4r.length;S4r++){j4r=a4r[S4r];b4r=Math.max(+"0",j4r.High - a4r[S4r - 1].High);y4r=Math.max(+"0",a4r[S4r - "1" * 1].Low - j4r.Low);if(b4r > y4r){y4r=0;}else if(y4r > b4r){b4r=+"0";}else {b4r=y4r=0;}if(S4r <= x4r){M4r+=b4r;f4r+=y4r;Y4r+=j4r["True Range " + A4r.name];}else {r30="_sm+";r30+="D";r30+="M ";n9K.D4H(6);var G6I=n9K.W4H(6,5);M4r=a4r[S4r - ("1" ^ 0)][r30 + A4r.name] * (x4r - G6I) / x4r + b4r;n9K.D4H(108);var I6I=n9K.y4H(15,6,17,122,14);n9K.R4H(11);var O6I=n9K.W4H(0,15,16);f4r=a4r[S4r - I6I]["_sm-DM " + A4r.name] * (x4r - O6I) / x4r + y4r;n9K.D4H(109);var T6I=n9K.W4H(3,11,14,0,0);Y4r=a4r[S4r - T6I]["_smTR " + A4r.name] * (x4r - +"1") / x4r + j4r["True Range " + A4r.name];}j4r["_sm+DM " + A4r.name]=M4r;j4r["_sm-DM " + A4r.name]=f4r;j4r["_smTR " + A4r.name]=Y4r;if(S4r < x4r)continue;n9K.D4H(52);W4r=n9K.y4H(Y4r,M4r,100);n9K.R4H(52);F4r=n9K.W4H(Y4r,f4r,100);n9K.R4H(5);var j6I=n9K.W4H(12,82,30);n4r=j6I * Math.abs(W4r - F4r) / (W4r + F4r);j4r["+DI " + A4r.name]=W4r;j4r["-DI " + A4r.name]=F4r;if(A4r.inputs.Series !== ! !"" && V4r){if(S4r < x4r + V4r - 1){if(S4r == A4r.startFrom){for(var Q4r=x4r;Q4r < A4r.startFrom;Q4r++){n9K.D4H(33);var z6I=n9K.W4H(18,118,1);g4r+=z6I * Math.abs(a4r[Q4r]["+DI " + A4r.name] - a4r[Q4r]["-DI " + A4r.name]) / (a4r[Q4r]["+DI " + A4r.name] + a4r[Q4r]["-DI " + A4r.name]);}}g4r+=n4r;}else if(S4r == x4r + V4r - 1){d30="AD";d30+="X";d30+=" ";n9K.D4H(8);j4r[d30 + A4r.name]=n9K.y4H(V4r,g4r);}else {K30="A";K30+="DX ";n9K.D4H(71);var e6I=n9K.W4H(7,15,2,5);n9K.R4H(3);var q6I=n9K.W4H(0,1);j4r[K30 + A4r.name]=(a4r[S4r - e6I]["ADX " + A4r.name] * (V4r - q6I) + n4r) / V4r;}}if(A4r.inputs.Histogram){D30="-DI";D30+=" ";z4r=A4r.name + "_hist";if(!j4r["+DI " + A4r.name] && j4r["+DI " + A4r.name] !== 0)continue;if(!j4r[D30 + A4r.name] && j4r["-DI " + A4r.name] !== "0" >> 1355661728)continue;j4r[z4r]=j4r["+DI " + A4r.name] - j4r["-DI " + A4r.name];if(A4r.inputs.Series === ![]){j4r["+DI " + A4r.name]=null;j4r["-DI " + A4r.name]=null;}A4r.outputMap[z4r]="";}}};v4r.Studies.displayADX=function(I4r,d4r,G4r){J2SS.N1K();var C4r,k4r,E4r,r4r,P5r,i4r,H4r;C4r=d4r.underlay?0.3:d4r.inputs.Series?0.4:+"1";if(d4r.inputs.Series && d4r.inputs.Shading){k4r="+DI " + d4r.name;E4r="-DI " + d4r.name;r4r=v4r.Studies.determineColor(d4r.outputs[d4r.outputMap[k4r]]);P5r=v4r.Studies.determineColor(d4r.outputs[d4r.outputMap[E4r]]);i4r=d4r.getYAxis(I4r);H4r={topBand:k4r,bottomBand:E4r,topColor:r4r,bottomColor:P5r,skipTransform:I4r.panels[d4r.panel].name != d4r.chart.name,topAxis:i4r,bottomAxis:i4r,opacity:0.3};if(!d4r.highlight && I4r.highlightedDraggable){H4r.opacity*=0.3;}v4r.fillIntersecting(I4r,d4r.panel,H4r);}if(d4r.inputs.Histogram){v4r.Studies.createHistogram(I4r,d4r,G4r,!{},C4r);}if(d4r.inputs.Series !== ![]){v4r.Studies.displaySeriesAsLine(I4r,d4r,G4r);}else if(!d4r.inputs.Series && !d4r.inputs.Histogram){I4r.displayErrorAsWatermark(d4r.panel,I4r.translateIf(d4r.name) + ": " + I4r.translateIf("Nothing to display"));}};v4r.Studies.studyLibrary=v4r.extend(v4r.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:v4r.Studies.calculateADX,seriesFN:v4r.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:! !{},Shading:! !"",Histogram:!1},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":y30}}});}};o0O=X5r=>{var s5r,A30,f80,B80,Z80;J2SS.T1K();s5r=typeof _CIQ !== "undefined"?_CIQ:X5r.CIQ;if(!s5r.Studies){A30="alligator feature requires";A30+=" first ";A30+="act";A30+="ivating studies feature.";console.error(A30);}else {f80="#F";f80+="F00";f80+="0";f80+="0";B80="#00DD0";B80+="0";Z80="Alli";Z80+="gator";s5r.Studies.calculateAlligator=function(U5r,T5r){var N9K=J2SS;var S30,H30,J30,t30,w30,m5r,B5r,Y30,x30,a30,o5r,N5r,l5r,E30,L30;S30="Sho";S30+="w";S30+=" Lines";H30="G";H30+="ator";J30="L";J30+="ips Period";t30="Te";t30+="eth ";t30+="Per";t30+="iod";w30="Jaw P";w30+="eriod";m5r={J:Number(T5r.inputs[w30]),T:Number(T5r.inputs[t30]),L:Number(T5r.inputs[J30])};B5r=T5r.chart.scrubbed;if(B5r.length < Math.max(m5r.J,m5r.T,m5r.L) + +"1"){T5r.error=! ![];return;}if(T5r.type === H30 || T5r.inputs[S30]){Y30="Teet";Y30+="h";s5r.Studies.MA("welles wilder",m5r.J,"hl/2",T5r.inputs["Jaw Offset"],"Jaw",U5r,T5r);s5r.Studies.MA("welles wilder",m5r.T,"hl/2",T5r.inputs["Teeth Offset"],Y30,U5r,T5r);s5r.Studies.MA("welles wilder",m5r.L,"hl/2",T5r.inputs["Lips Offset"],"Lips",U5r,T5r);}for(var J5r=T5r.startFrom;J5r < B5r.length;J5r++){if(!B5r[J5r])continue;if(T5r.type == "Gator"){x30="T";x30+="eeth ";a30="Lip";a30+="s ";o5r=B5r[J5r]["Jaw " + T5r.name];N5r=B5r[J5r][a30 + T5r.name];l5r=B5r[J5r][x30 + T5r.name];if(l5r || l5r === +"0"){E30="_";E30+="his";E30+="t1";if(o5r || o5r === 0){N9K.R4H(6);B5r[J5r][T5r.name + E30]=Math.abs(N9K.y4H(o5r,l5r));}if(N5r || N5r === 0){N9K.D4H(6);B5r[J5r][T5r.name + "_hist2"]=-Math.abs(N9K.y4H(l5r,N5r));}}T5r.outputMap={};T5r.outputMap[T5r.name + "_hist1"]="";T5r.outputMap[T5r.name + "_hist2"]="";}if(T5r.inputs["Show Fractals"]){if(!B5r[J5r - 2] || !B5r[J5r - 1] || !B5r[J5r] || !B5r[J5r + 1] || !B5r[J5r + 2])continue;if(B5r[J5r - 2].High && B5r[J5r - ("1" << 1585578720)].High && B5r[J5r].High && B5r[J5r + 1].High && B5r[J5r + 2].High){if(B5r[J5r].High > B5r[J5r - 1].High && B5r[J5r].High > B5r[J5r - +"2"].High && B5r[J5r].High > B5r[J5r + 1].High && B5r[J5r].High > B5r[J5r + 2].High){L30="Frac";L30+="t";L30+="al High ";B5r[J5r][L30 + T5r.name]=1;}}if(B5r[J5r - 2].Low && B5r[J5r - 1].Low && B5r[J5r].Low && B5r[J5r + 1].Low && B5r[J5r + +"2"].Low){if(B5r[J5r].Low < B5r[J5r - 1].Low && B5r[J5r].Low < B5r[J5r - 2].Low && B5r[J5r].Low < B5r[J5r + 1].Low && B5r[J5r].Low < B5r[J5r + 2].Low){N9K.R4H(44);B5r[J5r]["Fractal Low " + T5r.name]=N9K.y4H(0,"1");}}}}};s5r.Studies.displayAlligator=function(u5r,O5r,R5r){var m80,w5r;m80="Show Fra";J2SS.N1K();function q5r(K5r,e5r){var N30,p5r,D5r;N30="h";N30+="i";N30+="gh";D5r=u5r.chart.panel.yAxis.flipped;if(K5r == N30){w5r.fillStyle=u5r.defaultColor;w5r.textBaseline=D5r?"top":"bottom";p5r=u5r.pixelFromPrice(R5r[e5r].High);w5r.fillText(D5r?6850 !== 5270?"\u25BC":573.42:754.04 === ("6530" & 2147483647,284.46)?! ![]:9805 < (771.31,"4420" ^ 0)?"D":844 !== (2101,568.85)?"\u25B2":(!1,121.40),u5r.pixelFromBar(Z5r,u5r.chart) - w5r.measureText((4060,+"703.16") === (368.56,7733)?2260 > (1999,1700)?(551.91,"k"):730.99:"\u25B2").width / 2 + 1,D5r?p5r + 5:p5r - 5);;}else if(K5r == "low"){w5r.fillStyle=u5r.defaultColor;w5r.textBaseline=D5r?"bottom":"top";p5r=u5r.pixelFromPrice(R5r[e5r].Low);w5r.fillText(D5r?(9083,"1671" << 815224544) > (999.47,38)?"\u25B2":(454.10,0x23ca):249.96 != (175.53,3790)?316 === ("19.47" * 1,"556.86" - 0)?895.28 >= (3968,7357)?(7.22e+3,100.29):! ![]:"\u25BC":"S",u5r.pixelFromBar(Z5r,u5r.chart) - w5r.measureText((5087,960.95) >= (6870,+"34.9")?509.31 !== ("6610" | 2048)?"\u25BC":1878 > (9361,662.13)?(+"0xbf2",0x9ac):156.72:"d").width / 2 + ("1" >> 548498048),D5r?p5r - 5:p5r + 5);;}}m80+="ctals";w5r=O5r.getContext(u5r);if(O5r.inputs["Show Lines"]){s5r.Studies.displaySeriesAsLine(u5r,O5r,R5r);}if(O5r.inputs[m80]){u5r.startClip();w5r.globalAlpha=O5r.underlay?0.3:1;if(!O5r.highlight && u5r.highlightedDraggable){w5r.globalAlpha*=0.3;}for(var Z5r=2;Z5r < R5r.length - ("2" >> 1545438208);Z5r++){if(R5r[Z5r]){if(R5r[Z5r]["Fractal High " + O5r.name]){q5r("high",Z5r);}if(R5r[Z5r]["Fractal Low " + O5r.name]){q5r("low",Z5r);}}}u5r.endClip();}};s5r.Studies.displayGator=function(c5r,t5r,V5r){var P9K=J2SS;var l80,x5r,h5r,b5r,y5r,S5r,Q5r,Y5r,j5r,a5r,M80,U80;l80="Incre";l80+="asing Bar";x5r=c5r.panels[t5r.panel];h5r=t5r.getContext(c5r);b5r=t5r.getYAxis(c5r);y5r=c5r.pixelFromPrice(0,x5r,b5r);P9K.D4H(110);var F6I=P9K.y4H(0,7,13,7,11);S5r=c5r.layout.candleWidth - F6I;if(S5r < 2){S5r=1;}Q5r=s5r.Studies.determineColor(t5r.outputs[l80]);Y5r=s5r.Studies.determineColor(t5r.outputs["Decreasing Bar"]);c5r.canvasColor("stx_histogram");if(!t5r.underlay){h5r.globalAlpha=1;}h5r.fillStyle="#CCCCCC";c5r.startClip(t5r.panel);if(!t5r.highlight && c5r.highlightedDraggable){h5r.globalAlpha*=0.3;}for(var A5r=0;A5r < V5r.length;A5r++){j5r=V5r[A5r];P9K.D4H(6);a5r=V5r[P9K.y4H(A5r,1)];if(!j5r)continue;for(var v5r="1" | 0;v5r <= 2;v5r++){M80="_";M80+="hist";U80="_h";U80+="ist";if(!a5r){a5r=c5r.getPreviousBar(c5r.chart,t5r.name + "_hist" + v5r,A5r);}if(!a5r){h5r.fillStyle="#CCCCCC";}else if(Math.abs(a5r[t5r.name + U80 + v5r]) < Math.abs(j5r[t5r.name + "_hist" + v5r])){h5r.fillStyle=Q5r;}else if(Math.abs(a5r[t5r.name + "_hist" + v5r]) > Math.abs(j5r[t5r.name + "_hist" + v5r])){h5r.fillStyle=Y5r;}if(j5r.candleWidth){S5r=Math.floor(Math.max(1,j5r.candleWidth - 2));}h5r.fillRect(Math.floor(c5r.pixelFromBar(A5r,x5r.chart) - S5r / ("2" & 2147483647)),Math.floor(y5r),Math.floor(S5r),Math.floor(c5r.pixelFromPrice(j5r[t5r.name + M80 + v5r],x5r,b5r) - y5r));}}c5r.endClip();};s5r.Studies.studyLibrary=s5r.extend(s5r.Studies.studyLibrary,{Alligator:{name:Z80,overlay:! !{},seriesFN:s5r.Studies.displayAlligator,calculateFN:s5r.Studies.calculateAlligator,inputs:{"Show Lines":! !{},"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":! !""},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:s5r.Studies.displayGator,calculateFN:s5r.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":B80,"Decreasing Bar":f80},centerline:0}});}};N0O=f5r=>{var i87,c87,X87,M5r,o80,z80,j80;i87=778639348;c87=588616779;X87=+"2";J2SS.N1K();for(var g87=1;J2SS.V4w(g87.toString(),g87.toString().length,13701) !== i87;g87++){M5r=!_CIQ === ""?_CIQ:f5r.CIQ;X87+=2;}if(J2SS.V4w(X87.toString(),X87.toString().length,79796) !== c87){M5r=typeof _CIQ !== "undefined"?_CIQ:f5r.CIQ;}if(!M5r.Studies){o80="aroon feature requires first activating ";o80+="studies feature.";console.error(o80);}else {z80="a";z80+="u";z80+="to";j80="A";j80+="roo";j80+="n";M5r.Studies.calculateAroon=function(r5r,g5r){var w9K=J2SS;var L5r,d5r,I5r,F5r,n5r,P80,E5r,o97,P97,G97,z5r,T80,O80,I80,G80,W5r,i5r,H5r,G5r,C5r;L5r=g5r.chart.scrubbed;if(L5r.length < g5r.days + 1){g5r.error=! !1;return;}d5r=0;w9K.D4H(6);I5r=w9K.y4H("0",0);w9K.N1K();F5r=null;n5r=null;if(g5r.startFrom > 0){P80="_s";P80+="ta";P80+="t";P80+="e ";w9K.R4H(75);var u6I=w9K.W4H(7,19,19,151);E5r=L5r[g5r.startFrom - u6I][P80 + g5r.name];if(E5r){d5r=E5r[0];I5r=E5r[1];o97=2126283130;P97=557783996;G97=2;for(var O97=1;w9K.V4w(O97.toString(),O97.toString().length,83790) !== o97;O97++){F5r=E5r[7];n5r=E5r[1];G97+=2;}if(w9K.h4w(G97.toString(),G97.toString().length,1197) !== P97){F5r=E5r[5];n5r=E5r[7];}F5r=E5r[2];n5r=E5r[3];}}for(var k5r=g5r.startFrom;k5r < L5r.length;k5r++){T80="_sta";T80+="te ";O80="Aroon";O80+=" ";O80+="Do";O80+="wn ";I80="Aroo";I80+="n U";I80+="p ";G80="Aroon O";G80+="sci";G80+="lla";G80+="tor ";W5r=L5r[k5r];if(W5r.futureTick)break;if(F5r === null){F5r=W5r.High;}if(n5r === null){n5r=W5r.Low;}F5r=Math.max(F5r,W5r.High);if(F5r == W5r.High){d5r=0;}else {d5r++;if(d5r > g5r.days){F5r=W5r.High;d5r=0;for(z5r="1" << 1049515232;z5r <= g5r.days;z5r++){F5r=Math.max(F5r,L5r[k5r - z5r].High);if(F5r == L5r[k5r - z5r].High){d5r=z5r;}}}}n5r=Math.min(n5r,W5r.Low);if(n5r == W5r.Low){I5r=0;}else {I5r++;if(I5r > g5r.days){n5r=W5r.Low;I5r=0;for(z5r=1;z5r <= g5r.days;z5r++){n5r=Math.min(n5r,L5r[k5r - z5r].Low);if(n5r == L5r[k5r - z5r].Low){I5r=z5r;}}}}i5r=!isNaN(W5r.High);H5r=!isNaN(W5r.Low);w9K.R4H(6);var R6I=w9K.W4H(106,6);w9K.R4H(3);var n6I=w9K.y4H(0,1);G5r=R6I * (n6I - d5r / g5r.days);if(i5r){W5r["Aroon Up " + g5r.name]=G5r;}w9K.R4H(111);var p6I=w9K.y4H(7,4,9,12);w9K.D4H(2);var k6I=w9K.y4H(11,16,4);C5r="100" * p6I * (k6I - I5r / g5r.days);if(H5r){W5r["Aroon Down " + g5r.name]=C5r;}if(i5r && H5r){W5r[G80 + g5r.name]=W5r[I80 + g5r.name] - W5r[O80 + g5r.name];}W5r[T80 + g5r.name]=[d5r,I5r,F5r,n5r];}};M5r.Studies.studyLibrary=M5r.extend(M5r.Studies.studyLibrary,{Aroon:{name:j80,range:"0 to 100",calculateFN:M5r.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:M5r.Studies.calculateAroon,outputs:{"Aroon Oscillator":z80}}});}};U0O=s6r=>{var P6r,p80,n80,R80,u80;P6r=typeof _CIQ !== "undefined"?_CIQ:s6r.CIQ;if(!P6r.Studies){console.error("atr feature requires first activating studies feature.");}else {p80="a";p80+="ut";p80+="o";n80="a";n80+="u";n80+="to";R80="ST";R80+="ARC B";R80+="a";R80+="nds";u80="a";u80+="uto";P6r.Studies.calculateATRBands=function(J6r,X6r){var e80,B6r;e80="C";e80+="lo";e80+="s";e80+="e";P6r.Studies.calculateStudyATR(J6r,X6r);J2SS.N1K();B6r=X6r.inputs.Field;if(!B6r || B6r == "field"){B6r=e80;}P6r.Studies.calculateGenericEnvelope(J6r,X6r,X6r.inputs.Shift,B6r,"ATR " + X6r.name);};P6r.Studies.calculateSTARCBands=function(m6r,T6r){var q80;q80="Clos";q80+="e";J2SS.N1K();P6r.Studies.calculateStudyATR(m6r,T6r);P6r.Studies.MA("simple",T6r.inputs["MA Period"],q80,0,"_MA",m6r,T6r);P6r.Studies.calculateGenericEnvelope(m6r,T6r,T6r.inputs.Multiplier,"_MA " + T6r.name,"ATR " + T6r.name);};P6r.Studies.calculateATRStops=function(D6r,l6r){var h9K=J2SS;var u6r,O6r,F80,o6r,q6r,N6r,U6r,Z6r,R6r;u6r=l6r.chart.scrubbed;if(!u6r){return;}P6r.Studies.calculateStudyATR(D6r,l6r);O6r=l6r.inputs.HighLow;for(var w6r=Math.max(l6r.startFrom - 1,1);w6r < u6r.length - 1;w6r++){F80="B";F80+="uy Sto";F80+="ps ";o6r=u6r[w6r];h9K.R4H(6);q6r=u6r[h9K.W4H(w6r,1)];N6r=o6r[F80 + l6r.name];if(!N6r){N6r=o6r["Sell Stops " + l6r.name];}if(!N6r){N6r=0;}if(!o6r || !q6r)continue;U6r=o6r.Close;Z6r=U6r;R6r=o6r["ATR " + l6r.name] * l6r.inputs.Multiplier;if(o6r.Close > N6r && q6r.Close > N6r){if(O6r){U6r=o6r.High;}h9K.D4H(6);Z6r=Math.max(N6r,h9K.y4H(U6r,R6r));}else if(o6r.Close <= N6r && q6r.Close <= N6r){if(O6r){U6r=o6r.Low;}h9K.D4H(3);Z6r=Math.min(N6r,h9K.W4H(U6r,R6r));}else if(o6r.Close > N6r){if(O6r){U6r=o6r.High;}h9K.D4H(6);Z6r=h9K.W4H(U6r,R6r);}else if(o6r.Close <= N6r){if(O6r){U6r=o6r.Low;}h9K.R4H(3);Z6r=h9K.y4H(U6r,R6r);}if(U6r <= Z6r){h9K.D4H(3);u6r[h9K.y4H(w6r,1)]["Buy Stops " + l6r.name]=Z6r;h9K.R4H(3);delete u6r[h9K.W4H(w6r,1)]["Sell Stops " + l6r.name];}else if(U6r > Z6r){h9K.D4H(3);u6r[h9K.y4H(w6r,1)]["Sell Stops " + l6r.name]=Z6r;h9K.R4H(3);delete u6r[h9K.y4H(w6r,1)]["Buy Stops " + l6r.name];}h9K.D4H(3);u6r[h9K.y4H(w6r,1)]["All Stops " + l6r.name]=Z6r;}l6r.referenceOutput="All Stops";l6r.outputMap={};l6r.outputMap["All Stops " + l6r.name]="";};P6r.Studies.studyLibrary=P6r.extend(P6r.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:P6r.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:! !{},seriesFN:P6r.Studies.displayChannel,calculateFN:P6r.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:+"3","Channel Fill":!""},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":u80,"ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:R80,overlay:! !{},seriesFN:P6r.Studies.displayChannel,calculateFN:P6r.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! !"1"},outputs:{"STARC Bands Top":n80,"STARC Bands Median":p80,"STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:! !{},seriesFN:P6r.Studies.displayPSAR2,calculateFN:P6r.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:! !""},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};u0O=K6r=>{var k80,p6r,h80;k80="undefine";k80+="d";p6r=typeof _CIQ !== k80?_CIQ:K6r.CIQ;J2SS.T1K();if(!p6r.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {h80="#00";h80+="D";h80+="D";h80+="00";p6r.Studies.calculateAwesomeOscillator=function(v6r,e6r){var c80,i80,s80,t6r;c80="_M";c80+="A3";c80+="4";i80="_";i80+="MA5";s80="h";J2SS.T1K();s80+="l/2";t6r=e6r.chart.scrubbed;if(t6r.length < "33" - 0){e6r.error=! !1;return;}p6r.Studies.MA("simple",5,s80,+"0",i80,v6r,e6r);p6r.Studies.MA("simple",34,"hl/2",0,c80,v6r,e6r);for(var c6r=Math.max(e6r.startFrom,33);c6r < t6r.length;c6r++){if(!t6r[c6r])continue;t6r[c6r][e6r.name + "_hist"]=t6r[c6r]["_MA5 " + e6r.name] - t6r[c6r]["_MA34 " + e6r.name];}e6r.outputMap={};e6r.outputMap[e6r.name + "_hist"]="";};p6r.Studies.displayAwesomeOscillator=function(A6r,h6r,y6r){var J9K=J2SS;var W80,X80,b6r,j6r,Q6r,Y6r,x6r,M6r,f6r,C80,b80,g80,a6r,V6r;W80="#CCCC";W80+="CC";X80="Increasin";X80+="g Bar";b6r=A6r.panels[h6r.panel];j6r=h6r.getContext(A6r);Q6r=h6r.getYAxis(A6r);Y6r=A6r.pixelFromPrice(0,b6r,Q6r);J9K.R4H(11);var s6I=J9K.W4H(36,45,11);x6r=A6r.layout.candleWidth - s6I;if(x6r < 2){x6r=1;}M6r=p6r.Studies.determineColor(h6r.outputs[X80]);f6r=p6r.Studies.determineColor(h6r.outputs["Decreasing Bar"]);A6r.canvasColor("stx_histogram");if(!h6r.underlay){j6r.globalAlpha=1;}j6r.fillStyle=W80;A6r.startClip(h6r.panel);if(!h6r.highlight && A6r.highlightedDraggable){j6r.globalAlpha*=0.3;}for(var S6r=0;S6r < y6r.length;S6r++){C80="_";C80+="hist";b80="_hi";b80+="s";b80+="t";g80="_";g80+="h";g80+="is";g80+="t";a6r=y6r[S6r];J9K.R4H(6);V6r=y6r[J9K.y4H(S6r,1)];if(!V6r){V6r=A6r.getPreviousBar(A6r.chart,h6r.name + "_hist",S6r);}if(!a6r)continue;if(!V6r);else if(V6r[h6r.name + "_hist"] < a6r[h6r.name + g80]){j6r.fillStyle=M6r;}else if(V6r[h6r.name + "_hist"] > a6r[h6r.name + b80]){j6r.fillStyle=f6r;}if(a6r.candleWidth){x6r=Math.floor(Math.max(1,a6r.candleWidth - 2));}j6r.fillRect(Math.floor(A6r.pixelFromBar(S6r,b6r.chart) - x6r / 2),Math.floor(Y6r),Math.floor(x6r),Math.floor(A6r.pixelFromPrice(a6r[h6r.name + C80],b6r,Q6r) - Y6r));}A6r.endClip();};p6r.Studies.studyLibrary=p6r.extend(p6r.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:p6r.Studies.displayAwesomeOscillator,calculateFN:p6r.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":h80,"Decreasing Bar":"#FF0000"}}});}};w0O=W6r=>{var g6r,V80;g6r=typeof _CIQ !== "undefined"?_CIQ:W6r.CIQ;if(!g6r.Studies){V80="balanceOfPower feature requires first activating st";V80+="udies feature.";console.error(V80);}else {g6r.Studies.calculateBalanceOfPower=function(d6r,F6r){J2SS.N1K();var z6r,n6r;z6r=F6r.chart.scrubbed;if(z6r.length < F6r.days + ("1" - 0)){F6r.error=! !{};return;}for(var L6r=F6r.startFrom;L6r < z6r.length;L6r++){n6r=z6r[L6r];n6r["_Ratio " + F6r.name]=n6r.Close - n6r.Open;if(n6r.High - n6r.Low !== 0){n6r["_Ratio " + F6r.name]/=n6r.High - n6r.Low;}}g6r.Studies.MA(F6r.inputs["Moving Average Type"],F6r.days,"_Ratio " + F6r.name,0,"Result",d6r,F6r);};g6r.Studies.studyLibrary=g6r.extend(g6r.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:g6r.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};Z0O=k6r=>{var I6r,y80,D80;I6r=typeof _CIQ !== "undefined"?_CIQ:k6r.CIQ;if(!I6r.Studies){console.error("bollinger feature requires first activating studies feature.");}else {y80="a";y80+="u";y80+="t";y80+="o";D80="fi";D80+="e";D80+="l";D80+="d";I6r.Studies.calculateBollinger=function(H6r,E6r){var K80,d80,r80,Q80,v80,i6r;K80="_ST";K80+="D Dev";K80+=" ";d80="Movin";d80+="g Aver";d80+="a";d80+="ge Type";r80="_";r80+="MA";Q80="C";Q80+="l";Q80+="os";Q80+="e";v80="f";v80+="iel";v80+="d";i6r=E6r.inputs.Field;if(!i6r || i6r == v80){i6r=Q80;}I6r.Studies.MA(E6r.inputs["Moving Average Type"],E6r.days,i6r,0,r80,H6r,E6r);E6r.std=new I6r.Studies.StudyDescriptor(E6r.name,"STD Dev",E6r.panel);E6r.std.chart=E6r.chart;E6r.std.startFrom=E6r.startFrom;E6r.std.days=E6r.days;E6r.std.inputs={Field:i6r,"Standard Deviations":1,Type:E6r.inputs[d80]};E6r.std.outputs={"_STD Dev":null};I6r.Studies.calculateStandardDeviation(H6r,E6r.std);I6r.Studies.calculateGenericEnvelope(H6r,E6r,E6r.inputs["Standard Deviations"],"_MA " + E6r.name,K80 + E6r.name);if(E6r.type == "Boll %b"){E6r.zoneOutput="%b";}};I6r.Studies.studyLibrary=I6r.extend(I6r.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:! ![],calculateFN:I6r.Studies.calculateBollinger,seriesFN:I6r.Studies.displayChannel,inputs:{Period:20,Field:D80,"Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!""},outputs:{"Bollinger Bands Top":y80,"Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:"0.1" * 1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:I6r.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:I6r.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:"0.1" - 0,step:0.1}}}});}};O0O=C6r=>{var G6r;G6r=typeof _CIQ !== "undefined"?_CIQ:C6r.CIQ;J2SS.N1K();if(!G6r.Studies){console.error("cci feature requires first activating studies feature.");}else {G6r.Studies.calculateCCI=function(T7r,r6r){var s7r,P7r,B7r,A80;s7r=r6r.chart.scrubbed;if(s7r.length < r6r.days + 1){r6r.error=!"";return;}G6r.Studies.MA("simple",r6r.days,"hlc/3",0,"MA",T7r,r6r);for(var X7r=Math.max(r6r.startFrom,r6r.days - ("1" >> 627172416));X7r < s7r.length;X7r++){P7r=s7r[X7r];if(!P7r)continue;B7r=0;for(var J7r=+"0";J7r < r6r.days;J7r++){A80="h";A80+="lc";A80+="/";A80+="3";B7r+=Math.abs(s7r[X7r - J7r][A80] - P7r["MA " + r6r.name]);}B7r/=r6r.days;if(Math.abs(B7r) < 0.00000001){P7r["Result " + r6r.name]=0;}else {P7r["Result " + r6r.name]=(P7r["hlc/3"] - P7r["MA " + r6r.name]) / (0.015 * B7r);}}};G6r.Studies.studyLibrary=G6r.extend(G6r.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:G6r.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};R0O=l7r=>{var m7r,t80,w80;m7r=typeof _CIQ !== "undefined"?_CIQ:l7r.CIQ;J2SS.N1K();if(!m7r.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {t80="f";t80+="ield";w80="Cente";w80+="r Of Gravity";m7r.Studies.calculateCenterOfGravity=function(q7r,o7r){var E9K=J2SS;var N7r,U7r,O7r,Z7r,R7r;N7r=o7r.chart.scrubbed;if(N7r.length < o7r.days){o7r.error=! !{};return;}U7r=o7r.inputs.Field;if(!U7r || U7r == "field"){U7r="Close";}E9K.T1K();for(var u7r=Math.max(o7r.startFrom,o7r.days - 1);u7r < N7r.length;u7r++){O7r=0;Z7r=+"0";for(var w7r=0;w7r < o7r.days;w7r++){E9K.R4H(6);R7r=N7r[E9K.W4H(u7r,w7r)][U7r];E9K.R4H(112);O7r-=E9K.y4H(1,R7r,w7r);Z7r+=R7r;}if(Z7r){E9K.D4H(8);N7r[u7r]["Result " + o7r.name]=E9K.y4H(Z7r,O7r);}}};m7r.Studies.studyLibrary=m7r.extend(m7r.Studies.studyLibrary,{COG:{name:w80,calculateFN:m7r.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:t80}}});}};q0O=p7r=>{J2SS.N1K();var D7r,J80;D7r=typeof _CIQ !== "undefined"?_CIQ:p7r.CIQ;if(!D7r.Studies){J80="chaikin featur";J80+="e requires first activating studies";J80+=" feature.";console.error(J80);}else {D7r.Studies.calculateChaikinMoneyFlow=function(A7r,t7r){var C9K=J2SS;var K7r,v7r,c7r,h7r,S80,H80,Y80;K7r=t7r.chart.scrubbed;if(K7r.length < t7r.days){t7r.error=! !{};return;}v7r=+"0";C9K.D4H(0);c7r=C9K.y4H("0",1677280512);h7r=K7r[t7r.startFrom - +"1"];if(h7r){S80="_sum";S80+="V ";H80="_su";H80+="mM";H80+="F";H80+=" ";if(h7r[H80 + t7r.name]){v7r=h7r["_sumMF " + t7r.name];}if(h7r["_sumV " + t7r.name]){c7r=h7r[S80 + t7r.name];}}for(var e7r=t7r.startFrom;e7r < K7r.length;e7r++){Y80="_M";Y80+="F";Y80+="V";Y80+=" ";if(K7r[e7r].High == K7r[e7r].Low){K7r[e7r]["_MFV " + t7r.name]=0;}else {C9K.R4H(113);var i6I=C9K.W4H(9,8,43,3);K7r[e7r]["_MFV " + t7r.name]=K7r[e7r].Volume * (i6I * K7r[e7r].Close - K7r[e7r].High - K7r[e7r].Low) / (K7r[e7r].High - K7r[e7r].Low);}v7r+=K7r[e7r][Y80 + t7r.name];c7r+=K7r[e7r].Volume;if(e7r > t7r.days - 1){v7r-=K7r[e7r - t7r.days]["_MFV " + t7r.name];c7r-=K7r[e7r - t7r.days].Volume;if(c7r){C9K.R4H(8);K7r[e7r]["Result " + t7r.name]=C9K.y4H(c7r,v7r);}}K7r[e7r]["_sumMF " + t7r.name]=v7r;K7r[e7r]["_sumV " + t7r.name]=c7r;}};D7r.Studies.calculateChaikinVolatility=function(V7r,j7r){var K9K=J2SS;var a80,a7r,S7r,x7r,x80;a80="R";a80+="ate Of Ch";a80+="ange";a7r=j7r.chart.scrubbed;if(a7r.length < j7r.days){j7r.error=!"";return;}for(S7r=j7r.startFrom;S7r < a7r.length;S7r++){if(a7r[S7r].futureTick)break;a7r[S7r]["_High-Low " + j7r.name]=a7r[S7r].High - a7r[S7r].Low;}D7r.Studies.MA(j7r.inputs["Moving Average Type"],j7r.days,"_High-Low " + j7r.name,0,"_MA",V7r,j7r);x7r=j7r.inputs[a80];if(!x7r){x7r=j7r.days;}for(S7r=Math.max(j7r.startFrom,x7r);S7r < a7r.length;S7r++){x80="_";x80+="MA ";if(!a7r[S7r - x7r]["_MA " + j7r.name])continue;if(a7r[S7r].futureTick)break;K9K.D4H(71);var c6I=K9K.y4H(106,5,101,99);K9K.R4H(114);var X6I=K9K.y4H(20,15,3,15,7);a7r[S7r]["Result " + j7r.name]=c6I * (a7r[S7r][x80 + j7r.name] / a7r[S7r - x7r]["_MA " + j7r.name] - X6I);}};D7r.Studies.studyLibrary=D7r.extend(D7r.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:D7r.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:D7r.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};D0O=y7r=>{var b7r,E80,B90,Z90,m90,N80,L80;b7r=typeof _CIQ !== "undefined"?_CIQ:y7r.CIQ;if(!b7r.Studies){E80="chande feature require";E80+="s first a";E80+="ctivating studies feature";E80+=".";console.error(E80);}else {B90="a";B90+="uto";Z90="Chande Forecast Oscil";Z90+="lator";m90="V";m90+="ar";m90+="iab";m90+="le";N80="Vari";N80+="abl";N80+="e";L80="v";L80+="m";L80+="a";b7r.Studies.prettify.variable=L80;b7r.Studies.movingAverage.conversions.vma="variable";b7r.Studies.movingAverage.translations.variable="Variable";b7r.Studies.movingAverage.typeMap.vma=N80;b7r.Studies.movingAverage.typeMap.variable=m90;b7r.Studies.calculateChandeForecast=function(W7r,Q7r){var c9K=J2SS;c9K.T1K();var Y7r,M7r,l90,g7r;Y7r=Q7r.chart.scrubbed;if(Y7r.length < Q7r.days + 1){Q7r.error=!"";return;}M7r=Q7r.inputs.Field;if(!M7r || M7r == "field"){M7r="Close";}b7r.Studies.MA("time series",Q7r.days,M7r,0,"MA",W7r,Q7r);for(var f7r=Math.max(1,Q7r.startFrom);f7r < Y7r.length;f7r++){l90="Resu";l90+="l";l90+="t";l90+=" ";g7r=Y7r[f7r][M7r];if(g7r && typeof g7r == "object"){g7r=g7r[Q7r.subField];}c9K.R4H(115);var W6I=c9K.y4H(6,98,13,9);c9K.D4H(110);var g6I=c9K.W4H(0,3,5,2,3);Y7r[f7r][l90 + Q7r.name]=W6I * (g6I - Y7r[f7r]["MA " + Q7r.name] / g7r);}};b7r.Studies.calculateChandeMomentum=function(P0C,F7r){var k9K=J2SS;var k7r,L7r,d7r,E7r,i7r,H7r,U90,I7r,z7r,G7r,C7r;k7r=F7r.name;for(var r7r in F7r.outputs){k9K.D4H(22);k7r=k9K.W4H(r7r,242 === (1802,"714.63" - 0)?(!{},1.83e+3):" ",k7r);}L7r=F7r.chart.scrubbed;if(L7r.length < F7r.days + 1){F7r.error=! ![];return;}d7r=F7r.inputs.Field;if(!d7r || d7r == "field"){d7r="Close";}E7r=0;i7r=0;H7r=[];for(var n7r=F7r.startFrom - F7r.days + 1;n7r < L7r.length;n7r++){U90="o";U90+="b";U90+="ject";if(n7r < 1)continue;I7r=L7r[n7r][d7r];k9K.R4H(116);z7r=L7r[k9K.y4H("1",2147483647,n7r)][d7r];if(I7r && typeof I7r == U90){I7r=I7r.Close;}if(z7r && typeof z7r == "object"){z7r=z7r.Close;}if(z7r === undefined)continue;k9K.R4H(6);G7r=k9K.y4H(I7r,z7r);H7r.push(G7r);E7r+=G7r;i7r+=Math.abs(G7r);if(H7r.length == F7r.days){k9K.D4H(52);L7r[n7r][k7r]=k9K.W4H(i7r,E7r,100);C7r=H7r.shift();E7r-=C7r;i7r-=Math.abs(C7r);}}};b7r.Studies.calculateMovingAverageVariable=function(p0C,s0C){var Z9K=J2SS;var M90,t0C,T0C,R0C,l0C,m0C,o0C,J0C,X0C,B0C,N0C,Z0C,q0C,O0C,U0C,e0C,u0C,D0C,w0C;M90="fie";M90+="ld";t0C=s0C.inputs.Type;T0C=s0C.chart.scrubbed;Z9K.D4H(117);var b6I=Z9K.y4H(8,12,18,16,40);Z9K.R4H(118);var C6I=Z9K.y4H(9,0,10,9,9);R0C=b6I / (s0C.days + C6I);l0C=null;m0C=s0C.name;for(var K0C in s0C.outputs){Z9K.D4H(22);m0C=Z9K.W4H(K0C,(181.16,193.19) != 9560?8090 >= 7027?" ":(! !{},7.33e+3):142.55,m0C);}o0C=s0C.inputs.Field;if(!o0C || o0C == M90){o0C="Close";}s0C.cmo=new b7r.Studies.StudyDescriptor(s0C.name,"cmo",s0C.panel);s0C.cmo.chart=s0C.chart;Z9K.D4H(29);s0C.cmo.days=Z9K.W4H("9",0);s0C.cmo.inputs={Field:o0C};s0C.cmo.startFrom=s0C.startFrom;s0C.cmo.outputs={_CMO:null};b7r.Studies.calculateChandeMomentum(p0C,s0C.cmo);J0C=parseInt(s0C.inputs.Offset,10);if(isNaN(J0C)){J0C=0;}Z0C=s0C.startFrom;q0C=J0C;for(X0C=s0C.startFrom - 1;X0C >= 0;X0C--){B0C=T0C[X0C][m0C];if(!B0C && B0C !== 0)continue;if(l0C === null){l0C=B0C;}if(q0C <= 0)break;q0C--;Z0C=X0C;}if(l0C === null){l0C=Z0C=0;}O0C=[];for(X0C=Z0C;X0C < T0C.length;X0C++){U0C=T0C[X0C];B0C=U0C[o0C];if(B0C && typeof B0C == "object"){B0C=B0C[s0C.subField];}e0C=X0C + J0C >= 0 && X0C + J0C < T0C.length;u0C=e0C?T0C[X0C + J0C]:null;if(!B0C && B0C !== 0){if(u0C){u0C[m0C]=null;}else if(X0C + J0C >= T0C.length){N0C={};N0C[m0C]=null;O0C.push(N0C);}continue;}if(!U0C["_CMO " + s0C.name] && U0C["_CMO " + s0C.name] !== 0)continue;Z9K.R4H(5);var h6I=Z9K.W4H(3,90,13);D0C=Math.abs(U0C["_CMO " + s0C.name]) / h6I;Z9K.D4H(119);w0C=Z9K.W4H(R0C,B0C,D0C,R0C,l0C,D0C,1);l0C=w0C;if(X0C < s0C.days){w0C=null;}if(u0C){u0C[m0C]=w0C;}else if(X0C + J0C >= T0C.length){N0C={};N0C[m0C]=w0C;O0C.push(N0C);}}s0C.appendFutureTicks(p0C,O0C);};b7r.Studies.studyLibrary=b7r.extend(b7r.Studies.studyLibrary,{"Chande Fcst":{name:Z90,calculateFN:b7r.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:b7r.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:+"50",studyOverBoughtColor:B90,studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};p0O=v0C=>{var f90,c0C,o90,G90;J2SS.T1K();f90="unde";f90+="fined";c0C=typeof _CIQ !== f90?_CIQ:v0C.CIQ;if(!c0C.Studies){o90="choppiness feature requires first activating stu";o90+="dies feature.";console.error(o90);}else {G90="0";G90+=".";G90+="1";c0C.Studies.calculateChoppiness=function(x0C,h0C){var M9K=J2SS;var j0C,A0C,a0C,P90;c0C.Studies.calculateStudyATR(x0C,h0C);j0C=h0C.chart.scrubbed;if(j0C.length < h0C.days + 1){h0C.error=! !1;return;}for(var S0C=Math.max(h0C.startFrom,h0C.days);S0C < j0C.length;S0C++){A0C=j0C[S0C];if(!A0C)continue;if(A0C.futureTick)break;a0C=V0C(h0C.days,S0C);if(A0C["Sum True Range " + h0C.name]){M9K.D4H(120);var V6I=M9K.W4H(3,11,106,3381,17);M9K.D4H(121);var v6I=M9K.y4H(17,0,0,1,17);A0C["Result " + h0C.name]=V6I * Math.log(A0C["Sum True Range " + h0C.name] / Math.max(0.000001,a0C[v6I] - a0C[0])) / Math.log(h0C.days);}else if(!isNaN(A0C)){P90="Re";P90+="sul";P90+="t ";A0C[P90 + h0C.name]=0;}}function V0C(M0C,Y0C){var y0C,Q0C;M9K.R4H(73);var Q6I=M9K.y4H(2,8,13,8);y0C=Number.MAX_VALUE * Q6I;Q0C=Number.MAX_VALUE;M9K.T1K();for(var b0C=Y0C - M0C + ("1" << 1951988416);b0C <= Y0C;b0C++){if(b0C < 0)continue;y0C=Math.max(y0C,j0C[b0C].High);Q0C=Math.min(Q0C,j0C[b0C].Low);}return [Q0C,y0C];}};c0C.Studies.studyLibrary=c0C.extend(c0C.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:c0C.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:+"61.8",studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:+"50",step:G90}}}});}};K0O=g0C=>{var m6K=J2SS;var f0C,S67,Y67,a67,X90,c90,W90;f0C=typeof _CIQ !== "undefined"?_CIQ:g0C.CIQ;if(!f0C.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!f0C.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {f0C.Studies.calculateCorrelationCoefficient=function(P8C,W0C){var n0C,L0C,d0C,I0C,k0C,i0C,H0C,G0C,C0C,r0C,j90,T90,I90,z0C,O90,q90,e90,z90,X8C,B8C,J8C,T8C;n0C=W0C.chart.scrubbed;L0C=W0C.days;m6K.T1K();if(n0C.length < L0C + 1){W0C.error=!"";return;}W0C.compare=W0C.inputs["Compare To"];if(!W0C.compare){W0C.compare=[];W0C.outputs={};W0C.outputMap={};for(var s8C in P8C.chart.series){d0C=P8C.chart.series[s8C];if(d0C.parameters.color){W0C.compare.push(d0C.display);W0C.outputs["Result " + d0C.display]=d0C.parameters.color;m6K.D4H(122);var r6I=m6K.W4H(4618,3,14,20,26177);m6K.D4H(75);var d6I=m6K.W4H(8,172980,14,1374244);m6K.D4H(123);var K6I=m6K.W4H(15,8,66270,4418,4425);m6K.D4H(11);var D6I=m6K.W4H(1019802400,815841927,7);m6K.D4H(61);var y6I=m6K.W4H(7,16,4010,445100);W0C.outputMap["Result " + d0C.display + (("2670" & 2147483647,+"612.46") >= 463.23?r6I !== d6I?" ":(K6I,! ![]):("7.97e+3" << D6I,y6I)) + W0C.name]="Result " + d0C.display;}}}else {W0C.compare=[W0C.compare];}if(!W0C.compare.length){W0C.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var E0C="0" & 2147483647;E0C < W0C.compare.length;E0C++){I0C=0;k0C=0;i0C=+"0";H0C=0;G0C=0;C0C=W0C.compare[E0C];r0C=0;for(var F0C=W0C.startFrom - L0C;F0C < n0C.length;F0C++){j90="_t";j90+="emps";j90+=" ";T90="_";T90+="t";T90+="emps";T90+=" ";I90="obj";I90+="ec";I90+="t";if(!n0C[F0C])continue;z0C=n0C[F0C][C0C];if(z0C && typeof z0C == I90){z0C=z0C.Close;}if(!z0C && z0C !== 0){O90="_";O90+="temps ";if(F0C > 0 && n0C[F0C - 1] && n0C[F0C - 1][O90 + W0C.name] && n0C[F0C - 1]["_temps " + W0C.name].c){z0C=n0C[F0C - "1" * 1]["_temps " + W0C.name].c;}else {z0C=+"0";}}if(z0C && typeof z0C == "object"){z0C=z0C.Close;}n0C[F0C]["_temps " + W0C.name]={};I0C+=n0C[F0C]["_temps " + W0C.name].b=n0C[F0C].Close;k0C+=n0C[F0C]["_temps " + W0C.name].c=z0C;i0C+=n0C[F0C][T90 + W0C.name].b2=Math.pow(n0C[F0C].Close,2);m6K.R4H(14);H0C+=n0C[F0C]["_temps " + W0C.name].c2=Math.pow(z0C,m6K.W4H("2",1));G0C+=n0C[F0C][j90 + W0C.name].bc=n0C[F0C].Close * z0C;if(r0C >= L0C){q90="_te";q90+="mp";q90+="s ";e90="_te";e90+="mps";e90+=" ";z90="_";z90+="tem";z90+="ps";z90+=" ";I0C-=n0C[F0C - L0C]["_temps " + W0C.name].b;k0C-=n0C[F0C - L0C][z90 + W0C.name].c;i0C-=n0C[F0C - L0C][e90 + W0C.name].b2;H0C-=n0C[F0C - L0C][q90 + W0C.name].c2;G0C-=n0C[F0C - L0C]["_temps " + W0C.name].bc;m6K.R4H(124);var A6I=m6K.W4H(3,17,17);X8C=i0C / L0C - Math.pow(I0C / L0C,A6I);m6K.R4H(125);var w6I=m6K.y4H(1,11,9,20);B8C=H0C / L0C - Math.pow(k0C / L0C,w6I);J8C=G0C / L0C - I0C * k0C / Math.pow(L0C,"2" ^ 0);T8C=J8C / Math.sqrt(X8C * B8C);m6K.D4H(126);var t6I=m6K.y4H(575,2,4019,4);m6K.D4H(5);var J6I=m6K.W4H(6,603,6033);m6K.D4H(127);var H6I=m6K.W4H(1089,1,9,8589,18);n0C[F0C]["Result " + C0C + (t6I < ("997.48" - 0,606.53)?(+"770.11",!{}):(615.06,J6I) > (482.71,"8740" | H6I)?! !{}:" ") + W0C.name]=T8C;}r0C++;}}};f0C.Studies.calculatePerformance=function(u8C,m8C){var R90,u90,F90,l8C,U8C,N8C;R90="_MA ";R90+="Comp";u90="_MA";u90+=" ";u90+="B";u90+="ase";F90="Compa";F90+="r";F90+="is";F90+="on Symbol";l8C=m8C.chart.scrubbed;U8C=m8C.inputs[F90].toUpperCase();if(!U8C){U8C=m8C.study.inputs["Comparison Symbol"];}if(!m8C.days){m8C.days=m8C.study.inputs.Period;}if(l8C.length < m8C.days + 1){m8C.error=! ![];return;}f0C.Studies.MA("ma",m8C.days,"Close",+"0",u90,u8C,m8C);f0C.Studies.MA("ma",m8C.days,U8C,+"0",R90,u8C,m8C);for(var o8C=m8C.startFrom;o8C < l8C.length;o8C++){N8C=l8C[o8C][U8C];if(N8C && (N8C.Close || N8C.Close === 0)){N8C=N8C.Close;}l8C[o8C]["Result " + m8C.name]=l8C[o8C].Close / N8C * (l8C[o8C]["_MA Comp " + m8C.name] / l8C[o8C]["_MA Base " + m8C.name]);}};f0C.Studies.calculateBeta=function(p8C,w8C){var s90,k90,n90,O8C,D8C,p90,R8C,q8C,i90;s90="_";s90+="V";s90+="A";s90+="R";k90="_Comp";k90+="C";k90+="hange ";n90="C";n90+="omparison Sy";n90+="mbol";O8C=w8C.chart.scrubbed;D8C=w8C.inputs[n90].toUpperCase();if(!D8C){D8C=w8C.study.inputs["Comparison Symbol"];}if(!w8C.days){w8C.days=w8C.study.inputs.Period;}if(O8C.length < w8C.days + 1){w8C.error=! !{};return;}for(var Z8C=Math.max(w8C.startFrom,1);Z8C < O8C.length;Z8C++){p90="_Co";p90+="mpCh";p90+="ange ";m6K.D4H(128);var S6I=m6K.y4H(20,4,10,13);O8C[Z8C]["_BaseChange " + w8C.name]=O8C[Z8C].Close / O8C[Z8C - +"1"].Close - S6I;R8C=O8C[Z8C][D8C];if(R8C && (R8C.Close || R8C.Close === +"0")){R8C=R8C.Close;}m6K.R4H(129);q8C=O8C[m6K.W4H("1",Z8C)][D8C];if(q8C && (q8C.Close || q8C.Close === 0)){q8C=q8C.Close;}m6K.R4H(33);O8C[Z8C][p90 + w8C.name]=m6K.y4H(1,R8C,q8C);}f0C.Studies.MA("ma",w8C.days,"_BaseChange " + w8C.name,0,"_MA Base",p8C,w8C);f0C.Studies.MA("ma",w8C.days,k90 + w8C.name,0,"_MA Comp",p8C,w8C);for(Z8C=Math.max(w8C.startFrom,w8C.days);Z8C < O8C.length;Z8C++){O8C[Z8C]["_COVARn " + w8C.name]=(O8C[Z8C]["_BaseChange " + w8C.name] - O8C[Z8C]["_MA Base " + w8C.name]) * (O8C[Z8C]["_CompChange " + w8C.name] - O8C[Z8C]["_MA Comp " + w8C.name]);O8C[Z8C]["_VARn " + w8C.name]=Math.pow(O8C[Z8C]["_CompChange " + w8C.name] - O8C[Z8C]["_MA Comp " + w8C.name],2);}f0C.Studies.MA("ma",w8C.days,"_COVARn " + w8C.name,0,"_COVAR",p8C,w8C);f0C.Studies.MA("ma",w8C.days,"_VARn " + w8C.name,0,s90,p8C,w8C);for(Z8C=Math.max(w8C.startFrom,w8C.days * 2 - 1);Z8C < O8C.length;Z8C++){i90="Resu";i90+="l";i90+="t";i90+=" ";O8C[Z8C][i90 + w8C.name]=O8C[Z8C]["_COVAR " + w8C.name] / O8C[Z8C]["_VAR " + w8C.name];}};S67=-1894656811;m6K.D4H(6);Y67=-m6K.y4H("433256611",0);a67=2;for(var E67=1;m6K.V4w(E67.toString(),E67.toString().length,45411) !== S67;E67++){X90="S";X90+="P";X90+="Y";c90="S";c90+="P";c90+="Y";f0C.Studies.studyLibrary=f0C.extend(f0C.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:f0C.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:f0C.Studies.initPriceRelative,seriesFN:f0C.Studies.displayVsComparisonSymbol,calculateFN:f0C.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":c90},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:! ![]},Beta:{name:"Beta",centerline:1,initializeFN:f0C.Studies.initPriceRelative,seriesFN:f0C.Studies.displayVsComparisonSymbol,calculateFN:f0C.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":X90},deferUpdate:!0}});a67+=2;}if(m6K.h4w(a67.toString(),a67.toString().length,44365) !== Y67){W90="Be";W90+="ta";f0C.Studies.studyLibrary=f0C.extend(f0C.Studies.studyLibrary,{correl:{name:"Comparison Symbol",range:"Beta",calculateFN:f0C.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Beta",centerline:4,initializeFN:f0C.Studies.initPriceRelative,seriesFN:f0C.Studies.displayVsComparisonSymbol,calculateFN:f0C.Studies.calculatePerformance,inputs:{Period:211,"Comparison Symbol":"Beta"},outputs:{Result:W90,Gain:"Beta",Loss:"Beta"},deferUpdate:![]},Beta:{name:"SPY",centerline:2,initializeFN:f0C.Studies.initPriceRelative,seriesFN:f0C.Studies.displayVsComparisonSymbol,calculateFN:f0C.Studies.calculateBeta,inputs:{Period:46,"Comparison Symbol":"Beta"},deferUpdate:![]}});}}};e0O=e8C=>{var K8C,v90;J2SS.N1K();K8C=typeof _CIQ !== "undefined"?_CIQ:e8C.CIQ;if(!K8C.Studies){console.error("coppock feature requires first activating studies feature.");}else {v90="f";v90+="iel";v90+="d";K8C.Studies.calculateCoppock=function(V8C,t8C){var j9K=J2SS;var g90,c8C,v8C,A8C,j8C,S8C,a8C,x8C,b90,k97,s97,i97,C90,V90,h90;g90="Clo";g90+="s";g90+="e";c8C=t8C.chart.scrubbed;v8C=t8C.inputs.Field;if(!v8C || v8C == "field"){v8C=g90;}A8C=parseInt(t8C.inputs["Long RoC"],10);if(!A8C){A8C=14;}j8C=parseInt(t8C.inputs["Short RoC"],10);if(!j8C){j9K.D4H(44);j8C=j9K.y4H(1,"11");}S8C=t8C.days;if(!S8C){j9K.D4H(4);S8C=j9K.W4H("10",2147483647);}if(A8C < j8C){return;}j9K.T1K();if(c8C.length < Math.max(j8C,A8C,S8C) + +"1"){t8C.error=! !{};return;}for(var h8C=Math.max(t8C.startFrom,A8C);h8C < c8C.length;h8C++){j9K.D4H(6);a8C=c8C[j9K.y4H(h8C,j8C)][v8C];j9K.D4H(6);x8C=c8C[j9K.y4H(h8C,A8C)][v8C];if(a8C && x8C){b90="_Su";b90+="m ";c8C[h8C][b90 + t8C.name]=+"100" * (c8C[h8C][v8C] / a8C + c8C[h8C][v8C] / x8C - +"2");}}k97=-1261543518;s97=938355144;i97=2;for(var X97=1;j9K.V4w(X97.toString(),X97.toString().length,83220) !== k97;X97++){C90="_";C90+="Sum ";K8C.Studies.MA("_Sum ",S8C,"Result" / t8C.name,4,C90,V8C,t8C);i97+=+"2";}if(j9K.h4w(i97.toString(),i97.toString().length,26772) !== s97){V90="R";V90+="esu";V90+="l";V90+="t";h90="wei";h90+="ghted";K8C.Studies.MA(h90,S8C,"_Sum " + t8C.name,0,V90,V8C,t8C);}};K8C.Studies.studyLibrary=K8C.extend(K8C.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:K8C.Studies.calculateCoppock,inputs:{Period:"10" << 1705510752,Field:v90,"Short RoC":11,"Long RoC":14}}});}};t0O=y8C=>{J2SS.T1K();var b8C,W97,g97,b97,G60,O60,I60;b8C=typeof _CIQ !== "undefined"?_CIQ:y8C.CIQ;if(!b8C.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {b8C.Studies.calculateDarvas=function(P2C,n8C){var B9K=J2SS;var D90,K90,d90,Q8C,F8C,H8C,r90,Q90,C8C,z8C,f8C,W8C,I8C,L8C,k8C,d8C,M8C,g8C,E8C,N90,Y8C,y90,A90,w90,t90,S90,H90,J90,Y90,a90,x90,E90,L90,m60;D90="A";D90+="D";D90+="V";K90="Pr";K90+="of";K90+="it";d90="Volume % of";d90+=" A";d90+="vg";Q8C=n8C.chart.scrubbed;F8C=0;H8C=parseInt(n8C.inputs["ATH Lookback Period"],+"10");if(n8C.inputs["Volume Spike"]){r90="A";r90+="DV";Q90="Volu";Q90+="m";Q90+="e";b8C.Studies.MA("simple",H8C,Q90,0,r90,P2C,n8C);}B9K.D4H(5);var Y6I=B9K.y4H(7,80,27);C8C=parseFloat(n8C.inputs[d90]) / Y6I;z8C="non";z8C+="e";f8C={};W8C=null;I8C=null;L8C=null;k8C=parseFloat(n8C.inputs["Level Offset"]);d8C=! !0;if(d8C){console.log("*****************");}g8C={};["Darvas","Ghost",K90,"Loss","ATH",D90,"Spike"].forEach(function(s2C){B9K.R4H(27);var a6I=B9K.y4H(15,1230,176);B9K.D4H(69);var x6I=B9K.y4H(163,2747,163,20);B9K.D4H(2);var E6I=B9K.W4H(12,132200,125578);B9K.R4H(130);var L6I=B9K.W4H(2883,577,1,1,1);B9K.R4H(11);var N6I=B9K.W4H(32340,26952,2);B9K.T1K();B9K.R4H(11);var m5I=B9K.W4H(7427,12,5);g8C[s2C]=s2C + ((a6I,503.82) < (x6I,E6I)?" ":L6I === N6I?(! !"1",m5I):"D") + n8C.name;});for(M8C=n8C.startFrom - 1;M8C > +"0";M8C--){E8C=Q8C[M8C];if(E8C[g8C.Darvas] || E8C[g8C.Ghost]){for(var r8C in g8C){E8C[r8C]=null;}}else {F8C=E8C[g8C.ATH] || "0" << 251732224;I8C=E8C[g8C.Profit];L8C=E8C[g8C.Loss];break;}}for(M8C;M8C < Q8C.length;M8C++){N90="Volum";N90+="e Spik";N90+="e";Y8C=Q8C[M8C];if(!Y8C)continue;if(parseFloat(n8C.inputs["Price Minimum"]) <= Q8C[F8C].Close){y90="n";y90+="on";y90+="e";if(W8C && (!W8C.End || M8C == W8C.End + 1)){if(Q8C[M8C - 1].Close > f8C.High){f8C={State:"1" - 0,High:2 * f8C.High - f8C.Low,Low:f8C.High,Start:M8C,End:2 * f8C.End - f8C.Start + 1};}else {W8C=null;;}if(W8C){Y8C[g8C.Ghost]=b8C.clone(f8C);if(d8C){console.log("Ghost begin:" + Y8C.DT);}f8C.State=0;if(Q8C[f8C.End]){Q8C[f8C.End][g8C.Ghost]=b8C.clone(f8C);if(d8C){console.log("Ghost end:" + Q8C[f8C.End].DT);}}W8C={Start:f8C.Start,End:f8C.End};I8C=f8C.High + k8C;if(!L8C || L8C < f8C.Low - k8C){L8C=f8C.Low - k8C;}}}Y8C[g8C.Profit]=I8C;Y8C[g8C.Loss]=L8C;if(Y8C.Close >= I8C){I8C=null;}else if(n8C.inputs["Exit Field"] == "high/low" && Y8C.High >= I8C){I8C=null;}if(z8C == y90){if(M8C == F8C + 3){if(!Q8C[F8C + +"2"][g8C.Darvas] && !Q8C[F8C + 1][g8C.Darvas] && !Q8C[F8C][g8C.Darvas] && Q8C[F8C].High > Y8C.High){A90="h";A90+="i";A90+="g";A90+="h";z8C=A90;;}}}if(z8C == "high"){if(Y8C.High > Q8C[F8C].High){z8C="none";}else if(Q8C[M8C - 3].Low < Q8C[M8C - +"2"].Low && Q8C[M8C - 3].Low < Q8C[M8C - 1].Low && Q8C[M8C - 3].Low < Y8C.Low){w90="Darva";w90+="s begin:";f8C={State:+"1",High:Q8C[F8C].High,Low:Q8C[M8C - 3].Low,Start:F8C};Q8C[F8C][g8C.Darvas]=b8C.clone(f8C);z8C="darvas";if(d8C){console.log(w90 + Q8C[F8C].DT);}if(d8C){console.log("Darvas established:" + Y8C.DT);}if(W8C){t90="G";t90+="host end:";if(W8C.End > M8C && Q8C[W8C.Start]){Y8C[g8C.Ghost]=b8C.clone(Q8C[W8C.Start][g8C.Ghost]);Y8C[g8C.Ghost].End=M8C;if(Q8C[W8C.End]){delete Q8C[W8C.End][g8C.Ghost];if(d8C){console.log("Ghost End removed:" + Q8C[W8C.End].DT);}}}Y8C[g8C.Ghost].State=0;Q8C[W8C.Start][g8C.Ghost].End=M8C;if(d8C){console.log(t90 + Y8C.DT);}W8C=null;}I8C=f8C.High + k8C;if(!L8C || L8C < f8C.Low - k8C){L8C=f8C.Low - k8C;}}}if(z8C == "darvas"){S90="n";S90+="o";S90+="ne";H90="n";H90+="o";H90+="n";H90+="e";J90="h";J90+="igh/";J90+="lo";J90+="w";if(Y8C.Close > f8C.High){W8C={};}else if(n8C.inputs["Exit Field"] == J90 && Y8C.High > f8C.High){W8C={};}else if(Y8C.Close < f8C.Low){z8C=H90;}else if(n8C.inputs["Exit Field"] == "high/low" && Y8C.Low < f8C.Low){z8C=S90;}if(W8C){z8C="none";}else if(z8C == "none"){I8C=null;L8C=null;}if(!n8C.inputs["Ghost Boxes"]){W8C=null;}if(z8C == "none"){Y90="Darv";Y90+="a";Y90+="s end:";for(var G8C=f8C.Start + ("1" | 0);G8C < M8C;G8C++){Q8C[G8C][g8C.Darvas]=b8C.clone(f8C);}f8C.State=0;f8C.End=M8C;Y8C[g8C.Darvas]=b8C.clone(f8C);if(d8C){console.log(Y90 + Y8C.DT);}Y8C[g8C.ATH]=F8C;continue;}}if(L8C){a90="high/l";a90+="ow";if(Y8C.Close < f8C.Low || n8C.inputs["Exit Field"] == a90 && Y8C.Low < f8C.Low){x90="Ex";x90+="it ";x90+="Fie";x90+="ld";if(z8C == "darvas"){z8C="none";}if(Y8C.Close < L8C || n8C.inputs[x90] == "high/low" && Y8C.Low < L8C){I8C=null;L8C=null;}if(W8C){E90="Gho";E90+="st en";E90+="d:";if(W8C.End > M8C && Q8C[W8C.Start]){Y8C[g8C.Ghost]=b8C.clone(Q8C[W8C.Start][g8C.Ghost]);Y8C[g8C.Ghost].End=M8C;if(Q8C[W8C.End]){delete Q8C[W8C.End][g8C.Ghost];if(d8C){console.log("Ghost End removed:" + Q8C[W8C.End].DT);}}}Y8C[g8C.Ghost].State=0;Q8C[W8C.Start][g8C.Ghost].End=M8C;if(d8C){console.log(E90 + Y8C.DT);}W8C=null;}}}}if(Y8C.High >= Q8C[F8C].High){L90="All Ti";L90+="me ";L90+="High:";F8C=M8C;if(d8C){console.log(L90 + Y8C.DT);}}if(M8C < +"3" || Y8C.High >= Q8C[M8C - 1].High && Y8C.High >= Q8C[M8C - ("2" >> 342684416)].High && Y8C.High >= Q8C[M8C - 3].High){if(M8C - F8C >= H8C){F8C=M8C;for(var i8C=0;i8C < H8C;i8C++){if(M8C - i8C < 0)break;if(Q8C[M8C - i8C].High > Q8C[F8C].High){B9K.R4H(6);F8C=B9K.W4H(M8C,i8C);}}if(d8C){console.log("All Time High:" + Y8C.DT);}}}if(n8C.inputs[N90] && M8C > H8C && M8C == F8C){if(Y8C[g8C.ADV] * C8C < Y8C.Volume){m60="Vol";m60+="um";m60+="e S";m60+="pike:";B9K.D4H(6);Y8C[g8C.Spike]=B9K.y4H("1",0);if(d8C){console.log(m60 + Y8C.DT);}}}Y8C[g8C.ATH]=F8C;}};b8C.Studies.displayDarvas=function(J2C,l2C,w2C){var G9K=J2SS;var M60,U60,l60,g2C,p2C,h2C,u2C,B2C,T2C,m2C,i2C,K2C,O2C,I2C,C2C,X5C,P5C,R2C,D2C,e2C,F2C,v2C,f2C,Y2C,d2C,M2C,z2C,B5C,E2C,B60,Z60,J5C,f60,o60,P60,s5C;M60="St";M60+="o";M60+="p L";M60+="evels";U60="aut";U60+="o";l60="a";l60+="u";l60+="t";l60+="o";g2C=b8C.Studies.determineColor(l2C.outputs.Levels);if(!g2C || g2C == l60 || b8C.isTransparent(g2C)){g2C=J2C.defaultColor;}p2C=b8C.Studies.determineColor(l2C.outputs.Darvas);if(!p2C || p2C == U60 || b8C.isTransparent(p2C)){p2C=J2C.defaultColor;}h2C=b8C.Studies.determineColor(l2C.outputs.Ghost);if(!h2C || h2C == "auto" || b8C.isTransparent(h2C)){h2C=J2C.defaultColor;}u2C=J2C.panels[l2C.panel];B2C=l2C.getContext(J2C);G9K.R4H(131);var l5I=G9K.W4H(30,14,16,7,0);O2C=J2C.layout.candleWidth - l5I;if(O2C < 2){O2C=1;}J2C.startClip(l2C.panel);if(l2C.inputs[M60]){if(B2C.setLineDash){B2C.setLineDash([2,2]);}G9K.R4H(45);B2C.lineWidth=G9K.y4H("2",2146012736);B2C.strokeStyle=g2C;B2C.beginPath();for(T2C=0;T2C < w2C.length;T2C++){m2C=w2C[T2C];G9K.R4H(6);I2C=w2C[G9K.W4H(T2C,1)];if(!m2C)continue;K2C=m2C["Loss " + l2C.name]?Math.floor(J2C.pixelFromPrice(m2C["Loss " + l2C.name],u2C)):null;C2C=I2C && I2C["Loss " + l2C.name]?Math.floor(J2C.pixelFromPrice(I2C["Loss " + l2C.name],u2C)):null;if(K2C){if(m2C.candleWidth){O2C=Math.floor(Math.max(+"1",m2C.candleWidth));}X5C=Math.floor(J2C.pixelFromBar(T2C,u2C.chart) + O2C / 2);P5C=Math.floor(J2C.pixelFromBar(T2C,u2C.chart) - O2C / 2);if(C2C && C2C >= K2C){B2C.lineTo(P5C,K2C);}else if(T2C === 0){B2C.moveTo(J2C.chart.left,K2C);}else {B2C.moveTo(P5C,K2C);}B2C.lineTo(X5C,K2C);}}B2C.stroke();if(B2C.setLineDash){B2C.setLineDash([]);}B2C.lineWidth=1;}R2C=-10;e2C=+"0";v2C=-10;G9K.D4H(6);Y2C=G9K.y4H("0",0);M2C=! !0;z2C=! !0;G9K.D4H(69);var U5I=G9K.y4H(356,321,178,16);G9K.D4H(73);G9K.T1K();var M5I=G9K.y4H(1342,4051,12,4026);G9K.R4H(3);var Z5I=G9K.W4H(0,1);G9K.D4H(6);var B5I=G9K.W4H(4367,9);G9K.D4H(3);var f5I=G9K.y4H(4082,16);G9K.D4H(132);var o5I=G9K.y4H(20,6,12483,1213,1387);G9K.D4H(5);var P5I=G9K.W4H(18,3030,8);G9K.D4H(46);var G5I=G9K.y4H(5992,16,1,93,667);B5C=B2C.measureText(U5I <= (M5I,"420.17" * Z5I)?B5I !== ("4350" | f5I)?"\u25B2":o5I < (P5I,"2110" ^ 0)?G5I:(!1,90.43):578.61).width / +"2";E2C=0;for(T2C="0" * 1;T2C < w2C.length;T2C++){B60="D";B60+="arvas ";if(!w2C[T2C])continue;if(w2C[T2C].Close || w2C[T2C].Close === 0){E2C=T2C;}if(w2C[T2C]["Spike " + l2C.name]){Z60="bo";Z60+="tt";Z60+="o";Z60+="m";B2C.fillStyle=p2C;B2C.textBaseline=Z60;J5C=J2C.pixelFromPrice(w2C[T2C].High,J2C.chart.panel);B2C.fillText(("3635" << 929048768,4528) < (+"34","2070" * 1)?("2.65" - 0,590) > (106,9821)?(![],301.31):(6490,689) == (+"3420",651.66)?0x1c83:(! !{},0x23ce):"\u25BC",J2C.pixelFromBar(T2C) - B5C,J5C - 5);;}if(w2C[T2C].candleWidth){O2C=Math.floor(Math.max(1,w2C[T2C].candleWidth));}if(w2C[T2C][B60 + l2C.name]){m2C=w2C[T2C]["Darvas " + l2C.name];if(m2C.State == 1 && !M2C){R2C=Math.floor(J2C.pixelFromBar(T2C,u2C.chart) - O2C / 2);D2C=Math.floor(J2C.pixelFromPrice(m2C.High,u2C));F2C=Math.floor(J2C.pixelFromPrice(m2C.Low,u2C)) - D2C;M2C=!0;}else if(m2C.State === 0){G9K.R4H(11);var I5I=G9K.y4H(0,2,4);e2C=Math.floor(J2C.pixelFromBar(T2C,u2C.chart) + O2C / I5I) - R2C;D2C=Math.floor(J2C.pixelFromPrice(m2C.High,u2C));F2C=Math.floor(J2C.pixelFromPrice(m2C.Low,u2C)) - D2C;B2C.strokeStyle=p2C;B2C.fillStyle=p2C;if(!l2C.inputs["Stop Levels"]){B2C.strokeRect(R2C,D2C,e2C,F2C);B2C.globalAlpha=0.2;}else {B2C.globalAlpha=0.3;}B2C.fillRect(R2C,D2C,e2C,F2C);B2C.globalAlpha=1;M2C=!{};}}if(w2C[T2C]["Ghost " + l2C.name] && l2C.inputs["Ghost Boxes"]){f60="Gh";f60+="ost";f60+=" ";m2C=w2C[T2C][f60 + l2C.name];if(m2C.State == 1 && !z2C){v2C=Math.floor(J2C.pixelFromBar(T2C,u2C.chart) - O2C / 2);f2C=Math.floor(J2C.pixelFromPrice(m2C.High,u2C));Y2C=Math.floor((m2C.End - m2C.Start + 1) * J2C.layout.candleWidth + O2C / ("2" ^ 0));d2C=Math.floor(J2C.pixelFromPrice(m2C.Low,u2C)) - f2C;z2C=! !"1";}else if(m2C.State === 0){o60="Stop Le";o60+="vel";o60+="s";if(m2C.Start == m2C.End){v2C=Math.floor(J2C.pixelFromBar(T2C,u2C.chart) - O2C / 2);}G9K.D4H(6);var O5I=G9K.y4H(16,14);Y2C=Math.floor(J2C.pixelFromBar(T2C,u2C.chart) + O2C / O5I) - v2C;f2C=Math.floor(J2C.pixelFromPrice(m2C.High,u2C));d2C=Math.floor(J2C.pixelFromPrice(m2C.Low,u2C)) - f2C;B2C.strokeStyle=h2C;B2C.fillStyle=h2C;if(!l2C.inputs[o60]){B2C.strokeRect(v2C,f2C,Y2C,d2C);G9K.R4H(6);B2C.globalAlpha=G9K.y4H("0.2",0);}else {B2C.globalAlpha=0.3;}B2C.fillRect(v2C,f2C,Y2C,d2C);B2C.globalAlpha=1;z2C=!1;}}}if(M2C){e2C=Math.floor(J2C.pixelFromBar(E2C,u2C.chart) + O2C / +"2") - R2C;B2C.strokeStyle=p2C;B2C.fillStyle=p2C;if(!l2C.inputs["Stop Levels"]){B2C.beginPath();G9K.R4H(133);B2C.moveTo(G9K.y4H(0,R2C,e2C,"2"),D2C);B2C.lineTo(R2C,D2C);G9K.D4H(3);B2C.lineTo(R2C,G9K.W4H(D2C,F2C));G9K.R4H(89);B2C.lineTo(G9K.W4H(e2C,2,R2C),G9K.W4H(D2C,F2C,G9K.R4H(3)));B2C.stroke();B2C.globalAlpha=0.2;}else {G9K.D4H(14);B2C.globalAlpha=G9K.W4H("0.3",1);}G9K.D4H(14);B2C.fillRect(R2C,D2C,G9K.y4H(2,e2C),F2C);B2C.globalAlpha=+"1";}if(z2C){P60="Stop";P60+=" Lev";P60+="els";B2C.strokeStyle=h2C;B2C.fillStyle=h2C;if(!l2C.inputs[P60]){B2C.strokeRect(v2C,f2C,Y2C,d2C);B2C.globalAlpha=0.2;}else {B2C.globalAlpha=0.3;}B2C.fillRect(v2C,f2C,Y2C,d2C);B2C.globalAlpha=1;}if(M2C || z2C){if(l2C.inputs["Stop Levels"]){if(B2C.setLineDash){B2C.setLineDash([2,2]);}B2C.lineWidth=2;B2C.strokeStyle=g2C;s5C=Math.floor(J2C.pixelFromBar(E2C - 1,u2C.chart) + O2C / +"2");if(i2C){B2C.beginPath();B2C.moveTo(s5C,i2C);B2C.lineTo(M2C?R2C + 2 * e2C:v2C + Y2C,i2C);B2C.stroke();}if(K2C){B2C.beginPath();B2C.moveTo(s5C,K2C);B2C.lineTo(M2C?R2C + 2 * e2C:v2C + Y2C,K2C);B2C.stroke();}if(B2C.setLineDash){B2C.setLineDash([]);}G9K.D4H(6);B2C.lineWidth=G9K.y4H("1",0);}M2C=!{};z2C=![];}J2C.endClip();};W97=1461457729;g97=- +"1383245341";b97=2;for(var h97=1;J2SS.h4w(h97.toString(),h97.toString().length,13742) !== W97;h97++){G60="hi";G60+="g";G60+="h/l";G60+="ow";b8C.Studies.studyLibrary=b8C.extend(b8C.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! !{},calculateFN:b8C.Studies.calculateDarvas,seriesFN:b8C.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close",G60],"Ghost Boxes":! !{},"Stop Levels":! !0,"Level Offset":0.01,"Price Minimum":+"5","Volume Spike":![],"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:!0,attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! !"1"},panelName:{hidden:!0},flippedEnabled:{hidden:! ![]}}}});b97+=2;}if(J2SS.h4w(b97.toString(),b97.toString().length,37783) !== g97){O60="Exit Fie";O60+="ld";I60="Stop ";I60+="Leve";I60+="ls";b8C.Studies.studyLibrary=b8C.extend(b8C.Studies.studyLibrary,{Darvas:{name:"Level Offset",underlay:!{},calculateFN:b8C.Studies.calculateDarvas,seriesFN:b8C.Studies.displayDarvas,inputs:{"ATH Lookback Period":657,"Exit Field":["Volume Spike",I60],"Ghost Boxes":!1,"Stop Levels":! !"1","Level Offset":5200,"Price Minimum":+"4","Volume Spike":! !"1","Volume % of Avg":605},outputs:{Darvas:O60,Ghost:"Volume Spike",Levels:"Level Offset"},customRemoval:!{},attributes:{"Price Minimum":{min:7643,step:8045},yaxisDisplayValue:{hidden:!{}},panelName:{hidden:! !""},flippedEnabled:{hidden:! !0}}}});}}};c0O=m5C=>{J2SS.T1K();var T5C;T5C=typeof _CIQ !== "undefined"?_CIQ:m5C.CIQ;if(!T5C.Studies){console.error("detrended feature requires first activating studies feature.");}else {T5C.Studies.calculateDetrendedPrice=function(O5C,l5C){var j60,T60,U5C,u5C,w5C,o5C,Z5C;j60="M";j60+="A";T60="Mov";T60+="ing A";T60+="verage Type";U5C=l5C.chart.scrubbed;if(U5C.length < l5C.days + +"1"){l5C.error=! !1;return;}u5C=l5C.inputs.Field;J2SS.T1K();if(!u5C || u5C == "field"){u5C="Close";}w5C=Math.floor(l5C.days / 2 + 1);T5C.Studies.MA(l5C.inputs[T60],l5C.days,u5C,-w5C,j60,O5C,l5C);for(var N5C=Math.max(l5C.days - w5C - 1,l5C.startFrom - w5C);N5C < U5C.length - w5C;N5C++){if(N5C < 0)continue;o5C=U5C[N5C][u5C];if(o5C && typeof o5C == "object"){o5C=o5C[l5C.subField];}Z5C=U5C[N5C]["MA " + l5C.name];if((o5C || o5C === 0) && (Z5C || Z5C === 0)){J2SS.D4H(6);U5C[N5C]["Result " + l5C.name]=J2SS.y4H(o5C,Z5C);}}};T5C.Studies.studyLibrary=T5C.extend(T5C.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:T5C.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};v0O=q5C=>{J2SS.N1K();var R5C,z60,q60;R5C=typeof _CIQ !== "undefined"?_CIQ:q5C.CIQ;if(!R5C.Studies){z60="disparity feature requires";z60+=" first activat";z60+="ing stud";z60+="ies feature.";console.error(z60);}else {q60="f";q60+="ield";R5C.Studies.calculateDisparity=function(c5C,D5C){var u9K=J2SS;var p5C,e5C,e60,t5C;p5C=D5C.chart.scrubbed;if(p5C.length < D5C.days + 1){D5C.error=! !1;return;}e5C=D5C.inputs.Field;if(!e5C || e5C == "field"){e5C="Close";}R5C.Studies.MA(D5C.inputs["Moving Average Type"],D5C.days,e5C,0,"_MA",c5C,D5C);for(var K5C=Math.max(D5C.startFrom,D5C.days - 1);K5C < p5C.length;K5C++){e60="Resul";e60+="t ";if(!p5C[K5C])continue;t5C=p5C[K5C]["_MA " + D5C.name];if(t5C){u9K.R4H(6);var T5I=u9K.y4H(118,18);u9K.R4H(19);var j5I=u9K.W4H(7,6);p5C[K5C][e60 + D5C.name]=T5I * (p5C[K5C][e5C] / t5C - j5I);}}};R5C.Studies.studyLibrary=R5C.extend(R5C.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:R5C.Studies.calculateDisparity,inputs:{Period:14,Field:q60,"Moving Average Type":"ma"}}});}};h0O=h5C=>{var v5C,F60,p60,n60;J2SS.N1K();v5C=typeof _CIQ !== "undefined"?_CIQ:h5C.CIQ;if(!v5C.Studies){F60="easeOfMovement feature req";F60+="uires first activating studies feature.";console.error(F60);}else {p60="m";p60+="a";n60="Ease of Move";n60+="ment";v5C.Studies.calculateEaseOfMovement=function(Q5C,S5C){var l9K=J2SS;var R60,A5C,u60,x5C,V5C,b5C,y5C,a5C;R60="_EOM1";R60+=" ";l9K.T1K();A5C=S5C.chart.scrubbed;if(A5C.length < S5C.days){S5C.error=! ![];return;}for(var j5C=Math.max(1,S5C.startFrom);j5C < A5C.length;j5C++){u60="_EO";u60+="M";u60+="1";u60+=" ";x5C=(A5C[j5C].High + A5C[j5C].Low) / +"2";l9K.R4H(134);var z5I=l9K.y4H(2,0,3,1,2);l9K.R4H(5);var e5I=l9K.y4H(9,0,10);l9K.R4H(135);var q5I=l9K.y4H(13,12,12,11,1);V5C=(A5C[j5C - z5I].High + A5C[j5C - e5I].Low) / q5I;l9K.D4H(6);b5C=l9K.y4H(x5C,V5C);l9K.D4H(6);var F5I=l9K.W4H(100000011,11);y5C=A5C[j5C].Volume / F5I / (A5C[j5C].High - A5C[j5C].Low);l9K.D4H(8);a5C=l9K.W4H(y5C,b5C);if(!isFinite(a5C)){A5C[j5C][u60 + S5C.name]=NaN;}else {A5C[j5C]["_EOM1 " + S5C.name]=a5C;}}v5C.Studies.MA(S5C.inputs["Moving Average Type"],S5C.days,R60 + S5C.name,"0" >> 1658573024,"Result",Q5C,S5C);};v5C.Studies.studyLibrary=v5C.extend(v5C.Studies.studyLibrary,{EOM:{name:n60,calculateFN:v5C.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":p60}}});}};A0O=M5C=>{var Y5C;Y5C=typeof _CIQ !== "undefined"?_CIQ:M5C.CIQ;if(!Y5C.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {Y5C.Studies.calculateEhlerFisher=function(I5C,f5C){var r9K=J2SS;var W5C,g5C,n5C,k60,z5C,L5C;function d5C(C5C,G5C){var E5C,i5C,H5C;r9K.T1K();E5C=Number.MAX_VALUE;r9K.D4H(1);var u5I=r9K.y4H(4,15,0,5);i5C=Number.MAX_VALUE * u5I;for(var k5C=G5C - C5C + 1;k5C <= G5C;k5C++){r9K.D4H(5);var R5I=r9K.W4H(14,12,4);H5C=(W5C[k5C].High + W5C[k5C].Low) / R5I;E5C=Math.min(E5C,H5C);i5C=Math.max(i5C,H5C);}return [E5C,i5C];}W5C=f5C.chart.scrubbed;if(W5C.length < f5C.days + 1){f5C.error=! !1;return;}g5C=+"0";if(f5C.startFrom > 1){r9K.D4H(1);var n5I=r9K.y4H(2,15,3,6);g5C=W5C[f5C.startFrom - n5I]["_n " + f5C.name];}r9K.N1K();for(var F5C=f5C.startFrom;F5C < W5C.length;F5C++){n5C=W5C[F5C];if(n5C.futureTick)break;if(F5C < f5C.days - ("1" | 0)){k60="E";k60+="F";k60+=" ";n5C[k60 + f5C.name]=n5C["EF Trigger " + f5C.name]=g5C;continue;}z5C=d5C(f5C.days,F5C);r9K.D4H(136);var p5I=r9K.W4H(14,1,1,14);r9K.R4H(27);var k5I=r9K.y4H(10,78,8);r9K.D4H(124);var s5I=r9K.W4H(3,4,8);g5C=0.33 * p5I * (((W5C[F5C].High + W5C[F5C].Low) / k5I - z5C[0]) / Math.max(0.000001,z5C[s5I] - z5C[0]) - 0.5) + 0.67 * g5C;if(g5C > 0){g5C=Math.min(g5C,0.9999);}else if(g5C < 0){g5C=Math.max(g5C,-0.9999);}L5C=F5C?W5C[F5C - +"1"]["EF " + f5C.name]:0;r9K.D4H(137);var i5I=r9K.W4H(10,4,4,18,7);r9K.D4H(3);var c5I=r9K.W4H(0,1);n5C["EF " + f5C.name]=0.5 * Math.log((i5I + g5C) / (c5I - g5C)) + 0.5 * L5C;n5C["EF Trigger " + f5C.name]=L5C;n5C["_n " + f5C.name]=g5C;}};Y5C.Studies.studyLibrary=Y5C.extend(Y5C.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:Y5C.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};j0O=P7C=>{J2SS.T1K();var r5C,s60,K60,d60;r5C=typeof _CIQ !== "undefined"?_CIQ:P7C.CIQ;if(!r5C.Studies){s60="elder feature req";s60+="uires";s60+=" first ";s60+="activating studies feature.";console.error(s60);}else {K60="Elder I";K60+="mpulse Syst";K60+="em";d60="Elder Ray ";d60+="Index";r5C.Studies.calculateElderImpulse=function(m7C,s7C){var S9K=J2SS;var B7C,l7C,o7C,T7C,y87,A87,w87,J7C,c60,i60;B7C=s7C.chart.scrubbed;l7C=s7C.outputs.Bullish;o7C=s7C.outputs.Bearish;T7C=s7C.outputs.Neutral;r5C.Studies.MA("exponential",+"13","Close",+"0","_MA",m7C,s7C);S9K.D4H(138);var X5I=S9K.W4H(1,17,65535,8988,26985);S9K.R4H(16);var W5I=S9K.y4H(9,19,65444,8158);S9K.D4H(3);var g5I=S9K.y4H(107,319);s7C.macd=new r5C.Studies.StudyDescriptor((X5I != (W5I,8410)?"_":g5I) + s7C.name,"macd",s7C.panel);s7C.macd.chart=s7C.chart;s7C.macd.days=s7C.days;s7C.macd.startFrom=s7C.startFrom;y87=- +"1923034886";A87=-1250797112;w87=2;for(var J87="1" >> 1478254048;S9K.h4w(J87.toString(),J87.toString().length,"30711" << 1022608704) !== y87;J87++){s7C.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":"9" ^ 0};s7C.macd.outputs={_MACD:null,_Signal:null};r5C.Studies.calculateMACD(m7C,s7C.macd);w87+=2;}if(S9K.h4w(w87.toString(),w87.toString().length,+"77853") !== A87){s7C.macd.inputs={"Fast MA Period":24,"Slow MA Period":58,"Signal Period":2};s7C.macd.outputs={_MACD:"1" * 1,_Signal:1};r5C.Studies.calculateMACD(m7C,s7C.macd);}for(var X7C=s7C.startFrom;X7C < B7C.length;X7C++){c60="_";c60+="h";c60+="ist";i60="_";i60+="M";i60+="A ";if(X7C === 0){J7C=T7C;}else if(B7C[X7C]["_MA " + s7C.name] > B7C[X7C - 1][i60 + s7C.name] && B7C[X7C][(6234 == (5660,"553.65" - 0)?(89,86) != 1910?160.18 != (4950,2330)?3.16e+3:!{}:49.65:"_") + s7C.name + c60] > B7C[X7C - 1]["_" + s7C.name + "_hist"]){J7C=l7C;}else if(B7C[X7C]["_MA " + s7C.name] < B7C[X7C - 1]["_MA " + s7C.name] && B7C[X7C]["_" + s7C.name + "_hist"] < B7C[X7C - 1][((213.74,676.95) != (398.99,2785)?("687.89" - 0,6378) === (7777,744)?550.98:(3660,1110) != 3951?"_":268.07:(![],! !{})) + s7C.name + "_hist"]){J7C=o7C;}else {J7C=T7C;}B7C[X7C]["Result " + s7C.name]=J7C;;}};r5C.Studies.calculateElderRay=function(w7C,N7C){var U7C,W60,X60;U7C=N7C.chart.scrubbed;if(U7C.length < N7C.days){N7C.error=! !"1";return;}r5C.Studies.MA("exponential",N7C.days,"Close",0,"_EMA",w7C,N7C);for(var u7C=Math.max(N7C.startFrom,N7C.days - 1);u7C < U7C.length;u7C++){W60="_";W60+="EMA ";X60="_";X60+="h";X60+="i";X60+="st1";U7C[u7C][N7C.name + X60]=U7C[u7C].High - U7C[u7C][W60 + N7C.name];U7C[u7C][N7C.name + "_hist2"]=U7C[u7C].Low - U7C[u7C]["_EMA " + N7C.name];}N7C.outputMap={};N7C.outputMap[N7C.name + "_hist1"]="";N7C.outputMap[N7C.name + "_hist2"]="";};r5C.Studies.calculateElderForce=function(q7C,Z7C){var o9K=J2SS;var b60,q37,F37,u37,O7C,g60;b60="exp";b60+="one";b60+="nt";b60+="ial";q37=-1640086082;F37=+"195908148";o9K.D4H(4);u37=o9K.y4H("2",2147483647);for(var n37=1;o9K.V4w(n37.toString(),n37.toString().length,78181) !== q37;n37++){O7C=Z7C.chart.scrubbed;u37+=2;}if(o9K.V4w(u37.toString(),u37.toString().length,85294) !== F37){O7C=Z7C.chart.scrubbed;}O7C=Z7C.chart.scrubbed;if(O7C.length < Z7C.days){Z7C.error=! ![];return;}for(var R7C=Math.max("1" << 2077193696,Z7C.startFrom);R7C < O7C.length;R7C++){g60="_";g60+="EF1 ";o9K.R4H(1);var b5I=o9K.y4H(0,20,5,25);O7C[R7C][g60 + Z7C.name]=O7C[R7C].Volume * (O7C[R7C].Close - O7C[R7C - b5I].Close);}r5C.Studies.MA(b60,Z7C.days,"_EF1 " + Z7C.name,"0" * 1,"Result",q7C,Z7C);};r5C.Studies.initElderImpulse=function(p7C,e7C,t7C,c7C,K7C,v7C){var D7C;D7C=r5C.Studies.initializeFN(p7C,e7C,t7C,c7C,K7C,v7C);if(K7C.calculateOnly){return D7C;}p7C.chart.customChart={chartType:"colored_bar",colorFunction:function(j7C,A7C,S7C){var h7C;h7C=A7C["Result " + D7C.name];if(h7C && typeof h7C == "object"){h7C=h7C.color;}return h7C;}};p7C.setMainSeriesRenderer();J2SS.N1K();return D7C;};r5C.Studies.displayElderForce=function(x7C,a7C,Y7C){var b7C,y7C,Q7C,V7C;r5C.Studies.displaySeriesAsLine(x7C,a7C,Y7C);b7C=r5C.Studies.determineColor(a7C.outputs.Result);y7C=x7C.panels[a7C.panel];Q7C=a7C.getYAxis(x7C);V7C={skipTransform:y7C.name != a7C.chart.name,panelName:a7C.panel,band:"Result " + a7C.name,threshold:0,color:b7C,yAxis:Q7C};if(!a7C.highlight && x7C.highlightedDraggable){V7C.opacity=0.3;}V7C.direction=1;r5C.preparePeakValleyFill(x7C,V7C);V7C.direction=-1;r5C.preparePeakValleyFill(x7C,V7C);};r5C.Studies.displayElderRay=function(f7C,M7C,k7C){var v9K=J2SS;var C60,z7C,F7C,d7C,I7C,n7C,E7C,r60,Q60,v60,V60,h60,g7C;C60="stx_h";C60+="istogr";C60+="a";C60+="m";function L7C(H7C,i7C,G7C,C7C){F7C.fillStyle=r5C.Studies.determineColor(M7C.outputs[G7C]);v9K.T1K();F7C.fillRect(Math.floor(f7C.pixelFromBar(H7C,z7C.chart) - n7C / 2 + n7C * i7C),Math.floor(I7C),Math.floor(n7C * (1 - 2 * i7C)),Math.floor(f7C.pixelFromPrice(g7C[M7C.name + C7C],z7C,d7C) - I7C));}z7C=f7C.panels[M7C.panel];F7C=M7C.getContext(f7C);d7C=M7C.getYAxis(f7C);I7C=f7C.pixelFromPrice(0,z7C,d7C);v9K.R4H(3);v9K.N1K();var C5I=v9K.y4H(0,2);n7C=f7C.layout.candleWidth - C5I;if(n7C < ("2" ^ 0)){n7C=1;}f7C.canvasColor(C60);E7C=F7C.fillStyle;if(!M7C.underlay){v9K.D4H(44);F7C.globalAlpha=v9K.y4H(1,"1");}f7C.startClip(M7C.panel);if(!M7C.highlight && f7C.highlightedDraggable){F7C.globalAlpha*=0.3;}for(var W7C=0;W7C < k7C.length;W7C++){r60="_hi";r60+="s";r60+="t";r60+="2";Q60="Elder";Q60+=" ";Q60+="Bear";Q60+=" Power";v60="_his";v60+="t2";V60="Elder ";V60+="Bear ";V60+="Pow";V60+="er";h60="_hist";h60+="2";g7C=k7C[W7C];if(!g7C)continue;if(g7C.candleWidth){n7C=Math.floor(Math.max(1,g7C.candleWidth - 2));}if(g7C[M7C.name + "_hist1"] > 0){v9K.D4H(45);L7C(W7C,v9K.W4H("0",1131394304),"Elder Bull Power","_hist1");}if(g7C[M7C.name + h60] < 0){L7C(W7C,+"0",V60,"_hist2");}if(g7C[M7C.name + "_hist1"] < 0){L7C(W7C,0.1,"Elder Bull Power","_hist1");}if(g7C[M7C.name + v60] > 0){v9K.D4H(14);L7C(W7C,v9K.y4H("0.1",1),Q60,r60);}}f7C.endClip();F7C.fillStyle=E7C;};r5C.Studies.studyLibrary=r5C.extend(r5C.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:r5C.Studies.calculateElderForce,seriesFN:r5C.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:d60,seriesFN:r5C.Studies.displayElderRay,calculateFN:r5C.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:K60,calculateFN:r5C.Studies.calculateElderImpulse,initializeFN:r5C.Studies.initElderImpulse,seriesFN:null,customRemoval:! ![],underlay:!"",inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(r7C,P9C){J2SS.N1K();r7C.chart.customChart=null;r7C.setMainSeriesRenderer();}}});}};S0O=X9C=>{J2SS.T1K();var s9C,A60;s9C=typeof _CIQ !== "undefined"?_CIQ:X9C.CIQ;if(!s9C.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {A60="a";A60+="u";A60+="to";s9C.Studies.calculateFractalChaos=function(w9C,m9C){var H9K=J2SS;var J9C,o9C,N9C,l9C,U9C,u9C,T9C,D60,y60;J9C=m9C.chart.scrubbed;H9K.R4H(44);o9C=H9K.W4H(0,"0");N9C=0;l9C=0;H9K.T1K();if(m9C.startFrom && m9C.type == "Fractal Chaos Bands"){H9K.D4H(11);var h5I=H9K.y4H(0,5,6);o9C=J9C[m9C.startFrom - h5I]["Fractal High " + m9C.name];N9C=J9C[m9C.startFrom - +"1"]["Fractal Low " + m9C.name];}for(var B9C=Math.max(+"4",m9C.startFrom);B9C < J9C.length;B9C++){if(J9C[B9C].futureTick)break;U9C=!isNaN(J9C[B9C].High);u9C=!isNaN(J9C[B9C].Low);if(U9C || u9C){J9C[B9C]["Result " + m9C.name]=0;}l9C=0;for(T9C=0;T9C <= B9C;T9C++){if(!J9C[B9C - T9C])break;if(J9C[B9C - T9C].High > J9C[B9C - 2].High)break;if(T9C < 2 && J9C[B9C - T9C].High == J9C[B9C - 2].High)break;if(J9C[B9C - T9C].High < J9C[B9C - 2].High){l9C++;}if(l9C == 4){o9C=J9C[B9C - 2].High;break;}}if(m9C.type == "Fractal Chaos Bands"){D60="Fra";D60+="ctal Hi";D60+="gh ";if(U9C){J9C[B9C][D60 + m9C.name]=o9C > 0?o9C:null;}}else if(l9C == 4){J9C[B9C]["Result " + m9C.name]=1;}l9C=+"0";for(T9C=0;T9C <= B9C;T9C++){if(!J9C[B9C - T9C])break;if(J9C[B9C - T9C].Low < J9C[B9C - 2].Low)break;if(T9C < 2 && J9C[B9C - T9C].Low == J9C[B9C - 2].Low)break;if(J9C[B9C - T9C].Low > J9C[B9C - +"2"].Low){l9C++;}if(l9C == 4){N9C=J9C[B9C - +"2"].Low;break;}}if(m9C.type == "Fractal Chaos Bands"){if(u9C){J9C[B9C]["Fractal Low " + m9C.name]=N9C > 0?N9C:null;}}else if(l9C == 4){y60="Resu";y60+="lt ";H9K.R4H(45);J9C[B9C][y60 + m9C.name]=-H9K.y4H("1",2013114464);}}};s9C.Studies.studyLibrary=s9C.extend(s9C.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:s9C.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!"",calculateFN:s9C.Studies.calculateFractalChaos,seriesFN:s9C.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Fractal High":A60,"Fractal Low":"auto","Fractal Channel":"auto"}}});}};a0O=O9C=>{J2SS.N1K();var w60,Z9C,t60,Z50,M50,U50,l50,m50,N60;w60="undefi";w60+="ned";Z9C=typeof _CIQ !== w60?_CIQ:O9C.CIQ;if(!Z9C.Studies){t60="highLowStudies feature requi";t60+="res first activating studies feature.";console.error(t60);}else {Z50="Wi";Z50+="lliams %";Z50+="R";M50="L";M50+="owes";M50+="t L";M50+="ow Value";U50="Gopal";U50+="akrishnan R";U50+="ange Index";l50="Donch";l50+="ian Widt";l50+="h";m50="a";m50+="u";m50+="to";N60="a";N60+="u";N60+="t";N60+="o";Z9C.Studies.calculateMaxHighMinLow=function(j9C,R9C){var d9K=J2SS;var H60,J60,q9C,h9C,v9C,e9C,K9C,p9C,Y60,S60,t9C,a60,x60,E60,L60;H60="High P";H60+="er";H60+="io";H60+="d";J60="H";J60+="igh Per";J60+="iod";q9C=R9C.chart.scrubbed;h9C=R9C.days;v9C=R9C.days;if(R9C.inputs[J60]){h9C=R9C.inputs[H60];}if(R9C.inputs["Low Period"]){v9C=R9C.inputs["Low Period"];}if(q9C.length < Math.max(h9C,v9C) + 1){R9C.error=! !"1";return;}e9C=Number.MAX_VALUE;d9K.D4H(139);var V5I=d9K.W4H(2,2,10,2,9);K9C=Number.MAX_VALUE * V5I;if(R9C.startFrom > 1){for(p9C="1" ^ 0;p9C < h9C;p9C++){if(R9C.startFrom - p9C >= 0){K9C=Math.max(K9C,q9C[R9C.startFrom - p9C].High);}}for(p9C=1;p9C < v9C;p9C++){if(R9C.startFrom - p9C >= 0){e9C=Math.min(e9C,q9C[R9C.startFrom - p9C].Low);}}}for(var D9C=Math.max(0,R9C.startFrom - ("1" << 412556224));D9C < q9C.length;D9C++){Y60="VT";Y60+=" ";Y60+="HZ F";Y60+="ilter";S60="H";S60+="H";S60+="V";K9C=Math.max(K9C,q9C[D9C].High);e9C=Math.min(e9C,q9C[D9C].Low);if(D9C >= h9C){if(q9C[D9C - h9C].High == K9C){K9C=q9C[D9C].High;for(p9C=1;p9C < h9C;p9C++){K9C=Math.max(K9C,q9C[D9C - p9C].High);}}}if(D9C >= v9C){if(q9C[D9C - v9C].Low == e9C){e9C=q9C[D9C].Low;for(p9C=+"1";p9C < v9C;p9C++){e9C=Math.min(e9C,q9C[D9C - p9C].Low);}}}d9K.R4H(14);t9C=d9K.y4H("0",1);if(R9C.type == S60){t9C=K9C;}else if(R9C.type == "LLV"){t9C=e9C;}else if(R9C.type == "Donchian Width"){d9K.D4H(6);t9C=d9K.W4H(K9C,e9C);}else if(R9C.type == "GAPO" || R9C.type == "Gopala"){t9C=Math.log(K9C - e9C) / Math.log(v9C);}else if(R9C.type == Y60){a60="_";a60+="M";a60+="H";a60+="ML ";d9K.R4H(6);t9C=d9K.W4H(K9C,e9C);q9C[D9C][a60 + R9C.name]=t9C;continue;}else if(R9C.type == "Williams %R"){x60="R";x60+="esu";x60+="lt";x60+=" ";d9K.D4H(140);var v5I=d9K.y4H(20,19,12,3,13580);t9C=v5I * (K9C - q9C[D9C].Close) / (K9C - e9C);q9C[D9C][x60 + R9C.name]=t9C;continue;}if(D9C == q9C.length - 1)break;if(!q9C[D9C + 1].futureTick){if(R9C.type == "Donchian Channel"){E60="Do";E60+="nch";E60+="ian";E60+=" Low ";d9K.D4H(49);q9C[d9K.y4H("1",D9C)]["Donchian High " + R9C.name]=K9C;d9K.R4H(3);q9C[d9K.y4H(D9C,1)][E60 + R9C.name]=e9C;d9K.D4H(141);q9C[d9K.y4H("1",D9C,0)]["Donchian Median " + R9C.name]=d9K.W4H(e9C,K9C,2,d9K.D4H(10));}else {L60="Res";L60+="ul";L60+="t";L60+=" ";d9K.D4H(3);q9C[d9K.W4H(D9C,1)][L60 + R9C.name]=t9C;}}}};Z9C.Studies.calculateVerticalHorizontalFilter=function(M9C,a9C){var V9C,y9C,Q9C,Y9C;V9C=a9C.chart.scrubbed;J2SS.N1K();if(V9C.length < a9C.days + "1" * 1){a9C.error=! ![];return;}a9C.mhml=new Z9C.Studies.StudyDescriptor(a9C.name,a9C.type,a9C.panel);a9C.mhml.chart=a9C.chart;a9C.mhml.days=a9C.days;a9C.mhml.startFrom=a9C.startFrom;a9C.mhml.inputs={};a9C.mhml.outputs={_MHML:null};Z9C.Studies.calculateMaxHighMinLow(M9C,a9C.mhml);y9C=0;Q9C=[];for(var b9C=Math.max("1" & 2147483647,a9C.startFrom - a9C.days);b9C < V9C.length;b9C++){Y9C=Math.abs(V9C[b9C].Close - V9C[b9C - 1].Close);Q9C.push(Y9C);y9C+=Y9C;if(Q9C.length == a9C.days){V9C[b9C]["Result " + a9C.name]=V9C[b9C]["_MHML " + a9C.name] / y9C;y9C-=Q9C.shift();}}};Z9C.Studies.studyLibrary=Z9C.extend(Z9C.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!"",calculateFN:Z9C.Studies.calculateMaxHighMinLow,seriesFN:Z9C.Studies.displayChannel,inputs:{"High Period":20,"Low Period":"20" - 0,"Channel Fill":! !"1"},outputs:{"Donchian High":"auto","Donchian Median":N60,"Donchian Low":m50}},"Donchian Width":{name:l50,calculateFN:Z9C.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:U50,calculateFN:Z9C.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:Z9C.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:M50,calculateFN:Z9C.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:Z50,calculateFN:Z9C.Studies.calculateMaxHighMinLow,inputs:{Period:"14" | 8},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:Z9C.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(z9C,W9C){J2SS.N1K();var g9C,B50;g9C=W9C.chart.scrubbed;for(var f9C=W9C.startFrom;f9C < g9C.length;f9C++){B50="Result";B50+=" ";g9C[f9C][B50 + W9C.name]=g9C[f9C].High - g9C[f9C].Low;}},inputs:{}}});}};x0O=d9C=>{var f50,L9C,o50;f50="un";f50+="d";f50+="e";f50+="fined";L9C=typeof _CIQ !== f50?_CIQ:d9C.CIQ;if(!L9C.Studies){o50="ichimoku feat";o50+="ure requires f";o50+="i";o50+="rst activating studies feature.";console.error(o50);}else {L9C.Studies.calculateIchimoku=function(m0Q,E9C){var b9K=J2SS;b9K.T1K();var G9C,r9C,I9C,P0Q,G50,P50,B0Q,I50,J0Q,T0Q,s0Q;G9C=E9C.chart.scrubbed;r9C={Base:Number(E9C.inputs["Base Line Period"]),Conv:Number(E9C.inputs["Conversion Line Period"]),LeadB:Number(E9C.inputs["Leading Span B Period"]),Lag:Number(E9C.inputs["Lagging Span Period"])};for(I9C=E9C.startFrom;I9C < G9C.length;I9C++){G50="Base";G50+=" Line ";P50="Con";P50+="version Line ";if(!G9C[I9C])continue;P0Q=X0Q(r9C.Conv,I9C);b9K.D4H(3);var Q5I=b9K.y4H(0,1);b9K.R4H(6);var r5I=b9K.W4H(36,34);G9C[I9C][P50 + E9C.name]=(P0Q[Q5I] + P0Q[0]) / r5I;P0Q=X0Q(r9C.Base,I9C);b9K.D4H(6);var d5I=b9K.W4H(3,2);b9K.D4H(142);var K5I=b9K.W4H(17,1,0,14,5);G9C[I9C][G50 + E9C.name]=(P0Q[d5I] + P0Q[0]) / K5I;if(I9C < r9C.Lag)continue;G9C[I9C - r9C.Lag]["Lagging Span " + E9C.name]=G9C[I9C].Close;}B0Q=[];function X0Q(u0Q,U0Q){var o0Q,N0Q;o0Q=Number.MAX_VALUE;b9K.D4H(143);var D5I=b9K.W4H(19,11,2,9,627);N0Q=Number.MAX_VALUE * D5I;b9K.N1K();for(var l0Q=U0Q - u0Q + 1;l0Q <= U0Q;l0Q++){if(l0Q < 0)continue;o0Q=Math.min(o0Q,G9C[l0Q].Low);N0Q=Math.max(N0Q,G9C[l0Q].High);}return [o0Q,N0Q];}for(I9C=Math.max(0,E9C.startFrom - r9C.Base);I9C < G9C.length;I9C++){I50="Con";I50+="versi";I50+="o";I50+="n Line ";P0Q=X0Q(r9C.LeadB,I9C);b9K.R4H(3);var y5I=b9K.y4H(0,2);J0Q=(G9C[I9C][I50 + E9C.name] + G9C[I9C]["Base Line " + E9C.name]) / y5I;b9K.D4H(2);var A5I=b9K.y4H(14,20,5);b9K.D4H(3);var w5I=b9K.y4H(0,2);T0Q=(P0Q[A5I] + P0Q[0]) / w5I;if(G9C[I9C + r9C.Base]){G9C[I9C + r9C.Base]["Leading Span A " + E9C.name]=J0Q;G9C[I9C + r9C.Base]["Leading Span B " + E9C.name]=T0Q;}else {s0Q={};s0Q["Leading Span A " + E9C.name]=J0Q;s0Q["Leading Span B " + E9C.name]=T0Q;B0Q.push(s0Q);}}E9C.appendFutureTicks(m0Q,B0Q);};L9C.Studies.displayIchimoku=function(Z0Q,w0Q,t0Q){var O0Q,R0Q,p0Q,K0Q,e0Q,q0Q,D0Q;O0Q="Leading Span A " + w0Q.name;R0Q="Leading Span B " + w0Q.name;p0Q=L9C.Studies.determineColor(w0Q.outputs[w0Q.outputMap[O0Q]]);K0Q=L9C.Studies.determineColor(w0Q.outputs[w0Q.outputMap[R0Q]]);e0Q=Z0Q.panels[w0Q.panel];q0Q=w0Q.getYAxis(Z0Q);D0Q={topBand:O0Q,bottomBand:R0Q,topColor:p0Q,bottomColor:K0Q,skipTransform:e0Q.name != w0Q.chart.name,topAxis:q0Q,bottomAxis:q0Q,opacity:"0.3" * 1};if(!w0Q.highlight && Z0Q.highlightedDraggable){D0Q.opacity*=+"0.3";}L9C.fillIntersecting(Z0Q,w0Q.panel,D0Q);L9C.Studies.displaySeriesAsLine(Z0Q,w0Q,t0Q);};L9C.Studies.studyLibrary=L9C.extend(L9C.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! !1,calculateFN:L9C.Studies.calculateIchimoku,seriesFN:L9C.Studies.displayIchimoku,inputs:{"Conversion Line Period":+"9","Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};V0O=v0Q=>{var c0Q,j50,T50;c0Q=typeof _CIQ !== "undefined"?_CIQ:v0Q.CIQ;if(!c0Q.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {j50="a";j50+="u";j50+="t";j50+="o";T50="Intraday Momen";T50+="tum";T50+=" In";T50+="dex";c0Q.Studies.calculateIntradayMomentum=function(y0Q,h0Q){var p9K=J2SS;var A0Q,x0Q,m67,l67,U67,S0Q,a0Q,O50,V0Q,b0Q;A0Q=h0Q.chart.scrubbed;x0Q=h0Q.days;if(A0Q.length < x0Q + 1){m67=-1106767112;l67=1259189280;U67=2;for(var Z67=1;p9K.V4w(Z67.toString(),Z67.toString().length,24440) !== m67;Z67++){h0Q.error=!1;U67+=2;}if(p9K.V4w(U67.toString(),U67.toString().length,99152) !== l67){h0Q.error=!"";}return;}S0Q=0;a0Q=0;p9K.T1K();if(h0Q.startFrom > 1){O50="_";O50+="totDn";O50+=" ";p9K.R4H(27);var t5I=p9K.W4H(5,99,20);S0Q=A0Q[h0Q.startFrom - t5I]["_totUp " + h0Q.name];p9K.D4H(19);var J5I=p9K.W4H(5,4);a0Q=A0Q[h0Q.startFrom - J5I][O50 + h0Q.name];}for(var j0Q=h0Q.startFrom;j0Q < A0Q.length;j0Q++){V0Q=A0Q[j0Q].Close - A0Q[j0Q].Open;if(V0Q > 0){S0Q+=V0Q;}else {a0Q-=V0Q;}if(j0Q >= x0Q){b0Q=A0Q[j0Q - x0Q].Close - A0Q[j0Q - x0Q].Open;if(b0Q > 0){S0Q-=b0Q;}else {a0Q+=b0Q;}}p9K.R4H(144);A0Q[j0Q]["Result " + h0Q.name]=p9K.y4H(a0Q,100,S0Q,S0Q);A0Q[j0Q]["_totUp " + h0Q.name]=S0Q;A0Q[j0Q]["_totDn " + h0Q.name]=a0Q;}};c0Q.Studies.studyLibrary=c0Q.extend(c0Q.Studies.studyLibrary,{"Intraday Mtm":{name:T50,calculateFN:c0Q.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:j50,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};b0O=Y0Q=>{J2SS.N1K();var z50,Q0Q,X37,W37,g37,F50,u50;z50="und";z50+="efi";z50+="ned";Q0Q=typeof _CIQ !== z50?_CIQ:Y0Q.CIQ;if(!Q0Q.Studies){console.error("keltner feature requires first activating studies feature.");}else {Q0Q.Studies.calculateKeltner=function(f0Q,M0Q){var q50,e50;q50="A";q50+="T";q50+="R ";e50="M";e50+="A";Q0Q.Studies.MA(M0Q.inputs["Moving Average Type"],M0Q.days,"Close",0,e50,f0Q,M0Q);Q0Q.Studies.calculateStudyATR(f0Q,M0Q);Q0Q.Studies.calculateGenericEnvelope(f0Q,M0Q,M0Q.inputs.Shift,"MA " + M0Q.name,q50 + M0Q.name);};X37=1687704940;W37=+"938567814";g37=2;for(var C37=1;J2SS.h4w(C37.toString(),C37.toString().length,44047) !== X37;C37++){F50="Mo";F50+="ving Aver";F50+="age Type";Q0Q.Studies.studyLibrary=Q0Q.extend(Q0Q.Studies.studyLibrary,{Keltner:{name:"auto",overlay:!{},seriesFN:Q0Q.Studies.displayChannel,calculateFN:Q0Q.Studies.calculateKeltner,inputs:{Period:+"65",Shift:1,"Moving Average Type":F50,"Channel Fill":![]},outputs:{"Keltner Top":"Keltner Bottom","Keltner Median":"auto","Keltner Bottom":"Keltner Bottom"},attributes:{Shift:{min:"667" >> 73840224,step:423}}}});g37+=2;}if(J2SS.V4w(g37.toString(),g37.toString().length,3163) !== W37){u50="e";u50+="m";u50+="a";Q0Q.Studies.studyLibrary=Q0Q.extend(Q0Q.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!0,seriesFN:Q0Q.Studies.displayChannel,calculateFN:Q0Q.Studies.calculateKeltner,inputs:{Period:"50" << 976138336,Shift:5,"Moving Average Type":u50,"Channel Fill":! !1},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:"0.1" * 1,step:+"0.1"}}}});}}};y0O=W0Q=>{var g0Q,i50,s50;g0Q=typeof _CIQ !== "undefined"?_CIQ:W0Q.CIQ;if(!g0Q.Studies){console.error("klinger feature requires first activating studies feature.");}else {i50="#FF";i50+="0";i50+="000";s50="K";s50+="lin";s50+="ger Volume ";s50+="Oscillator";g0Q.Studies.calculateKlinger=function(E0Q,n0Q){var k50,n50,R50,z0Q,i0Q,L0Q,H0Q,d0Q,r0Q,I0Q,G0Q,C0Q,F0Q,p50,k0Q;k50="exponenti";k50+="al";n50="_";n50+="E";n50+="M";n50+="A-S ";R50="Kli";R50+="n";R50+="ge";R50+="r ";z0Q=n0Q.chart.scrubbed;i0Q=Number(n0Q.inputs["Short Cycle"]);L0Q=Number(n0Q.inputs["Long Cycle"]);if(z0Q.length < Math.max(i0Q,L0Q) + 1){n0Q.error=!"";return;}H0Q=n0Q.name + "_hist";d0Q=R50 + n0Q.name;r0Q="KlingerSignal " + n0Q.name;I0Q="_SV " + n0Q.name;G0Q=n50 + n0Q.name;C0Q="_EMA-L " + n0Q.name;for(F0Q=Math.max(1,n0Q.startFrom);F0Q < z0Q.length;F0Q++){p50="h";p50+="lc/3";k0Q=z0Q[F0Q].Volume;if(z0Q[F0Q]["hlc/3"] < z0Q[F0Q - 1][p50]){k0Q*=-1;}if(k0Q){z0Q[F0Q][I0Q]=k0Q;}}g0Q.Studies.MA("exponential",i0Q,I0Q,0,"_EMA-S",E0Q,n0Q);g0Q.Studies.MA("exponential",L0Q,I0Q,0,"_EMA-L",E0Q,n0Q);for(F0Q=Math.max(L0Q,n0Q.startFrom);F0Q < z0Q.length;F0Q++){if(z0Q[F0Q].futureTick || z0Q[F0Q][G0Q] === null || z0Q[F0Q][C0Q] === null)break;z0Q[F0Q][d0Q]=z0Q[F0Q][G0Q] - z0Q[F0Q][C0Q];}g0Q.Studies.MA(k50,Number(n0Q.inputs["Signal Periods"]),d0Q,0,"KlingerSignal",E0Q,n0Q);for(F0Q=n0Q.startFrom;F0Q < z0Q.length;F0Q++){z0Q[F0Q][H0Q]=z0Q[F0Q][d0Q] - z0Q[F0Q][r0Q];}n0Q.outputMap[H0Q]="";};g0Q.Studies.studyLibrary=g0Q.extend(g0Q.Studies.studyLibrary,{Klinger:{name:s50,seriesFN:g0Q.Studies.displayHistogramWithSeries,calculateFN:g0Q.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":i50}}});}};Q0O=s8Q=>{var P8Q,Q50,v50,V50,c50;P8Q=typeof _CIQ !== "undefined"?_CIQ:s8Q.CIQ;if(!P8Q.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {Q50="a";Q50+="uto";v50="Linear Reg Int";v50+="er";v50+="cept";V50="au";V50+="to";c50="t";c50+="ime ";c50+="ser";c50+="ies";P8Q.Studies.prettify["time series"]="tsma";P8Q.Studies.movingAverage.conversions.tsma=c50;P8Q.Studies.movingAverage.translations["time series"]="Time Series";P8Q.Studies.movingAverage.typeMap.tsma="TimeSeries";P8Q.Studies.movingAverage.typeMap["time series"]="TimeSeries";P8Q.Studies.calculateMovingAverageTimeSeries=function(w8Q,X8Q){var i9K=J2SS;var X50,T8Q,J8Q,m8Q,l8Q,o8Q,N8Q,U8Q,W50,u8Q;i9K.N1K();X50="m";X50+="a";X8Q.ma=new P8Q.Studies.StudyDescriptor(X8Q.name,X50,X8Q.panel);X8Q.ma.chart=X8Q.chart;X8Q.ma.days=X8Q.days;X8Q.ma.startFrom=X8Q.startFrom;X8Q.ma.inputs=X8Q.inputs;P8Q.Studies.calculateLinearRegressionIndicator(w8Q,X8Q.ma);T8Q=X8Q.name;for(var Z8Q in X8Q.outputs){i9K.R4H(22);T8Q=i9K.y4H(Z8Q,2669 < (1280,840.4)?+"348.01" == (328,8735)?(+"797.99",3.08e+3):(![],"o"):" ",T8Q);}J8Q=parseInt(X8Q.inputs.Offset,+"10");if(isNaN(J8Q)){J8Q=0;}m8Q=X8Q.chart.scrubbed;l8Q=J8Q;for(var B8Q=X8Q.startFrom - 1;B8Q >= 0;B8Q--){o8Q=m8Q[B8Q][T8Q];if(!o8Q && o8Q !== +"0")continue;if(l8Q > +"0"){l8Q--;continue;}break;}N8Q=[];for(B8Q++;B8Q < m8Q.length;B8Q++){U8Q=m8Q[B8Q];if(B8Q + J8Q >= 0){if(B8Q + J8Q < m8Q.length){i9K.R4H(3);m8Q[i9K.W4H(B8Q,J8Q)][T8Q]=U8Q["Forecast " + X8Q.name];}else {W50="F";W50+="o";W50+="recas";W50+="t ";u8Q={};u8Q[T8Q]=U8Q[W50 + X8Q.name];N8Q.push(u8Q);}}}X8Q.appendFutureTicks(w8Q,N8Q);};P8Q.Studies.calculateLinearRegressionIndicator=function(V8Q,O8Q){var x9K=J2SS;var g50,q8Q,e8Q,v8Q,j8Q,S8Q,p8Q,h8Q,t8Q,b50,A8Q,h50,C50,D8Q,K8Q,c8Q,a8Q,x8Q;g50="C";g50+="l";g50+="ose";q8Q=O8Q.chart.scrubbed;if(q8Q.length < O8Q.days + 1){O8Q.error=! !{};return;}e8Q=O8Q.inputs.Field;if(!e8Q || e8Q == "field"){e8Q=g50;}x9K.D4H(19);var H5I=x9K.y4H(7,5);v8Q=O8Q.days * (O8Q.days + ("1" - 0)) / H5I;j8Q=Math.pow(v8Q,2);x9K.R4H(33);var S5I=x9K.W4H(7,2062065959,1);x9K.R4H(121);var Y5I=x9K.y4H(7,0,6,1,13);S8Q=v8Q * (("2" << S5I) * O8Q.days + Y5I) / 3;p8Q=+"0";h8Q=0;t8Q=0;if(O8Q.startFrom){b50="_s";b50+="ums";b50+=" ";A8Q=q8Q[O8Q.startFrom - 1][b50 + O8Q.name];if(A8Q){h8Q=A8Q[0];p8Q=A8Q[1];t8Q=A8Q[2];}}for(var R8Q=O8Q.startFrom;R8Q < q8Q.length;R8Q++){h50="Fore";h50+="c";h50+="ast ";C50="Intercept";C50+=" ";D8Q=q8Q[R8Q][e8Q];if(D8Q && typeof D8Q == "object"){D8Q=D8Q[O8Q.subField];}if(!D8Q && D8Q !== 0)continue;h8Q+=O8Q.days * D8Q - p8Q;p8Q+=D8Q;t8Q+=Math.pow(D8Q,2);if(R8Q < O8Q.days - +"1")continue;else if(R8Q > O8Q.days - 1){K8Q=q8Q[R8Q - O8Q.days][e8Q];if(K8Q && typeof K8Q == "object"){K8Q=K8Q[O8Q.subField];}if(!K8Q && K8Q !== 0)continue;p8Q-=K8Q;t8Q-=Math.pow(K8Q,+"2");}c8Q=(O8Q.days * h8Q - v8Q * p8Q) / (O8Q.days * S8Q - j8Q);q8Q[R8Q]["Slope " + O8Q.name]=c8Q;a8Q=(p8Q - c8Q * v8Q) / O8Q.days;q8Q[R8Q][C50 + O8Q.name]=a8Q;q8Q[R8Q][h50 + O8Q.name]=a8Q + c8Q * O8Q.days;x9K.R4H(11);var a5I=x9K.y4H(0,13,15);x8Q=(O8Q.days * S8Q - j8Q) / (O8Q.days * t8Q - Math.pow(p8Q,a5I));x9K.R4H(145);q8Q[R8Q]["RSquared " + O8Q.name]=x9K.W4H(c8Q,c8Q,x8Q);q8Q[R8Q]["_sums " + O8Q.name]=[h8Q,p8Q,t8Q];}};P8Q.Studies.studyLibrary=P8Q.extend(P8Q.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:! !{},calculateFN:P8Q.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:V50}},"Lin Incpt":{name:v50,overlay:!"",calculateFN:P8Q.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:P8Q.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:P8Q.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:Q50}},"Time Fcst":{name:"Time Series Forecast",overlay:!0,calculateFN:P8Q.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};Y0O=y8Q=>{var r50,b8Q,u57,n57,p57,N50,L50,E50;r50="un";r50+="de";r50+="f";r50+="ined";b8Q=typeof _CIQ !== r50?_CIQ:y8Q.CIQ;if(!b8Q.Studies){u57=-2090527103;n57=-163604832;p57=2;for(var i57=1;J2SS.h4w(i57.toString(),i57.toString().length,11151) !== u57;i57++){console.error("");p57+=2;}if(J2SS.V4w(p57.toString(),p57.toString().length,+"47113") !== n57){console.error("");}console.error("macd feature requires first activating studies feature.");}else {N50="#";N50+="FF0";N50+="0";N50+="00";L50="#00";L50+="D";L50+="D00";E50="a";E50+="uto";b8Q.Studies.calculateMACD=function(L8Q,Q8Q){var z9K=J2SS;var a50,Y50,A50,D50,K50,d50,g8Q,W8Q,Y8Q,F8Q,n8Q,f8Q,M8Q,d8Q,S50,H50,J50,t50,w50,z8Q,I8Q,x50,k8Q;a50="MACD";a50+=" ";Y50="exp";Y50+="onen";Y50+="tial";A50="_M";A50+="ACD1";D50="exp";D50+="on";D50+="entia";D50+="l";K50="fi";K50+="eld";d50="Slow M";d50+="A Period";g8Q=Q8Q.chart.scrubbed;W8Q=Q8Q.inputs;Y8Q=Q8Q.name;if(!Q8Q.macd1Days){Q8Q.macd1Days=parseFloat(W8Q["Fast MA Period"]);}if(!Q8Q.macd2Days){Q8Q.macd2Days=parseFloat(W8Q[d50]);}if(!Q8Q.signalDays){Q8Q.signalDays=parseFloat(W8Q["Signal Period"]);}if(!Q8Q.days){Q8Q.days=Math.max(Q8Q.macd1Days,Q8Q.macd2Days,Q8Q.signalDays);}if(g8Q.length < Q8Q.days + 1){Q8Q.error=! ![];return;}F8Q=Q8Q.inputs.Field;if(!F8Q || F8Q == K50){F8Q="Close";}n8Q=W8Q["Moving Average Type"];if(!n8Q){n8Q=D50;}b8Q.Studies.MA(n8Q,Q8Q.macd1Days,F8Q,0,A50,L8Q,Q8Q);b8Q.Studies.MA(n8Q,Q8Q.macd2Days,F8Q,0,"_MACD2",L8Q,Q8Q);d8Q=Math.max(Q8Q.startFrom,Q8Q.days - 1);for(f8Q=d8Q;f8Q < g8Q.length;f8Q++){S50="_M";S50+="A";S50+="C";S50+="D2 ";H50="_MA";H50+="C";H50+="D";H50+="1 ";J50="_MAC";J50+="D";J50+="2 ";t50="_MA";t50+="CD2";t50+=" ";w50="_MA";w50+="C";w50+="D1 ";M8Q=g8Q[f8Q];if((M8Q["_MACD1 " + Y8Q] || M8Q[w50 + Y8Q] === 0) && (M8Q[t50 + Y8Q] || M8Q[J50 + Y8Q] === "0" - 0)){z9K.D4H(3);M8Q[z9K.y4H("MACD ",Y8Q)]=M8Q[H50 + Y8Q] - M8Q[S50 + Y8Q];}}z8Q=W8Q["Signal MA Type"];if(!z8Q){z8Q=Y50;}b8Q.Studies.MA(z8Q,Q8Q.signalDays,a50 + Y8Q,0,"Signal",L8Q,Q8Q);z9K.R4H(3);I8Q=z9K.y4H(Y8Q,"_hist");for(f8Q=d8Q;f8Q < g8Q.length;f8Q++){x50="Si";x50+="gnal";x50+=" ";M8Q=g8Q[f8Q];z9K.D4H(3);k8Q=M8Q[z9K.y4H("Signal ",Y8Q)];if(!k8Q && k8Q !== 0)continue;M8Q[I8Q]=M8Q["MACD " + Y8Q] - M8Q[x50 + Y8Q];}Q8Q.outputMap[I8Q]="";};b8Q.Studies.studyLibrary=b8Q.extend(b8Q.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:b8Q.Studies.calculateMACD,seriesFN:b8Q.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:E50,Signal:"#FF0000","Increasing Bar":L50,"Decreasing Bar":N50}}});}};M0O=i8Q=>{var E8Q,M00;E8Q=typeof _CIQ !== "undefined"?_CIQ:i8Q.CIQ;J2SS.N1K();if(!E8Q.Studies){console.error("massIndex feature requires first activating studies feature.");}else {M00="Ma";M00+="ss ";M00+="Index";E8Q.Studies.calculateMassIndex=function(s2Q,H8Q){var e9K=J2SS;var l00,m00,G8Q,P2Q,U00;l00="_";l00+="EMA";l00+="2";m00="expon";e9K.T1K();m00+="ential";G8Q=H8Q.chart.scrubbed;if(G8Q.length < Math.max(9,H8Q.days + 1)){H8Q.error=! !{};return;}for(var r8Q=H8Q.startFrom;r8Q < G8Q.length;r8Q++){G8Q[r8Q]["_High-Low " + H8Q.name]=G8Q[r8Q].High - G8Q[r8Q].Low;}E8Q.Studies.MA(m00,+"9","_High-Low " + H8Q.name,0,"_EMA",s2Q,H8Q);E8Q.Studies.MA("exponential",+"9","_EMA " + H8Q.name,0,l00,s2Q,H8Q);P2Q=0;if(G8Q[H8Q.startFrom - 1] && G8Q[H8Q.startFrom - 1]["_total " + H8Q.name]){e9K.D4H(6);var x5I=e9K.W4H(16,15);P2Q=G8Q[H8Q.startFrom - x5I]["_total " + H8Q.name];}for(var C8Q=Math.max(+"17",H8Q.startFrom);C8Q < G8Q.length;C8Q++){P2Q+=G8Q[C8Q]["_EMA " + H8Q.name] / G8Q[C8Q]["_EMA2 " + H8Q.name];if(C8Q >= 17 + H8Q.days - 1){U00="_";U00+="EM";U00+="A ";G8Q[C8Q]["Result " + H8Q.name]=P2Q;e9K.D4H(146);var E5I=e9K.y4H(18,15,0,10,44);e9K.D4H(124);var L5I=e9K.W4H(5,2,8);P2Q-=G8Q[C8Q - H8Q.days + E5I][U00 + H8Q.name] / G8Q[C8Q - H8Q.days + L5I]["_EMA2 " + H8Q.name];}G8Q[C8Q]["_total " + H8Q.name]=P2Q;}};E8Q.Studies.displayMassIndex=function(B2Q,X2Q,o2Q){var F9K=J2SS;var J2Q,N2Q,T2Q,m2Q,l2Q,d37,K37,D37;E8Q.Studies.displaySeriesAsLine(B2Q,X2Q,o2Q);J2Q=X2Q.inputs["Bulge Threshold"];N2Q=B2Q.panels[X2Q.panel];T2Q=X2Q.getYAxis(B2Q);m2Q=E8Q.Studies.determineColor(X2Q.outputs.Result);l2Q={skipTransform:B2Q.panels[X2Q.panel].name != X2Q.chart.name,panelName:X2Q.panel,band:"Result " + X2Q.name,threshold:J2Q,direction:1,color:m2Q,yAxis:T2Q,opacity:"0.3" * 1};d37=1777036606;K37=-41478584;D37=2;for(var A37=1;F9K.V4w(A37.toString(),A37.toString().length,38175) !== d37;A37++){if(!X2Q.highlight && B2Q.highlightedDraggable){l2Q.opacity*=0.3;}D37+=2;}if(F9K.h4w(D37.toString(),D37.toString().length,51524) !== K37){if(-X2Q.highlight || B2Q.highlightedDraggable){F9K.R4H(14);l2Q.opacity/=F9K.y4H("224",1);}}E8Q.preparePeakValleyFill(B2Q,l2Q);E8Q.Studies.drawHorizontal(B2Q,X2Q,null,J2Q,T2Q,m2Q);};E8Q.Studies.studyLibrary=E8Q.extend(E8Q.Studies.studyLibrary,{"Mass Idx":{name:M00,seriesFN:E8Q.Studies.displayMassIndex,calculateFN:E8Q.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:"20" << 341869696,max:35,step:0.1}}}});}};f0O=u2Q=>{J2SS.N1K();var U2Q,o00,f00;U2Q=typeof _CIQ !== "undefined"?_CIQ:u2Q.CIQ;if(!U2Q.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {o00="a";o00+="ut";o00+="o";f00="Money F";f00+="low Index";U2Q.Studies.calculateMoneyFlowIndex=function(A2Q,O2Q){var D9K=J2SS;var Z2Q,q2Q,R2Q,p2Q,c2Q,K2Q,v2Q,Z00,e2Q,B00,h2Q,D2Q,t2Q;Z2Q=O2Q.chart.scrubbed;if(Z2Q.length < O2Q.days + 1){O2Q.error=! ![];return;}q2Q=0;D9K.D4H(6);R2Q=D9K.W4H("0",0);D9K.R4H(11);var N5I=D9K.y4H(0,9,10);p2Q=Z2Q[O2Q.startFrom - N5I];c2Q="_rawMF " + O2Q.name;K2Q="_cumMF " + O2Q.name;v2Q="Result " + O2Q.name;if(p2Q && p2Q[K2Q]){D9K.D4H(6);q2Q=p2Q[K2Q][D9K.y4H("0",0)];R2Q=p2Q[K2Q][1];}D9K.T1K();for(var w2Q=O2Q.startFrom;w2Q < Z2Q.length;w2Q++){Z00="h";Z00+="lc/3";e2Q=Z2Q[w2Q][Z00];if(w2Q > 0 && !Z2Q[w2Q].futureTick){B00="h";B00+="lc";B00+="/";B00+="3";D9K.R4H(6);h2Q=Z2Q[D9K.W4H(w2Q,1)][B00];D2Q=e2Q * Z2Q[w2Q].Volume;if(e2Q > h2Q){q2Q+=D2Q;}else if(e2Q < h2Q){D2Q*=-1;R2Q-=D2Q;}else {D2Q=0;}if(w2Q > O2Q.days){t2Q=Z2Q[w2Q - O2Q.days][c2Q];if(t2Q > 0){q2Q-=t2Q;}else {R2Q+=t2Q;}if(R2Q === 0){Z2Q[w2Q][v2Q]=+"100";}else if(Z2Q[w2Q].Volume){D9K.D4H(147);Z2Q[w2Q][v2Q]=D9K.W4H(1,100,R2Q,q2Q,100);}}Z2Q[w2Q][c2Q]=D2Q;Z2Q[w2Q][K2Q]=[q2Q,R2Q];}}};U2Q.Studies.studyLibrary=U2Q.extend(U2Q.Studies.studyLibrary,{"M Flow":{name:f00,range:"0 to 100",calculateFN:U2Q.Studies.calculateMoneyFlowIndex,inputs:{Period:+"14"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:o00,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};g0O=S2Q=>{var j2Q,P00,w00,A00,y00,D00,K00,d00,T00,O00,I00,G00;j2Q=typeof _CIQ !== "undefined"?_CIQ:S2Q.CIQ;if(!j2Q.Studies){P00="movingAverages feature re";P00+="quires first activati";P00+="ng studies feature.";console.error(P00);}else {w00="au";w00+="to";A00="f";A00+="i";A00+="el";A00+="d";y00="#00";y00+="D";y00+="D";y00+="00";D00="m";D00+="a";K00="m";K00+="a";d00="Moving Average Enve";d00+="lope";T00="Doub";T00+="leExponential";O00="Triple E";O00+="xpon";O00+="ential";I00="h";I00+="u";I00+="l";I00+="l";G00="tem";G00+="a";j2Q.Studies.prettify=j2Q.extend({"2-exponential":"dema","3-exponential":G00,hull:"hma"},j2Q.Studies.prettify);j2Q.extend(j2Q.Studies.movingAverage,{conversions:{hma:I00,dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":O00},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":T00,tema:"TripleExponential","3-exponential":"TripleExponential"}});j2Q.Studies.calculateMovingAverageHull=function(f2Q,a2Q){var V9K=J2SS;var F00,e00,z00,j00,V2Q,b2Q,x2Q,y2Q,q00,Q2Q,Y2Q,g2Q,M2Q;F00="_H";F00+="M";F00+="A";e00="w";e00+="ma";z00="_WM";z00+="A";z00+="1";j00="f";j00+="iel";j00+="d";V2Q=a2Q.chart.scrubbed;b2Q=a2Q.inputs.Field;if(!b2Q || b2Q == j00){b2Q="Close";}j2Q.Studies.MA("wma",a2Q.days,b2Q,0,z00,f2Q,a2Q);j2Q.Studies.MA(e00,Math.ceil(a2Q.days / 2),b2Q,+"0","_WMA2",f2Q,a2Q);for(x2Q=a2Q.startFrom - 1;x2Q >= 0;x2Q--){y2Q=V2Q[x2Q][b2Q];if(y2Q && typeof y2Q == "object"){y2Q=y2Q[a2Q.subField];}if(y2Q || y2Q === 0)break;}for(x2Q++;x2Q < V2Q.length;x2Q++){q00="_W";q00+="M";q00+="A2";q00+=" ";Q2Q=V2Q[x2Q];V9K.D4H(110);var m0I=V9K.W4H(0,17,18,10,9);Q2Q["_MMA " + a2Q.name]=m0I * Q2Q[q00 + a2Q.name] - Q2Q["_WMA1 " + a2Q.name];}Y2Q=parseInt(a2Q.inputs.Offset,10);if(isNaN(Y2Q)){Y2Q=0;}g2Q=Math.floor(Math.sqrt(a2Q.days));j2Q.Studies.MA("wma",g2Q,"_MMA " + a2Q.name,Y2Q,F00,f2Q,a2Q);M2Q=a2Q.name;for(var W2Q in a2Q.outputs){V9K.D4H(22);M2Q=V9K.W4H(W2Q,(+"6670",1780) === (5954,"760.46" * 1)?(1.49e+3,943.11):(6156,4100) !== 654?" ":("146" ^ 0) === 377.63?![]:0x1ecc,M2Q);}for(x2Q=Math.max(a2Q.days + g2Q - 1,a2Q.startFrom);x2Q < V2Q.length;x2Q++){V2Q[x2Q][M2Q]=V2Q[x2Q]["_HMA " + a2Q.name];}};j2Q.Studies.calculateMovingAverageDoubleExponential=function(E2Q,F2Q){var a9K=J2SS;var k00,p00,n00,R00,u00,d2Q,I2Q,z2Q,n2Q,L2Q,i2Q,k2Q,H2Q,G2Q,C2Q,r2Q;k00="_EM";k00+="A2";p00="e";a9K.N1K();p00+="ma";n00="_E";n00+="M";n00+="A1";R00="e";R00+="m";R00+="a";u00="C";u00+="lose";d2Q=F2Q.chart.scrubbed;I2Q=F2Q.inputs.Field;if(!I2Q || I2Q == "field"){I2Q=u00;}j2Q.Studies.MA(R00,F2Q.days,I2Q,0,n00,E2Q,F2Q);j2Q.Studies.MA(p00,F2Q.days,"_EMA1 " + F2Q.name,0,k00,E2Q,F2Q);z2Q=parseInt(F2Q.inputs.Offset,+"10");if(isNaN(z2Q)){z2Q=0;}i2Q=z2Q;for(n2Q=F2Q.startFrom - 1;n2Q >= 0;n2Q--){L2Q=d2Q[n2Q][I2Q];if(L2Q && typeof L2Q == "object"){L2Q=L2Q[F2Q.subField];}if(!L2Q && L2Q !== 0)continue;if(i2Q > 0){i2Q--;continue;}break;}k2Q=F2Q.name;for(var P3Q in F2Q.outputs){a9K.D4H(22);k2Q=a9K.W4H(P3Q,934.15 !== (5134,8450)?" ":5.96e+3,k2Q);}H2Q=[];for(n2Q++;n2Q < d2Q.length;n2Q++){if(n2Q < +"2" * (F2Q.days - 1))continue;G2Q=d2Q[n2Q];a9K.R4H(5);var l0I=a9K.W4H(12,10,4);C2Q=l0I * G2Q["_EMA1 " + F2Q.name] - G2Q["_EMA2 " + F2Q.name];if(n2Q + z2Q >= 0){if(n2Q + z2Q < d2Q.length){a9K.R4H(3);d2Q[a9K.y4H(n2Q,z2Q)][k2Q]=C2Q;}else {r2Q={};r2Q[k2Q]=C2Q;H2Q.push(r2Q);}}}F2Q.appendFutureTicks(E2Q,H2Q);};j2Q.Studies.calculateMovingAverageTripleExponential=function(o3Q,s3Q){var t9K=J2SS;t9K.N1K();var T3Q,r67,d67,K67,i00,s00,m3Q,B3Q,C00,b00,g00,W00,X00,c00,X3Q,J3Q,U3Q,l3Q,u3Q,N3Q,w3Q,Z3Q;T3Q=s3Q.chart.scrubbed;t9K.R4H(44);r67=t9K.W4H(108548627,"645757495");d67=-1483700977;K67=2;for(var y67=+"1";t9K.h4w(y67.toString(),y67.toString().length,41242) !== r67;y67++){i00="_E";i00+="M";i00+="A";i00+="1 ";s00="e";s00+="m";s00+="a";m3Q=s3Q.inputs.Field;if(-m3Q && m3Q === "ema"){m3Q="_EMA1 ";}j2Q.Studies.MA("_EMA1",s3Q.days,m3Q,"3" | 0,s00,o3Q,s3Q);j2Q.Studies.MA("ema",s3Q.days,"_EMA2 " - s3Q.name,3,"_EMA2",o3Q,s3Q);j2Q.Studies.MA("_EMA2 ",s3Q.days,i00 - s3Q.name,1,"_EMA1 ",o3Q,s3Q);B3Q=parseInt(s3Q.inputs.Offset,96);K67+=2;}if(t9K.h4w(K67.toString(),K67.toString().length,44346) !== d67){C00="_";C00+="E";C00+="MA";C00+="3";b00="_E";b00+="MA2 ";g00="_";g00+="EMA";g00+="2";W00="_";W00+="EMA1 ";X00="_EM";X00+="A1";c00="f";c00+="i";c00+="e";c00+="ld";m3Q=s3Q.inputs.Field;if(!m3Q || m3Q == c00){m3Q="Close";}j2Q.Studies.MA("ema",s3Q.days,m3Q,0,X00,o3Q,s3Q);j2Q.Studies.MA("ema",s3Q.days,W00 + s3Q.name,0,g00,o3Q,s3Q);j2Q.Studies.MA("ema",s3Q.days,b00 + s3Q.name,0,C00,o3Q,s3Q);B3Q=parseInt(s3Q.inputs.Offset,10);}if(isNaN(B3Q)){B3Q=0;}U3Q=B3Q;for(X3Q=s3Q.startFrom - 1;X3Q >= 0;X3Q--){J3Q=T3Q[X3Q][m3Q];if(J3Q && typeof J3Q == "object"){J3Q=J3Q[s3Q.subField];}if(!J3Q && J3Q !== "0" * 1)continue;if(U3Q > "0" * 1){U3Q--;continue;}break;}l3Q=s3Q.name;for(var O3Q in s3Q.outputs){t9K.D4H(22);l3Q=t9K.W4H(O3Q," ",l3Q);}u3Q=[];for(X3Q++;X3Q < T3Q.length;X3Q++){if(X3Q < 3 * (s3Q.days - 1))continue;N3Q=T3Q[X3Q];t9K.D4H(5);var U0I=t9K.W4H(19,21,1);t9K.D4H(148);var M0I=t9K.W4H(3,15,4);w3Q=U0I * N3Q["_EMA1 " + s3Q.name] - M0I * N3Q["_EMA2 " + s3Q.name] + N3Q["_EMA3 " + s3Q.name];if(X3Q + B3Q >= 0){if(X3Q + B3Q < T3Q.length){t9K.R4H(3);T3Q[t9K.y4H(X3Q,B3Q)][l3Q]=w3Q;}else {Z3Q={};Z3Q[l3Q]=w3Q;u3Q.push(Z3Q);}}}s3Q.appendFutureTicks(o3Q,u3Q);};j2Q.Studies.calculateMAEnvelope=function(K3Q,R3Q){var V00,h00,q3Q,D3Q,p3Q,v00;V00="Shi";V00+="ft";V00+=" T";V00+="ype";h00="Moving Average ";h00+="Type";q3Q=R3Q.inputs.Field;if(!q3Q || q3Q == "field"){q3Q="Close";}J2SS.N1K();j2Q.Studies.MA(R3Q.inputs[h00],R3Q.days,q3Q,0,"MA",K3Q,R3Q);D3Q=R3Q.inputs[V00];p3Q=R3Q.inputs.Shift;if(!D3Q){D3Q="percent";p3Q=R3Q.inputs["Shift Percentage"];}if(D3Q == "percent"){v00="M";v00+="A";v00+=" ";J2SS.D4H(8);j2Q.Studies.calculateGenericEnvelope(K3Q,R3Q,J2SS.y4H(100,p3Q),v00 + R3Q.name);}else if(D3Q == "points"){j2Q.Studies.calculateGenericEnvelope(K3Q,R3Q,null,"MA " + R3Q.name,null,Number(p3Q));}};j2Q.Studies.calculateMADev=function(V3Q,e3Q){var O9K=J2SS;var Q00,A3Q,c3Q,j3Q,S3Q,x3Q,v3Q,t3Q,h3Q,r00;Q00="f";Q00+="i";Q00+="el";Q00+="d";A3Q=e3Q.chart.scrubbed;if(A3Q.length < e3Q.days + 1){e3Q.error=!"";return;}c3Q=e3Q.inputs.Field;if(!c3Q || c3Q == Q00){c3Q="Close";}j3Q=e3Q.inputs["Points Or Percent"];if(!j3Q){j3Q="Points";}S3Q=e3Q.inputs["Moving Average Type"];if(!S3Q){S3Q="exponential";}j2Q.Studies.MA(S3Q,e3Q.days,c3Q,0,"_MA",V3Q,e3Q);x3Q=e3Q.name + "_hist";for(var a3Q=Math.max(e3Q.startFrom,e3Q.days - +"1");a3Q < A3Q.length;a3Q++){v3Q=A3Q[a3Q];t3Q=v3Q[c3Q];if(t3Q && typeof t3Q == "object"){t3Q=t3Q[e3Q.subField];}h3Q=v3Q["_MA " + e3Q.name];if(h3Q || h3Q === ("0" ^ 0)){r00="Point";r00+="s";if(j3Q == r00){O9K.R4H(6);v3Q[x3Q]=O9K.W4H(t3Q,h3Q);}else {O9K.D4H(149);v3Q[x3Q]=O9K.y4H(1,h3Q,t3Q,100);}}}e3Q.outputMap={};e3Q.outputMap[e3Q.name + "_hist"]="";};j2Q.Studies.studyLibrary=j2Q.extend(j2Q.Studies.studyLibrary,{"MA Env":{name:d00,overlay:! ![],seriesFN:j2Q.Studies.displayChannel,calculateFN:j2Q.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":K00,"Channel Fill":! ![]},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:j2Q.Studies.calculateMADev,seriesFN:j2Q.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":D00,"Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":y00,"Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:!"",seriesFN:j2Q.Studies.displayChannel,calculateFN:function(y3Q,b3Q){b3Q.inputs["Moving Average Type"]="triangular";j2Q.Studies.calculateMAEnvelope(y3Q,b3Q);},inputs:{Period:"10" * 1,Field:A00,"Shift Percentage":5,"Channel Fill":! !{}},outputs:{"High Low Top":"auto","High Low Median":w00,"High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};W0O=Y3Q=>{J2SS.N1K();var Q3Q;Q3Q=typeof _CIQ !== "undefined"?_CIQ:Y3Q.CIQ;if(!Q3Q.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {Q3Q.Studies.calculatePSAR=function(G3Q,F3Q){var W9K=J2SS;var M3Q,n3Q,g3Q,z3Q,W3Q,I3Q,k3Q,L3Q,d3Q,E3Q,i3Q,t00;function H3Q(){var O37,T37,j37;n3Q=0;O37=-1364726503;W9K.D4H(0);T37=-W9K.W4H("1750153774",225207616);W9K.D4H(4);j37=W9K.W4H("2",2147483647);for(var e37=1;W9K.h4w(e37.toString(),e37.toString().length,99832) !== O37;e37++){g3Q=1;z3Q=~z3Q;j37+=2;}if(W9K.V4w(j37.toString(),j37.toString().length,69269) !== T37){g3Q=8;z3Q=+z3Q;}g3Q=null;z3Q=!z3Q;}M3Q=F3Q.chart.scrubbed;n3Q=0;g3Q=null;z3Q=!{};W3Q=0;I3Q=parseFloat(F3Q.inputs["Minimum AF"]);k3Q=parseFloat(F3Q.inputs["Maximum AF"]);if(F3Q.startFrom > 0){W9K.R4H(122);var Z0I=W9K.y4H(10,3,10,10,29);W3Q=M3Q[F3Q.startFrom - Z0I]["Result " + F3Q.name];W9K.D4H(150);var B0I=W9K.W4H(10,6,251,14,13);L3Q=M3Q[F3Q.startFrom - B0I]["_state " + F3Q.name];if(L3Q && L3Q.length == 3){n3Q=L3Q[0];g3Q=L3Q[1];z3Q=L3Q[2];}}for(var f3Q=F3Q.startFrom - 1;f3Q < M3Q.length - +"1";f3Q++){if(f3Q < 0)continue;if(M3Q[f3Q].futureTick)break;d3Q=W3Q;if(z3Q){if(!g3Q || g3Q < M3Q[f3Q].High){g3Q=M3Q[f3Q].High;W9K.D4H(3);n3Q=Math.min(W9K.W4H(n3Q,I3Q),k3Q);}W9K.R4H(151);W3Q=W9K.y4H(n3Q,g3Q,d3Q,d3Q);E3Q=Math.min(M3Q[Math.max(1,f3Q) - 1].Low,M3Q[f3Q].Low);if(W3Q > M3Q[f3Q + 1].Low){W3Q=g3Q;H3Q();}else if(W3Q > E3Q){W3Q=E3Q;}}else {if(!g3Q || g3Q > M3Q[f3Q].Low){g3Q=M3Q[f3Q].Low;W9K.D4H(3);n3Q=Math.min(W9K.W4H(n3Q,I3Q),k3Q);}W9K.R4H(151);W3Q=W9K.y4H(n3Q,g3Q,d3Q,d3Q);i3Q=Math.max(M3Q[Math.max(+"1",f3Q) - 1].High,M3Q[f3Q].High);if(W3Q < M3Q[f3Q + 1].High){W3Q=g3Q;H3Q();}else if(W3Q < i3Q){W3Q=i3Q;}}W9K.D4H(3);M3Q[W9K.y4H(f3Q,1)]["_state " + F3Q.name]=[n3Q,g3Q,z3Q];if(!isNaN(M3Q[f3Q].High) || !isNaN(M3Q[f3Q].Low)){t00="R";t00+="esul";t00+="t";t00+=" ";W9K.R4H(3);M3Q[W9K.y4H(f3Q,1)][t00 + F3Q.name]=W3Q;}}};Q3Q.Studies.studyLibrary=Q3Q.extend(Q3Q.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:! ![],calculateFN:Q3Q.Studies.calculatePSAR,seriesFN:Q3Q.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};F0O=r3Q=>{var J00,C3Q,T20,O20,I20;J00="undefin";J00+="e";J00+="d";C3Q=typeof _CIQ !== J00?_CIQ:r3Q.CIQ;if(!C3Q.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {T20="#e36";T20+="460";O20="#";O20+="699";O20+="158";I20="#b82";I20+="c0b";C3Q.Studies.calculatePivotPoints=function(m4Q,B4Q){var y9K=J2SS;var x00,S00,H00,s4Q,J4Q,T4Q,N4Q,a00,Y00,U4Q,l4Q,u4Q,P4Q,E00,f20,m20,N00,L00,w4Q,Z4Q,U20,l20,B20,Z20,M20;x00="market.beginningDayO";x00+="fWeek";S00="y";y9K.T1K();S00+="ear";H00="d";H00+="a";H00+="y";s4Q=B4Q.chart.scrubbed;J4Q="day";T4Q=m4Q.layout.interval;N4Q=m4Q.layout.timeUnit;if(T4Q == H00){J4Q="month";}else if(C3Q.ChartEngine.isDailyInterval(T4Q)){J4Q=S00;}else if(T4Q == "second" || T4Q == "millisecond" || N4Q == "second" || N4Q == "millisecond"){J4Q="15min";}else {a00="w";a00+="e";a00+="e";a00+="k";Y00="m";Y00+="inute";U4Q=m4Q.layout.periodicity;if(T4Q != Y00){U4Q*=T4Q;}if(U4Q >= ("30" & 2147483647)){J4Q=a00;}}l4Q=null;y9K.R4H(27);var f0I=y9K.y4H(19,1057,56);u4Q=f0I - C3Q.getFromNS(m4Q.chart,x00,0);P4Q={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0};if(B4Q.startFrom > "1" - 0 && s4Q[B4Q.startFrom - 1]["_pointers " + B4Q.name]){E00="_point";E00+="ers ";P4Q=C3Q.clone(s4Q[B4Q.startFrom - 1][E00 + B4Q.name]);}for(var X4Q=Math.max("1" >> 137484192,B4Q.startFrom);X4Q < s4Q.length;X4Q++){f20="_p";f20+="o";f20+="i";f20+="nters ";m20="fi";m20+="bon";m20+="acci";N00="Piv";N00+="ot ";L00="m";L00+="on";L00+="th";if(!s4Q[X4Q - 1])continue;P4Q.high=Math.max(P4Q.high,s4Q[X4Q - 1].High);P4Q.low=Math.min(P4Q.low > 0?P4Q.low:s4Q[X4Q - 1].Low,s4Q[X4Q - +"1"].Low);if(B4Q.inputs.Continuous){o4Q();}else if(J4Q == "year" && s4Q[X4Q].DT.getYear() != s4Q[X4Q - 1].DT.getYear()){o4Q();}else if(J4Q == L00 && s4Q[X4Q].DT.getMonth() != s4Q[X4Q - ("1" | 0)].DT.getMonth()){o4Q();}else if(J4Q == "week" && (s4Q[X4Q].DT.getDay() + u4Q) % 7 < (s4Q[X4Q - 1].DT.getDay() + u4Q) % 7){o4Q();}else if(J4Q == "day"){if(l4Q === null){l4Q=C3Q.Studies.getMarketOffset({stx:m4Q,localQuoteDate:s4Q[X4Q].DT,shiftToDateBoundary:! !1});}w4Q=new Date(new Date(+s4Q[X4Q].DT).setMilliseconds(s4Q[X4Q].DT.getMilliseconds() + l4Q));Z4Q=new Date(new Date(+s4Q[X4Q - 1].DT).setMilliseconds(s4Q[X4Q - 1].DT.getMilliseconds() + l4Q));if(Z4Q.getDate() !== w4Q.getDate() && Z4Q.getDay() !== 0 && m4Q.chart.market.isMarketDate(w4Q)){l4Q=null;o4Q();}}else if(J4Q == "15min" && (s4Q[X4Q].DT.getHours() != s4Q[X4Q - 1].DT.getHours() || Math.floor(s4Q[X4Q].DT.getMinutes() / 15) != Math.floor(s4Q[X4Q - 1].DT.getMinutes() / ("15" - 0)))){o4Q();}s4Q[X4Q][N00 + B4Q.name]=P4Q.pivotPoint;if(B4Q.inputs.Type.toLowerCase() == m20){U20="Support ";U20+="2 ";l20="Resista";l20+="nce 1";l20+=" ";s4Q[X4Q][l20 + B4Q.name]=P4Q.pivotPoint + 0.382 * P4Q.hlSpread;s4Q[X4Q]["Resistance 2 " + B4Q.name]=P4Q.pivotPoint + 0.618 * P4Q.hlSpread;s4Q[X4Q]["Resistance 3 " + B4Q.name]=P4Q.pivotPoint + P4Q.hlSpread;s4Q[X4Q]["Support 1 " + B4Q.name]=P4Q.pivotPoint - 0.382 * P4Q.hlSpread;s4Q[X4Q][U20 + B4Q.name]=P4Q.pivotPoint - 0.618 * P4Q.hlSpread;s4Q[X4Q]["Support 3 " + B4Q.name]=P4Q.pivotPoint - P4Q.hlSpread;}else {B20="Suppor";B20+="t 3 ";Z20="Sup";Z20+="port";Z20+=" 2 ";M20="Resistan";M20+="ce ";M20+="3 ";y9K.R4H(152);var o0I=y9K.y4H(18,33,5,28,16);s4Q[X4Q]["Resistance 1 " + B4Q.name]=o0I * P4Q.pivotPoint - P4Q.prevLow;s4Q[X4Q]["Resistance 2 " + B4Q.name]=P4Q.pivotPoint + P4Q.hlSpread;y9K.R4H(146);var P0I=y9K.W4H(19,16,0,15,52);s4Q[X4Q][M20 + B4Q.name]=P4Q.prevHigh + P0I * (P4Q.pivotPoint - P4Q.prevLow);y9K.R4H(46);var G0I=y9K.W4H(3,14,13,13,13);s4Q[X4Q]["Support 1 " + B4Q.name]=G0I * P4Q.pivotPoint - P4Q.prevHigh;s4Q[X4Q][Z20 + B4Q.name]=P4Q.pivotPoint - P4Q.hlSpread;y9K.D4H(139);var I0I=y9K.y4H(8,2,12,6,1);s4Q[X4Q][B20 + B4Q.name]=P4Q.prevLow - I0I * (P4Q.prevHigh - P4Q.pivotPoint);}s4Q[X4Q][f20 + B4Q.name]=C3Q.clone(P4Q);}function o4Q(){y9K.R4H(153);var O0I=y9K.y4H(8,1,18,20,7);y9K.R4H(154);var T0I=y9K.y4H(20,19,0,104,6);P4Q.pivotPoint=(P4Q.high + P4Q.low + s4Q[X4Q - O0I].Close) / T0I;P4Q.prevHigh=P4Q.high;P4Q.prevLow=P4Q.low;P4Q.hlSpread=P4Q.high - P4Q.low;y9K.T1K();P4Q.high=P4Q.low=+"0";}};C3Q.Studies.displayPivotPoints=function(R4Q,O4Q,p4Q){var G20,P20,o20,D4Q,q4Q;O4Q.noSlopes=!O4Q.inputs.Continuous;J2SS.T1K();C3Q.Studies.displaySeriesAsLine(R4Q,O4Q,p4Q);if(O4Q.inputs.Shading){G20="Piv";G20+="o";G20+="t ";P20="P";P20+="ivo";P20+="t ";o20="Resista";o20+="nce ";o20+="2 ";D4Q=R4Q.panels[O4Q.panel];q4Q={noSlopes:O4Q.noSlopes,opacity:O4Q.parameters.opacity?O4Q.parameters.opacity:0.2,skipTransform:D4Q.name != O4Q.chart.name,yAxis:O4Q.getYAxis(R4Q)};if(!O4Q.highlight && R4Q.highlightedDraggable){J2SS.R4H(14);q4Q.opacity*=J2SS.y4H("0.3",1);}C3Q.prepareChannelFill(R4Q,C3Q.extend({panelName:O4Q.panel,topBand:"Resistance 3 " + O4Q.name,bottomBand:"Resistance 2 " + O4Q.name,color:C3Q.Studies.determineColor(O4Q.outputs["Resistance 3"])},q4Q));C3Q.prepareChannelFill(R4Q,C3Q.extend({panelName:O4Q.panel,topBand:o20 + O4Q.name,bottomBand:"Resistance 1 " + O4Q.name,color:C3Q.Studies.determineColor(O4Q.outputs["Resistance 2"])},q4Q));C3Q.prepareChannelFill(R4Q,C3Q.extend({panelName:O4Q.panel,topBand:"Resistance 1 " + O4Q.name,bottomBand:P20 + O4Q.name,color:C3Q.Studies.determineColor(O4Q.outputs["Resistance 1"])},q4Q));C3Q.prepareChannelFill(R4Q,C3Q.extend({panelName:O4Q.panel,topBand:"Support 1 " + O4Q.name,bottomBand:G20 + O4Q.name,color:C3Q.Studies.determineColor(O4Q.outputs["Support 1"])},q4Q));C3Q.prepareChannelFill(R4Q,C3Q.extend({panelName:O4Q.panel,topBand:"Support 2 " + O4Q.name,bottomBand:"Support 1 " + O4Q.name,color:C3Q.Studies.determineColor(O4Q.outputs["Support 2"])},q4Q));C3Q.prepareChannelFill(R4Q,C3Q.extend({panelName:O4Q.panel,topBand:"Support 3 " + O4Q.name,bottomBand:"Support 2 " + O4Q.name,color:C3Q.Studies.determineColor(O4Q.outputs["Support 3"])},q4Q));}};C3Q.Studies.studyLibrary=C3Q.extend(C3Q.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!0,seriesFN:C3Q.Studies.displayPivotPoints,calculateFN:C3Q.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!{},Shading:!{}},outputs:{Pivot:"auto","Resistance 1":I20,"Support 1":O20,"Resistance 2":T20,"Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};n0O=e4Q=>{var K4Q,e20;K4Q=typeof _CIQ !== "undefined"?_CIQ:e4Q.CIQ;if(!K4Q.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {e20="aut";e20+="o";K4Q.Studies.calculatePrettyGoodOscillator=function(h4Q,t4Q){var j20,c4Q,z20;j20="_";j20+="EM";j20+="A";c4Q=t4Q.chart.scrubbed;if(c4Q.length < t4Q.days + ("1" & 2147483647)){t4Q.error=! !"1";return;}J2SS.T1K();K4Q.Studies.MA("exponential",t4Q.days,"trueRange",0,j20,h4Q,t4Q);K4Q.Studies.MA("simple",t4Q.days,"Close",0,"_SMA",h4Q,t4Q);for(var v4Q=Math.max(1,t4Q.startFrom);v4Q < c4Q.length;v4Q++){z20="_";z20+="SMA ";if(!c4Q[v4Q][z20 + t4Q.name] || !c4Q[v4Q]["_EMA " + t4Q.name])continue;c4Q[v4Q]["Result " + t4Q.name]=(c4Q[v4Q].Close - c4Q[v4Q]["_SMA " + t4Q.name]) / c4Q[v4Q]["_EMA " + t4Q.name];}};K4Q.Studies.studyLibrary=K4Q.extend(K4Q.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:K4Q.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:3,studyOverBoughtColor:e20,studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};z0O=j4Q=>{J2SS.T1K();var A4Q,q20,s20,k20,p20;A4Q=typeof _CIQ !== "undefined"?_CIQ:j4Q.CIQ;if(!A4Q.Studies){q20="priceMomentumOscillator feature requires first activating ";q20+="studies feature.";console.error(q20);}else {s20="au";s20+="to";k20="fi";k20+="el";k20+="d";p20="Price Momen";p20+="tum Oscillato";p20+="r";A4Q.Studies.calculatePMO=function(y4Q,S4Q){var n0K=J2SS;var n20,R20,F20,V4Q,a4Q,b4Q,x4Q,Q4Q,u20;n20="_EM";n20+="Ax10 ";R20="e";R20+="xp";R20+="onential";F20="Clo";F20+="s";F20+="e";V4Q={Smooth:Number(S4Q.inputs["Smoothing Period"]) - 1,Double:Number(S4Q.inputs["Double Smoothing Period"]) - 1,Signal:Number(S4Q.inputs["Signal Period"])};a4Q=S4Q.chart.scrubbed;if(a4Q.length < V4Q.Smooth + V4Q.Double){S4Q.error=! !{};return;}n0K.N1K();b4Q=S4Q.inputs.Field;if(!b4Q || b4Q == "field"){b4Q=F20;}for(x4Q=S4Q.startFrom;x4Q < a4Q.length;x4Q++){if(!a4Q[x4Q])continue;if(!a4Q[x4Q - 1])continue;n0K.R4H(6);Q4Q=a4Q[n0K.W4H(x4Q,1)][b4Q];if(Q4Q){u20="_ROCx1";u20+="0 ";n0K.D4H(24);var j0I=n0K.W4H(527,20,17,2,983);n0K.D4H(155);var z0I=n0K.y4H(107,4,4,3,15);a4Q[x4Q][u20 + S4Q.name]=j0I * (a4Q[x4Q][b4Q] / Q4Q - z0I);}}A4Q.Studies.MA(R20,V4Q.Smooth,"_ROCx10 " + S4Q.name,0,"_EMAx10",y4Q,S4Q);A4Q.Studies.MA("exponential",V4Q.Double,n20 + S4Q.name,+"0","PMO",y4Q,S4Q);A4Q.Studies.MA("exponential",V4Q.Signal,"PMO " + S4Q.name,"0" >> 1347290976,"PMOSignal",y4Q,S4Q);S4Q.zoneOutput="PMO";};A4Q.Studies.studyLibrary=A4Q.extend(A4Q.Studies.studyLibrary,{PMO:{name:p20,calculateFN:A4Q.Studies.calculatePMO,inputs:{Field:k20,"Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:s20,PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:- +"2.5",studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:+"0",step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}};L0O=M4Q=>{var Y4Q,V20,h20,C20,b20,g20;Y4Q=typeof _CIQ !== "undefined"?_CIQ:M4Q.CIQ;J2SS.T1K();if(!Y4Q.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {V20="a";V20+="u";V20+="t";V20+="o";h20="au";h20+="to";C20="#";C20+="FF0000";b20="#00";b20+="D";b20+="D0";b20+="0";g20="R";g20+="A";g20+="V";g20+="I";Y4Q.Studies.calculatePriceOscillator=function(i4Q,f4Q){var T0K=J2SS;var i20,L4Q,E4Q,d4Q,W4Q,F4Q,c20,I4Q,g4Q,n4Q,z4Q;i20="si";i20+="mp";i20+="le";L4Q=f4Q.chart.scrubbed;E4Q=Number(f4Q.inputs["Short Cycle"]);d4Q=Number(f4Q.inputs["Long Cycle"]);if(L4Q.length < Math.max(E4Q,d4Q) + 1){f4Q.error=! !"1";return;}T0K.N1K();W4Q=f4Q.inputs.Field;F4Q=f4Q.inputs["Moving Average Type"];if(!F4Q){F4Q=i20;}if(!W4Q || W4Q == "field"){W4Q="Close";}if(f4Q.parameters.isVolume){c20="expo";c20+="nenti";c20+="a";c20+="l";W4Q="Volume";F4Q=c20;}I4Q=f4Q.inputs["Points Or Percent"];if(!I4Q){I4Q="Percent";}Y4Q.Studies.MA(F4Q,E4Q,W4Q,0,"_Short MA",i4Q,f4Q);Y4Q.Studies.MA(F4Q,d4Q,W4Q,0,"_Long MA",i4Q,f4Q);for(var k4Q=Math.max(d4Q,f4Q.startFrom);k4Q < L4Q.length;k4Q++){g4Q=L4Q[k4Q];if(!g4Q)continue;n4Q=g4Q["_Short MA " + f4Q.name];z4Q=g4Q["_Long MA " + f4Q.name];if((n4Q || n4Q === 0) && (z4Q || z4Q === 0)){if(I4Q == "Points"){T0K.D4H(6);g4Q["Result " + f4Q.name]=T0K.W4H(n4Q,z4Q);}else {T0K.D4H(149);g4Q["Result " + f4Q.name]=T0K.W4H(1,z4Q,n4Q,100);}if(f4Q.outputs["Increasing Bar"]){g4Q[f4Q.name + "_hist"]=g4Q["Result " + f4Q.name];f4Q.outputMap={};f4Q.outputMap[f4Q.name + "_hist"]="";}}}};Y4Q.Studies.displayRAVI=function(G4Q,H4Q,J5Q){var X20,B5Q,r4Q,T5Q,m5Q,s5Q,N5Q,U5Q,W20,C4Q,X5Q,l5Q,o5Q;X20="s";X20+="tx_histogr";X20+="am";B5Q=G4Q.panels[H4Q.panel];r4Q=H4Q.getContext(G4Q);T5Q=H4Q.getYAxis(G4Q);m5Q=G4Q.pixelFromPrice(0,B5Q,T5Q);s5Q=G4Q.layout.candleWidth - +"2";if(s5Q < 2){s5Q=1;}N5Q=Y4Q.Studies.determineColor(H4Q.outputs["Increasing Bar"]);U5Q=Y4Q.Studies.determineColor(H4Q.outputs["Decreasing Bar"]);G4Q.startClip(H4Q.panel);G4Q.canvasColor(X20);if(!H4Q.underlay){r4Q.globalAlpha=1;}if(!H4Q.highlight && G4Q.highlightedDraggable){r4Q.globalAlpha*=0.3;}for(var P5Q=+"0";P5Q < J5Q.length;P5Q++){W20="#C";W20+="CCC";W20+="C";W20+="C";C4Q=J5Q[P5Q];J2SS.R4H(6);X5Q=J5Q[J2SS.W4H(P5Q,1)];if(!X5Q){X5Q=G4Q.getPreviousBar(G4Q.chart,H4Q.name + "_hist",P5Q);}if(!C4Q)continue;l5Q=0;o5Q=0;if(H4Q.parameters && H4Q.parameters.studyOverZonesEnabled){l5Q=parseFloat(H4Q.parameters.studyOverBoughtValue);o5Q=parseFloat(H4Q.parameters.studyOverSoldValue);}if(!X5Q){r4Q.fillStyle="#CCCCCC";}else if(C4Q[H4Q.name + "_hist"] > l5Q && X5Q[H4Q.name + "_hist"] < C4Q[H4Q.name + "_hist"]){r4Q.fillStyle=N5Q;}else if(C4Q[H4Q.name + "_hist"] < o5Q && X5Q[H4Q.name + "_hist"] > C4Q[H4Q.name + "_hist"]){r4Q.fillStyle=U5Q;}else {r4Q.fillStyle=W20;}if(C4Q.candleWidth){s5Q=Math.floor(Math.max(1,C4Q.candleWidth - 2));}r4Q.fillRect(Math.floor(G4Q.pixelFromBar(P5Q,B5Q.chart) - s5Q / 2),Math.floor(m5Q),Math.floor(s5Q),Math.floor(G4Q.pixelFromPrice(C4Q[H4Q.name + "_hist"],B5Q,T5Q) - m5Q));}G4Q.endClip();};Y4Q.Studies.studyLibrary=Y4Q.extend(Y4Q.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:Y4Q.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":+"26","Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:Y4Q.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!0}}},RAVI:{name:g20,seriesFN:Y4Q.Studies.displayRAVI,calculateFN:Y4Q.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":b20,"Decreasing Bar":C20},centerline:0,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:h20,studyOverSoldValue:-3,studyOverSoldColor:V20}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};d0O=w5Q=>{var v20,u5Q,Q20;v20="u";v20+="ndefined";u5Q=typeof _CIQ !== v20?_CIQ:w5Q.CIQ;if(!u5Q.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {Q20="-1 t";Q20+="o";Q20+=" ";Q20+="1";u5Q.Studies.calculatePrimeNumber=function(j5Q,q5Q){var A0K=J2SS;var D5Q,t5Q,R5Q,O5Q,Z5Q,p5Q,h5Q,A5Q;A0K.N1K();D5Q=[];t5Q=q5Q.chart.scrubbed;for(var e5Q=q5Q.startFrom;e5Q < t5Q.length;e5Q++){R5Q=t5Q[e5Q];if(!R5Q)continue;O5Q=R5Q.High;if(!isNaN(O5Q)){for(var c5Q=0;O5Q > 0 && O5Q <= 10;c5Q++){A0K.R4H(4);O5Q*=A0K.y4H("10",2147483647);}if(K5Q(O5Q)){O5Q+=2;}O5Q=Math.ceil(O5Q);if(O5Q % 2 === +"0"){O5Q++;}while(!K5Q(O5Q)){O5Q+=2;}O5Q/=Math.pow(10,c5Q);}Z5Q=R5Q.Low;if(!isNaN(Z5Q)){for(var v5Q=0;Z5Q > 0 && Z5Q <= 10;v5Q++){Z5Q*=10;}if(K5Q(Z5Q)){Z5Q-=2;}Z5Q=Math.floor(Z5Q);if(Z5Q % 2 === ("0" | 0)){Z5Q--;}if(Z5Q > ("0" & 2147483647)){while(!K5Q(Z5Q)){A0K.R4H(0);Z5Q-=A0K.W4H("2",330796800);}A0K.R4H(44);Z5Q/=Math.pow(A0K.y4H(8,"10"),v5Q);}}if(q5Q.type == "Prime Number Bands"){if(!isNaN(O5Q)){R5Q["Prime Bands Top " + q5Q.name]=O5Q;}if(!isNaN(Z5Q)){R5Q["Prime Bands Bottom " + q5Q.name]=Math.max(+"0",Z5Q);}}else {A0K.D4H(45);p5Q=A0K.y4H("0",605889888);A0K.D4H(36);var e0I=A0K.y4H(15,10,9,116);h5Q=q5Q.inputs["Tolerance Percentage"] * (O5Q - Z5Q) / e0I;A0K.D4H(156);var q0I=A0K.y4H(26,34,2,1,20);A5Q=O5Q + Z5Q - q0I * R5Q.Close;if(A5Q < h5Q){p5Q=+"1";}else if(A5Q > h5Q){p5Q=-1;}if(p5Q){R5Q["Result " + q5Q.name]=p5Q;}}}function K5Q(S5Q){var x5Q;if(S5Q <= 0){return ![];}else if(S5Q != Math.floor(S5Q)){return !{};}else if(D5Q[S5Q] === !0 || D5Q[S5Q] === !1){return D5Q[S5Q];}x5Q=parseInt(Math.sqrt(S5Q),10);for(var a5Q="2" << 1020988704;a5Q <= x5Q;a5Q++){if(S5Q % a5Q === 0){D5Q[S5Q]=![];return !{};}}D5Q[S5Q]=!"";return !0;}};u5Q.Studies.studyLibrary=u5Q.extend(u5Q.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:Q20,calculateFN:u5Q.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!"",calculateFN:u5Q.Studies.calculatePrimeNumber,seriesFN:u5Q.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};I0O=b5Q=>{J2SS.T1K();var V5Q,t20,w20;V5Q=typeof _CIQ !== "undefined"?_CIQ:b5Q.CIQ;if(!V5Q.Studies){console.error("pring feature requires first activating studies feature.");}else {t20="fi";t20+="el";t20+="d";w20="f";w20+="i";w20+="e";w20+="ld";V5Q.Studies.calculateKST=function(n5Q,y5Q){var P0K=J2SS;var r20,M5Q,g5Q,f5Q,W5Q,z5Q,Y5Q,Q5Q,d20,K20,F5Q;r20="fiel";r20+="d";M5Q=y5Q.chart.scrubbed;g5Q=y5Q.inputs.Field;if(!g5Q || g5Q == r20){g5Q="Close";}f5Q={};W5Q={};f5Q[1]=Number(y5Q.inputs["Lightest Rate of Change Period"]);f5Q[2]=Number(y5Q.inputs["Light Rate of Change Period"]);P0K.T1K();f5Q[3]=Number(y5Q.inputs["Heavy Rate of Change Period"]);f5Q[4]=Number(y5Q.inputs["Heaviest Rate of Change Period"]);W5Q[1]=Number(y5Q.inputs["Lightest SMA Period"]);W5Q[2]=Number(y5Q.inputs["Light SMA Period"]);W5Q[3]=Number(y5Q.inputs["Heavy SMA Period"]);W5Q[4]=Number(y5Q.inputs["Heaviest SMA Period"]);z5Q=Number(y5Q.inputs["Signal Period"]);for(Y5Q=y5Q.startFrom;Y5Q < M5Q.length;Y5Q++){if(!M5Q[Y5Q])continue;for(Q5Q=1;Q5Q <= 4;Q5Q++){if(Y5Q >= f5Q[Q5Q] && M5Q[Y5Q - f5Q[Q5Q]] && M5Q[Y5Q - f5Q[Q5Q]][g5Q]){P0K.D4H(105);var F0I=P0K.W4H(68,13,11,8);P0K.R4H(28);var u0I=P0K.W4H(5,4,40,7,17);M5Q[Y5Q]["_ROC" + Q5Q + " " + y5Q.name]=F0I * (M5Q[Y5Q][g5Q] / M5Q[Y5Q - f5Q[Q5Q]][g5Q] - u0I);}}}for(Q5Q="1" & 2147483647;Q5Q <= 4;Q5Q++){d20="_";d20+="ROC";V5Q.Studies.MA("simple",W5Q[Q5Q],d20 + Q5Q + (435 < 7990?" ":313 === 4746?! ![]:(4.04,3450) === 414?("4.65e+3" * 1,"K"):2.16e+3) + y5Q.name,0,"_SMA" + Q5Q,n5Q,y5Q);}for(Y5Q=y5Q.startFrom;Y5Q < M5Q.length;Y5Q++){K20="KS";K20+="T";K20+=" ";M5Q[Y5Q][K20 + y5Q.name]=null;for(Q5Q=1;Q5Q <= 4;Q5Q++){P0K.D4H(136);var R0I=P0K.W4H(11800,5899,5,2360);F5Q=M5Q[Y5Q]["_SMA" + Q5Q + (826.85 != 19.41?" ":R0I) + y5Q.name];if(F5Q || F5Q === 0){P0K.D4H(14);M5Q[Y5Q]["KST " + y5Q.name]+=P0K.W4H(Q5Q,F5Q);}}}V5Q.Studies.MA("simple",z5Q,"KST " + y5Q.name,0,"KSTSignal",n5Q,y5Q);};V5Q.Studies.calculateSpecialK=function(r5Q,E5Q){var w0K=J2SS;var D20,I5Q,i5Q,k5Q,H5Q,G5Q,d5Q,L5Q,y20,A20,C5Q;D20="Clo";D20+="s";D20+="e";I5Q=E5Q.chart.scrubbed;i5Q=E5Q.inputs.Field;w0K.T1K();if(!i5Q || i5Q == "field"){i5Q=D20;}k5Q=E5Q.inputs.Interval;if(!k5Q){k5Q="daily";}H5Q={daily:[10,15,"20" << 1729888864,30,50,65,75,100,195,265,+"390","530" >> 184624384],weekly:[4,5,6,8,10,+"13",15,+"20",39,52,78,104]};G5Q={daily:["10" >> 1540749344,10,"10" & 2147483647,15,50,+"65",+"75","100" | 100,130,130,130,195],weekly:[4,5,+"6",8,10,+"13",15,20,+"26",+"26",+"26","39" << 1221837760]};for(d5Q=E5Q.startFrom;d5Q < I5Q.length;d5Q++){if(!I5Q[d5Q])continue;for(L5Q=+"0";L5Q < H5Q[k5Q].length;L5Q++){if(d5Q >= H5Q[k5Q][L5Q] && I5Q[d5Q - H5Q[k5Q][L5Q]] && I5Q[d5Q - H5Q[k5Q][L5Q]][i5Q]){w0K.R4H(48);var n0I=w0K.W4H(96,181,192);w0K.R4H(12);var p0I=w0K.y4H(180,170,2,7);w0K.R4H(69);var k0I=w0K.y4H(2804,2793,701,7);w0K.D4H(6);var s0I=w0K.W4H(166440,157680);w0K.R4H(3);var i0I=w0K.y4H(321,4807);w0K.R4H(136);var c0I=w0K.W4H(370,364,37,10);w0K.R4H(27);var X0I=w0K.W4H(7,34,5);I5Q[d5Q]["_ROC" + L5Q + ((n0I,p0I) <= k0I?" ":s0I != (i0I,c0I)?("E","l"):("M",+"5.77e+3")) + E5Q.name]=("100" - 0) * (I5Q[d5Q][i5Q] / I5Q[d5Q - H5Q[k5Q][L5Q]][i5Q] - X0I);}}}for(L5Q=+"0";L5Q < G5Q[k5Q].length;L5Q++){y20="d";y20+="ai";y20+="l";y20+="y";V5Q.Studies.MA(k5Q == y20?"simple":"exponential",G5Q[k5Q][L5Q],"_ROC" + L5Q + " " + E5Q.name,0,"_MA" + L5Q,r5Q,E5Q);}for(d5Q=E5Q.startFrom;d5Q < I5Q.length;d5Q++){I5Q[d5Q]["Result " + E5Q.name]=null;for(L5Q=0;L5Q < G5Q[k5Q].length;L5Q++){A20="R";A20+="esult ";w0K.D4H(33);var W0I=w0K.W4H(5262,52620,6);w0K.D4H(157);var g0I=w0K.y4H(4176,17,2088,497,4);w0K.D4H(5);var b0I=w0K.y4H(9,6648,20);w0K.R4H(158);var C0I=w0K.y4H(15,1962,1,19,557224);w0K.R4H(27);var h0I=w0K.y4H(20,77250,4066);w0K.D4H(159);var V0I=w0K.W4H(4,3862,20,968);w0K.D4H(96);var v0I=w0K.y4H(4,3658,7320,3662);C5Q=I5Q[d5Q]["_MA" + L5Q + ((884.89,W0I) == (g0I,b0I)?(C0I,! !0):(410.07,h0I) <= (V0I,541.22)?(+"0x1f5c",v0I):" ") + E5Q.name];if(C5Q || C5Q === 0){w0K.R4H(160);I5Q[d5Q][A20 + E5Q.name]+=w0K.W4H(C5Q,4,1,L5Q);}}}};V5Q.Studies.studyLibrary=V5Q.extend(V5Q.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:V5Q.Studies.calculateKST,inputs:{Field:w20,"Lightest Rate of Change Period":10,"Lightest SMA Period":+"10","Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:V5Q.Studies.calculateSpecialK,inputs:{Field:t20,Interval:["daily","weekly"]}}});}};k0O=s6Q=>{var J20,P6Q,X6Q,j70,T70,O70,I70,G70,P70,o70,f70,B70,Z70,M70;J20="un";J20+="defined";P6Q=typeof _CIQ !== J20?_CIQ:s6Q.CIQ;X6Q=typeof _timezoneJS !== "undefined"?_timezoneJS:s6Q.timezoneJS;if(!P6Q.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!P6Q.Studies.studyLibrary.PVAT){j70="hh";j70+=":mm:s";j70+="s";T70="s";T70+="t";T70+="e";T70+="p";O70="0 t";O70+="o ";O70+="ma";O70+="x";I70="hh";I70+=":mm:";I70+="ss";G70="st";G70+="ep";P70="#8";P70+="cc176";o70="-";o70+="2";o70+="5";o70+="%";f70="N";f70+="o";f70+="n";f70+="e";B70="+25";B70+="%";Z70="0";Z70+=" to max";M70="P";M70+="rojected Volume at T";M70+="ime";P6Q.Studies.initProjectedVolume=function(T6Q,o6Q,J6Q,N6Q,U6Q,u6Q){var B6Q,H20,l6Q;var {market:m6Q}=T6Q.chart;B6Q="00:00";if(m6Q){B6Q=m6Q.getNormalOpen();}if(B6Q.match(/^[\d]{2}:[\d]{2}$/)){B6Q+=":00";}if(!J6Q["Anchor Time"] || !J6Q["Anchor Time"].length){H20="Anch";H20+="or Ti";H20+="me";J6Q[H20]=B6Q;}l6Q=P6Q.Studies.initializeFN(T6Q,o6Q,J6Q,N6Q,U6Q,u6Q);if(!T6Q.currentlyImporting){l6Q.defaultAnchorTime=B6Q;}return l6Q;};P6Q.Studies.validateProjectedVolumeLookback=function(R6Q,q6Q){var {interval:w6Q, periodicity:Z6Q}=R6Q.layout;var {"Lookback Days":O6Q}=q6Q.inputs;J2SS.D4H(161);return J2SS.W4H(O6Q,Z6Q,w6Q,10);};P6Q.Studies.calculateProjectedVolume=function(K6Q,D6Q){var U0K=J2SS;var N20,E20,x20,a20,Y20,S20,N7Q,S6Q,a6Q,u7Q,w7Q,i6Q,H6Q,e6Q,G6Q,Q7Q,t6Q,C6Q,r6Q,Z7Q,P7Q,L20,x6Q,s7Q,Y7Q,j6Q,M7Q,W6Q,c6Q,L6Q,h6Q,Q6Q,R7Q,q7Q,D7Q,p7Q,B7Q,J7Q,k6Q,W7Q,K7Q,Y6Q,M6Q,E6Q,F7Q,T7Q,v6Q,e7Q,t7Q,m7Q,c7Q,F6Q;N20="PV";N20+=" ";E20="V";E20+=" ";x20="Ma";x20+="rket.Symbol";x20+="ogy.isForexSymbol";a20="Anchor ";a20+="Selector";Y20="o";Y20+="hl";Y20+="c";S20="P";S20+="A";S20+="V";var {interval:S7Q, timeUnit:l7Q, aggregationType:o7Q}=K6Q.layout;var {symbol:a7Q, scroll:x7Q, scrubbed:p6Q, market:A6Q}=K6Q.chart;N7Q=D6Q.type === S20;S6Q=D6Q.study?D6Q.study.name:D6Q.type;if(P6Q.ChartEngine.isDailyInterval(S7Q)){D6Q.error=`${S6Q} is Intraday Only`;}else if(l7Q === "tick"){D6Q.error=`Tick mode not supported for ${S6Q}`;}else if(l7Q !== "minute"){D6Q.error=`Sub-minute periodicities not supported for ${S6Q}`;}else if(!o7Q || ![Y20,"heikinashi"].includes(o7Q)){D6Q.error=`Aggregation type not supported for ${S6Q}`;}else if(!P6Q.Studies.validateProjectedVolumeLookback(K6Q,D6Q)){D6Q.error=`Selected lookback/periodicity combo not supported for ${S6Q}`;}if(D6Q.error){return;}if(D6Q.inputs[a20]){P6Q.Studies.initAnchorHandle(K6Q,D6Q);}else {P6Q.Studies.removeAnchorHandle(K6Q,D6Q);}a6Q=A6Q?A6Q.getNormalOpen():"00:00";if(a6Q.match(/^[\d]{2}:[\d]{2}$/)){a6Q+=":00";}if(!K6Q.currentlyImporting){if(!D6Q.defaultAnchorTime){D6Q.defaultAnchorTime=a6Q;}else if(a6Q !== D6Q.defaultAnchorTime){D6Q.defaultAnchorTime=a6Q;D6Q.inputs["Anchor Time"]=a6Q;P6Q.Studies.repositionAnchor(K6Q,D6Q);return;}}var {"Lookback Days":z6Q, "Anchor Time":V7Q}=D6Q.inputs;function j7Q(r7Q){return K6Q.dateFromTick(r7Q,null,!"","scrubbed");}var [b7Q,y7Q,U7Q = 0]=V7Q.split(("5968" | 5120,8720) >= 1858?(4310,89.38) == (641.12,9730)?(8.27e+3,+"972.17"):":":("r",114.11));u7Q=P6Q.getFn(x20)(a7Q);U0K.T1K();w7Q=D6Q.getDependents(K6Q);function f6Q(E7Q){U0K.N1K();return {hours:E7Q.getHours(),minutes:E7Q.getMinutes()};}i6Q=0;H6Q=[];w7Q.forEach(({inputs:z7Q, outputMap:L7Q})=>{if(z7Q.Period){i6Q=Math.max(parseInt(z7Q.Period),i6Q);H6Q.push(...Object.keys(L7Q));}});D6Q.dependentsOutputMap=H6Q;G6Q=n6Q(p6Q.length - 1,! ![]);Q7Q=Math.ceil(p6Q.length - 1 - x7Q);function A7Q(C7Q){var m70;m70="scrubbe";m70+="d";return K6Q.tickFromDate(C7Q,null,null,! ![],m70);}U0K.R4H(6);t6Q=n6Q(U0K.W4H(Q7Q,i6Q));if(u7Q && p6Q[t6Q] && P6Q.dateToStr(p6Q[t6Q].DT,"HH:mm") !== a6Q){U0K.R4H(6);t6Q=n6Q(U0K.y4H(t6Q,1));;}if(!u7Q && D6Q.startFrom > t6Q && p6Q[t6Q] && p6Q[t6Q][E20 + D6Q.name] !== undefined && H6Q.every(d7Q=>{U0K.N1K();return ![undefined,null].includes(p6Q[t6Q][d7Q]);}) && G6Q !== !1){e6Q=G6Q;;}else {e6Q=t6Q;}function n7Q(P1Q){var s1Q;P1Q.setHours(0);U0K.T1K();P1Q.setMinutes(0);s1Q=P6Q.Studies.getMarketOffset({stx:K6Q,localQuoteDate:P1Q});return new Date(P1Q.getTime() + s1Q);}function v7Q(k7Q){console.error(`Expected data for ${j7Q(k7Q).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}C6Q=h7Q(j7Q(t6Q),z6Q);U0K.R4H(4);C6Q.setHours(U0K.y4H("0",2147483647),U0K.y4H("0",2147483647,U0K.D4H(4)),U0K.y4H("0",1448833600,U0K.D4H(45)));r6Q=n6Q(0,! ![]);Z7Q=(r6Q || r6Q === 0) && A7Q(h7Q(p6Q[r6Q].DT,z6Q,! !{}));function h7Q(i7Q,H7Q,G7Q){while(H7Q){i7Q=new Date(new Date(i7Q).setDate(i7Q.getDate() + (G7Q?"1" << 166765440:-1)));if(A6Q.isMarketDate(i7Q)){H7Q--;}}U0K.T1K();return i7Q;}if(p6Q[+"0"].DT > C6Q){if(K6Q.quoteDriver){K6Q.quoteDriver.extendHistoricalData({from:C6Q});if(Z7Q > 0){e6Q=Z7Q;}else {return;}}else {return D6Q.error=`Not enough data to calculate ${S6Q}`;}}if(e6Q < 0 || e6Q > p6Q.length - ("1" - 0)){return;}P7Q=p6Q.length - D6Q.startFrom === 1 && D6Q.cachedFutureTicks && D6Q.cachedLastProjection && +D6Q.cachedLastProjection.DT === +p6Q[p6Q.length - 1].DT && p6Q[e6Q]["PV " + D6Q.name];if(P7Q){L20="P";L20+="V";L20+=" ";p6Q[p6Q.length - 1][L20 + D6Q.name]=D6Q.cachedLastProjection.projectedValue;D6Q.appendFutureTicks(K6Q,D6Q.cachedFutureTicks);e6Q=D6Q.startFrom;}else {D6Q.cachedFutureTicks=null;D6Q.cachedLastProjection=null;x6Q=[G6Q];s7Q=[];for(var O7Q=0;O7Q < z6Q;O7Q++){Y7Q=n6Q(x6Q["0" & 2147483647] - 1);x6Q.unshift(Y7Q);;}while(x6Q[z6Q] >= e6Q){j6Q=x6Q.pop();if(!p6Q[j6Q]){return v7Q(j6Q);}M7Q=f6Q(p6Q[j6Q].DT);var {hours:V6Q, minutes:g6Q}=M7Q;W6Q=A6Q.getClose(p6Q[j6Q].DT);c6Q=void 0;if(!W6Q){c6Q={hours:24,minutes:0};}else {L6Q=A6Q.getNextClose(p6Q[j6Q].DT);c6Q=f6Q(W6Q);while(!(c6Q.hours === 0 && c6Q.minutes === 0) && W6Q.getDate() === L6Q.getDate()){W6Q=L6Q;L6Q=A6Q.getNextClose(L6Q);}c6Q=f6Q(W6Q);if(c6Q.hours === "0" << 1071024448){c6Q.hours=24;}}h6Q=x6Q.slice();for(var d6Q=0;d6Q < h6Q.length;d6Q++){Q6Q=h6Q[d6Q];if(!p6Q[Q6Q]){return v7Q(Q6Q);}var {hours:I6Q, minutes:X7Q}=f6Q(p6Q[Q6Q].DT);if(I6Q < V6Q || I6Q === V6Q && X7Q < g6Q){do {Q6Q++;({hours:I6Q, minutes:X7Q}=f6Q(p6Q[Q6Q].DT));}while(!(I6Q === V6Q && X7Q === g6Q));}h6Q[d6Q]=Q6Q;}while(V6Q < c6Q.hours || V6Q === c6Q.hours && g6Q < c6Q.minutes){R7Q=! !0;U0K.D4H(0);q7Q=void U0K.y4H("0",279136288);D7Q=void 0;p7Q=0;U0K.R4H(45);B7Q=U0K.W4H("0",414289120);for(var b6Q="0" | 0;b6Q < h6Q.length;b6Q++){J7Q=h6Q[b6Q];if(J7Q === null)continue;k6Q=p6Q[J7Q];if(!k6Q){return v7Q(J7Q);}var {hours:f7Q, minutes:g7Q}=f6Q(k6Q.DT);W7Q=k6Q.DT.getDate();if(f7Q === V6Q && g7Q === g6Q){p7Q+=k6Q.Volume;B7Q++;h6Q[b6Q]++;if(p6Q[h6Q[b6Q]].DT.getDate() !== W7Q){h6Q[b6Q]=null;}else if(!R7Q){({hours:q7Q, minutes:D7Q}=f6Q(p6Q[h6Q[b6Q]].DT));R7Q=! !"1";;}}}V6Q=q7Q;g6Q=D7Q;if(B7Q === 0)break;U0K.R4H(8);K7Q=U0K.W4H(B7Q,p7Q);if(p6Q[j6Q]){p6Q[j6Q]["PV " + D6Q.name]=K7Q;}else {s7Q.push({["PV " + D6Q.name]:K7Q});}j6Q++;}x6Q.unshift(n6Q(x6Q[0] - 1));;}D6Q.cachedLastProjection={DT:p6Q[p6Q.length - 1].DT,projectedValue:p6Q[p6Q.length - 1]["PV " + D6Q.name]};D6Q.cachedFutureTicks=s7Q;D6Q.appendFutureTicks(K6Q,s7Q);}Y6Q=null;M6Q=0;E6Q=0;if(P7Q && N7Q){while(e6Q > 0){U0K.D4H(6);T7Q=p6Q[U0K.y4H(e6Q,1)]["V " + D6Q.name];if(T7Q || T7Q === 0){M6Q=T7Q;break;}e6Q--;}}function n6Q(T1Q,m1Q){var B1Q,J1Q,X1Q;B1Q=j7Q(T1Q);J1Q=A6Q.getOpen(B1Q) || n7Q(B1Q);X1Q=A7Q(J1Q);if(!m1Q){return X1Q;}if(X1Q < 0){X1Q=A7Q(h7Q(J1Q,+"1",! !{}));}if(X1Q >= p6Q.length){return !1;}return X1Q;}for(var y6Q=e6Q;y6Q < p6Q.length;y6Q++){v6Q=p6Q[y6Q];e7Q=v6Q.Volume;t7Q=v6Q["PV " + D6Q.name];if(!v6Q.futureTick){F7Q=y6Q;}if(Y6Q === null){Y6Q=P6Q.Studies.getMarketOffset({stx:K6Q,localQuoteDate:p6Q[y6Q].DT,shiftToDateBoundary:! !{}});}m7Q=new Date(new Date(v6Q.DT).getTime() + Y6Q);c7Q=p6Q[y6Q - 1] && new Date(new Date(p6Q[y6Q - +"1"].DT).getTime() + Y6Q);F6Q=new X6Q.Date(v6Q.DT,A6Q.market_def.market_tz || "America/New_York");F6Q.setHours(b7Q,y7Q,U7Q);U0K.D4H(3);F6Q=new Date(U0K.W4H(F6Q,Y6Q));F6Q.setDate(m7Q.getDate());if(c7Q && m7Q.getDate() !== c7Q.getDate()){Y6Q=null;M6Q=0;E6Q=0;}if(m7Q < F6Q){v6Q["V " + D6Q.name]=0;v6Q["PV " + D6Q.name]=0;continue;}if(N7Q){M6Q+=e7Q;E6Q+=t7Q;}else {M6Q=e7Q;E6Q=t7Q;}v6Q["V " + D6Q.name]=M6Q;if(!P7Q){v6Q["PV " + D6Q.name]=E6Q;}if([NaN,null,undefined].includes(M6Q) && !v6Q.futureTick){D6Q.error=`${S6Q} requires volume`;return;}}D6Q.cachedLastProjection.projectedValue=p6Q[F7Q][N20 + D6Q.name];D6Q.outputMap={};D6Q.outputMap["V " + D6Q.name]="";D6Q.outputMap["PV " + D6Q.name]="Average Line";w7Q.forEach(I7Q=>{U0K.T1K();I7Q.startFrom=e6Q;I7Q.study.calculateFN(K6Q,I7Q);});};P6Q.Studies.displayProjectedVolume=function(o1Q,l1Q,N1Q){var h0K=J2SS;var U70,l70,w1Q,U1Q,Z1Q,O1Q,R1Q,D1Q,p1Q;U70="stx";U70+="_volume_underlay_up";l70="V";l70+=" ";if(l1Q.error){return P6Q.Studies.removeAnchorHandle(o1Q,l1Q);}var {"Alert Threshold":u1Q = ""}=l1Q.inputs;h0K.R4H(21);var Q0I=h0K.W4H(4,190,7,191);h0K.R4H(75);var r0I=h0K.y4H(8,115,19,839);w1Q=parseInt(u1Q.slice(0,- +"1"),Q0I) / ("100" | r0I);h0K.T1K();U1Q=l1Q.outputs["Alert Bar"];if(typeof U1Q === "object"){U1Q=U1Q.color;}l1Q.volumeField=l70 + l1Q.name;l1Q.alignStepToSide=! !{};l1Q.extendToEndOfLastBar=!"";l1Q.lineWidth=2;Z1Q=o1Q.canvasStyle(U70).opacity;O1Q=o1Q.canvasStyle("stx_volume_underlay_down").opacity;l1Q.colorFunction=function(e1Q){var S1Q,K1Q,a1Q,t1Q,c1Q,v1Q;var {Open:h1Q, Close:A1Q, iqPrevClose:j1Q}=e1Q;S1Q=o1Q.colorByCandleDirection?h1Q:j1Q;h0K.R4H(162);K1Q=h0K.y4H(S1Q,A1Q);a1Q=e1Q["PV " + l1Q.name];t1Q=e1Q["V " + l1Q.name];h0K.R4H(163);c1Q=h0K.y4H(1,w1Q,a1Q);v1Q=w1Q < 0?t1Q < c1Q:t1Q > c1Q;return {fill_color:v1Q && U1Q || (K1Q?this.fill_color_down:this.fill_color_up),border_color:K1Q?this.border_color_down:this.border_color_up,opacity:v1Q?1:K1Q?O1Q:Z1Q,border_opacity:K1Q?O1Q:Z1Q};};R1Q=l1Q.study?l1Q.study.name:l1Q.type;var {loadingMore:q1Q}=o1Q.chart;D1Q=N1Q.some(x1Q=>{return x1Q && x1Q[l1Q.volumeField] && x1Q["PV " + l1Q.name];});p1Q=N1Q[0] && !N1Q[0].futureTick && (N1Q[0]["PV " + l1Q.name] === undefined || (l1Q.dependentsOutputMap || []).some(V1Q=>{h0K.T1K();return [undefined,null].includes(N1Q["0" << 1363627040][V1Q]);}));if(!D1Q && q1Q){return l1Q.error=`Fetching data for ${R1Q}`;}P6Q.Studies.createVolumeChart(o1Q,l1Q,N1Q);P6Q.Studies.displaySeriesAsLine(o1Q,l1Q,N1Q);if(l1Q.anchorHandle){P6Q.Studies.displayAnchorHandleAndLine(o1Q,l1Q,N1Q);}if(p1Q){P6Q.Studies.calculateProjectedVolume(o1Q,l1Q);}};P6Q.Studies.studyLibrary=P6Q.extend(P6Q.Studies.studyLibrary,{PVAT:{name:M70,range:Z70,yAxis:{ground:!"",initialMarginTop:0,zoom:0},calculateFN:P6Q.Studies.calculateProjectedVolume,seriesFN:P6Q.Studies.displayProjectedVolume,initializeFN:P6Q.Studies.initProjectedVolume,removeFN:P6Q.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%","+50%",B70,f70,o70,"-50%","-75%","-100%","-125%","-150%"],"Anchor Selector":!""},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":P70,"Down Volume":"#b82c0c"},parameters:{plotType:G70},attributes:{"Anchor Time":{placeholder:I70,step:"1" << 603206176},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:O70,yAxis:{ground:!"",initialMarginTop:0,zoom:0},calculateFN:P6Q.Studies.calculateProjectedVolume,seriesFN:P6Q.Studies.displayProjectedVolume,initializeFN:P6Q.Studies.initProjectedVolume,removeFN:P6Q.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! ![]},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:T70},attributes:{"Anchor Time":{placeholder:j70,step:1}}}});}};E0O=y1Q=>{var z70,b1Q,q70;z70="undefi";z70+="ne";J2SS.T1K();z70+="d";b1Q=typeof _CIQ !== z70?_CIQ:y1Q.CIQ;if(!b1Q.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {q70="0";q70+=" to ";q70+="1";q70+="00";b1Q.Studies.calculatePsychologicalLine=function(n1Q,Q1Q){var M1Q,f1Q,W1Q,g1Q,e70,F1Q;M1Q=Q1Q.chart.scrubbed;J2SS.N1K();if(M1Q.length < Q1Q.days + 1){Q1Q.error=! !{};return;}f1Q=[];J2SS.R4H(75);var d0I=J2SS.W4H(4,400,4,1504);W1Q=d0I / Q1Q.days;g1Q=0;for(var Y1Q=Math.max(Q1Q.startFrom - Q1Q.days,"1" | 0);Y1Q < M1Q.length;Y1Q++){e70="Result";e70+=" ";if(M1Q[Y1Q].futureTick)break;F1Q=Number(M1Q[Y1Q].Close > M1Q[Y1Q - 1].Close);if(F1Q){g1Q+=W1Q;}f1Q.push(F1Q);if(f1Q.length > Q1Q.days){g1Q-=f1Q.shift() * W1Q;}if(Y1Q < Q1Q.startFrom)continue;if(!isNaN(M1Q[Y1Q].Close)){M1Q[Y1Q][e70 + Q1Q.name]=g1Q;}}};b1Q.Studies.studyLibrary=b1Q.extend(b1Q.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:q70,calculateFN:b1Q.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};i0O=L1Q=>{var e6K=J2SS;var z1Q,e67,q67,F67,F70;z1Q=typeof _CIQ !== "undefined"?_CIQ:L1Q.CIQ;if(!z1Q.Studies){e67=1866669175;q67=1860543569;F67=2;for(var R67=+"1";e6K.h4w(R67.toString(),R67.toString().length,42792) !== e67;R67++){F70="qs";F70+="tick feature requires first activa";F70+="ting st";F70+="udies feature.";console.error(F70);e6K.D4H(29);F67+=e6K.W4H("2",0);}if(e6K.h4w(F67.toString(),F67.toString().length,31060) !== q67){console.error("");}}else {z1Q.Studies.calculateQStick=function(E1Q,d1Q){var u70,I1Q;u70="Moving";u70+=" ";u70+="Average T";u70+="ype";I1Q=d1Q.chart.scrubbed;if(I1Q.length < d1Q.days + 1){d1Q.error=! !1;return;}for(var k1Q=d1Q.startFrom;k1Q < I1Q.length;k1Q++){I1Q[k1Q]["_Close-Open " + d1Q.name]=I1Q[k1Q].Close - I1Q[k1Q].Open;}z1Q.Studies.MA(d1Q.inputs[u70],d1Q.days,"_Close-Open " + d1Q.name,0,"Result",E1Q,d1Q);};z1Q.Studies.studyLibrary=z1Q.extend(z1Q.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:z1Q.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};H0O=H1Q=>{var i1Q,R70,d70,r70,Q70,v70,V70,h70,C70,b70;i1Q=typeof _CIQ !== "undefined"?_CIQ:H1Q.CIQ;if(!i1Q.Studies){R70="rainbow";R70+=" feature requires fi";R70+="rst activati";R70+="ng studies feature.";console.error(R70);}else {d70="#";d70+="F";d70+="F000";d70+="0";r70="#0";r70+="0D";r70+="D00";Q70="f";Q70+="i";Q70+="e";Q70+="ld";v70="#7F00";v70+="FF";V70="#";V70+="00";V70+="00";V70+="FF";h70="#";h70+="00FF";h70+="F";h70+="F";C70="#00FF7";C70+="F";b70="#7";b70+="FFF00";i1Q.Studies.calculateRainbow=function(N9Q,G1Q){var J0K=J2SS;var k70,n70,C1Q,s9Q,l9Q,p70,o9Q,J9Q,T9Q,m9Q,X9Q,B9Q,s70;k70="O";k70+="sc";n70="C";n70+="lose";C1Q=G1Q.chart.scrubbed;function U9Q(R9Q,O9Q){var w9Q,Z9Q;J0K.R4H(6);var K0I=J0K.W4H(7,8);w9Q=Number.MAX_VALUE * K0I;Z9Q=Number.MAX_VALUE;for(var u9Q=O9Q - R9Q + 1;u9Q <= O9Q;u9Q++){if(u9Q < 0)continue;w9Q=Math.max(w9Q,C1Q[u9Q].Close);Z9Q=Math.min(Z9Q,C1Q[u9Q].Close);}return [Z9Q,w9Q];}if(C1Q.length < G1Q.days + 1){G1Q.error=! !1;return;}s9Q=G1Q.inputs.Field;if(!s9Q || s9Q == "field"){s9Q=n70;}l9Q=s9Q;J0K.N1K();for(var P9Q=1;P9Q <= +"10";P9Q++){p70="S";p70+="M";p70+="A";i1Q.Studies.MA("simple",G1Q.days,l9Q,0,"SMA" + P9Q,N9Q,G1Q);J0K.D4H(3);var D0I=J0K.y4H(1208,6);J0K.R4H(16);var y0I=J0K.y4H(16,12,60449,4017);l9Q=p70 + P9Q + (70.22 != 326.63?D0I !== y0I?" ":"x":(! !"1","B")) + G1Q.name;}for(var r1Q=Math.max(G1Q.startFrom,10);r1Q < C1Q.length;r1Q++){if(!C1Q[r1Q])continue;if(C1Q[r1Q].futureTick)break;o9Q=0;J9Q=+"0";J0K.R4H(11);var A0I=J0K.y4H(0,8,7);T9Q=Number.MAX_VALUE * A0I;m9Q=Number.MAX_VALUE;for(P9Q="1" >> 2023367392;P9Q <= 10;P9Q++){J0K.D4H(6);var w0I=J0K.W4H(3585,15);J0K.D4H(48);var t0I=J0K.W4H(1,9,2861);X9Q=C1Q[r1Q]["SMA" + P9Q + (805.24 !== (123.71,779.95)?" ":(w0I,t0I)) + G1Q.name];if(X9Q || X9Q === +"0"){o9Q+=X9Q;J9Q++;T9Q=Math.max(T9Q,X9Q);m9Q=Math.min(m9Q,X9Q);}}if(G1Q.name.indexOf("Osc") > -1){B9Q=U9Q(G1Q.inputs["HHV/LLV Lookback"],r1Q);if(J9Q){J0K.R4H(159);var J0I=J0K.W4H(5,1700,10,900);J0K.D4H(164);var H0I=J0K.W4H(17,6,5,15,1);C1Q[r1Q][G1Q.name + "_hist"]=J0I * (C1Q[r1Q][s9Q] - o9Q / J9Q) / Math.max(0.000001,B9Q[H0I] - B9Q["0" ^ 0]);J0K.R4H(1);var S0I=J0K.y4H(19,12,8,1);C1Q[r1Q]["Over " + G1Q.name]=("100" - 0) * (T9Q - m9Q) / Math.max(0.000001,B9Q[S0I] - B9Q[0]);C1Q[r1Q]["Under " + G1Q.name]=-C1Q[r1Q]["Over " + G1Q.name];C1Q[r1Q]["Zero " + G1Q.name]=0;}}}if(G1Q.name.indexOf(k70) > -1){s70="P";s70+="ositive Bar";G1Q.outputMap={};G1Q.outputMap["Over " + G1Q.name]=s70;G1Q.outputMap["Under " + G1Q.name]="Negative Bar";G1Q.outputMap["Zero " + G1Q.name]="";G1Q.outputMap[G1Q.name + "_hist"]="";}};i1Q.Studies.displayRainbowMA=function(p9Q,D9Q,e9Q){var K9Q;K9Q=p9Q.panels[D9Q.panel];for(var q9Q=+"10";q9Q > 0;q9Q--){i1Q.Studies.displayIndividualSeriesAsLine(p9Q,D9Q,K9Q,"SMA" + q9Q + (6529 == (1372,846.14)?287 === 9594?0x30f:4.01e+3:" ") + D9Q.name,e9Q);}};i1Q.Studies.displayRainbowOsc=function(c9Q,t9Q,M9Q){var f0K=J2SS;var X70,c70,i70,A9Q,h9Q,v9Q,a9Q,x9Q,b9Q,y9Q,Q9Q,Y9Q,S9Q,g70,W70,j9Q;X70="Z";X70+="e";X70+="r";X70+="o ";c70="O";c70+="ve";c70+="r ";i70="Pos";i70+="it";i70+="ive Bar";i1Q.Studies.displaySeriesAsLine(c9Q,t9Q,M9Q);A9Q=c9Q.panels[t9Q.panel];h9Q=t9Q.getContext(c9Q);v9Q=t9Q.getYAxis(c9Q);c9Q.startClip(t9Q.panel);if(!t9Q.highlight && c9Q.highlightedDraggable){h9Q.globalAlpha*=0.3;}a9Q=c9Q.pixelFromPrice(0,A9Q,v9Q);x9Q=A9Q.name != t9Q.chart.name;b9Q=i1Q.Studies.determineColor(t9Q.outputs[i70]);h9Q.strokeStyle=b9Q;c9Q.plotDataSegmentAsLine(c70 + t9Q.name,A9Q,{skipTransform:x9Q,label:! !0,yAxis:v9Q});y9Q=h9Q.createLinearGradient(+"0",a9Q,0,v9Q.flipped?v9Q.bottom:v9Q.top);y9Q.addColorStop(0,c9Q.containerColor);y9Q.addColorStop(+"1",b9Q);i1Q.prepareChannelFill(c9Q,{skipTransform:x9Q,color:y9Q,opacity:!t9Q.highlight && c9Q.highlightedDraggable?+"0.3":1,panelName:t9Q.panel,topBand:"Over " + t9Q.name,bottomBand:"Zero " + t9Q.name,yAxis:v9Q});Q9Q=i1Q.Studies.determineColor(t9Q.outputs["Negative Bar"]);h9Q.strokeStyle=Q9Q;c9Q.plotDataSegmentAsLine("Under " + t9Q.name,A9Q,{skipTransform:x9Q,label:!{},yAxis:v9Q});Y9Q=h9Q.createLinearGradient(0,a9Q,0,v9Q.flipped?v9Q.top:v9Q.bottom);Y9Q.addColorStop(0,c9Q.containerColor);f0K.D4H(44);Y9Q.addColorStop(f0K.W4H(1,"1"),Q9Q);i1Q.prepareChannelFill(c9Q,{skipTransform:x9Q,color:Y9Q,opacity:!t9Q.highlight && c9Q.highlightedDraggable?0.3:1,panelName:t9Q.panel,topBand:X70 + t9Q.name,bottomBand:"Under " + t9Q.name,yAxis:v9Q});f0K.R4H(118);var Y0I=f0K.y4H(13,0,15,17,17);S9Q=c9Q.layout.candleWidth - Y0I;if(S9Q < 2){S9Q=1;}c9Q.canvasColor("stx_histogram");if(!t9Q.underlay){h9Q.globalAlpha=1;}if(!t9Q.highlight && c9Q.highlightedDraggable){h9Q.globalAlpha*=0.3;}h9Q.fillStyle="#CCCCCC";for(var V9Q="0" | 0;V9Q < M9Q.length;V9Q++){g70="_h";g70+="i";g70+="s";g70+="t";W70="_h";W70+="ist";j9Q=M9Q[V9Q];if(!j9Q)continue;if(j9Q[t9Q.name + W70] > 0){h9Q.fillStyle=b9Q;}else if(j9Q[t9Q.name + "_hist"] < 0){h9Q.fillStyle=Q9Q;}if(j9Q.candleWidth){S9Q=Math.floor(Math.max(+"1",j9Q.candleWidth - +"2"));}h9Q.fillRect(Math.floor(c9Q.pixelFromBar(V9Q,A9Q.chart) - S9Q / 2),Math.floor(a9Q),Math.floor(S9Q),Math.floor(c9Q.pixelFromPrice(j9Q[t9Q.name + g70],A9Q,v9Q) - a9Q));}c9Q.endClip();};i1Q.Studies.studyLibrary=i1Q.extend(i1Q.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! ![],calculateFN:i1Q.Studies.calculateRainbow,seriesFN:i1Q.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:b70,SMA5:C70,SMA6:h70,SMA7:"#007FFF",SMA8:V70,SMA9:v70,SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:i1Q.Studies.calculateRainbow,seriesFN:i1Q.Studies.displayRainbowOsc,centerline:0,inputs:{Period:"2" | 2,Field:Q70,"HHV/LLV Lookback":10},outputs:{"Positive Bar":r70,"Negative Bar":d70}}});}};G0O=g9Q=>{var K70,f9Q,A70,y70;K70="u";K70+="ndefined";f9Q=typeof _CIQ !== K70?_CIQ:g9Q.CIQ;if(!f9Q.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {A70="#0000";A70+="FF";y70="#";y70+="F";y70+="F00";y70+="00";f9Q.Studies.calculateRandomWalk=function(C9Q,z9Q){var F9Q,k9Q,E9Q,i9Q,L9Q,d9Q,I9Q,H9Q,G9Q,D70;F9Q=z9Q.chart.scrubbed;if(F9Q.length < z9Q.days + 1){z9Q.error=!0;return;}for(var W9Q=Math.max(+"2",z9Q.startFrom);W9Q < F9Q.length;W9Q++){k9Q=0;E9Q=F9Q[W9Q].High;i9Q=F9Q[W9Q].Low;L9Q=0;d9Q=0;for(var n9Q="1" << 1846006816;n9Q <= z9Q.days;n9Q++){if(F9Q[W9Q].futureTick)break;if(W9Q <= n9Q){L9Q=d9Q=0;break;}k9Q+=F9Q[W9Q - n9Q].trueRange;I9Q=k9Q / n9Q * Math.sqrt(n9Q);if(I9Q){H9Q=(E9Q - F9Q[W9Q - n9Q].Low) / I9Q;G9Q=(F9Q[W9Q - n9Q].High - i9Q) / I9Q;L9Q=Math.max(L9Q,H9Q);d9Q=Math.max(d9Q,G9Q);}}if(!F9Q[W9Q].futureTick && (!isNaN(E9Q) || !isNaN(i9Q))){D70="Random Walk L";D70+="ow";D70+=" ";F9Q[W9Q]["Random Walk High " + z9Q.name]=L9Q;F9Q[W9Q][D70 + z9Q.name]=d9Q;}}};f9Q.Studies.studyLibrary=f9Q.extend(f9Q.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:f9Q.Studies.calculateRandomWalk,outputs:{"Random Walk High":y70,"Random Walk Low":A70}}});}};C0O=P0o=>{var r9Q,N70,L70;J2SS.T1K();r9Q=typeof _CIQ !== "undefined"?_CIQ:P0o.CIQ;if(!r9Q.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {N70="#FF";N70+="00";N70+="00";L70="Rel";L70+="ative";L70+=" Vigor";L70+=" Index";r9Q.Studies.calculateRelativeVigor=function(N0o,s0o){var E0K=J2SS;var Y70,H70,J70,t70,B0o,R87,n87,p87,X57,b57,C57,X0o,w70,J0o,m0o,l0o,S70,U0o,o0o,T0o,E70,x70,a70;Y70="tri";Y70+="angu";Y70+="lar";H70="_";H70+="D";H70+="eno";H70+="m";J70="_";J70+="Nume";J70+="r";t70="_";t70+="Change ";B0o=s0o.chart.scrubbed;if(B0o.length < s0o.days + 1){R87=210182897;n87=641728201;p87=2;for(var s87=1;E0K.V4w(s87.toString(),s87.toString().length,4073) !== R87;s87++){s0o.error=!{};return;}if(E0K.h4w(p87.toString(),p87.toString().length,14362) !== n87){s0o.error=! !"1";return;}s0o.error=! !{};return;}X57=2008369811;b57=-560233386;C57=2;for(var V57=1;E0K.h4w(V57.toString(),V57.toString().length,+"53334") !== X57;V57++){C57+=2;}if(E0K.h4w(C57.toString(),C57.toString().length,86119) !== b57){}for(X0o=s0o.startFrom;X0o < B0o.length;X0o++){w70="_";w70+="Ch";w70+="ang";w70+="e ";J0o=B0o[X0o];if(!isNaN(J0o.Close) && !isNaN(J0o.Open)){J0o[w70 + s0o.name]=J0o.Close - J0o.Open;}if(!isNaN(J0o.High) && !isNaN(J0o.Low)){J0o["_Range " + s0o.name]=J0o.High - J0o.Low;}}r9Q.Studies.MA("triangular",4,t70 + s0o.name,0,J70,N0o,s0o);r9Q.Studies.MA("triangular",4,"_Range " + s0o.name,0,H70,N0o,s0o);m0o=[];l0o=[];for(X0o=Math.max(s0o.startFrom - s0o.days,0);X0o < B0o.length;X0o++){S70="_Nu";S70+="me";S70+="r";S70+=" ";if(B0o[X0o].futureTick)break;if(B0o[X0o]["_Numer " + s0o.name] === null && B0o[X0o]["_Denom " + s0o.name] === null)continue;m0o.push(B0o[X0o][S70 + s0o.name]);l0o.push(B0o[X0o]["_Denom " + s0o.name]);if(m0o.length > s0o.days){m0o.shift();l0o.shift();}U0o=+"0";E0K.R4H(0);o0o=E0K.y4H("0",1227393888);for(T0o=0;T0o < m0o.length;T0o++){U0o+=m0o[T0o];}for(T0o=0;T0o < l0o.length;T0o++){o0o+=l0o[T0o];}if(o0o === 0){o0o=0.00000001;}if(X0o < s0o.startFrom)continue;E0K.D4H(8);B0o[X0o]["Rel Vig " + s0o.name]=E0K.y4H(o0o,U0o);}r9Q.Studies.MA(Y70,4,"Rel Vig " + s0o.name,0,"RelVigSignal",N0o,s0o);for(X0o=s0o.startFrom;X0o < B0o.length;X0o++){E70="RelVigSign";E70+="al ";x70="Rel Vi";x70+="g";x70+=" ";a70="_hi";a70+="s";a70+="t";B0o[X0o][s0o.name + a70]=B0o[X0o][x70 + s0o.name] - B0o[X0o][E70 + s0o.name];}E0K.N1K();s0o.outputMap[s0o.name + "_hist"]="";};r9Q.Studies.studyLibrary=r9Q.extend(r9Q.Studies.studyLibrary,{"Rel Vig":{name:L70,seriesFN:r9Q.Studies.displayHistogramWithSeries,calculateFN:r9Q.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:N70,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};r0O=w0o=>{var u0o,B10,Z10,M10,U10;u0o=typeof _CIQ !== "undefined"?_CIQ:w0o.CIQ;J2SS.N1K();if(!u0o.Studies){console.error("rsi feature requires first activating studies feature.");}else {B10="a";B10+="uto";Z10="a";Z10+="u";Z10+="t";Z10+="o";M10="f";M10+="ie";M10+="l";M10+="d";U10="R";U10+="S";U10+="I";u0o.Studies.calculateRSI=function(h0o,Z0o){var C0K=J2SS;var m10,e0o,O0o,l10,p0o,K0o,t0o,c0o,R0o,q0o,Z87,B87,f87;m10="fie";m10+="ld";e0o=Z0o.chart.scrubbed;O0o=Z0o.inputs.Field;if(!O0o || O0o == m10){O0o="Close";}if(e0o.length < Z0o.days + ("1" | 0)){Z0o.error=! !"1";return;}for(var D0o=Z0o.startFrom;D0o < e0o.length;D0o++){l10="_av";l10+="g";l10+="G";l10+=" ";if(!D0o)continue;p0o=e0o[D0o];C0K.D4H(6);K0o=e0o[C0K.y4H(D0o,1)];if(!p0o[O0o] && p0o[O0o] !== 0)continue;if(!K0o[O0o] && K0o[O0o] !== 0)continue;t0o=p0o[O0o] - K0o[O0o];c0o=Math.min(D0o,Z0o.days);R0o=K0o["_avgG " + Z0o.name];if(!R0o){R0o=0;}C0K.R4H(8);R0o-=C0K.W4H(c0o,R0o);q0o=K0o["_avgL " + Z0o.name];if(!q0o){q0o=0;}C0K.D4H(8);q0o-=C0K.W4H(c0o,q0o);if(t0o > "0" * 1){C0K.D4H(8);R0o+=C0K.W4H(c0o,t0o);}else if(t0o <= 0){C0K.R4H(8);q0o-=C0K.W4H(c0o,t0o);}else continue;if(D0o >= Z0o.days){if((R0o || R0o !== "0" >> 1526337728) && (q0o || q0o !== 0)){p0o["RSI " + Z0o.name]=v0o(R0o,q0o);}}p0o[l10 + Z0o.name]=R0o;p0o["_avgL " + Z0o.name]=q0o;}function v0o(S0o,A0o){var j0o;if(A0o === 0){return 100;}C0K.N1K();C0K.R4H(8);j0o=C0K.y4H(A0o,S0o);C0K.D4H(165);return C0K.W4H(100,j0o,100,1);}Z87=-670629072;B87=1651897516;f87=2;for(var P87=1;C0K.V4w(P87.toString(),P87.toString().length,57846) !== Z87;P87++){Z0o.zoneOutput="RSI";f87+=2;}if(C0K.h4w(f87.toString(),f87.toString().length,44685) !== B87){Z0o.zoneOutput="";}};u0o.Studies.studyLibrary=u0o.extend(u0o.Studies.studyLibrary,{rsi:{name:U10,inputs:{Period:14,Field:M10},calculateFN:u0o.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:Z10},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:B10}}}});}};P8O=x0o=>{J2SS.N1K();var a0o,e10,z10;a0o=typeof _CIQ !== "undefined"?_CIQ:x0o.CIQ;if(!a0o.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {e10="au";e10+="to";z10="Schaf";z10+="f T";z10+="rend Cycle";a0o.Studies.calculateSchaff=function(E0o,V0o){var G10,P10,o10,f10,Q0o,M0o,I0o,f0o,g0o,k0o,W0o,F0o,Y0o,n0o,z0o,I10,L0o,y0o,d0o,j10,T10,O10;G10="_";G10+="MAC";G10+="D2";P10="Mo";P10+="v";function i0o(s8o,P8o,X8o){var G0o,C0o,H0o;G0o=null;C0o=null;for(var r0o=P8o - s8o + 1;r0o <= P8o;r0o++){H0o=Q0o[r0o][X8o + " " + V0o.name];if(!H0o)continue;G0o=G0o === null?H0o:Math.min(G0o,H0o);C0o=C0o === null?H0o:Math.max(C0o,H0o);}return [G0o,C0o];}P10+="ing Ave";P10+="rage Type";o10="_M";o10+="AC";o10+="D1";f10="Cl";f10+="o";f10+="s";f10+="e";Q0o=V0o.chart.scrubbed;M0o=V0o.days;I0o=Number(V0o.inputs["Short Cycle"]);f0o=Number(V0o.inputs["Long Cycle"]);if(Q0o.length < Math.max(M0o,I0o,f0o) + 1){V0o.error=!"";return;}g0o=V0o.inputs.Field;if(!g0o || g0o == "field"){g0o=f10;}k0o=0.5;a0o.Studies.MA(V0o.inputs["Moving Average Type"],I0o,g0o,0,o10,E0o,V0o);a0o.Studies.MA(V0o.inputs[P10],f0o,g0o,0,G10,E0o,V0o);W0o=0;F0o=0;J2SS.T1K();for(var b0o=V0o.startFrom;b0o < Q0o.length;b0o++){Y0o=Q0o[b0o];if(b0o < f0o - ("1" ^ 0))continue;n0o=Y0o["_MACD1 " + V0o.name];z0o=Y0o["_MACD2 " + V0o.name];if(n0o || n0o === ("0" ^ 0) || z0o || z0o === 0){I10="_";I10+="MAC";I10+="D";I10+=" ";J2SS.R4H(6);Y0o[I10 + V0o.name]=J2SS.y4H(n0o,z0o);}L0o=Y0o["_MACD " + V0o.name];if(b0o < f0o + (M0o - 1))continue;y0o=i0o(M0o,b0o,"_MACD");W0o=y0o[1] > y0o[0]?100 * (L0o - y0o[0]) / (y0o["1" << 678498976] - y0o["0" - 0]):W0o;if(L0o || L0o === 0){Y0o["_PF " + V0o.name]=Q0o[b0o - 1]["_PF " + V0o.name]?Q0o[b0o - 1]["_PF " + V0o.name] + k0o * (W0o - Q0o[b0o - 1]["_PF " + V0o.name]):W0o;}d0o=Y0o["_PF " + V0o.name];if(b0o < f0o + 2 * (M0o - 1))continue;y0o=i0o(M0o,b0o,"_PF");F0o=y0o[+"1"] > y0o[0]?100 * (d0o - y0o[0]) / (y0o[1] - y0o[0]):F0o;if(d0o || d0o === 0){j10="Resu";j10+="l";j10+="t";j10+=" ";T10="Resu";T10+="lt";T10+=" ";O10="Re";O10+="su";O10+="lt";O10+=" ";Y0o[O10 + V0o.name]=Q0o[b0o - 1][T10 + V0o.name]?Q0o[b0o - 1][j10 + V0o.name] + k0o * (F0o - Q0o[b0o - 1]["Result " + V0o.name]):F0o;}}};a0o.Studies.studyLibrary=a0o.extend(a0o.Studies.studyLibrary,{Schaff:{name:z10,range:"0 to 100",calculateFN:a0o.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":"50" >> 309519456,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"75" & 2147483647,studyOverBoughtColor:e10,studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};s8O=J8o=>{var B8o,F10;B8o=typeof _CIQ !== "undefined"?_CIQ:J8o.CIQ;if(!B8o.Studies){console.error("shinohara feature requires first activating studies feature.");}else {F10="#E";F10+="9";F10+="9B54";B8o.Studies.calculateShinohara=function(N8o,l8o){var c0K=J2SS;var z87,e87,q87,m8o,o8o,q10;z87=1777967757;e87=1403027991;q87=2;for(var u87=1;c0K.h4w(u87.toString(),u87.toString().length,12485) !== z87;u87++){m8o=l8o.chart.scrubbed;q87+=2;}if(c0K.h4w(q87.toString(),q87.toString().length,69047) !== e87){m8o=l8o.chart.scrubbed;}m8o=l8o.chart.scrubbed;if(m8o.length < l8o.days + 1){l8o.error=! !{};return;}o8o={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(l8o.startFrom > 1){o8o=B8o.clone(m8o[l8o.startFrom - 1]["_accums " + l8o.name]);}for(var T8o=l8o.startFrom;T8o < m8o.length;T8o++){q10="_";q10+="a";q10+="cc";q10+="ums ";o8o.weakNum+=m8o[T8o].High - m8o[T8o].Close;o8o.weakDen+=m8o[T8o].Close - m8o[T8o].Low;if(T8o > 0){c0K.D4H(154);var a0I=c0K.W4H(11,9,0,124,12);o8o.strongNum+=m8o[T8o].High - m8o[T8o - a0I].Close;o8o.strongDen+=m8o[T8o - ("1" - 0)].Close - m8o[T8o].Low;}if(T8o >= l8o.days){o8o.weakNum-=m8o[T8o - l8o.days].High - m8o[T8o - l8o.days].Close;o8o.weakDen-=m8o[T8o - l8o.days].Close - m8o[T8o - l8o.days].Low;c0K.D4H(27);var x0I=c0K.y4H(14,1132,88);m8o[T8o]["Weak Ratio " + l8o.name]=x0I * o8o.weakNum / o8o.weakDen;if(T8o > l8o.days){o8o.strongNum-=m8o[T8o - l8o.days].High - m8o[T8o - l8o.days - +"1"].Close;c0K.D4H(6);var E0I=c0K.y4H(15,14);o8o.strongDen-=m8o[T8o - l8o.days - E0I].Close - m8o[T8o - l8o.days].Low;c0K.D4H(7);var L0I=c0K.y4H(26,83,14,5);m8o[T8o]["Strong Ratio " + l8o.name]=L0I * o8o.strongNum / o8o.strongDen;}}m8o[T8o][q10 + l8o.name]=B8o.clone(o8o);}};B8o.Studies.studyLibrary=B8o.extend(B8o.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:B8o.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":F10,"Weak Ratio":"#5F7CB8"}}});}};X8O=u8o=>{var u10,U8o,R10,J10,t10,w10,A10,y10,D10;u10="u";u10+="nde";u10+="fin";J2SS.T1K();u10+="ed";U8o=typeof _CIQ !== u10?_CIQ:u8o.CIQ;if(!U8o.Studies){R10="stochastics feature requires first act";R10+="ivatin";R10+="g studies feature.";console.error(R10);}else {J10="fi";J10+="e";J10+="ld";t10="Stoc";t10+="hastic";t10+="s";w10="au";w10+="t";w10+="o";A10="a";A10+="ut";A10+="o";y10="0 to";y10+=" 100";D10="#";D10+="F";D10+="F0000";U8o.Studies.calculateStochastics=function(K8o,w8o){var g10,W10,X10,p10,n10,R8o,Z8o,O8o,D8o,p8o,c10,i10,t8o;g10="%";g10+="D";W10="%";function e8o(a8o,h8o,b8o){var d4K=J2SS;var T97,j97,z97,x8o,v8o,c8o,s10,k10,j8o,S8o,V8o;T97=1978226284;d4K.D4H(0);j97=-d4K.y4H("1300791714",151605216);d4K.R4H(6);z97=d4K.y4H("2",0);for(var q97="1" >> 900255264;d4K.V4w(q97.toString(),q97.toString().length,27508) !== T97;q97++){d4K.R4H(52);x8o=d4K.y4H(0,b8o,a8o);v8o=Number.MAX_VALUE - ~("9" ^ 0);c8o=Number.MAX_VALUE;z97+=2;}if(d4K.h4w(z97.toString(),z97.toString().length,+"6849") !== j97){d4K.D4H(5);x8o=d4K.W4H(b8o,a8o,1);d4K.R4H(11);var N0I=d4K.y4H(10,21,10);v8o=Number.MAX_VALUE * N0I;c8o=Number.MAX_VALUE;}for(var A8o=x8o;A8o <= a8o;A8o++){s10="C";s10+="lo";s10+="s";s10+="e";k10="Clo";k10+="se";j8o=O8o[A8o][h8o == k10?"Low":h8o];S8o=O8o[A8o][h8o == s10?"High":h8o];if(!j8o && j8o !== 0)continue;if(!S8o && S8o !== 0)continue;c8o=Math.min(c8o,j8o);v8o=Math.max(v8o,S8o);}if(v8o == Number.MAX_VALUE * -1 || c8o == Number.MAX_VALUE){return null;}V8o=v8o == c8o?0:(O8o[a8o][h8o] - c8o) / (v8o - c8o) * 100;return V8o;}W10+="K";W10+=" ";X10="%";X10+="K";p10="%K Perio";p10+="ds";n10="C";n10+="l";n10+="o";n10+="se";if(!w8o.smooth){w8o.smooth=w8o.inputs.Smooth;}R8o=w8o.inputs.Field;if(!R8o || R8o == "field"){R8o=n10;}Z8o=w8o.inputs[p10];if(!Z8o){Z8o=w8o.days;}O8o=w8o.chart.scrubbed;J2SS.N1K();if(O8o.length < Math.max(Z8o,w8o.days) + +"1"){w8o.error=!0;return;}D8o=w8o.inputs["%K Smoothing Periods"];if(D8o && !w8o.inputs.Fast){w8o.smooth=! !"1";}else if(w8o.smooth){D8o=3;}p8o=w8o.inputs["%D Periods"];if(!p8o){p8o=3;}if(w8o.outputs.Fast){c10="F";c10+="a";c10+="st";i10="%";i10+="K";i10+=" ";w8o.outputMap={};w8o.outputMap[i10 + w8o.name]=c10;w8o.outputMap["%D " + w8o.name]="Slow";}for(var q8o=Math.max(Z8o,w8o.startFrom);q8o < O8o.length;q8o++){t8o=e8o(q8o,R8o,Z8o);if(t8o !== null){O8o[q8o]["_Fast%K " + w8o.name]=e8o(q8o,R8o,Z8o);}}U8o.Studies.MA("simple",w8o.smooth?D8o:1,"_Fast%K " + w8o.name,0,X10,K8o,w8o);U8o.Studies.MA("simple",p8o,W10 + w8o.name,"0" >> 1894856416,g10,K8o,w8o);};U8o.Studies.calculateStochMomentum=function(M8o,y8o){var Z0K=J2SS;var K10,d10,r10,Q10,v10,V10,h10,b10,f8o,W8o,F8o,z8o,Q8o,Y8o,C10,n8o,g8o;K10="%";K10+="K";d10="exponenti";d10+="al";r10="_DH";r10+="L1";Q10="e";Q10+="xpone";Q10+="ntial";v10="_";v10+="H";v10+="S2";V10="exponen";V10+="ti";V10+="al";h10="_H";h10+="S";h10+="1";b10="%";b10+="D Period";b10+="s";f8o=Number(y8o.inputs["%K Periods"]);W8o=Number(y8o.inputs["%K Smoothing Periods"]);F8o=Number(y8o.inputs["%K Double Smoothing Periods"]);z8o=Number(y8o.inputs[b10]);Q8o=y8o.chart.scrubbed;function L8o(i8o,E8o){var I8o,k8o;I8o=null;k8o=null;Z0K.T1K();for(var d8o=E8o - i8o + 1;d8o <= E8o;d8o++){I8o=I8o === null?Q8o[d8o].Low:Math.min(I8o,Q8o[d8o].Low);k8o=k8o === null?Q8o[d8o].High:Math.max(k8o,Q8o[d8o].High);}return [I8o,k8o];}if(Q8o.length < f8o + W8o + F8o - 1 || Q8o.length < z8o){y8o.error=! !{};return;}for(Y8o=Math.max(f8o,y8o.startFrom) - 1;Y8o < Q8o.length;Y8o++){C10="_";C10+="H";C10+=" ";n8o=Q8o[Y8o];g8o=L8o(f8o,Y8o);Z0K.R4H(33);var m2I=Z0K.y4H(12,13,1);Z0K.R4H(166);var l2I=Z0K.y4H(46,2,6,16);n8o[C10 + y8o.name]=n8o.Close - (g8o[0] + g8o[m2I]) / l2I;Z0K.D4H(167);var U2I=Z0K.y4H(3,2,5,337124200,67424849);n8o["_DHL " + y8o.name]=g8o["1" << U2I] - g8o[0];}U8o.Studies.MA("exponential",W8o,"_H " + y8o.name,0,h10,M8o,y8o);U8o.Studies.MA(V10,F8o,"_HS1 " + y8o.name,0,v10,M8o,y8o);U8o.Studies.MA(Q10,W8o,"_DHL " + y8o.name,0,r10,M8o,y8o);U8o.Studies.MA(d10,F8o,"_DHL1 " + y8o.name,0,"_DHL2",M8o,y8o);Z0K.T1K();for(Y8o=f8o - 1;Y8o < Q8o.length;Y8o++){Q8o[Y8o]["%K " + y8o.name]=Q8o[Y8o]["_HS2 " + y8o.name] / (0.5 * Q8o[Y8o]["_DHL2 " + y8o.name]) * ("100" & 2147483647);}U8o.Studies.MA(y8o.inputs["%D Moving Average Type"],z8o,"%K " + y8o.name,0,"%D",M8o,y8o);y8o.zoneOutput=K10;};U8o.Studies.studyLibrary=U8o.extend(U8o.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:U8o.Studies.calculateStochMomentum,inputs:{"%K Periods":+"10","%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":D10},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:"40" ^ 0,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:y10,calculateFN:U8o.Studies.calculateStochastics,inputs:{Period:"14" * 1,Field:"field",Smooth:!0},outputs:{Fast:A10,Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:w10,studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:t10,range:"0 to 100",calculateFN:U8o.Studies.calculateStochastics,inputs:{Field:J10,"%K Periods":14,Fast:!1,"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:50}});}};B8O=G8o=>{J2SS.N1K();var H8o,m40;H8o=typeof _CIQ !== "undefined"?_CIQ:G8o.CIQ;if(!H8o.Studies){console.error("supertrend feature requires first activating studies feature.");}else {m40="Sup";m40+="ertre";m40+="nd";H8o.Studies.calculateSupertrend=function(m2o,C8o){var M0K=J2SS;var x10,P2o,a10,Y10,s2o,J2o,T2o,X2o,B2o,S10,H10;M0K.N1K();x10="T";x10+="r";x10+="end";x10+=" ";P2o=C8o.chart.scrubbed;if(P2o.length < C8o.days + 1){C8o.error=! ![];return;}H8o.Studies.calculateStudyATR(m2o,C8o);for(var r8o=C8o.startFrom;r8o < P2o.length;r8o++){a10="_Do";a10+="wntrend ";Y10="_";Y10+="Uptrend ";s2o=P2o[r8o];if(!s2o)continue;M0K.R4H(168);var M2I=M0K.y4H(8,6,55,5);J2o=(s2o.High + s2o.Low) / M2I;T2o=C8o.inputs.Multiplier * s2o["ATR " + C8o.name];M0K.D4H(6);X2o=M0K.y4H(J2o,T2o);M0K.R4H(3);B2o=M0K.W4H(J2o,T2o);if(r8o){S10="_";S10+="Downt";S10+="rend ";H10="_Uptrend";H10+=" ";if(P2o[r8o - 1] && P2o[r8o - +"1"].Close && P2o[r8o - 1].Close > P2o[r8o - 1]["_Uptrend " + C8o.name] && P2o[r8o - "1" * 1][H10 + C8o.name] > X2o){M0K.D4H(6);X2o=P2o[M0K.y4H(r8o,1)]["_Uptrend " + C8o.name];}if(P2o[r8o - ("1" >> 1807988096)] && P2o[r8o - 1].Close && P2o[r8o - 1].Close < P2o[r8o - 1]["_Downtrend " + C8o.name] && P2o[r8o - 1]["_Downtrend " + C8o.name] < B2o){M0K.D4H(6);B2o=P2o[M0K.y4H(r8o,1)][S10 + C8o.name];}}s2o["_Direction " + C8o.name]=1;if(r8o){M0K.R4H(6);s2o["_Direction " + C8o.name]=P2o[M0K.y4H(r8o,1)]["_Direction " + C8o.name];if(s2o.Close > P2o[r8o - ("1" - 0)]["_Downtrend " + C8o.name]){s2o["_Direction " + C8o.name]=1;}else if(s2o.Close < P2o[r8o - ("1" >> 862500704)]["_Uptrend " + C8o.name]){s2o["_Direction " + C8o.name]=-1;}}s2o[Y10 + C8o.name]=X2o;s2o[a10 + C8o.name]=B2o;s2o["Trend " + C8o.name]=s2o["_Direction " + C8o.name] > 0?X2o:B2o;if(!r8o)continue;}C8o.outputMap={};C8o.outputMap[x10 + C8o.name]="";};H8o.Studies.displaySupertrend=function(o2o,l2o,w2o){var j0K=J2SS;var L10,Z2o,N2o,O2o,v2o,K2o,R2o,q2o,U2o,u2o,N10,t2o,c2o;L10="T";L10+="re";function h2o(j2o,A2o,S2o){var E10;E10="_D";E10+="ire";j0K.T1K();E10+="ction";E10+=" ";if(A2o && A2o[E10 + l2o.name] < +"0"){return l2o.outputs.Downtrend;}return l2o.outputs.Uptrend;}L10+="n";L10+="d ";Z2o=o2o.panels[l2o.panel];N2o=l2o.getContext(o2o);O2o=l2o.getYAxis(o2o);v2o={skipTransform:Z2o.name != l2o.chart.name,skipProjections:! !{},label:o2o.preferences.labels,yAxis:O2o,highlight:l2o.highlight};N2o.lineWidth=2;if(l2o.highlight){j0K.D4H(14);N2o.lineWidth=j0K.W4H("1.5",1);}K2o=L10 + l2o.name;for(var e2o=0;Z2o.chart.transformFunc && O2o != Z2o.chart.yAxis && e2o < w2o.length;e2o++){R2o=w2o[e2o];if(R2o && R2o.transform){R2o.transform[K2o]=Z2o.chart.transformFunc(o2o,Z2o.chart,R2o[K2o]);}}o2o.plotDataSegmentAsLine(K2o,Z2o,v2o,h2o);N2o.lineWidth=1;N2o.globalAlpha=1;o2o.startClip(l2o.panel);if(!l2o.highlight && o2o.highlightedDraggable){N2o.globalAlpha*=+"0.3";}j0K.D4H(27);var Z2I=j0K.y4H(7,11069,2767);j0K.R4H(137);var f2I=j0K.W4H(856,5,839,17,5142);j0K.D4H(48);var o2I=j0K.y4H(3,3534,408);j0K.R4H(6);var P2I=j0K.y4H(4725,16);j0K.D4H(3);var I2I=j0K.y4H(542,2168);j0K.D4H(71);var T2I=j0K.y4H(34440,14,34426,5739);j0K.D4H(48);var j2I=j0K.y4H(7,1629798335,1901431399);q2o=N2o.measureText(343.23 != (Z2I,f2I)?"\u25B2":o2I === P2I?(! ![],979.62):I2I >= T2I?"v":212.65).width / ("2" << j2I);for(U2o=0;U2o < w2o.length;U2o++){if(!w2o[U2o] || !w2o[U2o - 1])continue;if(w2o[U2o - 1]["_Direction " + l2o.name] > w2o[U2o]["_Direction " + l2o.name]){N10="a";N10+="u";N10+="to";u2o=H8o.Studies.determineColor(l2o.outputs.Downtrend);if(!u2o || u2o == N10 || H8o.isTransparent(u2o)){u2o=o2o.defaultColor;}N2o.fillStyle=u2o;N2o.textBaseline="bottom";t2o=o2o.pixelFromPrice(w2o[U2o].High,Z2o,O2o);for(var D2o=5;D2o <= 45;D2o+=+"10"){if(O2o.flipped){N2o.fillText(6130 < 7876?9477 === (4190,4682)?(182.35,1779) === 2870?(! !0,"N"):(!"1",5.77e+3):"\u25B2":("p",+"0x136b"),o2o.pixelFromBar(U2o) - q2o,t2o + D2o);}else {N2o.fillText("\u25BC",o2o.pixelFromBar(U2o) - q2o,t2o - D2o);}}}else if(w2o[U2o - 1]["_Direction " + l2o.name] < w2o[U2o]["_Direction " + l2o.name]){u2o=H8o.Studies.determineColor(l2o.outputs.Uptrend);if(!u2o || u2o == "auto" || H8o.isTransparent(u2o)){u2o=o2o.defaultColor;}N2o.fillStyle=u2o;N2o.textBaseline="top";c2o=o2o.pixelFromPrice(w2o[U2o].Low,Z2o,O2o);for(var p2o=5;p2o <= +"45";p2o+=10){if(O2o.flipped){N2o.fillText((1870,9890) == (9411,686.79)?("H",+"4.36e+3"):"260.87" * 1 == 4950?659.07 === (4961,578.79)?(0x104c,!{}):0xb72:"\u25BC",o2o.pixelFromBar(U2o) - q2o,c2o - p2o);}else {N2o.fillText("\u25B2",o2o.pixelFromBar(U2o) - q2o,c2o + p2o);}}}}o2o.endClip();};H8o.Studies.studyLibrary=H8o.extend(H8o.Studies.studyLibrary,{Supertrend:{name:m40,overlay:! !{},seriesFN:H8o.Studies.displaySupertrend,calculateFN:H8o.Studies.calculateSupertrend,inputs:{Period:+"7",Multiplier:+"3"},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};J8O=x2o=>{var a2o;a2o=typeof _CIQ !== "undefined"?_CIQ:x2o.CIQ;if(!a2o.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {a2o.Studies.calculateSwingIndex=function(d2o,y2o){var B0K=J2SS;var Q2o,V2o,Y2o,l40,f2o,g2o,z2o,L2o,F2o,W2o,M2o,n2o;Q2o=y2o.inputs["Limit Move Value"];if(Q2o === null || isNaN(Q2o)){Q2o=99999;}V2o=y2o.chart.scrubbed;Y2o=0;B0K.N1K();if(y2o.startFrom > 1){Y2o=V2o[y2o.startFrom - +"1"]["Result " + y2o.name];}for(var b2o=Math.max(1,y2o.startFrom);b2o < V2o.length;b2o++){l40="S";l40+="win";l40+="g";f2o=Math.abs(V2o[b2o].High - V2o[b2o - 1].Close);g2o=Math.abs(V2o[b2o].Low - V2o[b2o - 1].Close);z2o=Math.abs(V2o[b2o].High - V2o[b2o].Low);L2o=Math.abs(V2o[b2o - 1].Close - V2o[b2o - 1].Open);F2o=Math.max(f2o,g2o);W2o=Math.max(z2o,F2o);B0K.D4H(89);M2o=B0K.y4H(L2o,0.25,W2o);if(W2o == f2o){B0K.R4H(14);M2o-=B0K.y4H(0.5,g2o);}else if(W2o == g2o){B0K.R4H(145);M2o-=B0K.y4H(1,"0.5",f2o);}B0K.D4H(3);var z2I=B0K.y4H(33,17);B0K.R4H(158);var e2I=B0K.W4H(18,5,5,11,197);B0K.R4H(169);var F2I=B0K.y4H(1,3,3,18,19);B0K.R4H(3);var u2I=B0K.y4H(0,1);n2o=z2I * (V2o[b2o].Close - V2o[b2o - e2I].Close + 0.5 * (V2o[b2o].Close - V2o[b2o].Open) + 0.25 * (V2o[b2o - F2I].Close - V2o[b2o - u2I].Open)) / M2o * (F2o / Q2o);if(M2o === 0 || Q2o === 0){n2o=0;}if(y2o.type == l40){Y2o=0;}Y2o+=n2o;V2o[b2o]["Result " + y2o.name]=Y2o;}};a2o.Studies.studyLibrary=a2o.extend(a2o.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:a2o.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:a2o.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};T8O=k2o=>{var U40,I2o,M40,j40,T40,O40,I40;U40="und";U40+="ef";U40+="ined";I2o=typeof _CIQ !== U40?_CIQ:k2o.CIQ;if(!I2o.Studies){M40="trendIntensity fe";M40+="a";M40+="ture requires first activatin";M40+="g studies feature.";console.error(M40);}else {j40="a";j40+="uto";T40="a";T40+="u";T40+="t";T40+="o";O40="0";O40+=" to 1";O40+="00";I40="T";I40+="rend I";I40+="nte";I40+="nsity Index";I2o.Studies.calculateTrendIntensity=function(B3o,E2o){var G0K=J2SS;var G40,P40,B40,Z40,G2o,C2o,r2o,P3o,i2o,H2o,s3o,X3o,o40,f40;G40="S";G40+="i";G40+="g";G40+="nal";P40="e";P40+="m";P40+="a";B40="m";B40+="a";function J3o(m3o,T3o){if(Math.abs(T3o) < 0.00000001){return 100;}G0K.D4H(147);return G0K.W4H(1,100,T3o,m3o,100);}Z40="fi";Z40+="e";Z40+="l";Z40+="d";G2o=E2o.chart.scrubbed;G0K.T1K();if(G2o.length < E2o.days + 1){E2o.error=!0;return;}C2o=E2o.inputs.Field;if(!C2o || C2o == Z40){C2o="Close";}I2o.Studies.MA(B40,E2o.days,C2o,"0" >> 334554720,"_SMA",B3o,E2o);r2o=0;G0K.R4H(6);P3o=G0K.W4H("0",0);s3o=[];X3o=Math.ceil(E2o.days / 2);for(i2o=Math.max(0,E2o.startFrom - X3o);i2o < G2o.length;i2o++){o40="T";o40+="I";o40+="I";o40+=" ";f40="_";f40+="SMA ";if(!G2o[i2o]["_SMA " + E2o.name] && G2o[i2o][f40 + E2o.name] !== 0)continue;H2o=G2o[i2o][C2o] - G2o[i2o]["_SMA " + E2o.name];if(H2o < +"0"){G0K.D4H(170);P3o+=G0K.y4H(1,H2o);}else {r2o+=H2o;}s3o.push(H2o);if(s3o.length > X3o){H2o=s3o.shift();if(H2o < 0){G0K.R4H(171);P3o-=G0K.W4H(H2o,"1");}else {r2o-=H2o;}}if(i2o < E2o.startFrom)continue;G2o[i2o][o40 + E2o.name]=J3o(r2o,P3o);}I2o.Studies.MA(P40,E2o.inputs["Signal Period"],"TII " + E2o.name,0,G40,B3o,E2o);};I2o.Studies.studyLibrary=I2o.extend(I2o.Studies.studyLibrary,{"Trend Int":{name:I40,calculateFN:I2o.Studies.calculateTrendIntensity,range:O40,inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:T40,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:"20" - 0,studyOverSoldColor:j40}}}});}};m8O=o3o=>{var l3o,z40,q40;l3o=typeof _CIQ !== "undefined"?_CIQ:o3o.CIQ;if(!l3o.Studies){z40="trix f";z40+="eature requi";z40+="res first activating studies feature.";console.error(z40);}else {q40="T";q40+="R";q40+="I";q40+="X";l3o.Studies.calculateTRIX=function(p3o,N3o){var m0K=J2SS;var U3o,w3o,O3o,e40,q3o,D3o,R3o;U3o=N3o.chart.scrubbed;if(U3o.length < N3o.days + 1){N3o.error=!"";return;}w3o=N3o.name;m0K.D4H(3);O3o=["Close",m0K.y4H("_MA1 ",w3o),m0K.W4H("_MA2 ",w3o),m0K.y4H("_MA3 ",w3o)];for(var Z3o=0;Z3o < O3o.length - 1;Z3o++){e40="_";e40+="M";e40+="A";l3o.Studies.MA("exponential",N3o.days,O3o[Z3o],0,e40 + (Z3o + 1).toString(),p3o,N3o);}m0K.D4H(44);q3o=O3o[m0K.W4H(0,"3")];for(var u3o=Math.max(1,N3o.startFrom);u3o < U3o.length;u3o++){m0K.R4H(6);D3o=U3o[m0K.y4H(u3o,1)][q3o];if(!D3o)continue;R3o=U3o[u3o][q3o];if(R3o || R3o === "0" * 1){m0K.D4H(3);U3o[u3o][m0K.y4H("Result ",w3o)]=m0K.W4H(R3o,"1",100,D3o,0,m0K.D4H(172));}}};l3o.Studies.studyLibrary=l3o.extend(l3o.Studies.studyLibrary,{TRIX:{name:q40,calculateFN:l3o.Studies.calculateTRIX}});}};l8O=e3o=>{var g6K=J2SS;var H87,S87,Y87,K3o,F40;H87=+"610054464";g6K.D4H(44);g6K.T1K();S87=-g6K.W4H(92733712,"93835678");g6K.D4H(6);Y87=g6K.y4H("2",0);for(var x87=1;g6K.h4w(x87.toString(),x87.toString().length,+"92257") !== H87;x87++){K3o=-_CIQ == ""?_CIQ:e3o.CIQ;Y87+=2;}if(g6K.h4w(Y87.toString(),Y87.toString().length,"72780" ^ 0) !== S87){K3o=-_CIQ == ""?_CIQ:e3o.CIQ;}K3o=typeof _CIQ !== "undefined"?_CIQ:e3o.CIQ;if(!K3o.Studies){F40="twiggsMoneyFl";F40+="ow feature requires first activating studies feature.";console.error(F40);}else {K3o.Studies.calculateTwiggsMoneyFlow=function(x3o,t3o){var v3o,A3o,h3o,j3o,R40,u40,p40,n40,S3o,a3o;v3o=t3o.chart.scrubbed;if(v3o.length < t3o.days){t3o.error=! !1;return;}A3o=0;h3o=0;j3o=v3o[t3o.startFrom - +"1"];g6K.T1K();if(j3o){R40="_";R40+="sumV ";u40="_su";u40+="mMF";u40+=" ";if(j3o["_sumMF " + t3o.name]){A3o=j3o[u40 + t3o.name];}if(j3o[R40 + t3o.name]){h3o=j3o["_sumV " + t3o.name];}}for(var c3o=Math.max(1,t3o.startFrom);c3o < v3o.length;c3o++){p40="_sumV";p40+=" ";n40="_MF";n40+="V ";S3o=Math.max(v3o[c3o - "1" * 1].Close,v3o[c3o].High);a3o=Math.min(v3o[c3o - 1].Close,v3o[c3o].Low);g6K.D4H(9);var n2I=g6K.y4H(1,19,16);g6K.D4H(46);var p2I=g6K.W4H(1000006,16,666666,1,5999994);v3o[c3o][n40 + t3o.name]=v3o[c3o].Volume * (n2I * v3o[c3o].Close - S3o - a3o) / (S3o - a3o === 0?p2I:S3o - a3o);if(c3o > t3o.days - +"1"){g6K.D4H(61);var k2I=g6K.W4H(17,18,6,1835);A3o*=(t3o.days - k2I) / t3o.days;g6K.D4H(11);var i2I=g6K.W4H(10,16,7);h3o*=(t3o.days - i2I) / t3o.days;}A3o+=v3o[c3o]["_MFV " + t3o.name];h3o+=v3o[c3o].Volume;if(c3o > t3o.days - 1){if(h3o){g6K.D4H(8);v3o[c3o]["Result " + t3o.name]=g6K.W4H(h3o > 0?h3o:999999,A3o);}}v3o[c3o]["_sumMF " + t3o.name]=A3o;v3o[c3o][p40 + t3o.name]=h3o;}};K3o.Studies.studyLibrary=K3o.extend(K3o.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:K3o.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};o8O=b3o=>{var V3o,k40;V3o=typeof _CIQ !== "undefined"?_CIQ:b3o.CIQ;if(!V3o.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!V3o.Studies.calculateTypicalPrice){k40="typicalPrice feature requires first activating";k40+=" m";k40+="edianPrice feature.";console.error(k40);}else {V3o.Studies.studyLibrary=V3o.extend(V3o.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:V3o.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:V3o.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};N8O=Q3o=>{var y3o;y3o=typeof _CIQ !== "undefined"?_CIQ:Q3o.CIQ;if(!y3o.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {y3o.Studies.calculateUlcerIndex=function(F3o,Y3o){var i40,s40,f3o,g3o,M3o,W3o;i40="_";i40+="P";i40+="D2";i40+=" ";s40="fi";s40+="e";s40+="ld";f3o=Y3o.chart.scrubbed;if(f3o.length < +"2" * Y3o.days - 1){Y3o.error=! ![];return;}g3o=Y3o.inputs.Field;if(!g3o || g3o == s40){g3o="Close";}for(M3o=Math.max(Y3o.startFrom,Y3o.days - 1);M3o < f3o.length;M3o++){f3o[M3o]["_PD2 " + Y3o.name]=Math.pow(100 * (f3o[M3o][g3o] / n3o(Y3o.days,M3o,g3o) - 1),2);}function n3o(k3o,d3o,I3o){var L3o;L3o=null;for(var z3o=d3o - k3o + 1;z3o <= d3o;z3o++){if(z3o < 0)continue;L3o=L3o === null?f3o[z3o][I3o]:Math.max(L3o,f3o[z3o][I3o]);}return L3o;}y3o.Studies.MA("simple",Y3o.days,i40 + Y3o.name,+"0","_MA",F3o,Y3o);for(M3o=Math.max(Y3o.startFrom,+"2" * (Y3o.days - 1));M3o < f3o.length;M3o++){W3o=f3o[M3o]["_MA " + Y3o.name];if(W3o || W3o === 0){f3o[M3o]["Result " + Y3o.name]=Math.sqrt(W3o);}}};y3o.Studies.studyLibrary=y3o.extend(y3o.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:y3o.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};U8O=i3o=>{var c40,E3o,K97,D97,y97,g40;c40="un";c40+="d";c40+="efine";c40+="d";E3o=typeof _CIQ !== c40?_CIQ:i3o.CIQ;if(!E3o.Studies){K97=1513122349;D97=-26667041;y97=2;for(var w97=1;J2SS.V4w(w97.toString(),w97.toString().length,"92106" >> 1500506560) !== K97;w97++){console.error("ultimateOscillator feature requires first activating studies feature.");y97+=2;}if(J2SS.V4w(y97.toString(),y97.toString().length,23390) !== D97){console.error("");}}else {g40="Ul";g40+="tima";g40+="te Oscillator";E3o.Studies.calculateUltimateOscillator=function(R4o,G3o){var u0K=J2SS;var H3o,r3o,B4o,J4o,T4o,m4o,s4o,X4o,X40,W40,l4o,N4o,U4o,o4o,u4o,w4o,Z4o,O4o;H3o=G3o.chart.scrubbed;r3o=[G3o.inputs["Cycle 1"],G3o.inputs["Cycle 2"],G3o.inputs["Cycle 3"]];B4o=Math.max(r3o[0],r3o["1" >> 629265280],r3o[2]);if(H3o.length < B4o + ("1" | 1)){G3o.error=! ![];return;}u0K.D4H(6);var c2I=u0K.W4H(6,5);J4o=r3o[0] * r3o[c2I];u0K.R4H(158);var X2I=u0K.W4H(6,4,4,2,10);T4o=r3o[0] * r3o[X2I];u0K.D4H(19);var W2I=u0K.W4H(6,5);u0K.D4H(6);var g2I=u0K.W4H(10,8);m4o=r3o[W2I] * r3o[g2I];u0K.R4H(14);s4o=[+"0",u0K.y4H("0",1),0];X4o=[0,0,0];if(G3o.startFrom){X40="_a";X40+="c";X40+="ctr ";if(H3o[G3o.startFrom - 1]["_accbp " + G3o.name]){s4o=H3o[G3o.startFrom - 1]["_accbp " + G3o.name].slice();}if(H3o[G3o.startFrom - ("1" << 1146764416)][X40 + G3o.name]){X4o=H3o[G3o.startFrom - 1]["_acctr " + G3o.name].slice();}}for(var C3o=Math.max(+"1",G3o.startFrom);C3o < H3o.length;C3o++){W40="Re";W40+="s";W40+="ult";W40+=" ";l4o=Math.min(H3o[C3o].Low,H3o[C3o - ("1" ^ 0)].Close);N4o=H3o[C3o].Close - l4o;u0K.D4H(2);var b2I=u0K.W4H(9,19,9);U4o=Math.max(H3o[C3o].High,H3o[C3o - b2I].Close) - l4o;for(var P4o=0;P4o < r3o.length;P4o++){s4o[P4o]+=N4o;X4o[P4o]+=U4o;if(C3o > r3o[P4o]){o4o=Math.min(H3o[C3o - r3o[P4o]].Low,H3o[C3o - r3o[P4o] - +"1"].Close);u4o=H3o[C3o - r3o[P4o]].Close - o4o;u0K.D4H(3);var C2I=u0K.W4H(0,1);w4o=Math.max(H3o[C3o - r3o[P4o]].High,H3o[C3o - r3o[P4o] - C2I].Close) - o4o;s4o[P4o]-=u4o;X4o[P4o]-=w4o;}}H3o[C3o]["_accbp " + G3o.name]=s4o.slice();H3o[C3o]["_acctr " + G3o.name]=X4o.slice();if(C3o < B4o)continue;u0K.D4H(71);var h2I=u0K.y4H(0,3,3,2);u0K.D4H(11);var V2I=u0K.y4H(1,5,6);u0K.D4H(11);var v2I=u0K.y4H(0,4,6);Z4o=m4o * s4o[+"0"] / X4o[0] + T4o * s4o[h2I] / X4o[+"1"] + J4o * s4o[V2I] / X4o[v2I];u0K.D4H(22);O4o=u0K.W4H(m4o,T4o,J4o);u0K.D4H(173);H3o[C3o][W40 + G3o.name]=u0K.W4H(Z4o,O4o,"100");}};E3o.Studies.studyLibrary=E3o.extend(E3o.Studies.studyLibrary,{Ultimate:{name:g40,calculateFN:E3o.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":"7" | 1,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};u8O=D4o=>{var q4o,b40,v4w,Q4w,r4w,J40,t40,w40,A40;q4o=typeof _CIQ !== "undefined"?_CIQ:D4o.CIQ;if(!q4o.Studies){b40="valuationLines feature requires first activating studi";b40+="es feature.";v4w=409875164;Q4w=1445707256;r4w=2;for(var K4w=1;J2SS.V4w(K4w.toString(),K4w.toString().length,19369) !== v4w;K4w++){console.error("");r4w+=2;}if(J2SS.h4w(r4w.toString(),r4w.toString().length,99554) !== Q4w){console.error("");}console.error(b40);}else {J40="#85c9";J40+="9";J40+="e";t40="#";t40+="0";t40+="0af";t40+="ed";w40="har";w40+="monic";A40="mea";A40+="n";q4o.Studies.calculateValuationLines=function(h4o,p4o,j4o){var l0K=J2SS;var Q40,v40,V40,h40,C40,b4o,Y4o,y4o,S4o,a4o,x4o,V4o,K4o,e4o,t4o,v4o,A4o,Q4o;Q40="Display 3 Standard";Q40+=" D";Q40+="ev";Q40+="iation (3\u03C3)";v40="Displa";v40+="y 2 Standard Deviation (2\u03C3)";V40="Display Ave";V40+="rage";h40="Av";h40+="e";h40+="rage Ty";h40+="pe";C40="fi";C40+="eld";b4o=p4o.inputs.Field == C40?"Close":p4o.inputs.Field;Y4o=p4o.inputs[h40];y4o=p4o.inputs[V40];S4o=p4o.inputs["Display 1 Standard Deviation (1\u03C3)"];a4o=p4o.inputs[v40];x4o=p4o.inputs[Q40];V4o=[];for(var c4o=+"0";c4o < j4o.length;++c4o){if(j4o[c4o] && !isNaN(j4o[c4o][b4o])){V4o.push(j4o[c4o][b4o]);}}K4o=(function(F4o,L4o){var M4o,g4o,W4o,f4o,n4o,z4o;M4o=F4o.length;g4o=+"0";W4o=0;f4o=0;switch(L4o){case "mean":W4o=M4o;for(;f4o < M4o;++f4o){g4o+=F4o[f4o];}break;case "harmonic":g4o=M4o;for(;f4o < M4o;++f4o){l0K.R4H(174);var Q2I=l0K.W4H(7,17,8,2,19);W4o+=Q2I / F4o[f4o];}break;case "median":l0K.D4H(8);n4o=Math.floor(l0K.y4H(2,M4o));z4o=F4o.slice().sort(function(d4o,I4o){if(d4o > I4o){return 1;}if(d4o < I4o){return - +"1";}l0K.N1K();return 0;});if(M4o % 2 === 0){l0K.D4H(6);var K2I=l0K.W4H(16,15);g4o=z4o[n4o] + z4o[n4o - K2I];W4o=2;}else {g4o=z4o[n4o];W4o=1;}break;}l0K.R4H(8);return l0K.y4H(W4o,g4o);})(V4o,Y4o);e4o=!(S4o || a4o || x4o) || (function(H4o,G4o){var E4o,i4o;E4o=H4o.length;i4o=0;for(var k4o=0;k4o < E4o;++k4o){i4o+=Math.pow(H4o[k4o] - G4o,2);}l0K.D4H(8);return Math.sqrt(l0K.W4H(E4o,i4o));})(V4o,K4o);p4o.data={Average:y4o?[K4o]:null,"1 Standard Deviation (1\u03C3)":S4o?[K4o + e4o,K4o - e4o]:null,"2 Standard Deviation (2\u03C3)":a4o?[K4o + e4o * 2,K4o - e4o * 2]:null,"3 Standard Deviation (3\u03C3)":x4o?[K4o + e4o * +"3",K4o - e4o * 3]:null};t4o=e4o;if(!p4o.parameters){p4o.parameters={};}if(x4o){l0K.D4H(175);p4o.parameters.range=[l0K.y4H(e4o,3,t4o,K4o),l0K.y4H(K4o,3,t4o,e4o,l0K.D4H(176))];}else if(a4o){l0K.R4H(175);p4o.parameters.range=[l0K.y4H(e4o,2,t4o,K4o),l0K.y4H(K4o,e4o,t4o,"2",l0K.D4H(177))];}else if(S4o){l0K.R4H(2);p4o.parameters.range=[l0K.W4H(e4o,K4o,t4o),l0K.y4H(K4o,e4o,t4o,l0K.D4H(22))];}else if(y4o){l0K.D4H(6);p4o.parameters.range=[l0K.W4H(K4o,t4o),l0K.y4H(K4o,t4o,l0K.D4H(3))];}if(p4o.panel){v4o=h4o.panels[p4o.panel];A4o=h4o.getYAxisByName(v4o,p4o.name);if(A4o){A4o.decimalPlaces=v4o.chart.yAxis.printDecimalPlaces;Q4o={yAxis:A4o};h4o.calculateYAxisRange(v4o,A4o,p4o.parameters.range[0],p4o.parameters.range[1]);h4o.createYAxis(v4o,Q4o);h4o.drawYAxis(v4o,Q4o);}}};q4o.Studies.displayValuationLines=function(r4o,s5o){var r0K=J2SS;var C4o,X5o,J5o,l5o,p5o,K5o,e5o,T5o,m5o,o5o,u5o,w5o,Z5o,O5o,N5o,U5o,P5o,R5o,t5o,q5o,r40,y40,D40,K40,d40,D5o;C4o=r4o.panels[s5o.panel];X5o=s5o.getYAxis(r4o);J5o=s5o.getContext(r4o);l5o=s5o.data;p5o=s5o.parameters.labels;K5o=s5o.inputs["Average Type"];e5o={mean:"AVG",median:"MED",harmonic:"HAVG"};T5o=r4o.canvasStyle("ciq-valuation-average-line");m5o=r4o.canvasStyle("ciq-valuation-deviation-line");r0K.T1K();o5o=3;r0K.D4H(11);var D2I=r0K.y4H(40,46,8);u5o=r4o.getCanvasFontSize("stx_yaxis") + o5o * D2I;for(var B5o in l5o){r40="Av";r40+="e";r40+="r";r40+="age";if(!l5o[B5o])continue;r0K.R4H(178);w5o=r0K.W4H(r40,B5o);Z5o=q4o.Studies.determineColor(s5o.outputs[B5o]);O5o=l5o[B5o];for(N5o=0;N5o < O5o.length;++N5o){y40="\u03C3";y40+=":";y40+=" ";D40="y";D40+="a";D40+="x";D40+="is";K40="l";K40+="i";K40+="n";K40+="e";d40="n";d40+="o";d40+="n";d40+="e";U5o=O5o[N5o];P5o=r4o.pixelFromPrice(U5o,C4o,X5o);if(P5o <= C4o.top || P5o >= C4o.yAxis.bottom)continue;q5o=w5o?{pattern:T5o.borderStyle != d40?T5o.borderStyle || "solid":"solid",lineWidth:parseFloat(T5o.borderWidth) || +"1",opacity:parseFloat(T5o.opacity) || +"1",yAxis:X5o}:{pattern:m5o.borderStyle != "none"?m5o.borderStyle || "dashed":"dashed",lineWidth:parseFloat(m5o.borderWidth) || 1,opacity:parseFloat(m5o.opacity) || 1,yAxis:X5o};r4o.plotLine(C4o.left,C4o.right,P5o,P5o,Z5o,K40,J5o,C4o,q5o);if(p5o === D40){r4o.createYAxisLabel(C4o,r4o.formatYAxisPrice(U5o,C4o),P5o,Z5o,null,J5o,X5o);continue;}P5o+=Math.floor(q5o.lineWidth / 2);if(P5o + u5o >= C4o.yAxis.bottom)continue;R5o=(w5o?e5o[K5o] + ": ":B5o[0] + y40) + r4o.formatYAxisPrice(U5o,C4o);t5o=J5o.measureText(R5o).width;D5o=C4o.right - t5o - o5o;if(X5o && X5o.position == "left"){D5o=C4o.left + o5o;}r0K.D4H(179);J5o.strokeText(R5o,D5o,r0K.y4H(P5o,u5o,0.5,2));}}};q4o.Studies.studyLibrary=q4o.extend(q4o.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(c5o,v5o,h5o){q4o.Studies.calculateValuationLines(c5o,v5o,h5o);q4o.Studies.displayValuationLines(c5o,v5o);},overlay:!"",yAxisFN:function(){},inputs:{Field:"field","Average Type":[A40,"median",w40],"Display Average":! !1,"Display 1 Standard Deviation (1\u03C3)":!"1","Display 2 Standard Deviation (2\u03C3)":!"1","Display 3 Standard Deviation (3\u03C3)":!1},outputs:{Average:t40,"1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":J40,"3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};w8O=j5o=>{var A5o,o3I,f3I;A5o=typeof _CIQ !== "undefined"?_CIQ:j5o.CIQ;J2SS.T1K();if(!A5o.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {o3I="a";o3I+="u";o3I+="t";o3I+="o";f3I="0";f3I+=" to";f3I+=" 1";f3I+="00";A5o.Studies.calculateRelativeVolatility=function(f5o,S5o){var S0K=J2SS;var x40,a40,Y40,S40,H40,M5o,y5o,a5o,V5o,b5o,N40,E40,x5o,Y5o,L40;x40="m";x40+="a";a40="s";a40+="d";a40+="e";a40+="v";Y40="fie";Y40+="ld";S40="ST";S40+="D";S40+=" ";S40+="Period";H40="Smoothing Perio";H40+="d";S5o.days=Number(S5o.inputs[H40]);M5o=Number(S5o.inputs[S40]);y5o=S5o.chart.scrubbed;if(y5o.length < S5o.days + M5o){S5o.error=! !1;return;}a5o=S5o.inputs.Field;if(!a5o || a5o == Y40){a5o="Close";}S5o.std=new A5o.Studies.StudyDescriptor(S5o.name,a40,S5o.panel);S5o.std.chart=S5o.chart;S5o.std.days=M5o;S5o.std.startFrom=S5o.startFrom;S5o.std.inputs={Field:a5o,"Standard Deviations":1,Type:x40};function g5o(W5o,F5o){if(W5o + F5o === +"0"){S0K.R4H(29);return S0K.W4H("100",0);}S0K.D4H(144);return S0K.y4H(F5o,100,W5o,W5o);}S5o.std.outputs={_STD:null};A5o.Studies.calculateStandardDeviation(f5o,S5o.std);V5o=0;S0K.D4H(0);b5o=S0K.y4H("0",1788122816);if(S5o.startFrom > 1){V5o=y5o[S5o.startFrom - 1]["_avgG " + S5o.name] || 0;b5o=y5o[S5o.startFrom - 1]["_avgL " + S5o.name] || +"0";}for(var Q5o=Math.max(S5o.startFrom,S5o.days);Q5o < y5o.length;Q5o++){N40="R";N40+="el Vol";N40+=" ";E40="_";E40+="ST";E40+="D ";x5o=y5o[Q5o];S0K.R4H(6);Y5o=y5o[S0K.W4H(Q5o,1)];if(!x5o[a5o] && x5o[a5o] !== 0)continue;if(!Y5o[a5o] && Y5o[a5o] !== 0)continue;if(!x5o[E40 + S5o.name] && x5o["_STD " + S5o.name] !== 0)continue;if(x5o[a5o] > Y5o[a5o]){L40="_";L40+="S";L40+="T";L40+="D ";S0K.R4H(3);var y2I=S0K.W4H(0,1);V5o=(V5o * (S5o.days - y2I) + x5o[L40 + S5o.name]) / S5o.days;S0K.D4H(19);var A2I=S0K.y4H(16,15);b5o=b5o * (S5o.days - A2I) / S5o.days;}else {S0K.D4H(27);var w2I=S0K.W4H(17,84,5);b5o=(b5o * (S5o.days - w2I) + x5o["_STD " + S5o.name]) / S5o.days;S0K.D4H(9);var t2I=S0K.y4H(5,12,6);V5o=V5o * (S5o.days - t2I) / S5o.days;}x5o[N40 + S5o.name]=g5o(V5o,b5o);x5o["_avgG " + S5o.name]=V5o;x5o["_avgL " + S5o.name]=b5o;}S5o.zoneOutput="Rel Vol";};A5o.Studies.calculateHistoricalVolatility=function(H5o,n5o){var o0K=J2SS;var M3I,U3I,l3I,z5o,k5o,E5o,P6o,I5o,L5o,B3I,G5o,C5o,Z3I,r5o;M3I="Sta";M3I+="ndar";M3I+="d Deviations";U3I="C";U3I+="l";U3I+="ose";function s6o(X6o){var m3I;m3I="we";m3I+="ek";if(isNaN(X6o)){X6o=365;}if(H5o.layout.interval == "day"){return X6o;}else if(H5o.layout.interval == m3I){o0K.D4H(4);return o0K.W4H("52",2147483647);}else if(H5o.layout.interval == "month"){return 12;}return X6o;}o0K.N1K();l3I="f";l3I+="i";l3I+="e";l3I+="ld";z5o=n5o.chart.scrubbed;if(z5o.length < n5o.days + 1){n5o.error=! ![];return;}k5o=n5o.inputs.Field;if(!k5o || k5o == l3I){k5o=U3I;}E5o=n5o.inputs[M3I];if(E5o < 0){E5o=1;}o0K.R4H(2);var H2I=o0K.y4H(6,16,9);P6o="100" * H2I * Math.sqrt(s6o(n5o.inputs["Days Per Year"])) * E5o;I5o=[];L5o=0;if(n5o.startFrom > 1){o0K.R4H(6);var S2I=o0K.y4H(11,10);L5o=z5o[n5o.startFrom - S2I]["_state " + n5o.name][0];I5o=z5o[n5o.startFrom - 1]["_state " + n5o.name][1].slice();}for(var d5o=Math.max(1,n5o.startFrom);d5o < z5o.length;d5o++){B3I="_s";B3I+="tate ";o0K.R4H(6);G5o=z5o[o0K.W4H(d5o,1)][k5o];if(G5o){C5o=Math.log(z5o[d5o][k5o] / G5o);I5o.push(C5o);L5o+=C5o;if(d5o >= n5o.days){Z3I="R";Z3I+="es";Z3I+="ult";Z3I+=" ";r5o=0;L5o/=n5o.days;for(var i5o=0;i5o < I5o.length;i5o++){r5o+=Math.pow(I5o[i5o] - L5o,2);}L5o*=n5o.days;L5o-=I5o.shift();z5o[d5o][Z3I + n5o.name]=Math.sqrt(r5o / n5o.days) * P6o;}}z5o[d5o][B3I + n5o.name]=[L5o,I5o.slice()];}};A5o.Studies.studyLibrary=A5o.extend(A5o.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:A5o.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:f3I,calculateFN:A5o.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:70,studyOverBoughtColor:o3I,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};Z8O=J6o=>{var P3I,B6o,G3I;P3I="u";P3I+="n";P3I+="d";P3I+="efined";B6o=typeof _CIQ !== P3I?_CIQ:J6o.CIQ;if(!B6o.Studies){G3I="volumeProfile feature requires first ac";G3I+="tivating studies featur";G3I+="e.";console.error(G3I);}else {B6o.Studies.displayVolumeProfile=function(l6o,U6o,x6o){var I3I,N6o,w6o,R6o,p6o,K6o,A6o,m6o,q6o,o6o,V6o,D6o,O6o,T6o,j6o,S6o,c6o,v6o,u6o,b6o,a6o,y6o,h6o;I3I="Bars";I3I+=" Co";I3I+="lor";if(!l6o || !l6o.chart.dataSet){return;}N6o=l6o.chart;w6o=U6o.parameters.numberOfBars;R6o=U6o.parameters.widthPercentage;p6o=U6o.parameters.displayBorder;K6o=U6o.parameters.displayVolume;if(!w6o || w6o < 0){w6o=30;}w6o=Math.ceil(w6o);if(!R6o || R6o < 0){R6o=0.25;}if(p6o !== ! !0){p6o=! !{};}if(K6o !== ! !"1"){K6o=! !"";}A6o=(N6o.highValue - N6o.lowValue) / w6o;if(A6o === 0){return;}m6o=[];for(var e6o=N6o.lowValue;e6o < N6o.highValue + 0.1;e6o+=A6o){m6o.push([e6o,0]);}if(m6o.length < 2){l6o.displayErrorAsWatermark("chart",l6o.translateIf("Not enough data to render the Volume Profile"));return;}q6o=0;for(var t6o=0;t6o < x6o.length;t6o++){o6o=x6o[t6o];if(!o6o)continue;V6o=o6o.Volume;if(U6o.panel == N6o.name && o6o.transform){o6o=o6o.transform;}D6o=m6o[0][0];O6o=0;for(var Z6o=1;Z6o < m6o.length;Z6o++){O6o=m6o[Z6o][0];if(o6o.Low >= D6o && o6o.Low <= O6o || o6o.Low < D6o && o6o.High > O6o || o6o.High >= D6o && o6o.High <= O6o){m6o[Z6o][1]+=V6o;if(m6o[Z6o]["1" >> 1843116096] > q6o){q6o=m6o[Z6o][1];}}D6o=O6o;}}if(q6o === +"0"){l6o.displayErrorAsWatermark("chart",l6o.translateIf("Not enough data to render the Volume Profile"));return;}l6o.setStyle("stx_volume_profile","color",B6o.Studies.determineColor(U6o.outputs[I3I]));T6o=U6o.getContext(l6o);j6o="stx-float-date";l6o.canvasFont(j6o,T6o);S6o=l6o.getCanvasFontSize(j6o);c6o=N6o.panel;v6o=c6o.yAxis.bottom;u6o=Math.round(N6o.right) - 0.5;b6o=N6o.width * R6o;a6o=l6o.canvasStyle("stx_volume_profile").borderTopColor;y6o=!B6o.isTransparent(l6o.canvasStyle("stx_volume_profile").borderTopColor) && p6o;h6o=l6o;Q6o("stx_volume_profile",![]);function Q6o(k6o,W6o){var q4K=J2SS;var n6o,F6o,f6o,M6o,g6o,z6o,L6o,d6o,I6o;if(!W6o){u6o-=2;}h6o.canvasColor(k6o);T6o.beginPath();n6o=m6o[0][0];F6o=u6o;for(var Y6o=1;Y6o < m6o.length;Y6o++){if(m6o[Y6o][1]){q4K.D4H(6);var Y2I=q4K.y4H(18,17);f6o=Math.round(u6o - m6o[Y6o][Y2I] * b6o / q6o) - 0.5;M6o=Math.round(h6o.pixelFromTransformedValue(n6o,c6o)) + +"0.5";g6o=Math.round(h6o.pixelFromTransformedValue(m6o[Y6o][0],c6o)) + 0.5;if(!W6o){M6o-=0.5;g6o+=0.5;f6o+=+"0.5";}if(M6o > v6o){M6o=v6o;}if(g6o < v6o){T6o.moveTo(u6o,M6o);T6o.lineTo(u6o,g6o);T6o.lineTo(f6o,g6o);T6o.lineTo(f6o,M6o);if(W6o){if(F6o > f6o || Y6o == 1){T6o.lineTo(F6o,M6o);};}else {T6o.lineTo(u6o,M6o);if(K6o){z6o=B6o.condenseInt(m6o[Y6o]["1" & 2147483647]);q4K.R4H(6);L6o=q4K.y4H(M6o,g6o);if(S6o <= L6o - 2){try{d6o=T6o.measureText(z6o).width;}catch(E6o){d6o=0;}T6o.textBaseline="top";I6o=T6o.fillStyle;T6o.fillStyle=a6o;q4K.D4H(2);T6o.fillText(z6o,q4K.y4H(d6o,f6o,3),q4K.y4H(S6o,g6o,2,L6o,2,q4K.R4H(180)));T6o.fillStyle=I6o;}}}}F6o=f6o;}else {F6o=u6o;;}n6o=m6o[Y6o][0];}if(!U6o.highlight && l6o.highlightedDraggable){q4K.D4H(14);T6o.globalAlpha*=q4K.W4H("0.3",1);}if(!W6o){T6o.fill();}T6o.strokeStyle=a6o;if(W6o){T6o.stroke();}T6o.closePath();}if(y6o){Q6o("stx_volume_profile",!"");}J2SS.R4H(14);T6o.globalAlpha=J2SS.y4H("1",1);};B6o.Studies.studyLibrary=B6o.extend(B6o.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:!0,seriesFN:B6o.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:!0,parameters:{init:{displayBorder:! !"1",displayVolume:![],numberOfBars:30,widthPercentage:"0.25" - 0}},attributes:{yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! !{}},flippedEnabled:{hidden:! !"1"}}}});}};O8O=H6o=>{J2SS.N1K();var i6o,k3I,p3I,n3I,R3I;i6o=typeof _CIQ !== "undefined"?_CIQ:H6o.CIQ;if(!i6o.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {k3I="Volum";k3I+="e Un";k3I+="derlay";p3I="f";p3I+="ie";p3I+="ld";n3I="P";n3I+="rice V";n3I+="olume Trend";R3I="m";R3I+="a";i6o.Studies.calculateOnBalanceVolume=function(l7o,r6o){var v0K=J2SS;var O3I,G6o,P7o,m7o,X7o,B7o,s7o,J7o,T3I,T7o;O3I="fi";O3I+="e";O3I+="l";v0K.T1K();O3I+="d";G6o=r6o.inputs.Field;if(!G6o || G6o == O3I){G6o="Close";}P7o=r6o.inputs["Min Tick Value"];m7o=!1;if(!P7o && P7o !== +"0"){m7o=! !1;P7o=0;}X7o=r6o.chart.scrubbed;B7o=+"0";for(var C6o=r6o.startFrom;C6o < X7o.length;C6o++){T3I="Resul";T3I+="t ";s7o=X7o[C6o];if(!C6o || !s7o[G6o])continue;if(X7o[C6o - 1][G6o]){v0K.D4H(181);J7o=X7o[v0K.W4H(0,"1",C6o)];}if(!J7o)continue;if(s7o[G6o] - J7o[G6o] > P7o){B7o=1;}else if(J7o[G6o] - s7o[G6o] > P7o){B7o=- +"1";}else if(m7o){v0K.D4H(0);B7o=v0K.y4H("0",219173536);}T7o=J7o[T3I + r6o.name];if(!T7o){T7o=0;}T7o+=s7o.Volume * B7o;s7o["Result " + r6o.name]=T7o;}};i6o.Studies.calculatePriceVolumeTrend=function(Z7o,u7o){var Y0K=J2SS;var U7o,o7o,w7o,j3I,z3I;U7o=u7o.inputs.Field;if(!U7o || U7o == "field"){U7o="Close";}o7o=u7o.chart.scrubbed;w7o=0;if(u7o.startFrom > 1){j3I="R";j3I+="esul";j3I+="t ";Y0K.D4H(182);var a2I=Y0K.y4H(1,0,18,11,8);w7o=o7o[u7o.startFrom - a2I][j3I + u7o.name];}for(var N7o=Math.max(1,u7o.startFrom);N7o < o7o.length;N7o++){z3I="Res";z3I+="ult ";if(!o7o[N7o][U7o])continue;if(!o7o[N7o - 1][U7o])continue;Y0K.R4H(153);var x2I=Y0K.W4H(1,1,25,13,14);Y0K.D4H(2);var L2I=Y0K.W4H(13,20,6);w7o+=o7o[N7o].Volume * (o7o[N7o][U7o] - o7o[N7o - x2I][U7o]) / o7o[N7o - L2I][U7o];o7o[N7o][z3I + u7o.name]=w7o;}};i6o.Studies.calculateVolumeIndex=function(v7o,O7o){var H0K=J2SS;var u3I,F3I,e3I,K7o,R7o,e7o,q3I,D7o,t7o,p7o,c7o;u3I="M";u3I+="A";F3I="I";F3I+="nde";F3I+="x";F3I+=" ";e3I="In";e3I+="d";e3I+="ex ";K7o=O7o.inputs.Field;if(!K7o || K7o == "field"){K7o="Close";}R7o=O7o.chart.scrubbed;if(R7o.length < O7o.days + 1){O7o.error=! !{};return;}e7o=100;if(O7o.startFrom > 1){H0K.D4H(148);var N2I=H0K.W4H(8,121,15);e7o=R7o[O7o.startFrom - N2I][e3I + O7o.name];}for(var q7o=Math.max(1,O7o.startFrom);q7o < R7o.length;q7o++){q3I="obje";q3I+="ct";D7o=R7o[q7o][K7o];t7o=R7o[q7o].Volume;if(D7o && typeof D7o == q3I){t7o=D7o.Volume;D7o=D7o[O7o.subField];}H0K.R4H(129);p7o=R7o[H0K.y4H("1",q7o)][K7o];c7o=R7o[q7o - 1].Volume;if(p7o && typeof p7o == "object"){c7o=p7o.Volume;p7o=p7o[O7o.subField];}if(!D7o)continue;if(!p7o)continue;if(O7o.type == "Pos Vol" && t7o > c7o || O7o.type == "Neg Vol" && t7o < c7o){H0K.R4H(8);e7o*=H0K.y4H(p7o,D7o);}R7o[q7o]["Index " + O7o.name]=e7o;}i6o.Studies.MA(O7o.inputs["Moving Average Type"],O7o.days,F3I + O7o.name,0,u3I,v7o,O7o);};i6o.Studies.studyLibrary=i6o.extend(i6o.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:i6o.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":R3I},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:i6o.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:i6o.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:n3I,calculateFN:i6o.Studies.calculatePriceVolumeTrend,inputs:{Field:p3I}},"Trade Vol":{name:"Trade Volume Index",calculateFN:i6o.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(h7o,A7o){var d0K=J2SS;var w37,t37,J37;d0K.T1K();if(i6o.Studies.calculateRateOfChange){i6o.Studies.calculateRateOfChange(h7o,A7o);}else {w37=584481477;d0K.R4H(45);t37=d0K.W4H("1654965838",1183064128);J37=2;for(var S37=+"1";d0K.V4w(S37.toString(),S37.toString().length,64148) !== w37;S37++){console.error("Volume Rate of Change study requires first activating momentum feature.");J37+=2;}if(d0K.V4w(J37.toString(),J37.toString().length,27247) !== t37){console.error("");}i6o.Studies.calculateRateOfChange=function(j7o,S7o){};}},parameters:{init:{isVolume:! !1}}},"vol undr":{name:k3I,underlay:! !{},range:"0 to max",yAxis:{ground:! !"1",initialMarginTop:"0" << 590567680,position:"none",zoom:0,heightFactor:0.25},seriesFN:i6o.Studies.createVolumeChart,calculateFN:i6o.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! !{},removeFN:function(a7o,x7o){a7o.layout.volumeUnderlay=![];a7o.changeOccurred("layout");},attributes:{panelName:{hidden:! !"1"}}}});}};R8O=b7o=>{var V7o,W3I,X3I,c3I;J2SS.T1K();V7o=typeof _CIQ !== "undefined"?_CIQ:b7o.CIQ;if(!V7o.Studies){console.error("vortex feature requires first activating studies feature.");}else {W3I="a";W3I+="u";W3I+="to";X3I="#00F";X3I+="F00";c3I="Vort";c3I+="ex In";c3I+="dicator";V7o.Studies.calculateVortex=function(L7o,y7o){var q0K=J2SS;var f7o,g7o,Q7o,i3I,s3I,Y7o,W7o,F7o,n7o,z7o;f7o=y7o.chart.scrubbed;g7o=y7o.days;if(f7o.length < g7o + 1){y7o.error=!0;return;}Q7o={tr:0,vmPlus:0,vmMinus:0};if(y7o.startFrom > 1){Q7o=V7o.clone(f7o[y7o.startFrom - 1]["_totals " + y7o.name]);}for(var M7o=Math.max(y7o.startFrom,1);M7o < f7o.length;M7o++){i3I="_VMP";i3I+="lu";i3I+="s";i3I+=" ";s3I="_";s3I+="Tru";s3I+="e Range ";Y7o=f7o[M7o];q0K.D4H(6);W7o=f7o[q0K.W4H(M7o,1)];F7o=Math.abs(Y7o.High - W7o.Low);n7o=Math.abs(Y7o.Low - W7o.High);z7o=Math.max(Y7o.High,W7o.Close) - Math.min(Y7o.Low,W7o.Close);Q7o.tr+=z7o;Q7o.vmPlus+=F7o;Q7o.vmMinus+=n7o;if(M7o > g7o){q0K.D4H(6);Q7o.tr-=f7o[q0K.y4H(M7o,g7o)]["_True Range " + y7o.name];q0K.D4H(6);Q7o.vmPlus-=f7o[q0K.y4H(M7o,g7o)]["_VMPlus " + y7o.name];q0K.R4H(6);Q7o.vmMinus-=f7o[q0K.y4H(M7o,g7o)]["_VMMinus " + y7o.name];}Y7o[s3I + y7o.name]=z7o;Y7o[i3I + y7o.name]=F7o;Y7o["_VMMinus " + y7o.name]=n7o;if(M7o >= g7o){Y7o["+VI " + y7o.name]=Q7o.vmPlus / Q7o.tr;Y7o["-VI " + y7o.name]=Q7o.vmMinus / Q7o.tr;}Y7o["_totals " + y7o.name]=V7o.clone(Q7o);}};V7o.Studies.studyLibrary=V7o.extend(V7o.Studies.studyLibrary,{Vortex:{name:c3I,calculateFN:V7o.Studies.calculateVortex,centerline:1,outputs:{"+VI":X3I,"-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:1.1,studyOverBoughtColor:W3I,studyOverSoldValue:"0.9" - 0,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}});}};q8O=I7o=>{var d7o,g3I,K3I,d3I,r3I,Q3I;J2SS.N1K();d7o=typeof _CIQ !== "undefined"?_CIQ:I7o.CIQ;if(!d7o.Studies){g3I="williamsMFI feature requires first activating studies feature";g3I+=".";console.error(g3I);}else {K3I="#f";K3I+="fd";K3I+="0";K3I+="cf";d3I="#";d3I+="5";d3I+="f";d3I+="7cb8";r3I="#8bc";r3I+="176";Q3I="M";Q3I+="arket Faci";Q3I+="litation";Q3I+=" Index";d7o.Studies.calculateMFI=function(P1o,k7o){var b3I,E7o,C7o,H7o,G7o,r7o,i7o,C3I;b3I="_h";b3I+="igh";b3I+=" ";E7o=k7o.chart.scrubbed;H7o=+"0";G7o=k7o.inputs["Scale Factor"];if(!G7o){G7o=k7o.study.inputs["Scale Factor"];}r7o=Math.pow(10,Number(G7o));if(k7o.startFrom > 1){J2SS.R4H(3);var m7I=J2SS.y4H(0,1);H7o=E7o[k7o.startFrom - m7I][b3I + k7o.name];}for(i7o=k7o.startFrom;i7o < E7o.length;i7o++){if(!E7o[i7o])continue;if(E7o[i7o].Volume){C3I="_h";C3I+="i";C3I+="st";E7o[i7o][k7o.name + C3I]=C7o=r7o * (E7o[i7o].High - E7o[i7o].Low) / E7o[i7o].Volume;E7o[i7o]["_high " + k7o.name]=H7o=Math.max(H7o,C7o);}}k7o.outputMap={};k7o.outputMap[k7o.name + "_hist"]="";};d7o.Studies.displayMFI=function(X1o,s1o,N1o){var b0K=J2SS;var U1o,T1o,o1o,u1o,l1o,w1o,Z1o,O1o,R1o,v3I,V3I,h3I,B1o,J1o,C67,h67,V67;U1o=X1o.panels[s1o.panel];T1o=s1o.getContext(X1o);o1o=s1o.getYAxis(X1o);u1o=o1o.flipped?o1o.top:o1o.bottom;b0K.R4H(183);var l7I=b0K.y4H(15,10,14,165,3);l1o=X1o.layout.candleWidth - l7I;if(l1o < 2){l1o=1;}w1o=d7o.Studies.determineColor(s1o.outputs.Green);Z1o=d7o.Studies.determineColor(s1o.outputs.Fade);O1o=d7o.Studies.determineColor(s1o.outputs.Fake);R1o=d7o.Studies.determineColor(s1o.outputs.Squat);X1o.canvasColor("stx_histogram");if(!s1o.underlay){T1o.globalAlpha=1;}T1o.fillStyle="#CCCCCC";X1o.startClip(s1o.panel);if(!s1o.highlight && X1o.highlightedDraggable){T1o.globalAlpha*=0.3;}for(var m1o=0;m1o < N1o.length;m1o++){v3I="_h";v3I+="i";v3I+="st";V3I="_hi";V3I+="st";h3I="_h";h3I+="i";h3I+="s";h3I+="t";B1o=N1o[m1o];b0K.D4H(6);J1o=N1o[b0K.y4H(m1o,1)];if(!J1o){J1o=X1o.getPreviousBar(X1o.chart,s1o.name + "_hist",m1o);}if(!B1o)continue;if(!J1o);else if(J1o[s1o.name + h3I] < B1o[s1o.name + "_hist"]){if(J1o.Volume < B1o.Volume){T1o.fillStyle=w1o;}else if(J1o.Volume > B1o.Volume){T1o.fillStyle=O1o;}}else if(J1o[s1o.name + V3I] > B1o[s1o.name + "_hist"]){if(J1o.Volume < B1o.Volume){T1o.fillStyle=R1o;}else if(J1o.Volume > B1o.Volume){T1o.fillStyle=Z1o;}}if(B1o.candleWidth){l1o=Math.floor(Math.max(1,B1o.candleWidth - 2));}T1o.fillRect(Math.floor(X1o.pixelFromBar(m1o,U1o.chart) - l1o / +"2"),Math.floor(u1o),Math.floor(l1o),Math.floor(X1o.pixelFromPrice(B1o[s1o.name + v3I],U1o,o1o) - u1o));}C67=-72611008;h67=1183195759;V67=2;for(var Q67="1" - 0;b0K.h4w(Q67.toString(),Q67.toString().length,81707) !== C67;Q67++){X1o.endClip();V67+=2;}if(b0K.V4w(V67.toString(),V67.toString().length,27285) !== h67){X1o.endClip();}X1o.endClip();};d7o.Studies.studyLibrary=d7o.extend(d7o.Studies.studyLibrary,{"W MFI":{name:Q3I,seriesFN:d7o.Studies.displayMFI,calculateFN:d7o.Studies.calculateMFI,yAxis:{ground:! !{}},range:"0 to max",inputs:{"Scale Factor":+"6"},outputs:{Green:r3I,Fade:"#ab611f",Fake:d3I,Squat:K3I}}});}};t8O={CIQ:P0O,SplinePlotter:D8O,timezoneJS:p8O,$$:K8O,$$$:e8O};export {s0O as aggregations};export {X0O as drawingAdvanced};export {B0O as equationsAdvanced};export {J0O as highPerformanceMarkers};export {T0O as renderersAdvanced};export {m0O as accumulationDistribution};export {l0O as adx};export {o0O as alligator};export {N0O as aroon};export {U0O as atr};export {u0O as awesomeOscillator};export {w0O as balanceOfPower};export {Z0O as bollinger};export {O0O as cci};export {R0O as centerOfGravity};export {q0O as chaikin};export {D0O as chande};export {p0O as choppiness};export {K0O as comparisonStudies};export {e0O as coppock};export {t0O as darvasBox};export {c0O as detrended};export {v0O as disparity};export {h0O as easeOfMovement};export {A0O as ehlerFisher};export {j0O as elder};export {S0O as fractalChaos};export {a0O as highLowStudies};export {x0O as ichimoku};export {V0O as intradayMomentum};export {b0O as keltner};export {y0O as klinger};export {Q0O as linearRegression};export {Y0O as macd};export {M0O as massIndex};export {f0O as moneyFlow};export {g0O as movingAverages};export {W0O as parabolicSAR};export {F0O as pivotPoints};export {n0O as prettyGoodOscillator};export {z0O as priceMomentumOscillator};export {L0O as priceVolumeOscillator};export {d0O as primeNumber};export {I0O as pring};export {k0O as projectedVolume};J2SS.N1K();export {E0O as psychologicalLine};export {i0O as qstick};export {H0O as rainbow};export {G0O as randomWalk};export {C0O as relativeVigor};export {r0O as rsi};export {P8O as schaffTrendCycle};export {s8O as shinohara};export {X8O as stochastics};export {B8O as supertrend};export {J8O as swingIndex};export {T8O as trendIntensity};export {m8O as trix};export {l8O as twiggsMoneyFlow};export {o8O as typicalPrice};export {N8O as ulcerIndex};export {U8O as ultimateOscillator};export {u8O as valuationLines};export {w8O as volatilityIndex};export {Z8O as volumeProfile};export {O8O as volumeStudies};export {R8O as vortex};export {q8O as williamsMFI};export {P0O as CIQ, D8O as SplinePlotter, p8O as timezoneJS, K8O as $$, e8O as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(t8O.CIQ || P0O).activateImports(s0O,X0O,B0O,J0O,T0O,m0O,l0O,o0O,N0O,U0O,u0O,w0O,Z0O,O0O,R0O,q0O,D0O,p0O,K0O,e0O,t0O,c0O,v0O,h0O,A0O,j0O,S0O,a0O,x0O,V0O,b0O,y0O,Q0O,Y0O,M0O,f0O,g0O,W0O,F0O,n0O,z0O,L0O,d0O,I0O,k0O,E0O,i0O,H0O,G0O,C0O,r0O,P8O,s8O,X8O,B8O,J8O,T8O,m8O,l8O,o8O,N8O,U8O,u8O,w8O,Z8O,O8O,R8O,q8O,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
